(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    module.exports = mod();
  else if (typeof define == "function" && define.amd) // AMD
    return define([], mod);
  else // Plain browser env
    this.CodeMirror = mod();
})(function() {
  "use strict";

  // BROWSER SNIFFING

  // Kludges for bugs and behavior differences that can't be feature
  // detected are enabled based on userAgent etc sniffing.
  var userAgent = navigator.userAgent;
  var platform = navigator.platform;

  var gecko = /gecko\/\d/i.test(userAgent);
  var ie_upto10 = /MSIE \d/.test(userAgent);
  var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);
  var ie = ie_upto10 || ie_11up;
  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);
  var webkit = /WebKit\//.test(userAgent);
  var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(userAgent);
  var chrome = /Chrome\//.test(userAgent);
  var presto = /Opera\//.test(userAgent);
  var safari = /Apple Computer/.test(navigator.vendor);
  var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);
  var phantom = /PhantomJS/.test(userAgent);

  var ios = /AppleWebKit/.test(userAgent) && /Mobile\/\w+/.test(userAgent);
  // This is woefully incomplete. Suggestions for alternative methods welcome.
  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);
  var mac = ios || /Mac/.test(platform);
  var windows = /win/i.test(platform);

  var presto_version = presto && userAgent.match(/Version\/(\d*\.\d*)/);
  if (presto_version) presto_version = Number(presto_version[1]);
  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }
  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X
  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));
  var captureRightClick = gecko || (ie && ie_version >= 9);

  // Optimize some code when these features are not used.
  var sawReadOnlySpans = false, sawCollapsedSpans = false;

  // EDITOR CONSTRUCTOR

  // A CodeMirror instance represents an editor. This is the object
  // that user code is usually dealing with.

  function CodeMirror(place, options) {
    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);

    this.options = options = options ? copyObj(options) : {};
    // Determine effective options based on given values and defaults.
    copyObj(defaults, options, false);
    setGuttersForLineNumbers(options);

    var doc = options.value;
    if (typeof doc == "string") doc = new Doc(doc, options.mode, null, options.lineSeparator);
    this.doc = doc;

    var input = new CodeMirror.inputStyles[options.inputStyle](this);
    var display = this.display = new Display(place, doc, input);
    display.wrapper.CodeMirror = this;
    updateGutters(this);
    themeChanged(this);
    if (options.lineWrapping)
      this.display.wrapper.className += " CodeMirror-wrap";
    if (options.autofocus && !mobile) display.input.focus();
    initScrollbars(this);

    this.state = {
      keyMaps: [],  // stores maps added by addKeyMap
      overlays: [], // highlighting overlays, as added by addOverlay
      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info
      overwrite: false,
      delayingBlurEvent: false,
      focused: false,
      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode
      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll
      selectingText: false,
      draggingText: false,
      highlight: new Delayed(), // stores highlight worker timeout
      keySeq: null,  // Unfinished key sequence
      specialChars: null
    };

    var cm = this;

    // Override magic textarea content restore that IE sometimes does
    // on our hidden textarea on reload
    if (ie && ie_version < 11) setTimeout(function() { cm.display.input.reset(true); }, 20);

    registerEventHandlers(this);
    ensureGlobalHandlers();

    startOperation(this);
    this.curOp.forceUpdate = true;
    attachDoc(this, doc);

    if ((options.autofocus && !mobile) || cm.hasFocus())
      setTimeout(bind(onFocus, this), 20);
    else
      onBlur(this);

    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))
      optionHandlers[opt](this, options[opt], Init);
    maybeUpdateLineNumberWidth(this);
    if (options.finishInit) options.finishInit(this);
    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);
    endOperation(this);
    // Suppress optimizelegibility in Webkit, since it breaks text
    // measuring on line wrapping boundaries.
    if (webkit && options.lineWrapping &&
        getComputedStyle(display.lineDiv).textRendering == "optimizelegibility")
      display.lineDiv.style.textRendering = "auto";
  }

  // DISPLAY CONSTRUCTOR

  // The display handles the DOM integration, both for input reading
  // and content drawing. It holds references to DOM nodes and
  // display-related state.

  function Display(place, doc, input) {
    var d = this;
    this.input = input;

    // Covers bottom-right square when both scrollbars are present.
    d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler");
    d.scrollbarFiller.setAttribute("cm-not-content", "true");
    // Covers bottom of gutter when coverGutterNextToScrollbar is on
    // and h scrollbar is present.
    d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler");
    d.gutterFiller.setAttribute("cm-not-content", "true");
    // Will contain the actual code, positioned to cover the viewport.
    d.lineDiv = elt("div", null, "CodeMirror-code");
    // Elements are added to these to represent selection and cursors.
    d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1");
    d.cursorDiv = elt("div", null, "CodeMirror-cursors");
    // A visibility: hidden element used to find the size of things.
    d.measure = elt("div", null, "CodeMirror-measure");
    // When lines outside of the viewport are measured, they are drawn in this.
    d.lineMeasure = elt("div", null, "CodeMirror-measure");
    // Wraps everything that needs to exist inside the vertically-padded coordinate system
    d.lineSpace = elt("div", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
                      null, "position: relative; outline: none");
    // Moved around its parent to cover visible view.
    d.mover = elt("div", [elt("div", [d.lineSpace], "CodeMirror-lines")], null, "position: relative");
    // Set to the height of the document, allowing scrolling.
    d.sizer = elt("div", [d.mover], "CodeMirror-sizer");
    d.sizerWidth = null;
    // Behavior of elts with overflow: auto and padding is
    // inconsistent across browsers. This is used to ensure the
    // scrollable area is big enough.
    d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerGap + "px; width: 1px;");
    // Will contain the gutters, if any.
    d.gutters = elt("div", null, "CodeMirror-gutters");
    d.lineGutter = null;
    // Actual scrollable element.
    d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll");
    d.scroller.setAttribute("tabIndex", "-1");
    // The element in which the editor lives.
    d.wrapper = elt("div", [d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror");

    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }
    if (!webkit && !(gecko && mobile)) d.scroller.draggable = true;

    if (place) {
      if (place.appendChild) place.appendChild(d.wrapper);
      else place(d.wrapper);
    }

    // Current rendered range (may be bigger than the view window).
    d.viewFrom = d.viewTo = doc.first;
    d.reportedViewFrom = d.reportedViewTo = doc.first;
    // Information about the rendered lines.
    d.view = [];
    d.renderedView = null;
    // Holds info about a single rendered line when it was rendered
    // for measurement, while not in view.
    d.externalMeasured = null;
    // Empty space (in pixels) above the view
    d.viewOffset = 0;
    d.lastWrapHeight = d.lastWrapWidth = 0;
    d.updateLineNumbers = null;

    d.nativeBarWidth = d.barHeight = d.barWidth = 0;
    d.scrollbarsClipped = false;

    // Used to only resize the line number gutter when necessary (when
    // the amount of lines crosses a boundary that makes its width change)
    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;
    // Set to true when a non-horizontal-scrolling line widget is
    // added. As an optimization, line widget aligning is skipped when
    // this is false.
    d.alignWidgets = false;

    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;

    // Tracks the maximum line length so that the horizontal scrollbar
    // can be kept static when scrolling.
    d.maxLine = null;
    d.maxLineLength = 0;
    d.maxLineChanged = false;

    // Used for measuring wheel scrolling granularity
    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;

    // True when shift is held down.
    d.shift = false;

    // Used to track whether anything happened since the context menu
    // was opened.
    d.selForContextMenu = null;

    d.activeTouch = null;

    input.init(d);
  }

  // STATE UPDATES

  // Used to get the editor into a consistent state again when options change.

  function loadMode(cm) {
    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);
    resetModeState(cm);
  }

  function resetModeState(cm) {
    cm.doc.iter(function(line) {
      if (line.stateAfter) line.stateAfter = null;
      if (line.styles) line.styles = null;
    });
    cm.doc.frontier = cm.doc.first;
    startWorker(cm, 100);
    cm.state.modeGen++;
    if (cm.curOp) regChange(cm);
  }

  function wrappingChanged(cm) {
    if (cm.options.lineWrapping) {
      addClass(cm.display.wrapper, "CodeMirror-wrap");
      cm.display.sizer.style.minWidth = "";
      cm.display.sizerWidth = null;
    } else {
      rmClass(cm.display.wrapper, "CodeMirror-wrap");
      findMaxLine(cm);
    }
    estimateLineHeights(cm);
    regChange(cm);
    clearCaches(cm);
    setTimeout(function(){updateScrollbars(cm);}, 100);
  }

  // Returns a function that estimates the height of a line, to use as
  // first approximation until the line becomes visible (and is thus
  // properly measurable).
  function estimateHeight(cm) {
    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;
    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);
    return function(line) {
      if (lineIsHidden(cm.doc, line)) return 0;

      var widgetsHeight = 0;
      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {
        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;
      }

      if (wrapping)
        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;
      else
        return widgetsHeight + th;
    };
  }

  function estimateLineHeights(cm) {
    var doc = cm.doc, est = estimateHeight(cm);
    doc.iter(function(line) {
      var estHeight = est(line);
      if (estHeight != line.height) updateLineHeight(line, estHeight);
    });
  }

  function themeChanged(cm) {
    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") +
      cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-");
    clearCaches(cm);
  }

  function guttersChanged(cm) {
    updateGutters(cm);
    regChange(cm);
    setTimeout(function(){alignHorizontally(cm);}, 20);
  }

  // Rebuild the gutter elements, ensure the margin to the left of the
  // code matches their width.
  function updateGutters(cm) {
    var gutters = cm.display.gutters, specs = cm.options.gutters;
    removeChildren(gutters);
    for (var i = 0; i < specs.length; ++i) {
      var gutterClass = specs[i];
      var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + gutterClass));
      if (gutterClass == "CodeMirror-linenumbers") {
        cm.display.lineGutter = gElt;
        gElt.style.width = (cm.display.lineNumWidth || 1) + "px";
      }
    }
    gutters.style.display = i ? "" : "none";
    updateGutterSpace(cm);
  }

  function updateGutterSpace(cm) {
    var width = cm.display.gutters.offsetWidth;
    cm.display.sizer.style.marginLeft = width + "px";
  }

  // Compute the character length of a line, taking into account
  // collapsed ranges (see markText) that might hide parts, and join
  // other lines onto it.
  function lineLength(line) {
    if (line.height == 0) return 0;
    var len = line.text.length, merged, cur = line;
    while (merged = collapsedSpanAtStart(cur)) {
      var found = merged.find(0, true);
      cur = found.from.line;
      len += found.from.ch - found.to.ch;
    }
    cur = line;
    while (merged = collapsedSpanAtEnd(cur)) {
      var found = merged.find(0, true);
      len -= cur.text.length - found.from.ch;
      cur = found.to.line;
      len += cur.text.length - found.to.ch;
    }
    return len;
  }

  // Find the longest line in the document.
  function findMaxLine(cm) {
    var d = cm.display, doc = cm.doc;
    d.maxLine = getLine(doc, doc.first);
    d.maxLineLength = lineLength(d.maxLine);
    d.maxLineChanged = true;
    doc.iter(function(line) {
      var len = lineLength(line);
      if (len > d.maxLineLength) {
        d.maxLineLength = len;
        d.maxLine = line;
      }
    });
  }

  // Make sure the gutters options contains the element
  // "CodeMirror-linenumbers" when the lineNumbers option is true.
  function setGuttersForLineNumbers(options) {
    var found = indexOf(options.gutters, "CodeMirror-linenumbers");
    if (found == -1 && options.lineNumbers) {
      options.gutters = options.gutters.concat(["CodeMirror-linenumbers"]);
    } else if (found > -1 && !options.lineNumbers) {
      options.gutters = options.gutters.slice(0);
      options.gutters.splice(found, 1);
    }
  }

  // SCROLLBARS

  // Prepare DOM reads needed to update the scrollbars. Done in one
  // shot to minimize update/measure roundtrips.
  function measureForScrollbars(cm) {
    var d = cm.display, gutterW = d.gutters.offsetWidth;
    var docH = Math.round(cm.doc.height + paddingVert(cm.display));
    return {
      clientHeight: d.scroller.clientHeight,
      viewHeight: d.wrapper.clientHeight,
      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,
      viewWidth: d.wrapper.clientWidth,
      barLeft: cm.options.fixedGutter ? gutterW : 0,
      docHeight: docH,
      scrollHeight: docH + scrollGap(cm) + d.barHeight,
      nativeBarWidth: d.nativeBarWidth,
      gutterWidth: gutterW
    };
  }

  function NativeScrollbars(place, scroll, cm) {
    this.cm = cm;
    var vert = this.vert = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar");
    var horiz = this.horiz = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
    place(vert); place(horiz);

    on(vert, "scroll", function() {
      if (vert.clientHeight) scroll(vert.scrollTop, "vertical");
    });
    on(horiz, "scroll", function() {
      if (horiz.clientWidth) scroll(horiz.scrollLeft, "horizontal");
    });

    this.checkedOverlay = false;
    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
    if (ie && ie_version < 8) this.horiz.style.minHeight = this.vert.style.minWidth = "18px";
  }

  NativeScrollbars.prototype = copyObj({
    update: function(measure) {
      var needsH = measure.scrollWidth > measure.clientWidth + 1;
      var needsV = measure.scrollHeight > measure.clientHeight + 1;
      var sWidth = measure.nativeBarWidth;

      if (needsV) {
        this.vert.style.display = "block";
        this.vert.style.bottom = needsH ? sWidth + "px" : "0";
        var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);
        // A bug in IE8 can cause this value to be negative, so guard it.
        this.vert.firstChild.style.height =
          Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + "px";
      } else {
        this.vert.style.display = "";
        this.vert.firstChild.style.height = "0";
      }

      if (needsH) {
        this.horiz.style.display = "block";
        this.horiz.style.right = needsV ? sWidth + "px" : "0";
        this.horiz.style.left = measure.barLeft + "px";
        var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);
        this.horiz.firstChild.style.width =
          (measure.scrollWidth - measure.clientWidth + totalWidth) + "px";
      } else {
        this.horiz.style.display = "";
        this.horiz.firstChild.style.width = "0";
      }

      if (!this.checkedOverlay && measure.clientHeight > 0) {
        if (sWidth == 0) this.overlayHack();
        this.checkedOverlay = true;
      }

      return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0};
    },
    setScrollLeft: function(pos) {
      if (this.horiz.scrollLeft != pos) this.horiz.scrollLeft = pos;
    },
    setScrollTop: function(pos) {
      if (this.vert.scrollTop != pos) this.vert.scrollTop = pos;
    },
    overlayHack: function() {
      var w = mac && !mac_geMountainLion ? "12px" : "18px";
      this.horiz.style.minHeight = this.vert.style.minWidth = w;
      var self = this;
      var barMouseDown = function(e) {
        if (e_target(e) != self.vert && e_target(e) != self.horiz)
          operation(self.cm, onMouseDown)(e);
      };
      on(this.vert, "mousedown", barMouseDown);
      on(this.horiz, "mousedown", barMouseDown);
    },
    clear: function() {
      var parent = this.horiz.parentNode;
      parent.removeChild(this.horiz);
      parent.removeChild(this.vert);
    }
  }, NativeScrollbars.prototype);

  function NullScrollbars() {}

  NullScrollbars.prototype = copyObj({
    update: function() { return {bottom: 0, right: 0}; },
    setScrollLeft: function() {},
    setScrollTop: function() {},
    clear: function() {}
  }, NullScrollbars.prototype);

  CodeMirror.scrollbarModel = {"native": NativeScrollbars, "null": NullScrollbars};

  function initScrollbars(cm) {
    if (cm.display.scrollbars) {
      cm.display.scrollbars.clear();
      if (cm.display.scrollbars.addClass)
        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);
    }

    cm.display.scrollbars = new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node) {
      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);
      // Prevent clicks in the scrollbars from killing focus
      on(node, "mousedown", function() {
        if (cm.state.focused) setTimeout(function() { cm.display.input.focus(); }, 0);
      });
      node.setAttribute("cm-not-content", "true");
    }, function(pos, axis) {
      if (axis == "horizontal") setScrollLeft(cm, pos);
      else setScrollTop(cm, pos);
    }, cm);
    if (cm.display.scrollbars.addClass)
      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);
  }

  function updateScrollbars(cm, measure) {
    if (!measure) measure = measureForScrollbars(cm);
    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;
    updateScrollbarsInner(cm, measure);
    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {
      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)
        updateHeightsInViewport(cm);
      updateScrollbarsInner(cm, measureForScrollbars(cm));
      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;
    }
  }

  // Re-synchronize the fake scrollbars with the actual size of the
  // content.
  function updateScrollbarsInner(cm, measure) {
    var d = cm.display;
    var sizes = d.scrollbars.update(measure);

    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + "px";
    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + "px";

    if (sizes.right && sizes.bottom) {
      d.scrollbarFiller.style.display = "block";
      d.scrollbarFiller.style.height = sizes.bottom + "px";
      d.scrollbarFiller.style.width = sizes.right + "px";
    } else d.scrollbarFiller.style.display = "";
    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
      d.gutterFiller.style.display = "block";
      d.gutterFiller.style.height = sizes.bottom + "px";
      d.gutterFiller.style.width = measure.gutterWidth + "px";
    } else d.gutterFiller.style.display = "";
  }

  // Compute the lines that are visible in a given viewport (defaults
  // the the current scroll position). viewport may contain top,
  // height, and ensure (see op.scrollToPos) properties.
  function visibleLines(display, doc, viewport) {
    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;
    top = Math.floor(top - paddingTop(display));
    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;

    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);
    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and
    // forces those lines into the viewport (if possible).
    if (viewport && viewport.ensure) {
      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;
      if (ensureFrom < from) {
        from = ensureFrom;
        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);
      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {
        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);
        to = ensureTo;
      }
    }
    return {from: from, to: Math.max(to, from + 1)};
  }

  // LINE NUMBERS

  // Re-align line numbers and gutter marks to compensate for
  // horizontal scrolling.
  function alignHorizontally(cm) {
    var display = cm.display, view = display.view;
    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;
    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;
    var gutterW = display.gutters.offsetWidth, left = comp + "px";
    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {
      if (cm.options.fixedGutter && view[i].gutter)
        view[i].gutter.style.left = left;
      var align = view[i].alignable;
      if (align) for (var j = 0; j < align.length; j++)
        align[j].style.left = left;
    }
    if (cm.options.fixedGutter)
      display.gutters.style.left = (comp + gutterW) + "px";
  }

  // Used to ensure that the line number gutter is still the right
  // size for the current document size. Returns true when an update
  // is needed.
  function maybeUpdateLineNumberWidth(cm) {
    if (!cm.options.lineNumbers) return false;
    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;
    if (last.length != display.lineNumChars) {
      var test = display.measure.appendChild(elt("div", [elt("div", last)],
                                                 "CodeMirror-linenumber CodeMirror-gutter-elt"));
      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;
      display.lineGutter.style.width = "";
      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;
      display.lineNumWidth = display.lineNumInnerWidth + padding;
      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;
      display.lineGutter.style.width = display.lineNumWidth + "px";
      updateGutterSpace(cm);
      return true;
    }
    return false;
  }

  function lineNumberFor(options, i) {
    return String(options.lineNumberFormatter(i + options.firstLineNumber));
  }

  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
  // but using getBoundingClientRect to get a sub-pixel-accurate
  // result.
  function compensateForHScroll(display) {
    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;
  }

  // DISPLAY DRAWING

  function DisplayUpdate(cm, viewport, force) {
    var display = cm.display;

    this.viewport = viewport;
    // Store some values that we'll need later (but don't want to force a relayout for)
    this.visible = visibleLines(display, cm.doc, viewport);
    this.editorIsHidden = !display.wrapper.offsetWidth;
    this.wrapperHeight = display.wrapper.clientHeight;
    this.wrapperWidth = display.wrapper.clientWidth;
    this.oldDisplayWidth = displayWidth(cm);
    this.force = force;
    this.dims = getDimensions(cm);
    this.events = [];
  }

  DisplayUpdate.prototype.signal = function(emitter, type) {
    if (hasHandler(emitter, type))
      this.events.push(arguments);
  };
  DisplayUpdate.prototype.finish = function() {
    for (var i = 0; i < this.events.length; i++)
      signal.apply(null, this.events[i]);
  };

  function maybeClipScrollbars(cm) {
    var display = cm.display;
    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {
      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;
      display.heightForcer.style.height = scrollGap(cm) + "px";
      display.sizer.style.marginBottom = -display.nativeBarWidth + "px";
      display.sizer.style.borderRightWidth = scrollGap(cm) + "px";
      display.scrollbarsClipped = true;
    }
  }

  // Does the actual updating of the line display. Bails out
  // (returning false) when there is nothing to be done and forced is
  // false.
  function updateDisplayIfNeeded(cm, update) {
    var display = cm.display, doc = cm.doc;

    if (update.editorIsHidden) {
      resetView(cm);
      return false;
    }

    // Bail out if the visible area is already rendered and nothing changed.
    if (!update.force &&
        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&
        display.renderedView == display.view && countDirtyView(cm) == 0)
      return false;

    if (maybeUpdateLineNumberWidth(cm)) {
      resetView(cm);
      update.dims = getDimensions(cm);
    }

    // Compute a suitable new viewport (from & to)
    var end = doc.first + doc.size;
    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);
    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);
    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);
    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);
    if (sawCollapsedSpans) {
      from = visualLineNo(cm.doc, from);
      to = visualLineEndNo(cm.doc, to);
    }

    var different = from != display.viewFrom || to != display.viewTo ||
      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;
    adjustView(cm, from, to);

    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));
    // Position the mover div to align with the current scroll position
    cm.display.mover.style.top = display.viewOffset + "px";

    var toUpdate = countDirtyView(cm);
    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))
      return false;

    // For big changes, we hide the enclosing element during the
    // update, since that speeds up the operations on most browsers.
    var focused = activeElt();
    if (toUpdate > 4) display.lineDiv.style.display = "none";
    patchDisplay(cm, display.updateLineNumbers, update.dims);
    if (toUpdate > 4) display.lineDiv.style.display = "";
    display.renderedView = display.view;
    // There might have been a widget with a focused element that got
    // hidden or updated, if so re-focus it.
    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();

    // Prevent selection and cursors from interfering with the scroll
    // width and height.
    removeChildren(display.cursorDiv);
    removeChildren(display.selectionDiv);
    display.gutters.style.height = display.sizer.style.minHeight = 0;

    if (different) {
      display.lastWrapHeight = update.wrapperHeight;
      display.lastWrapWidth = update.wrapperWidth;
      startWorker(cm, 400);
    }

    display.updateLineNumbers = null;

    return true;
  }

  function postUpdateDisplay(cm, update) {
    var viewport = update.viewport;
    for (var first = true;; first = false) {
      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {
        // Clip forced viewport to actual scrollable area.
        if (viewport && viewport.top != null)
          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)};
        // Updated line heights might result in the drawn area not
        // actually covering the viewport. Keep looping until it does.
        update.visible = visibleLines(cm.display, cm.doc, viewport);
        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)
          break;
      }
      if (!updateDisplayIfNeeded(cm, update)) break;
      updateHeightsInViewport(cm);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
    }

    update.signal(cm, "update", cm);
    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {
      update.signal(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo);
      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;
    }
  }

  function updateDisplaySimple(cm, viewport) {
    var update = new DisplayUpdate(cm, viewport);
    if (updateDisplayIfNeeded(cm, update)) {
      updateHeightsInViewport(cm);
      postUpdateDisplay(cm, update);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
      update.finish();
    }
  }

  function setDocumentHeight(cm, measure) {
    cm.display.sizer.style.minHeight = measure.docHeight + "px";
    var total = measure.docHeight + cm.display.barHeight;
    cm.display.heightForcer.style.top = total + "px";
    cm.display.gutters.style.height = Math.max(total + scrollGap(cm), measure.clientHeight) + "px";
  }

  // Read the actual heights of the rendered lines, and update their
  // stored heights to match.
  function updateHeightsInViewport(cm) {
    var display = cm.display;
    var prevBottom = display.lineDiv.offsetTop;
    for (var i = 0; i < display.view.length; i++) {
      var cur = display.view[i], height;
      if (cur.hidden) continue;
      if (ie && ie_version < 8) {
        var bot = cur.node.offsetTop + cur.node.offsetHeight;
        height = bot - prevBottom;
        prevBottom = bot;
      } else {
        var box = cur.node.getBoundingClientRect();
        height = box.bottom - box.top;
      }
      var diff = cur.line.height - height;
      if (height < 2) height = textHeight(display);
      if (diff > .001 || diff < -.001) {
        updateLineHeight(cur.line, height);
        updateWidgetHeight(cur.line);
        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)
          updateWidgetHeight(cur.rest[j]);
      }
    }
  }

  // Read and store the height of line widgets associated with the
  // given line.
  function updateWidgetHeight(line) {
    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)
      line.widgets[i].height = line.widgets[i].node.offsetHeight;
  }

  // Do a bulk-read of the DOM positions and sizes needed to draw the
  // view, so that we don't interleave reading and writing to the DOM.
  function getDimensions(cm) {
    var d = cm.display, left = {}, width = {};
    var gutterLeft = d.gutters.clientLeft;
    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {
      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;
      width[cm.options.gutters[i]] = n.clientWidth;
    }
    return {fixedPos: compensateForHScroll(d),
            gutterTotalWidth: d.gutters.offsetWidth,
            gutterLeft: left,
            gutterWidth: width,
            wrapperWidth: d.wrapper.clientWidth};
  }

  // Sync the actual display DOM structure with display.view, removing
  // nodes for lines that are no longer in view, and creating the ones
  // that are not there yet, and updating the ones that are out of
  // date.
  function patchDisplay(cm, updateNumbersFrom, dims) {
    var display = cm.display, lineNumbers = cm.options.lineNumbers;
    var container = display.lineDiv, cur = container.firstChild;

    function rm(node) {
      var next = node.nextSibling;
      // Works around a throw-scroll bug in OS X Webkit
      if (webkit && mac && cm.display.currentWheelTarget == node)
        node.style.display = "none";
      else
        node.parentNode.removeChild(node);
      return next;
    }

    var view = display.view, lineN = display.viewFrom;
    // Loop over the elements in the view, syncing cur (the DOM nodes
    // in display.lineDiv) with the view as we go.
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (lineView.hidden) {
      } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet
        var node = buildLineElement(cm, lineView, lineN, dims);
        container.insertBefore(node, cur);
      } else { // Already drawn
        while (cur != lineView.node) cur = rm(cur);
        var updateNumber = lineNumbers && updateNumbersFrom != null &&
          updateNumbersFrom <= lineN && lineView.lineNumber;
        if (lineView.changes) {
          if (indexOf(lineView.changes, "gutter") > -1) updateNumber = false;
          updateLineForChanges(cm, lineView, lineN, dims);
        }
        if (updateNumber) {
          removeChildren(lineView.lineNumber);
          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));
        }
        cur = lineView.node.nextSibling;
      }
      lineN += lineView.size;
    }
    while (cur) cur = rm(cur);
  }

  // When an aspect of a line changes, a string is added to
  // lineView.changes. This updates the relevant part of the line's
  // DOM structure.
  function updateLineForChanges(cm, lineView, lineN, dims) {
    for (var j = 0; j < lineView.changes.length; j++) {
      var type = lineView.changes[j];
      if (type == "text") updateLineText(cm, lineView);
      else if (type == "gutter") updateLineGutter(cm, lineView, lineN, dims);
      else if (type == "class") updateLineClasses(lineView);
      else if (type == "widget") updateLineWidgets(cm, lineView, dims);
    }
    lineView.changes = null;
  }

  // Lines with gutter elements, widgets or a background class need to
  // be wrapped, and have the extra elements added to the wrapper div
  function ensureLineWrapped(lineView) {
    if (lineView.node == lineView.text) {
      lineView.node = elt("div", null, null, "position: relative");
      if (lineView.text.parentNode)
        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);
      lineView.node.appendChild(lineView.text);
      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;
    }
    return lineView.node;
  }

  function updateLineBackground(lineView) {
    var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass;
    if (cls) cls += " CodeMirror-linebackground";
    if (lineView.background) {
      if (cls) lineView.background.className = cls;
      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }
    } else if (cls) {
      var wrap = ensureLineWrapped(lineView);
      lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild);
    }
  }

  // Wrapper around buildLineContent which will reuse the structure
  // in display.externalMeasured when possible.
  function getLineContent(cm, lineView) {
    var ext = cm.display.externalMeasured;
    if (ext && ext.line == lineView.line) {
      cm.display.externalMeasured = null;
      lineView.measure = ext.measure;
      return ext.built;
    }
    return buildLineContent(cm, lineView);
  }

  // Redraw the line's text. Interacts with the background and text
  // classes because the mode may output tokens that influence these
  // classes.
  function updateLineText(cm, lineView) {
    var cls = lineView.text.className;
    var built = getLineContent(cm, lineView);
    if (lineView.text == lineView.node) lineView.node = built.pre;
    lineView.text.parentNode.replaceChild(built.pre, lineView.text);
    lineView.text = built.pre;
    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
      lineView.bgClass = built.bgClass;
      lineView.textClass = built.textClass;
      updateLineClasses(lineView);
    } else if (cls) {
      lineView.text.className = cls;
    }
  }

  function updateLineClasses(lineView) {
    updateLineBackground(lineView);
    if (lineView.line.wrapClass)
      ensureLineWrapped(lineView).className = lineView.line.wrapClass;
    else if (lineView.node != lineView.text)
      lineView.node.className = "";
    var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass;
    lineView.text.className = textClass || "";
  }

  function updateLineGutter(cm, lineView, lineN, dims) {
    if (lineView.gutter) {
      lineView.node.removeChild(lineView.gutter);
      lineView.gutter = null;
    }
    if (lineView.gutterBackground) {
      lineView.node.removeChild(lineView.gutterBackground);
      lineView.gutterBackground = null;
    }
    if (lineView.line.gutterClass) {
      var wrap = ensureLineWrapped(lineView);
      lineView.gutterBackground = elt("div", null, "CodeMirror-gutter-background " + lineView.line.gutterClass,
                                      "left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) +
                                      "px; width: " + dims.gutterTotalWidth + "px");
      wrap.insertBefore(lineView.gutterBackground, lineView.text);
    }
    var markers = lineView.line.gutterMarkers;
    if (cm.options.lineNumbers || markers) {
      var wrap = ensureLineWrapped(lineView);
      var gutterWrap = lineView.gutter = elt("div", null, "CodeMirror-gutter-wrapper", "left: " +
                                             (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px");
      cm.display.input.setUneditable(gutterWrap);
      wrap.insertBefore(gutterWrap, lineView.text);
      if (lineView.line.gutterClass)
        gutterWrap.className += " " + lineView.line.gutterClass;
      if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"]))
        lineView.lineNumber = gutterWrap.appendChild(
          elt("div", lineNumberFor(cm.options, lineN),
              "CodeMirror-linenumber CodeMirror-gutter-elt",
              "left: " + dims.gutterLeft["CodeMirror-linenumbers"] + "px; width: "
              + cm.display.lineNumInnerWidth + "px"));
      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {
        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];
        if (found)
          gutterWrap.appendChild(elt("div", [found], "CodeMirror-gutter-elt", "left: " +
                                     dims.gutterLeft[id] + "px; width: " + dims.gutterWidth[id] + "px"));
      }
    }
  }

  function updateLineWidgets(cm, lineView, dims) {
    if (lineView.alignable) lineView.alignable = null;
    for (var node = lineView.node.firstChild, next; node; node = next) {
      var next = node.nextSibling;
      if (node.className == "CodeMirror-linewidget")
        lineView.node.removeChild(node);
    }
    insertLineWidgets(cm, lineView, dims);
  }

  // Build a line's DOM representation from scratch
  function buildLineElement(cm, lineView, lineN, dims) {
    var built = getLineContent(cm, lineView);
    lineView.text = lineView.node = built.pre;
    if (built.bgClass) lineView.bgClass = built.bgClass;
    if (built.textClass) lineView.textClass = built.textClass;

    updateLineClasses(lineView);
    updateLineGutter(cm, lineView, lineN, dims);
    insertLineWidgets(cm, lineView, dims);
    return lineView.node;
  }

  // A lineView may contain multiple logical lines (when merged by
  // collapsed spans). The widgets for all of them need to be drawn.
  function insertLineWidgets(cm, lineView, dims) {
    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);
    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
      insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);
  }

  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {
    if (!line.widgets) return;
    var wrap = ensureLineWrapped(lineView);
    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {
      var widget = ws[i], node = elt("div", [widget.node], "CodeMirror-linewidget");
      if (!widget.handleMouseEvents) node.setAttribute("cm-ignore-events", "true");
      positionLineWidget(widget, node, lineView, dims);
      cm.display.input.setUneditable(node);
      if (allowAbove && widget.above)
        wrap.insertBefore(node, lineView.gutter || lineView.text);
      else
        wrap.appendChild(node);
      signalLater(widget, "redraw");
    }
  }

  function positionLineWidget(widget, node, lineView, dims) {
    if (widget.noHScroll) {
      (lineView.alignable || (lineView.alignable = [])).push(node);
      var width = dims.wrapperWidth;
      node.style.left = dims.fixedPos + "px";
      if (!widget.coverGutter) {
        width -= dims.gutterTotalWidth;
        node.style.paddingLeft = dims.gutterTotalWidth + "px";
      }
      node.style.width = width + "px";
    }
    if (widget.coverGutter) {
      node.style.zIndex = 5;
      node.style.position = "relative";
      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + "px";
    }
  }

  // POSITION OBJECT

  // A Pos instance represents a position within the text.
  var Pos = CodeMirror.Pos = function(line, ch) {
    if (!(this instanceof Pos)) return new Pos(line, ch);
    this.line = line; this.ch = ch;
  };

  // Compare two positions, return 0 if they are the same, a negative
  // number when a is less, and a positive number otherwise.
  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };

  function copyPos(x) {return Pos(x.line, x.ch);}
  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }
  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }

  // INPUT HANDLING

  function ensureFocus(cm) {
    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }
  }

  function isReadOnly(cm) {
    return cm.options.readOnly || cm.doc.cantEdit;
  }

  // This will be set to an array of strings when copying, so that,
  // when pasting, we know what kind of selections the copied text
  // was made out of.
  var lastCopied = null;

  function applyTextInput(cm, inserted, deleted, sel, origin) {
    var doc = cm.doc;
    cm.display.shift = false;
    if (!sel) sel = doc.sel;

    var paste = cm.state.pasteIncoming || origin == "paste";
    var textLines = doc.splitLines(inserted), multiPaste = null;
    // When pasing N lines into N selections, insert one line per selection
    if (paste && sel.ranges.length > 1) {
      if (lastCopied && lastCopied.join("\n") == inserted) {
        if (sel.ranges.length % lastCopied.length == 0) {
          multiPaste = [];
          for (var i = 0; i < lastCopied.length; i++)
            multiPaste.push(doc.splitLines(lastCopied[i]));
        }
      } else if (textLines.length == sel.ranges.length) {
        multiPaste = map(textLines, function(l) { return [l]; });
      }
    }

    // Normal behavior is to insert the new text into every selection
    for (var i = sel.ranges.length - 1; i >= 0; i--) {
      var range = sel.ranges[i];
      var from = range.from(), to = range.to();
      if (range.empty()) {
        if (deleted && deleted > 0) // Handle deletion
          from = Pos(from.line, from.ch - deleted);
        else if (cm.state.overwrite && !paste) // Handle overwrite
          to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));
      }
      var updateInput = cm.curOp.updateInput;
      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,
                         origin: origin || (paste ? "paste" : cm.state.cutIncoming ? "cut" : "+input")};
      makeChange(cm.doc, changeEvent);
      signalLater(cm, "inputRead", cm, changeEvent);
    }
    if (inserted && !paste)
      triggerElectric(cm, inserted);

    ensureCursorVisible(cm);
    cm.curOp.updateInput = updateInput;
    cm.curOp.typing = true;
    cm.state.pasteIncoming = cm.state.cutIncoming = false;
  }

  function handlePaste(e, cm) {
    var pasted = e.clipboardData && e.clipboardData.getData("text/plain");
    if (pasted) {
      e.preventDefault();
      if (!isReadOnly(cm) && !cm.options.disableInput)
        runInOp(cm, function() { applyTextInput(cm, pasted, 0, null, "paste"); });
      return true;
    }
  }

  function triggerElectric(cm, inserted) {
    // When an 'electric' character is inserted, immediately trigger a reindent
    if (!cm.options.electricChars || !cm.options.smartIndent) return;
    var sel = cm.doc.sel;

    for (var i = sel.ranges.length - 1; i >= 0; i--) {
      var range = sel.ranges[i];
      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) continue;
      var mode = cm.getModeAt(range.head);
      var indented = false;
      if (mode.electricChars) {
        for (var j = 0; j < mode.electricChars.length; j++)
          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
            indented = indentLine(cm, range.head.line, "smart");
            break;
          }
      } else if (mode.electricInput) {
        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))
          indented = indentLine(cm, range.head.line, "smart");
      }
      if (indented) signalLater(cm, "electricInput", cm, range.head.line);
    }
  }

  function copyableRanges(cm) {
    var text = [], ranges = [];
    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {
      var line = cm.doc.sel.ranges[i].head.line;
      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};
      ranges.push(lineRange);
      text.push(cm.getRange(lineRange.anchor, lineRange.head));
    }
    return {text: text, ranges: ranges};
  }

  function disableBrowserMagic(field) {
    field.setAttribute("autocorrect", "off");
    field.setAttribute("autocapitalize", "off");
    field.setAttribute("spellcheck", "false");
  }

  // TEXTAREA INPUT STYLE

  function TextareaInput(cm) {
    this.cm = cm;
    // See input.poll and input.reset
    this.prevInput = "";

    // Flag that indicates whether we expect input to appear real soon
    // now (after some event like 'keypress' or 'input') and are
    // polling intensively.
    this.pollingFast = false;
    // Self-resetting timeout for the poller
    this.polling = new Delayed();
    // Tracks when input.reset has punted to just putting a short
    // string into the textarea instead of the full selection.
    this.inaccurateSelection = false;
    // Used to work around IE issue with selection being forgotten when focus moves away from textarea
    this.hasSelection = false;
    this.composing = null;
  };

  function hiddenTextarea() {
    var te = elt("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
    var div = elt("div", [te], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
    // The textarea is kept positioned near the cursor to prevent the
    // fact that it'll be scrolled into view on input from scrolling
    // our fake cursor out of view. On webkit, when wrap=off, paste is
    // very slow. So make the area wide instead.
    if (webkit) te.style.width = "1000px";
    else te.setAttribute("wrap", "off");
    // If border: 0; -- iOS fails to open keyboard (issue #1287)
    if (ios) te.style.border = "1px solid black";
    disableBrowserMagic(te);
    return div;
  }

  TextareaInput.prototype = copyObj({
    init: function(display) {
      var input = this, cm = this.cm;

      // Wraps and hides input textarea
      var div = this.wrapper = hiddenTextarea();
      // The semihidden textarea that is focused when the editor is
      // focused, and receives input.
      var te = this.textarea = div.firstChild;
      display.wrapper.insertBefore(div, display.wrapper.firstChild);

      // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)
      if (ios) te.style.width = "0px";

      on(te, "input", function() {
        if (ie && ie_version >= 9 && input.hasSelection) input.hasSelection = null;
        input.poll();
      });

      on(te, "paste", function(e) {
        if (handlePaste(e, cm)) return true;

        cm.state.pasteIncoming = true;
        input.fastPoll();
      });

      function prepareCopyCut(e) {
        if (cm.somethingSelected()) {
          lastCopied = cm.getSelections();
          if (input.inaccurateSelection) {
            input.prevInput = "";
            input.inaccurateSelection = false;
            te.value = lastCopied.join("\n");
            selectInput(te);
          }
        } else if (!cm.options.lineWiseCopyCut) {
          return;
        } else {
          var ranges = copyableRanges(cm);
          lastCopied = ranges.text;
          if (e.type == "cut") {
            cm.setSelections(ranges.ranges, null, sel_dontScroll);
          } else {
            input.prevInput = "";
            te.value = ranges.text.join("\n");
            selectInput(te);
          }
        }
        if (e.type == "cut") cm.state.cutIncoming = true;
      }
      on(te, "cut", prepareCopyCut);
      on(te, "copy", prepareCopyCut);

      on(display.scroller, "paste", function(e) {
        if (eventInWidget(display, e)) return;
        cm.state.pasteIncoming = true;
        input.focus();
      });

      // Prevent normal selection in the editor (we handle our own)
      on(display.lineSpace, "selectstart", function(e) {
        if (!eventInWidget(display, e)) e_preventDefault(e);
      });

      on(te, "compositionstart", function() {
        var start = cm.getCursor("from");
        if (input.composing) input.composing.range.clear()
        input.composing = {
          start: start,
          range: cm.markText(start, cm.getCursor("to"), {className: "CodeMirror-composing"})
        };
      });
      on(te, "compositionend", function() {
        if (input.composing) {
          input.poll();
          input.composing.range.clear();
          input.composing = null;
        }
      });
    },

    prepareSelection: function() {
      // Redraw the selection and/or cursor
      var cm = this.cm, display = cm.display, doc = cm.doc;
      var result = prepareSelection(cm);

      // Move the hidden textarea near the cursor to prevent scrolling artifacts
      if (cm.options.moveInputWithCursor) {
        var headPos = cursorCoords(cm, doc.sel.primary().head, "div");
        var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();
        result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,
                                            headPos.top + lineOff.top - wrapOff.top));
        result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,
                                             headPos.left + lineOff.left - wrapOff.left));
      }

      return result;
    },

    showSelection: function(drawn) {
      var cm = this.cm, display = cm.display;
      removeChildrenAndAdd(display.cursorDiv, drawn.cursors);
      removeChildrenAndAdd(display.selectionDiv, drawn.selection);
      if (drawn.teTop != null) {
        this.wrapper.style.top = drawn.teTop + "px";
        this.wrapper.style.left = drawn.teLeft + "px";
      }
    },

    // Reset the input to correspond to the selection (or to be empty,
    // when not typing and nothing is selected)
    reset: function(typing) {
      if (this.contextMenuPending) return;
      var minimal, selected, cm = this.cm, doc = cm.doc;
      if (cm.somethingSelected()) {
        this.prevInput = "";
        var range = doc.sel.primary();
        minimal = hasCopyEvent &&
          (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);
        var content = minimal ? "-" : selected || cm.getSelection();
        this.textarea.value = content;
        if (cm.state.focused) selectInput(this.textarea);
        if (ie && ie_version >= 9) this.hasSelection = content;
      } else if (!typing) {
        this.prevInput = this.textarea.value = "";
        if (ie && ie_version >= 9) this.hasSelection = null;
      }
      this.inaccurateSelection = minimal;
    },

    getField: function() { return this.textarea; },

    supportsTouch: function() { return false; },

    focus: function() {
      if (this.cm.options.readOnly != "nocursor" && (!mobile || activeElt() != this.textarea)) {
        try { this.textarea.focus(); }
        catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM
      }
    },

    blur: function() { this.textarea.blur(); },

    resetPosition: function() {
      this.wrapper.style.top = this.wrapper.style.left = 0;
    },

    receivedFocus: function() { this.slowPoll(); },

    // Poll for input changes, using the normal rate of polling. This
    // runs as long as the editor is focused.
    slowPoll: function() {
      var input = this;
      if (input.pollingFast) return;
      input.polling.set(this.cm.options.pollInterval, function() {
        input.poll();
        if (input.cm.state.focused) input.slowPoll();
      });
    },

    // When an event has just come in that is likely to add or change
    // something in the input textarea, we poll faster, to ensure that
    // the change appears on the screen quickly.
    fastPoll: function() {
      var missed = false, input = this;
      input.pollingFast = true;
      function p() {
        var changed = input.poll();
        if (!changed && !missed) {missed = true; input.polling.set(60, p);}
        else {input.pollingFast = false; input.slowPoll();}
      }
      input.polling.set(20, p);
    },

    // Read input from the textarea, and update the document to match.
    // When something is selected, it is present in the textarea, and
    // selected (unless it is huge, in which case a placeholder is
    // used). When nothing is selected, the cursor sits after previously
    // seen text (can be empty), which is stored in prevInput (we must
    // not reset the textarea when typing, because that breaks IME).
    poll: function() {
      var cm = this.cm, input = this.textarea, prevInput = this.prevInput;
      // Since this is called a *lot*, try to bail out as cheaply as
      // possible when it is clear that nothing happened. hasSelection
      // will be the case when there is a lot of text in the textarea,
      // in which case reading its value would be expensive.
      if (this.contextMenuPending || !cm.state.focused ||
          (hasSelection(input) && !prevInput && !this.composing) ||
          isReadOnly(cm) || cm.options.disableInput || cm.state.keySeq)
        return false;

      var text = input.value;
      // If nothing changed, bail.
      if (text == prevInput && !cm.somethingSelected()) return false;
      // Work around nonsensical selection resetting in IE9/10, and
      // inexplicable appearance of private area unicode characters on
      // some key combos in Mac (#2689).
      if (ie && ie_version >= 9 && this.hasSelection === text ||
          mac && /[\uf700-\uf7ff]/.test(text)) {
        cm.display.input.reset();
        return false;
      }

      if (cm.doc.sel == cm.display.selForContextMenu) {
        var first = text.charCodeAt(0);
        if (first == 0x200b && !prevInput) prevInput = "\u200b";
        if (first == 0x21da) { this.reset(); return this.cm.execCommand("undo"); }
      }
      // Find the part of the input that is actually new
      var same = 0, l = Math.min(prevInput.length, text.length);
      while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;

      var self = this;
      runInOp(cm, function() {
        applyTextInput(cm, text.slice(same), prevInput.length - same,
                       null, self.composing ? "*compose" : null);

        // Don't leave long text in the textarea, since it makes further polling slow
        if (text.length > 1000 || text.indexOf("\n") > -1) input.value = self.prevInput = "";
        else self.prevInput = text;

        if (self.composing) {
          self.composing.range.clear();
          self.composing.range = cm.markText(self.composing.start, cm.getCursor("to"),
                                             {className: "CodeMirror-composing"});
        }
      });
      return true;
    },

    ensurePolled: function() {
      if (this.pollingFast && this.poll()) this.pollingFast = false;
    },

    onKeyPress: function() {
      if (ie && ie_version >= 9) this.hasSelection = null;
      this.fastPoll();
    },

    onContextMenu: function(e) {
      var input = this, cm = input.cm, display = cm.display, te = input.textarea;
      var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;
      if (!pos || presto) return; // Opera is difficult.

      // Reset the current text selection only if the click is done outside of the selection
      // and 'resetSelectionOnContextMenu' option is true.
      var reset = cm.options.resetSelectionOnContextMenu;
      if (reset && cm.doc.sel.contains(pos) == -1)
        operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);

      var oldCSS = te.style.cssText;
      input.wrapper.style.position = "absolute";
      te.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (e.clientY - 5) +
        "px; left: " + (e.clientX - 5) + "px; z-index: 1000; background: " +
        (ie ? "rgba(255, 255, 255, .05)" : "transparent") +
        "; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
      if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)
      display.input.focus();
      if (webkit) window.scrollTo(null, oldScrollY);
      display.input.reset();
      // Adds "Select all" to context menu in FF
      if (!cm.somethingSelected()) te.value = input.prevInput = " ";
      input.contextMenuPending = true;
      display.selForContextMenu = cm.doc.sel;
      clearTimeout(display.detectingSelectAll);

      // Select-all will be greyed out if there's nothing to select, so
      // this adds a zero-width space so that we can later check whether
      // it got selected.
      function prepareSelectAllHack() {
        if (te.selectionStart != null) {
          var selected = cm.somethingSelected();
          var extval = "\u200b" + (selected ? te.value : "");
          te.value = "\u21da"; // Used to catch context-menu undo
          te.value = extval;
          input.prevInput = selected ? "" : "\u200b";
          te.selectionStart = 1; te.selectionEnd = extval.length;
          // Re-set this, in case some other handler touched the
          // selection in the meantime.
          display.selForContextMenu = cm.doc.sel;
        }
      }
      function rehide() {
        input.contextMenuPending = false;
        input.wrapper.style.position = "relative";
        te.style.cssText = oldCSS;
        if (ie && ie_version < 9) display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);

        // Try to detect the user choosing select-all
        if (te.selectionStart != null) {
          if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();
          var i = 0, poll = function() {
            if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&
                te.selectionEnd > 0 && input.prevInput == "\u200b")
              operation(cm, commands.selectAll)(cm);
            else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);
            else display.input.reset();
          };
          display.detectingSelectAll = setTimeout(poll, 200);
        }
      }

      if (ie && ie_version >= 9) prepareSelectAllHack();
      if (captureRightClick) {
        e_stop(e);
        var mouseup = function() {
          off(window, "mouseup", mouseup);
          setTimeout(rehide, 20);
        };
        on(window, "mouseup", mouseup);
      } else {
        setTimeout(rehide, 50);
      }
    },

    readOnlyChanged: function(val) {
      if (!val) this.reset();
    },

    setUneditable: nothing,

    needsContentAttribute: false
  }, TextareaInput.prototype);

  // CONTENTEDITABLE INPUT STYLE

  function ContentEditableInput(cm) {
    this.cm = cm;
    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;
    this.polling = new Delayed();
    this.gracePeriod = false;
  }

  ContentEditableInput.prototype = copyObj({
    init: function(display) {
      var input = this, cm = input.cm;
      var div = input.div = display.lineDiv;
      disableBrowserMagic(div);

      on(div, "paste", function(e) { handlePaste(e, cm); })

      on(div, "compositionstart", function(e) {
        var data = e.data;
        input.composing = {sel: cm.doc.sel, data: data, startData: data};
        if (!data) return;
        var prim = cm.doc.sel.primary();
        var line = cm.getLine(prim.head.line);
        var found = line.indexOf(data, Math.max(0, prim.head.ch - data.length));
        if (found > -1 && found <= prim.head.ch)
          input.composing.sel = simpleSelection(Pos(prim.head.line, found),
                                                Pos(prim.head.line, found + data.length));
      });
      on(div, "compositionupdate", function(e) {
        input.composing.data = e.data;
      });
      on(div, "compositionend", function(e) {
        var ours = input.composing;
        if (!ours) return;
        if (e.data != ours.startData && !/\u200b/.test(e.data))
          ours.data = e.data;
        // Need a small delay to prevent other code (input event,
        // selection polling) from doing damage when fired right after
        // compositionend.
        setTimeout(function() {
          if (!ours.handled)
            input.applyComposition(ours);
          if (input.composing == ours)
            input.composing = null;
        }, 50);
      });

      on(div, "touchstart", function() {
        input.forceCompositionEnd();
      });

      on(div, "input", function() {
        if (input.composing) return;
        if (isReadOnly(cm) || !input.pollContent())
          runInOp(input.cm, function() {regChange(cm);});
      });

      function onCopyCut(e) {
        if (cm.somethingSelected()) {
          lastCopied = cm.getSelections();
          if (e.type == "cut") cm.replaceSelection("", null, "cut");
        } else if (!cm.options.lineWiseCopyCut) {
          return;
        } else {
          var ranges = copyableRanges(cm);
          lastCopied = ranges.text;
          if (e.type == "cut") {
            cm.operation(function() {
              cm.setSelections(ranges.ranges, 0, sel_dontScroll);
              cm.replaceSelection("", null, "cut");
            });
          }
        }
        // iOS exposes the clipboard API, but seems to discard content inserted into it
        if (e.clipboardData && !ios) {
          e.preventDefault();
          e.clipboardData.clearData();
          e.clipboardData.setData("text/plain", lastCopied.join("\n"));
        } else {
          // Old-fashioned briefly-focus-a-textarea hack
          var kludge = hiddenTextarea(), te = kludge.firstChild;
          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);
          te.value = lastCopied.join("\n");
          var hadFocus = document.activeElement;
          selectInput(te);
          setTimeout(function() {
            cm.display.lineSpace.removeChild(kludge);
            hadFocus.focus();
          }, 50);
        }
      }
      on(div, "copy", onCopyCut);
      on(div, "cut", onCopyCut);
    },

    prepareSelection: function() {
      var result = prepareSelection(this.cm, false);
      result.focus = this.cm.state.focused;
      return result;
    },

    showSelection: function(info) {
      if (!info || !this.cm.display.view.length) return;
      if (info.focus) this.showPrimarySelection();
      this.showMultipleSelections(info);
    },

    showPrimarySelection: function() {
      var sel = window.getSelection(), prim = this.cm.doc.sel.primary();
      var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset);
      var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset);
      if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&
          cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&
          cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)
        return;

      var start = posToDOM(this.cm, prim.from());
      var end = posToDOM(this.cm, prim.to());
      if (!start && !end) return;

      var view = this.cm.display.view;
      var old = sel.rangeCount && sel.getRangeAt(0);
      if (!start) {
        start = {node: view[0].measure.map[2], offset: 0};
      } else if (!end) { // FIXME dangerously hacky
        var measure = view[view.length - 1].measure;
        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;
        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};
      }

      try { var rng = range(start.node, start.offset, end.offset, end.node); }
      catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible
      if (rng) {
        sel.removeAllRanges();
        sel.addRange(rng);
        if (old && sel.anchorNode == null) sel.addRange(old);
        else if (gecko) this.startGracePeriod();
      }
      this.rememberSelection();
    },

    startGracePeriod: function() {
      var input = this;
      clearTimeout(this.gracePeriod);
      this.gracePeriod = setTimeout(function() {
        input.gracePeriod = false;
        if (input.selectionChanged())
          input.cm.operation(function() { input.cm.curOp.selectionChanged = true; });
      }, 20);
    },

    showMultipleSelections: function(info) {
      removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);
      removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);
    },

    rememberSelection: function() {
      var sel = window.getSelection();
      this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;
      this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;
    },

    selectionInEditor: function() {
      var sel = window.getSelection();
      if (!sel.rangeCount) return false;
      var node = sel.getRangeAt(0).commonAncestorContainer;
      return contains(this.div, node);
    },

    focus: function() {
      if (this.cm.options.readOnly != "nocursor") this.div.focus();
    },
    blur: function() { this.div.blur(); },
    getField: function() { return this.div; },

    supportsTouch: function() { return true; },

    receivedFocus: function() {
      var input = this;
      if (this.selectionInEditor())
        this.pollSelection();
      else
        runInOp(this.cm, function() { input.cm.curOp.selectionChanged = true; });

      function poll() {
        if (input.cm.state.focused) {
          input.pollSelection();
          input.polling.set(input.cm.options.pollInterval, poll);
        }
      }
      this.polling.set(this.cm.options.pollInterval, poll);
    },

    selectionChanged: function() {
      var sel = window.getSelection();
      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||
        sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;
    },

    pollSelection: function() {
      if (!this.composing && !this.gracePeriod && this.selectionChanged()) {
        var sel = window.getSelection(), cm = this.cm;
        this.rememberSelection();
        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
        var head = domToPos(cm, sel.focusNode, sel.focusOffset);
        if (anchor && head) runInOp(cm, function() {
          setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);
          if (anchor.bad || head.bad) cm.curOp.selectionChanged = true;
        });
      }
    },

    pollContent: function() {
      var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();
      var from = sel.from(), to = sel.to();
      if (from.line < display.viewFrom || to.line > display.viewTo - 1) return false;

      var fromIndex;
      if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {
        var fromLine = lineNo(display.view[0].line);
        var fromNode = display.view[0].node;
      } else {
        var fromLine = lineNo(display.view[fromIndex].line);
        var fromNode = display.view[fromIndex - 1].node.nextSibling;
      }
      var toIndex = findViewIndex(cm, to.line);
      if (toIndex == display.view.length - 1) {
        var toLine = display.viewTo - 1;
        var toNode = display.lineDiv.lastChild;
      } else {
        var toLine = lineNo(display.view[toIndex + 1].line) - 1;
        var toNode = display.view[toIndex + 1].node.previousSibling;
      }

      var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));
      var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));
      while (newText.length > 1 && oldText.length > 1) {
        if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }
        else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }
        else break;
      }

      var cutFront = 0, cutEnd = 0;
      var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);
      while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))
        ++cutFront;
      var newBot = lst(newText), oldBot = lst(oldText);
      var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),
                               oldBot.length - (oldText.length == 1 ? cutFront : 0));
      while (cutEnd < maxCutEnd &&
             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))
        ++cutEnd;

      newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd);
      newText[0] = newText[0].slice(cutFront);

      var chFrom = Pos(fromLine, cutFront);
      var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);
      if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {
        replaceRange(cm.doc, newText, chFrom, chTo, "+input");
        return true;
      }
    },

    ensurePolled: function() {
      this.forceCompositionEnd();
    },
    reset: function() {
      this.forceCompositionEnd();
    },
    forceCompositionEnd: function() {
      if (!this.composing || this.composing.handled) return;
      this.applyComposition(this.composing);
      this.composing.handled = true;
      this.div.blur();
      this.div.focus();
    },
    applyComposition: function(composing) {
      if (isReadOnly(this.cm))
        operation(this.cm, regChange)(this.cm)
      else if (composing.data && composing.data != composing.startData)
        operation(this.cm, applyTextInput)(this.cm, composing.data, 0, composing.sel);
    },

    setUneditable: function(node) {
      node.contentEditable = "false"
    },

    onKeyPress: function(e) {
      e.preventDefault();
      if (!isReadOnly(this.cm))
        operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);
    },

    readOnlyChanged: function(val) {
      this.div.contentEditable = String(val != "nocursor")
    },

    onContextMenu: nothing,
    resetPosition: nothing,

    needsContentAttribute: true
  }, ContentEditableInput.prototype);

  function posToDOM(cm, pos) {
    var view = findViewForLine(cm, pos.line);
    if (!view || view.hidden) return null;
    var line = getLine(cm.doc, pos.line);
    var info = mapFromLineView(view, line, pos.line);

    var order = getOrder(line), side = "left";
    if (order) {
      var partPos = getBidiPartAt(order, pos.ch);
      side = partPos % 2 ? "right" : "left";
    }
    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);
    result.offset = result.collapse == "right" ? result.end : result.start;
    return result;
  }

  function badPos(pos, bad) { if (bad) pos.bad = true; return pos; }

  function domToPos(cm, node, offset) {
    var lineNode;
    if (node == cm.display.lineDiv) {
      lineNode = cm.display.lineDiv.childNodes[offset];
      if (!lineNode) return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);
      node = null; offset = 0;
    } else {
      for (lineNode = node;; lineNode = lineNode.parentNode) {
        if (!lineNode || lineNode == cm.display.lineDiv) return null;
        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) break;
      }
    }
    for (var i = 0; i < cm.display.view.length; i++) {
      var lineView = cm.display.view[i];
      if (lineView.node == lineNode)
        return locateNodeInLineView(lineView, node, offset);
    }
  }

  function locateNodeInLineView(lineView, node, offset) {
    var wrapper = lineView.text.firstChild, bad = false;
    if (!node || !contains(wrapper, node)) return badPos(Pos(lineNo(lineView.line), 0), true);
    if (node == wrapper) {
      bad = true;
      node = wrapper.childNodes[offset];
      offset = 0;
      if (!node) {
        var line = lineView.rest ? lst(lineView.rest) : lineView.line;
        return badPos(Pos(lineNo(line), line.text.length), bad);
      }
    }

    var textNode = node.nodeType == 3 ? node : null, topNode = node;
    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {
      textNode = node.firstChild;
      if (offset) offset = textNode.nodeValue.length;
    }
    while (topNode.parentNode != wrapper) topNode = topNode.parentNode;
    var measure = lineView.measure, maps = measure.maps;

    function find(textNode, topNode, offset) {
      for (var i = -1; i < (maps ? maps.length : 0); i++) {
        var map = i < 0 ? measure.map : maps[i];
        for (var j = 0; j < map.length; j += 3) {
          var curNode = map[j + 2];
          if (curNode == textNode || curNode == topNode) {
            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);
            var ch = map[j] + offset;
            if (offset < 0 || curNode != textNode) ch = map[j + (offset ? 1 : 0)];
            return Pos(line, ch);
          }
        }
      }
    }
    var found = find(textNode, topNode, offset);
    if (found) return badPos(found, bad);

    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
      found = find(after, after.firstChild, 0);
      if (found)
        return badPos(Pos(found.line, found.ch - dist), bad);
      else
        dist += after.textContent.length;
    }
    for (var before = topNode.previousSibling, dist = offset; before; before = before.previousSibling) {
      found = find(before, before.firstChild, -1);
      if (found)
        return badPos(Pos(found.line, found.ch + dist), bad);
      else
        dist += after.textContent.length;
    }
  }

  function domTextBetween(cm, from, to, fromLine, toLine) {
    var text = "", closing = false, lineSep = cm.doc.lineSeparator();
    function recognizeMarker(id) { return function(marker) { return marker.id == id; }; }
    function walk(node) {
      if (node.nodeType == 1) {
        var cmText = node.getAttribute("cm-text");
        if (cmText != null) {
          if (cmText == "") cmText = node.textContent.replace(/\u200b/g, "");
          text += cmText;
          return;
        }
        var markerID = node.getAttribute("cm-marker"), range;
        if (markerID) {
          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));
          if (found.length && (range = found[0].find()))
            text += getBetween(cm.doc, range.from, range.to).join(lineSep);
          return;
        }
        if (node.getAttribute("contenteditable") == "false") return;
        for (var i = 0; i < node.childNodes.length; i++)
          walk(node.childNodes[i]);
        if (/^(pre|div|p)$/i.test(node.nodeName))
          closing = true;
      } else if (node.nodeType == 3) {
        var val = node.nodeValue;
        if (!val) return;
        if (closing) {
          text += lineSep;
          closing = false;
        }
        text += val;
      }
    }
    for (;;) {
      walk(from);
      if (from == to) break;
      from = from.nextSibling;
    }
    return text;
  }

  CodeMirror.inputStyles = {"textarea": TextareaInput, "contenteditable": ContentEditableInput};

  // SELECTION / CURSOR

  // Selection objects are immutable. A new one is created every time
  // the selection changes. A selection is one or more non-overlapping
  // (and non-touching) ranges, sorted, and an integer that indicates
  // which one is the primary selection (the one that's scrolled into
  // view, that getCursor returns, etc).
  function Selection(ranges, primIndex) {
    this.ranges = ranges;
    this.primIndex = primIndex;
  }

  Selection.prototype = {
    primary: function() { return this.ranges[this.primIndex]; },
    equals: function(other) {
      if (other == this) return true;
      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;
      for (var i = 0; i < this.ranges.length; i++) {
        var here = this.ranges[i], there = other.ranges[i];
        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;
      }
      return true;
    },
    deepCopy: function() {
      for (var out = [], i = 0; i < this.ranges.length; i++)
        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));
      return new Selection(out, this.primIndex);
    },
    somethingSelected: function() {
      for (var i = 0; i < this.ranges.length; i++)
        if (!this.ranges[i].empty()) return true;
      return false;
    },
    contains: function(pos, end) {
      if (!end) end = pos;
      for (var i = 0; i < this.ranges.length; i++) {
        var range = this.ranges[i];
        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)
          return i;
      }
      return -1;
    }
  };

  function Range(anchor, head) {
    this.anchor = anchor; this.head = head;
  }

  Range.prototype = {
    from: function() { return minPos(this.anchor, this.head); },
    to: function() { return maxPos(this.anchor, this.head); },
    empty: function() {
      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
    }
  };

  // Take an unsorted, potentially overlapping set of ranges, and
  // build a selection out of it. 'Consumes' ranges array (modifying
  // it).
  function normalizeSelection(ranges, primIndex) {
    var prim = ranges[primIndex];
    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });
    primIndex = indexOf(ranges, prim);
    for (var i = 1; i < ranges.length; i++) {
      var cur = ranges[i], prev = ranges[i - 1];
      if (cmp(prev.to(), cur.from()) >= 0) {
        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());
        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;
        if (i <= primIndex) --primIndex;
        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));
      }
    }
    return new Selection(ranges, primIndex);
  }

  function simpleSelection(anchor, head) {
    return new Selection([new Range(anchor, head || anchor)], 0);
  }

  // Most of the external API clips given positions to make sure they
  // actually exist within the document.
  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}
  function clipPos(doc, pos) {
    if (pos.line < doc.first) return Pos(doc.first, 0);
    var last = doc.first + doc.size - 1;
    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);
    return clipToLen(pos, getLine(doc, pos.line).text.length);
  }
  function clipToLen(pos, linelen) {
    var ch = pos.ch;
    if (ch == null || ch > linelen) return Pos(pos.line, linelen);
    else if (ch < 0) return Pos(pos.line, 0);
    else return pos;
  }
  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}
  function clipPosArray(doc, array) {
    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);
    return out;
  }

  // SELECTION UPDATES

  // The 'scroll' parameter given to many of these indicated whether
  // the new cursor position should be scrolled into view after
  // modifying the selection.

  // If shift is held or the extend flag is set, extends a range to
  // include a given position (and optionally a second position).
  // Otherwise, simply returns the range between the given positions.
  // Used for cursor motion and such.
  function extendRange(doc, range, head, other) {
    if (doc.cm && doc.cm.display.shift || doc.extend) {
      var anchor = range.anchor;
      if (other) {
        var posBefore = cmp(head, anchor) < 0;
        if (posBefore != (cmp(other, anchor) < 0)) {
          anchor = head;
          head = other;
        } else if (posBefore != (cmp(head, other) < 0)) {
          head = other;
        }
      }
      return new Range(anchor, head);
    } else {
      return new Range(other || head, head);
    }
  }

  // Extend the primary selection range, discard the rest.
  function extendSelection(doc, head, other, options) {
    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);
  }

  // Extend all selections (pos is an array of selections with length
  // equal the number of selections)
  function extendSelections(doc, heads, options) {
    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)
      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);
    var newSel = normalizeSelection(out, doc.sel.primIndex);
    setSelection(doc, newSel, options);
  }

  // Updates a single range in the selection.
  function replaceOneSelection(doc, i, range, options) {
    var ranges = doc.sel.ranges.slice(0);
    ranges[i] = range;
    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);
  }

  // Reset the selection to a single range.
  function setSimpleSelection(doc, anchor, head, options) {
    setSelection(doc, simpleSelection(anchor, head), options);
  }

  // Give beforeSelectionChange handlers a change to influence a
  // selection update.
  function filterSelectionChange(doc, sel) {
    var obj = {
      ranges: sel.ranges,
      update: function(ranges) {
        this.ranges = [];
        for (var i = 0; i < ranges.length; i++)
          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),
                                     clipPos(doc, ranges[i].head));
      }
    };
    signal(doc, "beforeSelectionChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeSelectionChange", doc.cm, obj);
    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);
    else return sel;
  }

  function setSelectionReplaceHistory(doc, sel, options) {
    var done = doc.history.done, last = lst(done);
    if (last && last.ranges) {
      done[done.length - 1] = sel;
      setSelectionNoUndo(doc, sel, options);
    } else {
      setSelection(doc, sel, options);
    }
  }

  // Set a new selection.
  function setSelection(doc, sel, options) {
    setSelectionNoUndo(doc, sel, options);
    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);
  }

  function setSelectionNoUndo(doc, sel, options) {
    if (hasHandler(doc, "beforeSelectionChange") || doc.cm && hasHandler(doc.cm, "beforeSelectionChange"))
      sel = filterSelectionChange(doc, sel);

    var bias = options && options.bias ||
      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);
    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));

    if (!(options && options.scroll === false) && doc.cm)
      ensureCursorVisible(doc.cm);
  }

  function setSelectionInner(doc, sel) {
    if (sel.equals(doc.sel)) return;

    doc.sel = sel;

    if (doc.cm) {
      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;
      signalCursorActivity(doc.cm);
    }
    signalLater(doc, "cursorActivity", doc);
  }

  // Verify that the selection does not partially select any atomic
  // marked ranges.
  function reCheckSelection(doc) {
    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);
  }

  // Return a selection that does not partially select any atomic
  // ranges.
  function skipAtomicInSelection(doc, sel, bias, mayClear) {
    var out;
    for (var i = 0; i < sel.ranges.length; i++) {
      var range = sel.ranges[i];
      var newAnchor = skipAtomic(doc, range.anchor, bias, mayClear);
      var newHead = skipAtomic(doc, range.head, bias, mayClear);
      if (out || newAnchor != range.anchor || newHead != range.head) {
        if (!out) out = sel.ranges.slice(0, i);
        out[i] = new Range(newAnchor, newHead);
      }
    }
    return out ? normalizeSelection(out, sel.primIndex) : sel;
  }

  // Ensure a given position is not inside an atomic range.
  function skipAtomic(doc, pos, bias, mayClear) {
    var flipped = false, curPos = pos;
    var dir = bias || 1;
    doc.cantEdit = false;
    search: for (;;) {
      var line = getLine(doc, curPos.line);
      if (line.markedSpans) {
        for (var i = 0; i < line.markedSpans.length; ++i) {
          var sp = line.markedSpans[i], m = sp.marker;
          if ((sp.from == null || (m.inclusiveLeft ? sp.from <= curPos.ch : sp.from < curPos.ch)) &&
              (sp.to == null || (m.inclusiveRight ? sp.to >= curPos.ch : sp.to > curPos.ch))) {
            if (mayClear) {
              signal(m, "beforeCursorEnter");
              if (m.explicitlyCleared) {
                if (!line.markedSpans) break;
                else {--i; continue;}
              }
            }
            if (!m.atomic) continue;
            var newPos = m.find(dir < 0 ? -1 : 1);
            if (cmp(newPos, curPos) == 0) {
              newPos.ch += dir;
              if (newPos.ch < 0) {
                if (newPos.line > doc.first) newPos = clipPos(doc, Pos(newPos.line - 1));
                else newPos = null;
              } else if (newPos.ch > line.text.length) {
                if (newPos.line < doc.first + doc.size - 1) newPos = Pos(newPos.line + 1, 0);
                else newPos = null;
              }
              if (!newPos) {
                if (flipped) {
                  // Driven in a corner -- no valid cursor position found at all
                  // -- try again *with* clearing, if we didn't already
                  if (!mayClear) return skipAtomic(doc, pos, bias, true);
                  // Otherwise, turn off editing until further notice, and return the start of the doc
                  doc.cantEdit = true;
                  return Pos(doc.first, 0);
                }
                flipped = true; newPos = pos; dir = -dir;
              }
            }
            curPos = newPos;
            continue search;
          }
        }
      }
      return curPos;
    }
  }

  // SELECTION DRAWING

  function updateSelection(cm) {
    cm.display.input.showSelection(cm.display.input.prepareSelection());
  }

  function prepareSelection(cm, primary) {
    var doc = cm.doc, result = {};
    var curFragment = result.cursors = document.createDocumentFragment();
    var selFragment = result.selection = document.createDocumentFragment();

    for (var i = 0; i < doc.sel.ranges.length; i++) {
      if (primary === false && i == doc.sel.primIndex) continue;
      var range = doc.sel.ranges[i];
      var collapsed = range.empty();
      if (collapsed || cm.options.showCursorWhenSelecting)
        drawSelectionCursor(cm, range.head, curFragment);
      if (!collapsed)
        drawSelectionRange(cm, range, selFragment);
    }
    return result;
  }

  // Draws a cursor for the given range
  function drawSelectionCursor(cm, head, output) {
    var pos = cursorCoords(cm, head, "div", null, null, !cm.options.singleCursorHeightPerLine);

    var cursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor"));
    cursor.style.left = pos.left + "px";
    cursor.style.top = pos.top + "px";
    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px";

    if (pos.other) {
      // Secondary cursor, shown when on a 'jump' in bi-directional text
      var otherCursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor CodeMirror-secondarycursor"));
      otherCursor.style.display = "";
      otherCursor.style.left = pos.other.left + "px";
      otherCursor.style.top = pos.other.top + "px";
      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + "px";
    }
  }

  // Draws the given range as a highlighted selection
  function drawSelectionRange(cm, range, output) {
    var display = cm.display, doc = cm.doc;
    var fragment = document.createDocumentFragment();
    var padding = paddingH(cm.display), leftSide = padding.left;
    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;

    function add(left, top, width, bottom) {
      if (top < 0) top = 0;
      top = Math.round(top);
      bottom = Math.round(bottom);
      fragment.appendChild(elt("div", null, "CodeMirror-selected", "position: absolute; left: " + left +
                               "px; top: " + top + "px; width: " + (width == null ? rightSide - left : width) +
                               "px; height: " + (bottom - top) + "px"));
    }

    function drawForLine(line, fromArg, toArg) {
      var lineObj = getLine(doc, line);
      var lineLen = lineObj.text.length;
      var start, end;
      function coords(ch, bias) {
        return charCoords(cm, Pos(line, ch), "div", lineObj, bias);
      }

      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {
        var leftPos = coords(from, "left"), rightPos, left, right;
        if (from == to) {
          rightPos = leftPos;
          left = right = leftPos.left;
        } else {
          rightPos = coords(to - 1, "right");
          if (dir == "rtl") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }
          left = leftPos.left;
          right = rightPos.right;
        }
        if (fromArg == null && from == 0) left = leftSide;
        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part
          add(left, leftPos.top, null, leftPos.bottom);
          left = leftSide;
          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);
        }
        if (toArg == null && to == lineLen) right = rightSide;
        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)
          start = leftPos;
        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)
          end = rightPos;
        if (left < leftSide + 1) left = leftSide;
        add(left, rightPos.top, right - left, rightPos.bottom);
      });
      return {start: start, end: end};
    }

    var sFrom = range.from(), sTo = range.to();
    if (sFrom.line == sTo.line) {
      drawForLine(sFrom.line, sFrom.ch, sTo.ch);
    } else {
      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);
      var singleVLine = visualLine(fromLine) == visualLine(toLine);
      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;
      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;
      if (singleVLine) {
        if (leftEnd.top < rightStart.top - 2) {
          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);
          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);
        } else {
          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);
        }
      }
      if (leftEnd.bottom < rightStart.top)
        add(leftSide, leftEnd.bottom, null, rightStart.top);
    }

    output.appendChild(fragment);
  }

  // Cursor-blinking
  function restartBlink(cm) {
    if (!cm.state.focused) return;
    var display = cm.display;
    clearInterval(display.blinker);
    var on = true;
    display.cursorDiv.style.visibility = "";
    if (cm.options.cursorBlinkRate > 0)
      display.blinker = setInterval(function() {
        display.cursorDiv.style.visibility = (on = !on) ? "" : "hidden";
      }, cm.options.cursorBlinkRate);
    else if (cm.options.cursorBlinkRate < 0)
      display.cursorDiv.style.visibility = "hidden";
  }

  // HIGHLIGHT WORKER

  function startWorker(cm, time) {
    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)
      cm.state.highlight.set(time, bind(highlightWorker, cm));
  }

  function highlightWorker(cm) {
    var doc = cm.doc;
    if (doc.frontier < doc.first) doc.frontier = doc.first;
    if (doc.frontier >= cm.display.viewTo) return;
    var end = +new Date + cm.options.workTime;
    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));
    var changedLines = [];

    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {
      if (doc.frontier >= cm.display.viewFrom) { // Visible
        var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength;
        var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true);
        line.styles = highlighted.styles;
        var oldCls = line.styleClasses, newCls = highlighted.classes;
        if (newCls) line.styleClasses = newCls;
        else if (oldCls) line.styleClasses = null;
        var ischange = !oldStyles || oldStyles.length != line.styles.length ||
          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);
        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];
        if (ischange) changedLines.push(doc.frontier);
        line.stateAfter = tooLong ? state : copyState(doc.mode, state);
      } else {
        if (line.text.length <= cm.options.maxHighlightLength)
          processLine(cm, line.text, state);
        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;
      }
      ++doc.frontier;
      if (+new Date > end) {
        startWorker(cm, cm.options.workDelay);
        return true;
      }
    });
    if (changedLines.length) runInOp(cm, function() {
      for (var i = 0; i < changedLines.length; i++)
        regLineChange(cm, changedLines[i], "text");
    });
  }

  // Finds the line to start with when starting a parse. Tries to
  // find a line with a stateAfter, so that it can start with a
  // valid state. If that fails, it returns the line with the
  // smallest indentation, which tends to need the least context to
  // parse correctly.
  function findStartLine(cm, n, precise) {
    var minindent, minline, doc = cm.doc;
    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);
    for (var search = n; search > lim; --search) {
      if (search <= doc.first) return doc.first;
      var line = getLine(doc, search - 1);
      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;
      var indented = countColumn(line.text, null, cm.options.tabSize);
      if (minline == null || minindent > indented) {
        minline = search - 1;
        minindent = indented;
      }
    }
    return minline;
  }

  function getStateBefore(cm, n, precise) {
    var doc = cm.doc, display = cm.display;
    if (!doc.mode.startState) return true;
    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;
    if (!state) state = startState(doc.mode);
    else state = copyState(doc.mode, state);
    doc.iter(pos, n, function(line) {
      processLine(cm, line.text, state);
      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;
      line.stateAfter = save ? copyState(doc.mode, state) : null;
      ++pos;
    });
    if (precise) doc.frontier = pos;
    return state;
  }

  // POSITION MEASUREMENT

  function paddingTop(display) {return display.lineSpace.offsetTop;}
  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}
  function paddingH(display) {
    if (display.cachedPaddingH) return display.cachedPaddingH;
    var e = removeChildrenAndAdd(display.measure, elt("pre", "x"));
    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;
    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};
    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;
    return data;
  }

  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth; }
  function displayWidth(cm) {
    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;
  }
  function displayHeight(cm) {
    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;
  }

  // Ensure the lineView.wrapping.heights array is populated. This is
  // an array of bottom offsets for the lines that make up a drawn
  // line. When lineWrapping is on, there might be more than one
  // height.
  function ensureLineHeights(cm, lineView, rect) {
    var wrapping = cm.options.lineWrapping;
    var curWidth = wrapping && displayWidth(cm);
    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
      var heights = lineView.measure.heights = [];
      if (wrapping) {
        lineView.measure.width = curWidth;
        var rects = lineView.text.firstChild.getClientRects();
        for (var i = 0; i < rects.length - 1; i++) {
          var cur = rects[i], next = rects[i + 1];
          if (Math.abs(cur.bottom - next.bottom) > 2)
            heights.push((cur.bottom + next.top) / 2 - rect.top);
        }
      }
      heights.push(rect.bottom - rect.top);
    }
  }

  // Find a line map (mapping character offsets to text nodes) and a
  // measurement cache for the given line number. (A line view might
  // contain multiple lines when collapsed ranges are present.)
  function mapFromLineView(lineView, line, lineN) {
    if (lineView.line == line)
      return {map: lineView.measure.map, cache: lineView.measure.cache};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineView.rest[i] == line)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineNo(lineView.rest[i]) > lineN)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};
  }

  // Render a line into the hidden node display.externalMeasured. Used
  // when measurement is needed for a line that's not in the viewport.
  function updateExternalMeasurement(cm, line) {
    line = visualLine(line);
    var lineN = lineNo(line);
    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);
    view.lineN = lineN;
    var built = view.built = buildLineContent(cm, view);
    view.text = built.pre;
    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);
    return view;
  }

  // Get a {top, bottom, left, right} box (in line-local coordinates)
  // for a given character.
  function measureChar(cm, line, ch, bias) {
    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);
  }

  // Find a line view that corresponds to the given line number.
  function findViewForLine(cm, lineN) {
    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)
      return cm.display.view[findViewIndex(cm, lineN)];
    var ext = cm.display.externalMeasured;
    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)
      return ext;
  }

  // Measurement can be split in two steps, the set-up work that
  // applies to the whole line, and the measurement of the actual
  // character. Functions like coordsChar, that need to do a lot of
  // measurements in a row, can thus ensure that the set-up work is
  // only done once.
  function prepareMeasureForLine(cm, line) {
    var lineN = lineNo(line);
    var view = findViewForLine(cm, lineN);
    if (view && !view.text) {
      view = null;
    } else if (view && view.changes) {
      updateLineForChanges(cm, view, lineN, getDimensions(cm));
      cm.curOp.forceUpdate = true;
    }
    if (!view)
      view = updateExternalMeasurement(cm, line);

    var info = mapFromLineView(view, line, lineN);
    return {
      line: line, view: view, rect: null,
      map: info.map, cache: info.cache, before: info.before,
      hasHeights: false
    };
  }

  // Given a prepared measurement object, measures the position of an
  // actual character (or fetches it from the cache).
  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
    if (prepared.before) ch = -1;
    var key = ch + (bias || ""), found;
    if (prepared.cache.hasOwnProperty(key)) {
      found = prepared.cache[key];
    } else {
      if (!prepared.rect)
        prepared.rect = prepared.view.text.getBoundingClientRect();
      if (!prepared.hasHeights) {
        ensureLineHeights(cm, prepared.view, prepared.rect);
        prepared.hasHeights = true;
      }
      found = measureCharInner(cm, prepared, ch, bias);
      if (!found.bogus) prepared.cache[key] = found;
    }
    return {left: found.left, right: found.right,
            top: varHeight ? found.rtop : found.top,
            bottom: varHeight ? found.rbottom : found.bottom};
  }

  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};

  function nodeAndOffsetInLineMap(map, ch, bias) {
    var node, start, end, collapse;
    // First, search the line map for the text node corresponding to,
    // or closest to, the target character.
    for (var i = 0; i < map.length; i += 3) {
      var mStart = map[i], mEnd = map[i + 1];
      if (ch < mStart) {
        start = 0; end = 1;
        collapse = "left";
      } else if (ch < mEnd) {
        start = ch - mStart;
        end = start + 1;
      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {
        end = mEnd - mStart;
        start = end - 1;
        if (ch >= mEnd) collapse = "right";
      }
      if (start != null) {
        node = map[i + 2];
        if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right"))
          collapse = bias;
        if (bias == "left" && start == 0)
          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {
            node = map[(i -= 3) + 2];
            collapse = "left";
          }
        if (bias == "right" && start == mEnd - mStart)
          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {
            node = map[(i += 3) + 2];
            collapse = "right";
          }
        break;
      }
    }
    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd};
  }

  function measureCharInner(cm, prepared, ch, bias) {
    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);
    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;

    var rect;
    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.
      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned
        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) --start;
        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) ++end;
        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {
          rect = node.parentNode.getBoundingClientRect();
        } else if (ie && cm.options.lineWrapping) {
          var rects = range(node, start, end).getClientRects();
          if (rects.length)
            rect = rects[bias == "right" ? rects.length - 1 : 0];
          else
            rect = nullRect;
        } else {
          rect = range(node, start, end).getBoundingClientRect() || nullRect;
        }
        if (rect.left || rect.right || start == 0) break;
        end = start;
        start = start - 1;
        collapse = "right";
      }
      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);
    } else { // If it is a widget, simply get the box for the whole widget.
      if (start > 0) collapse = bias = "right";
      var rects;
      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)
        rect = rects[bias == "right" ? rects.length - 1 : 0];
      else
        rect = node.getBoundingClientRect();
    }
    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
      var rSpan = node.parentNode.getClientRects()[0];
      if (rSpan)
        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};
      else
        rect = nullRect;
    }

    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;
    var mid = (rtop + rbot) / 2;
    var heights = prepared.view.measure.heights;
    for (var i = 0; i < heights.length - 1; i++)
      if (mid < heights[i]) break;
    var top = i ? heights[i - 1] : 0, bot = heights[i];
    var result = {left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
                  right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
                  top: top, bottom: bot};
    if (!rect.left && !rect.right) result.bogus = true;
    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }

    return result;
  }

  // Work around problem with bounding client rects on ranges being
  // returned incorrectly when zoomed on IE10 and below.
  function maybeUpdateRectForZooming(measure, rect) {
    if (!window.screen || screen.logicalXDPI == null ||
        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))
      return rect;
    var scaleX = screen.logicalXDPI / screen.deviceXDPI;
    var scaleY = screen.logicalYDPI / screen.deviceYDPI;
    return {left: rect.left * scaleX, right: rect.right * scaleX,
            top: rect.top * scaleY, bottom: rect.bottom * scaleY};
  }

  function clearLineMeasurementCacheFor(lineView) {
    if (lineView.measure) {
      lineView.measure.cache = {};
      lineView.measure.heights = null;
      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
        lineView.measure.caches[i] = {};
    }
  }

  function clearLineMeasurementCache(cm) {
    cm.display.externalMeasure = null;
    removeChildren(cm.display.lineMeasure);
    for (var i = 0; i < cm.display.view.length; i++)
      clearLineMeasurementCacheFor(cm.display.view[i]);
  }

  function clearCaches(cm) {
    clearLineMeasurementCache(cm);
    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;
    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;
    cm.display.lineNumChars = null;
  }

  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }
  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }

  // Converts a {top, bottom, left, right} box from line-local
  // coordinates into another coordinate system. Context may be one of
  // "line", "div" (display.lineDiv), "local"/null (editor), "window",
  // or "page".
  function intoCoordSystem(cm, lineObj, rect, context) {
    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {
      var size = widgetHeight(lineObj.widgets[i]);
      rect.top += size; rect.bottom += size;
    }
    if (context == "line") return rect;
    if (!context) context = "local";
    var yOff = heightAtLine(lineObj);
    if (context == "local") yOff += paddingTop(cm.display);
    else yOff -= cm.display.viewOffset;
    if (context == "page" || context == "window") {
      var lOff = cm.display.lineSpace.getBoundingClientRect();
      yOff += lOff.top + (context == "window" ? 0 : pageScrollY());
      var xOff = lOff.left + (context == "window" ? 0 : pageScrollX());
      rect.left += xOff; rect.right += xOff;
    }
    rect.top += yOff; rect.bottom += yOff;
    return rect;
  }

  // Coverts a box from "div" coords to another coordinate system.
  // Context may be "window", "page", "div", or "local"/null.
  function fromCoordSystem(cm, coords, context) {
    if (context == "div") return coords;
    var left = coords.left, top = coords.top;
    // First move into "page" coordinate system
    if (context == "page") {
      left -= pageScrollX();
      top -= pageScrollY();
    } else if (context == "local" || !context) {
      var localBox = cm.display.sizer.getBoundingClientRect();
      left += localBox.left;
      top += localBox.top;
    }

    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();
    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};
  }

  function charCoords(cm, pos, context, lineObj, bias) {
    if (!lineObj) lineObj = getLine(cm.doc, pos.line);
    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);
  }

  // Returns a box for a given cursor position, which may have an
  // 'other' property containing the position of the secondary cursor
  // on a bidi boundary.
  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
    lineObj = lineObj || getLine(cm.doc, pos.line);
    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);
    function get(ch, right) {
      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? "right" : "left", varHeight);
      if (right) m.left = m.right; else m.right = m.left;
      return intoCoordSystem(cm, lineObj, m, context);
    }
    function getBidi(ch, partPos) {
      var part = order[partPos], right = part.level % 2;
      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {
        part = order[--partPos];
        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);
        right = true;
      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {
        part = order[++partPos];
        ch = bidiLeft(part) - part.level % 2;
        right = false;
      }
      if (right && ch == part.to && ch > part.from) return get(ch - 1);
      return get(ch, right);
    }
    var order = getOrder(lineObj), ch = pos.ch;
    if (!order) return get(ch);
    var partPos = getBidiPartAt(order, ch);
    var val = getBidi(ch, partPos);
    if (bidiOther != null) val.other = getBidi(ch, bidiOther);
    return val;
  }

  // Used to cheaply estimate the coordinates for a position. Used for
  // intermediate scroll updates.
  function estimateCoords(cm, pos) {
    var left = 0, pos = clipPos(cm.doc, pos);
    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;
    var lineObj = getLine(cm.doc, pos.line);
    var top = heightAtLine(lineObj) + paddingTop(cm.display);
    return {left: left, right: left, top: top, bottom: top + lineObj.height};
  }

  // Positions returned by coordsChar contain some extra information.
  // xRel is the relative x position of the input coordinates compared
  // to the found position (so xRel > 0 means the coordinates are to
  // the right of the character position, for example). When outside
  // is true, that means the coordinates lie outside the line's
  // vertical range.
  function PosWithInfo(line, ch, outside, xRel) {
    var pos = Pos(line, ch);
    pos.xRel = xRel;
    if (outside) pos.outside = true;
    return pos;
  }

  // Compute the character position closest to the given coordinates.
  // Input must be lineSpace-local ("div" coordinate system).
  function coordsChar(cm, x, y) {
    var doc = cm.doc;
    y += cm.display.viewOffset;
    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);
    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;
    if (lineN > last)
      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);
    if (x < 0) x = 0;

    var lineObj = getLine(doc, lineN);
    for (;;) {
      var found = coordsCharInner(cm, lineObj, lineN, x, y);
      var merged = collapsedSpanAtEnd(lineObj);
      var mergedPos = merged && merged.find(0, true);
      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))
        lineN = lineNo(lineObj = mergedPos.to.line);
      else
        return found;
    }
  }

  function coordsCharInner(cm, lineObj, lineNo, x, y) {
    var innerOff = y - heightAtLine(lineObj);
    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;
    var preparedMeasure = prepareMeasureForLine(cm, lineObj);

    function getX(ch) {
      var sp = cursorCoords(cm, Pos(lineNo, ch), "line", lineObj, preparedMeasure);
      wrongLine = true;
      if (innerOff > sp.bottom) return sp.left - adjust;
      else if (innerOff < sp.top) return sp.left + adjust;
      else wrongLine = false;
      return sp.left;
    }

    var bidi = getOrder(lineObj), dist = lineObj.text.length;
    var from = lineLeft(lineObj), to = lineRight(lineObj);
    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;

    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);
    // Do a binary search between these bounds.
    for (;;) {
      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {
        var ch = x < fromX || x - fromX <= toX - x ? from : to;
        var xDiff = x - (ch == from ? fromX : toX);
        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;
        var pos = PosWithInfo(lineNo, ch, ch == from ? fromOutside : toOutside,
                              xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);
        return pos;
      }
      var step = Math.ceil(dist / 2), middle = from + step;
      if (bidi) {
        middle = from;
        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);
      }
      var middleX = getX(middle);
      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}
      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}
    }
  }

  var measureText;
  // Compute the default text height.
  function textHeight(display) {
    if (display.cachedTextHeight != null) return display.cachedTextHeight;
    if (measureText == null) {
      measureText = elt("pre");
      // Measure a bunch of lines, for browsers that compute
      // fractional heights.
      for (var i = 0; i < 49; ++i) {
        measureText.appendChild(document.createTextNode("x"));
        measureText.appendChild(elt("br"));
      }
      measureText.appendChild(document.createTextNode("x"));
    }
    removeChildrenAndAdd(display.measure, measureText);
    var height = measureText.offsetHeight / 50;
    if (height > 3) display.cachedTextHeight = height;
    removeChildren(display.measure);
    return height || 1;
  }

  // Compute the default character width.
  function charWidth(display) {
    if (display.cachedCharWidth != null) return display.cachedCharWidth;
    var anchor = elt("span", "xxxxxxxxxx");
    var pre = elt("pre", [anchor]);
    removeChildrenAndAdd(display.measure, pre);
    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;
    if (width > 2) display.cachedCharWidth = width;
    return width || 10;
  }

  // OPERATIONS

  // Operations are used to wrap a series of changes to the editor
  // state in such a way that each change won't have to update the
  // cursor and display (which would be awkward, slow, and
  // error-prone). Instead, display updates are batched and then all
  // combined and executed at once.

  var operationGroup = null;

  var nextOpId = 0;
  // Start a new operation.
  function startOperation(cm) {
    cm.curOp = {
      cm: cm,
      viewChanged: false,      // Flag that indicates that lines might need to be redrawn
      startHeight: cm.doc.height, // Used to detect need to update scrollbar
      forceUpdate: false,      // Used to force a redraw
      updateInput: null,       // Whether to reset the input textarea
      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)
      changeObjs: null,        // Accumulated changes, for firing change events
      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on
      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already
      selectionChanged: false, // Whether the selection needs to be redrawn
      updateMaxLine: false,    // Set when the widest line needs to be determined anew
      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet
      scrollToPos: null,       // Used to scroll to a specific position
      focus: false,
      id: ++nextOpId           // Unique ID
    };
    if (operationGroup) {
      operationGroup.ops.push(cm.curOp);
    } else {
      cm.curOp.ownsGroup = operationGroup = {
        ops: [cm.curOp],
        delayedCallbacks: []
      };
    }
  }

  function fireCallbacksForOps(group) {
    // Calls delayed callbacks and cursorActivity handlers until no
    // new ones appear
    var callbacks = group.delayedCallbacks, i = 0;
    do {
      for (; i < callbacks.length; i++)
        callbacks[i].call(null);
      for (var j = 0; j < group.ops.length; j++) {
        var op = group.ops[j];
        if (op.cursorActivityHandlers)
          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)
            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);
      }
    } while (i < callbacks.length);
  }

  // Finish an operation, updating the display and signalling delayed events
  function endOperation(cm) {
    var op = cm.curOp, group = op.ownsGroup;
    if (!group) return;

    try { fireCallbacksForOps(group); }
    finally {
      operationGroup = null;
      for (var i = 0; i < group.ops.length; i++)
        group.ops[i].cm.curOp = null;
      endOperations(group);
    }
  }

  // The DOM updates done when an operation finishes are batched so
  // that the minimum number of relayouts are required.
  function endOperations(group) {
    var ops = group.ops;
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_finish(ops[i]);
  }

  function endOperation_R1(op) {
    var cm = op.cm, display = cm.display;
    maybeClipScrollbars(cm);
    if (op.updateMaxLine) findMaxLine(cm);

    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||
      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||
                         op.scrollToPos.to.line >= display.viewTo) ||
      display.maxLineChanged && cm.options.lineWrapping;
    op.update = op.mustUpdate &&
      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);
  }

  function endOperation_W1(op) {
    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);
  }

  function endOperation_R2(op) {
    var cm = op.cm, display = cm.display;
    if (op.updatedDisplay) updateHeightsInViewport(cm);

    op.barMeasure = measureForScrollbars(cm);

    // If the max line changed since it was last measured, measure it,
    // and ensure the document's width matches it.
    // updateDisplay_W2 will use these properties to do the actual resizing
    if (display.maxLineChanged && !cm.options.lineWrapping) {
      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;
      cm.display.sizerWidth = op.adjustWidthTo;
      op.barMeasure.scrollWidth =
        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);
      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));
    }

    if (op.updatedDisplay || op.selectionChanged)
      op.preparedSelection = display.input.prepareSelection();
  }

  function endOperation_W2(op) {
    var cm = op.cm;

    if (op.adjustWidthTo != null) {
      cm.display.sizer.style.minWidth = op.adjustWidthTo + "px";
      if (op.maxScrollLeft < cm.doc.scrollLeft)
        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);
      cm.display.maxLineChanged = false;
    }

    if (op.preparedSelection)
      cm.display.input.showSelection(op.preparedSelection);
    if (op.updatedDisplay)
      setDocumentHeight(cm, op.barMeasure);
    if (op.updatedDisplay || op.startHeight != cm.doc.height)
      updateScrollbars(cm, op.barMeasure);

    if (op.selectionChanged) restartBlink(cm);

    if (cm.state.focused && op.updateInput)
      cm.display.input.reset(op.typing);
    if (op.focus && op.focus == activeElt()) ensureFocus(op.cm);
  }

  function endOperation_finish(op) {
    var cm = op.cm, display = cm.display, doc = cm.doc;

    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);

    // Abort mouse wheel delta measurement, when scrolling explicitly
    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))
      display.wheelStartX = display.wheelStartY = null;

    // Propagate the scroll position to the actual DOM scroller
    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {
      doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));
      display.scrollbars.setScrollTop(doc.scrollTop);
      display.scroller.scrollTop = doc.scrollTop;
    }
    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {
      doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - displayWidth(cm), op.scrollLeft));
      display.scrollbars.setScrollLeft(doc.scrollLeft);
      display.scroller.scrollLeft = doc.scrollLeft;
      alignHorizontally(cm);
    }
    // If we need to scroll a specific position into view, do so.
    if (op.scrollToPos) {
      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),
                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);
      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);
    }

    // Fire events for markers that are hidden/unidden by editing or
    // undoing
    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;
    if (hidden) for (var i = 0; i < hidden.length; ++i)
      if (!hidden[i].lines.length) signal(hidden[i], "hide");
    if (unhidden) for (var i = 0; i < unhidden.length; ++i)
      if (unhidden[i].lines.length) signal(unhidden[i], "unhide");

    if (display.wrapper.offsetHeight)
      doc.scrollTop = cm.display.scroller.scrollTop;

    // Fire change events, and delayed event handlers
    if (op.changeObjs)
      signal(cm, "changes", cm, op.changeObjs);
    if (op.update)
      op.update.finish();
  }

  // Run the given function in an operation
  function runInOp(cm, f) {
    if (cm.curOp) return f();
    startOperation(cm);
    try { return f(); }
    finally { endOperation(cm); }
  }
  // Wraps a function in an operation. Returns the wrapped function.
  function operation(cm, f) {
    return function() {
      if (cm.curOp) return f.apply(cm, arguments);
      startOperation(cm);
      try { return f.apply(cm, arguments); }
      finally { endOperation(cm); }
    };
  }
  // Used to add methods to editor and doc instances, wrapping them in
  // operations.
  function methodOp(f) {
    return function() {
      if (this.curOp) return f.apply(this, arguments);
      startOperation(this);
      try { return f.apply(this, arguments); }
      finally { endOperation(this); }
    };
  }
  function docMethodOp(f) {
    return function() {
      var cm = this.cm;
      if (!cm || cm.curOp) return f.apply(this, arguments);
      startOperation(cm);
      try { return f.apply(this, arguments); }
      finally { endOperation(cm); }
    };
  }

  // VIEW TRACKING

  // These objects are used to represent the visible (currently drawn)
  // part of the document. A LineView may correspond to multiple
  // logical lines, if those are connected by collapsed ranges.
  function LineView(doc, line, lineN) {
    // The starting line
    this.line = line;
    // Continuing lines, if any
    this.rest = visualLineContinued(line);
    // Number of logical lines in this visual line
    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;
    this.node = this.text = null;
    this.hidden = lineIsHidden(doc, line);
  }

  // Create a range of LineView objects for the given lines.
  function buildViewArray(cm, from, to) {
    var array = [], nextPos;
    for (var pos = from; pos < to; pos = nextPos) {
      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);
      nextPos = pos + view.size;
      array.push(view);
    }
    return array;
  }

  // Updates the display.view data structure for a given change to the
  // document. From and to are in pre-change coordinates. Lendiff is
  // the amount of lines added or subtracted by the change. This is
  // used for changes that span multiple lines, or change the way
  // lines are divided into visual lines. regLineChange (below)
  // registers single-line changes.
  function regChange(cm, from, to, lendiff) {
    if (from == null) from = cm.doc.first;
    if (to == null) to = cm.doc.first + cm.doc.size;
    if (!lendiff) lendiff = 0;

    var display = cm.display;
    if (lendiff && to < display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers > from))
      display.updateLineNumbers = from;

    cm.curOp.viewChanged = true;

    if (from >= display.viewTo) { // Change after
      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)
        resetView(cm);
    } else if (to <= display.viewFrom) { // Change before
      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
        resetView(cm);
      } else {
        display.viewFrom += lendiff;
        display.viewTo += lendiff;
      }
    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap
      resetView(cm);
    } else if (from <= display.viewFrom) { // Top overlap
      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cut) {
        display.view = display.view.slice(cut.index);
        display.viewFrom = cut.lineN;
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    } else if (to >= display.viewTo) { // Bottom overlap
      var cut = viewCuttingPoint(cm, from, from, -1);
      if (cut) {
        display.view = display.view.slice(0, cut.index);
        display.viewTo = cut.lineN;
      } else {
        resetView(cm);
      }
    } else { // Gap in the middle
      var cutTop = viewCuttingPoint(cm, from, from, -1);
      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cutTop && cutBot) {
        display.view = display.view.slice(0, cutTop.index)
          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))
          .concat(display.view.slice(cutBot.index));
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    }

    var ext = display.externalMeasured;
    if (ext) {
      if (to < ext.lineN)
        ext.lineN += lendiff;
      else if (from < ext.lineN + ext.size)
        display.externalMeasured = null;
    }
  }

  // Register a change to a single line. Type must be one of "text",
  // "gutter", "class", "widget"
  function regLineChange(cm, line, type) {
    cm.curOp.viewChanged = true;
    var display = cm.display, ext = cm.display.externalMeasured;
    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)
      display.externalMeasured = null;

    if (line < display.viewFrom || line >= display.viewTo) return;
    var lineView = display.view[findViewIndex(cm, line)];
    if (lineView.node == null) return;
    var arr = lineView.changes || (lineView.changes = []);
    if (indexOf(arr, type) == -1) arr.push(type);
  }

  // Clear the view.
  function resetView(cm) {
    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;
    cm.display.view = [];
    cm.display.viewOffset = 0;
  }

  // Find the view element corresponding to a given line. Return null
  // when the line isn't visible.
  function findViewIndex(cm, n) {
    if (n >= cm.display.viewTo) return null;
    n -= cm.display.viewFrom;
    if (n < 0) return null;
    var view = cm.display.view;
    for (var i = 0; i < view.length; i++) {
      n -= view[i].size;
      if (n < 0) return i;
    }
  }

  function viewCuttingPoint(cm, oldN, newN, dir) {
    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;
    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)
      return {index: index, lineN: newN};
    for (var i = 0, n = cm.display.viewFrom; i < index; i++)
      n += view[i].size;
    if (n != oldN) {
      if (dir > 0) {
        if (index == view.length - 1) return null;
        diff = (n + view[index].size) - oldN;
        index++;
      } else {
        diff = n - oldN;
      }
      oldN += diff; newN += diff;
    }
    while (visualLineNo(cm.doc, newN) != newN) {
      if (index == (dir < 0 ? 0 : view.length - 1)) return null;
      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;
      index += dir;
    }
    return {index: index, lineN: newN};
  }

  // Force the view to cover a given range, adding empty view element
  // or clipping off existing ones as needed.
  function adjustView(cm, from, to) {
    var display = cm.display, view = display.view;
    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
      display.view = buildViewArray(cm, from, to);
      display.viewFrom = from;
    } else {
      if (display.viewFrom > from)
        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);
      else if (display.viewFrom < from)
        display.view = display.view.slice(findViewIndex(cm, from));
      display.viewFrom = from;
      if (display.viewTo < to)
        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));
      else if (display.viewTo > to)
        display.view = display.view.slice(0, findViewIndex(cm, to));
    }
    display.viewTo = to;
  }

  // Count the number of lines in the view whose DOM representation is
  // out of date (or nonexistent).
  function countDirtyView(cm) {
    var view = cm.display.view, dirty = 0;
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;
    }
    return dirty;
  }

  // EVENT HANDLERS

  // Attach the necessary event handlers when initializing the editor
  function registerEventHandlers(cm) {
    var d = cm.display;
    on(d.scroller, "mousedown", operation(cm, onMouseDown));
    // Older IE's will not fire a second mousedown for a double click
    if (ie && ie_version < 11)
      on(d.scroller, "dblclick", operation(cm, function(e) {
        if (signalDOMEvent(cm, e)) return;
        var pos = posFromMouse(cm, e);
        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;
        e_preventDefault(e);
        var word = cm.findWordAt(pos);
        extendSelection(cm.doc, word.anchor, word.head);
      }));
    else
      on(d.scroller, "dblclick", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });
    // Some browsers fire contextmenu *after* opening the menu, at
    // which point we can't mess with it anymore. Context menu is
    // handled in onMouseDown for these browsers.
    if (!captureRightClick) on(d.scroller, "contextmenu", function(e) {onContextMenu(cm, e);});

    // Used to suppress mouse event handling when a touch happens
    var touchFinished, prevTouch = {end: 0};
    function finishTouch() {
      if (d.activeTouch) {
        touchFinished = setTimeout(function() {d.activeTouch = null;}, 1000);
        prevTouch = d.activeTouch;
        prevTouch.end = +new Date;
      }
    };
    function isMouseLikeTouchEvent(e) {
      if (e.touches.length != 1) return false;
      var touch = e.touches[0];
      return touch.radiusX <= 1 && touch.radiusY <= 1;
    }
    function farAway(touch, other) {
      if (other.left == null) return true;
      var dx = other.left - touch.left, dy = other.top - touch.top;
      return dx * dx + dy * dy > 20 * 20;
    }
    on(d.scroller, "touchstart", function(e) {
      if (!isMouseLikeTouchEvent(e)) {
        clearTimeout(touchFinished);
        var now = +new Date;
        d.activeTouch = {start: now, moved: false,
                         prev: now - prevTouch.end <= 300 ? prevTouch : null};
        if (e.touches.length == 1) {
          d.activeTouch.left = e.touches[0].pageX;
          d.activeTouch.top = e.touches[0].pageY;
        }
      }
    });
    on(d.scroller, "touchmove", function() {
      if (d.activeTouch) d.activeTouch.moved = true;
    });
    on(d.scroller, "touchend", function(e) {
      var touch = d.activeTouch;
      if (touch && !eventInWidget(d, e) && touch.left != null &&
          !touch.moved && new Date - touch.start < 300) {
        var pos = cm.coordsChar(d.activeTouch, "page"), range;
        if (!touch.prev || farAway(touch, touch.prev)) // Single tap
          range = new Range(pos, pos);
        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap
          range = cm.findWordAt(pos);
        else // Triple tap
          range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));
        cm.setSelection(range.anchor, range.head);
        cm.focus();
        e_preventDefault(e);
      }
      finishTouch();
    });
    on(d.scroller, "touchcancel", finishTouch);

    // Sync scrolling between fake scrollbars and real scrollable
    // area, ensure viewport is updated when scrolling.
    on(d.scroller, "scroll", function() {
      if (d.scroller.clientHeight) {
        setScrollTop(cm, d.scroller.scrollTop);
        setScrollLeft(cm, d.scroller.scrollLeft, true);
        signal(cm, "scroll", cm);
      }
    });

    // Listen to wheel events in order to try and update the viewport on time.
    on(d.scroller, "mousewheel", function(e){onScrollWheel(cm, e);});
    on(d.scroller, "DOMMouseScroll", function(e){onScrollWheel(cm, e);});

    // Prevent wrapper from ever scrolling
    on(d.wrapper, "scroll", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });

    d.dragFunctions = {
      enter: function(e) {if (!signalDOMEvent(cm, e)) e_stop(e);},
      over: function(e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},
      start: function(e){onDragStart(cm, e);},
      drop: operation(cm, onDrop),
      leave: function() {clearDragCursor(cm);}
    };

    var inp = d.input.getField();
    on(inp, "keyup", function(e) { onKeyUp.call(cm, e); });
    on(inp, "keydown", operation(cm, onKeyDown));
    on(inp, "keypress", operation(cm, onKeyPress));
    on(inp, "focus", bind(onFocus, cm));
    on(inp, "blur", bind(onBlur, cm));
  }

  function dragDropChanged(cm, value, old) {
    var wasOn = old && old != CodeMirror.Init;
    if (!value != !wasOn) {
      var funcs = cm.display.dragFunctions;
      var toggle = value ? on : off;
      toggle(cm.display.scroller, "dragstart", funcs.start);
      toggle(cm.display.scroller, "dragenter", funcs.enter);
      toggle(cm.display.scroller, "dragover", funcs.over);
      toggle(cm.display.scroller, "dragleave", funcs.leave);
      toggle(cm.display.scroller, "drop", funcs.drop);
    }
  }

  // Called when the window resizes
  function onResize(cm) {
    var d = cm.display;
    if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)
      return;
    // Might be a text scaling operation, clear size caches.
    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
    d.scrollbarsClipped = false;
    cm.setSize();
  }

  // MOUSE EVENTS

  // Return true when the given mouse event happened in a widget
  function eventInWidget(display, e) {
    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
      if (!n || (n.nodeType == 1 && n.getAttribute("cm-ignore-events") == "true") ||
          (n.parentNode == display.sizer && n != display.mover))
        return true;
    }
  }

  // Given a mouse event, find the corresponding position. If liberal
  // is false, it checks whether a gutter or scrollbar was clicked,
  // and returns null if it was. forRect is used by rectangular
  // selections, and tries to estimate a character position even for
  // coordinates beyond the right of the text.
  function posFromMouse(cm, e, liberal, forRect) {
    var display = cm.display;
    if (!liberal && e_target(e).getAttribute("cm-not-content") == "true") return null;

    var x, y, space = display.lineSpace.getBoundingClientRect();
    // Fails unpredictably on IE[67] when mouse is dragged around quickly.
    try { x = e.clientX - space.left; y = e.clientY - space.top; }
    catch (e) { return null; }
    var coords = coordsChar(cm, x, y), line;
    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;
      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));
    }
    return coords;
  }

  // A mouse down can be a single click, double click, triple click,
  // start of selection drag, start of text drag, new cursor
  // (ctrl-click), rectangle drag (alt-drag), or xwin
  // middle-click-paste. Or it might be a click on something we should
  // not interfere with, such as a scrollbar or widget.
  function onMouseDown(e) {
    var cm = this, display = cm.display;
    if (display.activeTouch && display.input.supportsTouch() || signalDOMEvent(cm, e)) return;
    display.shift = e.shiftKey;

    if (eventInWidget(display, e)) {
      if (!webkit) {
        // Briefly turn off draggability, to allow widgets to do
        // normal dragging things.
        display.scroller.draggable = false;
        setTimeout(function(){display.scroller.draggable = true;}, 100);
      }
      return;
    }
    if (clickInGutter(cm, e)) return;
    var start = posFromMouse(cm, e);
    window.focus();

    switch (e_button(e)) {
    case 1:
      // #3261: make sure, that we're not starting a second selection
      if (cm.state.selectingText)
        cm.state.selectingText(e);
      else if (start)
        leftButtonDown(cm, e, start);
      else if (e_target(e) == display.scroller)
        e_preventDefault(e);
      break;
    case 2:
      if (webkit) cm.state.lastMiddleDown = +new Date;
      if (start) extendSelection(cm.doc, start);
      setTimeout(function() {display.input.focus();}, 20);
      e_preventDefault(e);
      break;
    case 3:
      if (captureRightClick) onContextMenu(cm, e);
      else delayBlurEvent(cm);
      break;
    }
  }

  var lastClick, lastDoubleClick;
  function leftButtonDown(cm, e, start) {
    if (ie) setTimeout(bind(ensureFocus, cm), 0);
    else cm.curOp.focus = activeElt();

    var now = +new Date, type;
    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {
      type = "triple";
    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {
      type = "double";
      lastDoubleClick = {time: now, pos: start};
    } else {
      type = "single";
      lastClick = {time: now, pos: start};
    }

    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained;
    if (cm.options.dragDrop && dragAndDrop && !isReadOnly(cm) &&
        type == "single" && (contained = sel.contains(start)) > -1 &&
        (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&
        (cmp(contained.to(), start) > 0 || start.xRel < 0))
      leftButtonStartDrag(cm, e, start, modifier);
    else
      leftButtonSelect(cm, e, start, type, modifier);
  }

  // Start a text drag. When it ends, see if any dragging actually
  // happen, and treat as a click if it didn't.
  function leftButtonStartDrag(cm, e, start, modifier) {
    var display = cm.display, startTime = +new Date;
    var dragEnd = operation(cm, function(e2) {
      if (webkit) display.scroller.draggable = false;
      cm.state.draggingText = false;
      off(document, "mouseup", dragEnd);
      off(display.scroller, "drop", dragEnd);
      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {
        e_preventDefault(e2);
        if (!modifier && +new Date - 200 < startTime)
          extendSelection(cm.doc, start);
        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)
        if (webkit || ie && ie_version == 9)
          setTimeout(function() {document.body.focus(); display.input.focus();}, 20);
        else
          display.input.focus();
      }
    });
    // Let the drag handler handle this.
    if (webkit) display.scroller.draggable = true;
    cm.state.draggingText = dragEnd;
    // IE's approach to draggable
    if (display.scroller.dragDrop) display.scroller.dragDrop();
    on(document, "mouseup", dragEnd);
    on(display.scroller, "drop", dragEnd);
  }

  // Normal selection, as opposed to text dragging.
  function leftButtonSelect(cm, e, start, type, addNew) {
    var display = cm.display, doc = cm.doc;
    e_preventDefault(e);

    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;
    if (addNew && !e.shiftKey) {
      ourIndex = doc.sel.contains(start);
      if (ourIndex > -1)
        ourRange = ranges[ourIndex];
      else
        ourRange = new Range(start, start);
    } else {
      ourRange = doc.sel.primary();
      ourIndex = doc.sel.primIndex;
    }

    if (e.altKey) {
      type = "rect";
      if (!addNew) ourRange = new Range(start, start);
      start = posFromMouse(cm, e, true, true);
      ourIndex = -1;
    } else if (type == "double") {
      var word = cm.findWordAt(start);
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, word.anchor, word.head);
      else
        ourRange = word;
    } else if (type == "triple") {
      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, line.anchor, line.head);
      else
        ourRange = line;
    } else {
      ourRange = extendRange(doc, ourRange, start);
    }

    if (!addNew) {
      ourIndex = 0;
      setSelection(doc, new Selection([ourRange], 0), sel_mouse);
      startSel = doc.sel;
    } else if (ourIndex == -1) {
      ourIndex = ranges.length;
      setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),
                   {scroll: false, origin: "*mouse"});
    } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == "single" && !e.shiftKey) {
      setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),
                   {scroll: false, origin: "*mouse"});
      startSel = doc.sel;
    } else {
      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);
    }

    var lastPos = start;
    function extendTo(pos) {
      if (cmp(lastPos, pos) == 0) return;
      lastPos = pos;

      if (type == "rect") {
        var ranges = [], tabSize = cm.options.tabSize;
        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);
        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);
        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);
        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));
             line <= end; line++) {
          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);
          if (left == right)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));
          else if (text.length > leftPos)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));
        }
        if (!ranges.length) ranges.push(new Range(start, start));
        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),
                     {origin: "*mouse", scroll: false});
        cm.scrollIntoView(pos);
      } else {
        var oldRange = ourRange;
        var anchor = oldRange.anchor, head = pos;
        if (type != "single") {
          if (type == "double")
            var range = cm.findWordAt(pos);
          else
            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));
          if (cmp(range.anchor, anchor) > 0) {
            head = range.head;
            anchor = minPos(oldRange.from(), range.anchor);
          } else {
            head = range.anchor;
            anchor = maxPos(oldRange.to(), range.head);
          }
        }
        var ranges = startSel.ranges.slice(0);
        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);
        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);
      }
    }

    var editorSize = display.wrapper.getBoundingClientRect();
    // Used to ensure timeout re-tries don't fire when another extend
    // happened in the meantime (clearTimeout isn't reliable -- at
    // least on Chrome, the timeouts still happen even when cleared,
    // if the clear happens after their scheduled firing time).
    var counter = 0;

    function extend(e) {
      var curCount = ++counter;
      var cur = posFromMouse(cm, e, true, type == "rect");
      if (!cur) return;
      if (cmp(cur, lastPos) != 0) {
        cm.curOp.focus = activeElt();
        extendTo(cur);
        var visible = visibleLines(display, doc);
        if (cur.line >= visible.to || cur.line < visible.from)
          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);
      } else {
        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;
        if (outside) setTimeout(operation(cm, function() {
          if (counter != curCount) return;
          display.scroller.scrollTop += outside;
          extend(e);
        }), 50);
      }
    }

    function done(e) {
      cm.state.selectingText = false;
      counter = Infinity;
      e_preventDefault(e);
      display.input.focus();
      off(document, "mousemove", move);
      off(document, "mouseup", up);
      doc.history.lastSelOrigin = null;
    }

    var move = operation(cm, function(e) {
      if (!e_button(e)) done(e);
      else extend(e);
    });
    var up = operation(cm, done);
    cm.state.selectingText = up;
    on(document, "mousemove", move);
    on(document, "mouseup", up);
  }

  // Determines whether an event happened in the gutter, and fires the
  // handlers for the corresponding event.
  function gutterEvent(cm, e, type, prevent, signalfn) {
    try { var mX = e.clientX, mY = e.clientY; }
    catch(e) { return false; }
    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;
    if (prevent) e_preventDefault(e);

    var display = cm.display;
    var lineBox = display.lineDiv.getBoundingClientRect();

    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);
    mY -= lineBox.top - display.viewOffset;

    for (var i = 0; i < cm.options.gutters.length; ++i) {
      var g = display.gutters.childNodes[i];
      if (g && g.getBoundingClientRect().right >= mX) {
        var line = lineAtHeight(cm.doc, mY);
        var gutter = cm.options.gutters[i];
        signalfn(cm, type, cm, line, gutter, e);
        return e_defaultPrevented(e);
      }
    }
  }

  function clickInGutter(cm, e) {
    return gutterEvent(cm, e, "gutterClick", true, signalLater);
  }

  // Kludge to work around strange IE behavior where it'll sometimes
  // re-fire a series of drag-related events right after the drop (#1551)
  var lastDrop = 0;

  function onDrop(e) {
    var cm = this;
    clearDragCursor(cm);
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))
      return;
    e_preventDefault(e);
    if (ie) lastDrop = +new Date;
    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;
    if (!pos || isReadOnly(cm)) return;
    // Might be a file drop, in which case we simply extract the text
    // and insert it.
    if (files && files.length && window.FileReader && window.File) {
      var n = files.length, text = Array(n), read = 0;
      var loadFile = function(file, i) {
        if (cm.options.allowDropFileTypes &&
            indexOf(cm.options.allowDropFileTypes, file.type) == -1)
          return;

        var reader = new FileReader;
        reader.onload = operation(cm, function() {
          var content = reader.result;
          if (/[\x00-\x08\x0e-\x1f]{2}/.test(content)) content = "";
          text[i] = content;
          if (++read == n) {
            pos = clipPos(cm.doc, pos);
            var change = {from: pos, to: pos,
                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),
                          origin: "paste"};
            makeChange(cm.doc, change);
            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));
          }
        });
        reader.readAsText(file);
      };
      for (var i = 0; i < n; ++i) loadFile(files[i], i);
    } else { // Normal drop
      // Don't do a replace if the drop happened inside of the selected text.
      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
        cm.state.draggingText(e);
        // Ensure the editor is re-focused
        setTimeout(function() {cm.display.input.focus();}, 20);
        return;
      }
      try {
        var text = e.dataTransfer.getData("Text");
        if (text) {
          if (cm.state.draggingText && !(mac ? e.altKey : e.ctrlKey))
            var selected = cm.listSelections();
          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));
          if (selected) for (var i = 0; i < selected.length; ++i)
            replaceRange(cm.doc, "", selected[i].anchor, selected[i].head, "drag");
          cm.replaceSelection(text, "around", "paste");
          cm.display.input.focus();
        }
      }
      catch(e){}
    }
  }

  function onDragStart(cm, e) {
    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;

    e.dataTransfer.setData("Text", cm.getSelection());

    // Use dummy image instead of default browsers image.
    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
    if (e.dataTransfer.setDragImage && !safari) {
      var img = elt("img", null, null, "position: fixed; left: 0; top: 0;");
      img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
      if (presto) {
        img.width = img.height = 1;
        cm.display.wrapper.appendChild(img);
        // Force a relayout, or Opera won't use our image for some obscure reason
        img._top = img.offsetTop;
      }
      e.dataTransfer.setDragImage(img, 0, 0);
      if (presto) img.parentNode.removeChild(img);
    }
  }

  function onDragOver(cm, e) {
    var pos = posFromMouse(cm, e);
    if (!pos) return;
    var frag = document.createDocumentFragment();
    drawSelectionCursor(cm, pos, frag);
    if (!cm.display.dragCursor) {
      cm.display.dragCursor = elt("div", null, "CodeMirror-cursors CodeMirror-dragcursors");
      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);
    }
    removeChildrenAndAdd(cm.display.dragCursor, frag);
  }

  function clearDragCursor(cm) {
    if (cm.display.dragCursor) {
      cm.display.lineSpace.removeChild(cm.display.dragCursor);
      cm.display.dragCursor = null;
    }
  }

  // SCROLL EVENTS

  // Sync the scrollable area and scrollbars, ensure the viewport
  // covers the visible area.
  function setScrollTop(cm, val) {
    if (Math.abs(cm.doc.scrollTop - val) < 2) return;
    cm.doc.scrollTop = val;
    if (!gecko) updateDisplaySimple(cm, {top: val});
    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;
    cm.display.scrollbars.setScrollTop(val);
    if (gecko) updateDisplaySimple(cm);
    startWorker(cm, 100);
  }
  // Sync scroller and scrollbar, ensure the gutter elements are
  // aligned.
  function setScrollLeft(cm, val, isScroller) {
    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;
    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);
    cm.doc.scrollLeft = val;
    alignHorizontally(cm);
    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;
    cm.display.scrollbars.setScrollLeft(val);
  }

  // Since the delta values reported on mouse wheel events are
  // unstandardized between browsers and even browser versions, and
  // generally horribly unpredictable, this code starts by measuring
  // the scroll effect that the first few mouse wheel events have,
  // and, from that, detects the way it can convert deltas to pixel
  // offsets afterwards.
  //
  // The reason we want to know the amount a wheel event will scroll
  // is that it gives us a chance to update the display before the
  // actual scrolling happens, reducing flickering.

  var wheelSamples = 0, wheelPixelsPerUnit = null;
  // Fill in a browser-detected starting value on browsers where we
  // know one. These don't have to be accurate -- the result of them
  // being wrong would just be a slight flicker on the first wheel
  // scroll (if it is large enough).
  if (ie) wheelPixelsPerUnit = -.53;
  else if (gecko) wheelPixelsPerUnit = 15;
  else if (chrome) wheelPixelsPerUnit = -.7;
  else if (safari) wheelPixelsPerUnit = -1/3;

  var wheelEventDelta = function(e) {
    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;
    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;
    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;
    else if (dy == null) dy = e.wheelDelta;
    return {x: dx, y: dy};
  };
  CodeMirror.wheelEventPixels = function(e) {
    var delta = wheelEventDelta(e);
    delta.x *= wheelPixelsPerUnit;
    delta.y *= wheelPixelsPerUnit;
    return delta;
  };

  function onScrollWheel(cm, e) {
    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;

    var display = cm.display, scroll = display.scroller;
    // Quit if there's nothing to scroll here
    var canScrollX = scroll.scrollWidth > scroll.clientWidth;
    var canScrollY = scroll.scrollHeight > scroll.clientHeight;
    if (!(dx && canScrollX || dy && canScrollY)) return;

    // Webkit browsers on OS X abort momentum scrolls when the target
    // of the scroll event is removed from the scrollable element.
    // This hack (see related code in patchDisplay) makes sure the
    // element is kept around.
    if (dy && mac && webkit) {
      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
        for (var i = 0; i < view.length; i++) {
          if (view[i].node == cur) {
            cm.display.currentWheelTarget = cur;
            break outer;
          }
        }
      }
    }

    // On some browsers, horizontal scrolling will cause redraws to
    // happen before the gutter has been realigned, causing it to
    // wriggle around in a most unseemly way. When we have an
    // estimated pixels/delta value, we just handle horizontal
    // scrolling entirely here. It'll be slightly off from native, but
    // better than glitching out.
    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {
      if (dy && canScrollY)
        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));
      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));
      // Only prevent default scrolling if vertical scrolling is
      // actually possible. Otherwise, it causes vertical scroll
      // jitter on OSX trackpads when deltaX is small and deltaY
      // is large (issue #3579)
      if (!dy || (dy && canScrollY))
        e_preventDefault(e);
      display.wheelStartX = null; // Abort measurement, if in progress
      return;
    }

    // 'Project' the visible viewport to cover the area that is being
    // scrolled into view (if we know enough to estimate it).
    if (dy && wheelPixelsPerUnit != null) {
      var pixels = dy * wheelPixelsPerUnit;
      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;
      if (pixels < 0) top = Math.max(0, top + pixels - 50);
      else bot = Math.min(cm.doc.height, bot + pixels + 50);
      updateDisplaySimple(cm, {top: top, bottom: bot});
    }

    if (wheelSamples < 20) {
      if (display.wheelStartX == null) {
        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;
        display.wheelDX = dx; display.wheelDY = dy;
        setTimeout(function() {
          if (display.wheelStartX == null) return;
          var movedX = scroll.scrollLeft - display.wheelStartX;
          var movedY = scroll.scrollTop - display.wheelStartY;
          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||
            (movedX && display.wheelDX && movedX / display.wheelDX);
          display.wheelStartX = display.wheelStartY = null;
          if (!sample) return;
          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);
          ++wheelSamples;
        }, 200);
      } else {
        display.wheelDX += dx; display.wheelDY += dy;
      }
    }
  }

  // KEY EVENTS

  // Run a handler that was bound to a key.
  function doHandleBinding(cm, bound, dropShift) {
    if (typeof bound == "string") {
      bound = commands[bound];
      if (!bound) return false;
    }
    // Ensure previous input has been read, so that the handler sees a
    // consistent view of the document
    cm.display.input.ensurePolled();
    var prevShift = cm.display.shift, done = false;
    try {
      if (isReadOnly(cm)) cm.state.suppressEdits = true;
      if (dropShift) cm.display.shift = false;
      done = bound(cm) != Pass;
    } finally {
      cm.display.shift = prevShift;
      cm.state.suppressEdits = false;
    }
    return done;
  }

  function lookupKeyForEditor(cm, name, handle) {
    for (var i = 0; i < cm.state.keyMaps.length; i++) {
      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);
      if (result) return result;
    }
    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))
      || lookupKey(name, cm.options.keyMap, handle, cm);
  }

  var stopSeq = new Delayed;
  function dispatchKey(cm, name, e, handle) {
    var seq = cm.state.keySeq;
    if (seq) {
      if (isModifierKey(name)) return "handled";
      stopSeq.set(50, function() {
        if (cm.state.keySeq == seq) {
          cm.state.keySeq = null;
          cm.display.input.reset();
        }
      });
      name = seq + " " + name;
    }
    var result = lookupKeyForEditor(cm, name, handle);

    if (result == "multi")
      cm.state.keySeq = name;
    if (result == "handled")
      signalLater(cm, "keyHandled", cm, name, e);

    if (result == "handled" || result == "multi") {
      e_preventDefault(e);
      restartBlink(cm);
    }

    if (seq && !result && /\'$/.test(name)) {
      e_preventDefault(e);
      return true;
    }
    return !!result;
  }

  // Handle a key from the keydown event.
  function handleKeyBinding(cm, e) {
    var name = keyName(e, true);
    if (!name) return false;

    if (e.shiftKey && !cm.state.keySeq) {
      // First try to resolve full name (including 'Shift-'). Failing
      // that, see if there is a cursor-motion command (starting with
      // 'go') bound to the keyname without 'Shift-'.
      return dispatchKey(cm, "Shift-" + name, e, function(b) {return doHandleBinding(cm, b, true);})
          || dispatchKey(cm, name, e, function(b) {
               if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion)
                 return doHandleBinding(cm, b);
             });
    } else {
      return dispatchKey(cm, name, e, function(b) { return doHandleBinding(cm, b); });
    }
  }

  // Handle a key from the keypress event
  function handleCharBinding(cm, e, ch) {
    return dispatchKey(cm, "'" + ch + "'", e,
                       function(b) { return doHandleBinding(cm, b, true); });
  }

  var lastStoppedKey = null;
  function onKeyDown(e) {
    var cm = this;
    cm.curOp.focus = activeElt();
    if (signalDOMEvent(cm, e)) return;
    // IE does strange things with escape.
    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;
    var code = e.keyCode;
    cm.display.shift = code == 16 || e.shiftKey;
    var handled = handleKeyBinding(cm, e);
    if (presto) {
      lastStoppedKey = handled ? code : null;
      // Opera has no cut event... we try to at least catch the key combo
      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))
        cm.replaceSelection("", null, "cut");
    }

    // Turn mouse into crosshair when Alt is held on Mac.
    if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))
      showCrossHair(cm);
  }

  function showCrossHair(cm) {
    var lineDiv = cm.display.lineDiv;
    addClass(lineDiv, "CodeMirror-crosshair");

    function up(e) {
      if (e.keyCode == 18 || !e.altKey) {
        rmClass(lineDiv, "CodeMirror-crosshair");
        off(document, "keyup", up);
        off(document, "mouseover", up);
      }
    }
    on(document, "keyup", up);
    on(document, "mouseover", up);
  }

  function onKeyUp(e) {
    if (e.keyCode == 16) this.doc.sel.shift = false;
    signalDOMEvent(this, e);
  }

  function onKeyPress(e) {
    var cm = this;
    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;
    var keyCode = e.keyCode, charCode = e.charCode;
    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}
    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) return;
    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);
    if (handleCharBinding(cm, e, ch)) return;
    cm.display.input.onKeyPress(e);
  }

  // FOCUS/BLUR EVENTS

  function delayBlurEvent(cm) {
    cm.state.delayingBlurEvent = true;
    setTimeout(function() {
      if (cm.state.delayingBlurEvent) {
        cm.state.delayingBlurEvent = false;
        onBlur(cm);
      }
    }, 100);
  }

  function onFocus(cm) {
    if (cm.state.delayingBlurEvent) cm.state.delayingBlurEvent = false;

    if (cm.options.readOnly == "nocursor") return;
    if (!cm.state.focused) {
      signal(cm, "focus", cm);
      cm.state.focused = true;
      addClass(cm.display.wrapper, "CodeMirror-focused");
      // This test prevents this from firing when a context
      // menu is closed (since the input reset would kill the
      // select-all detection hack)
      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
        cm.display.input.reset();
        if (webkit) setTimeout(function() { cm.display.input.reset(true); }, 20); // Issue #1730
      }
      cm.display.input.receivedFocus();
    }
    restartBlink(cm);
  }
  function onBlur(cm) {
    if (cm.state.delayingBlurEvent) return;

    if (cm.state.focused) {
      signal(cm, "blur", cm);
      cm.state.focused = false;
      rmClass(cm.display.wrapper, "CodeMirror-focused");
    }
    clearInterval(cm.display.blinker);
    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);
  }

  // CONTEXT MENU HANDLING

  // To make the context menu work, we need to briefly unhide the
  // textarea (making it as unobtrusive as possible) to let the
  // right-click take effect on it.
  function onContextMenu(cm, e) {
    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) return;
    if (signalDOMEvent(cm, e, "contextmenu")) return;
    cm.display.input.onContextMenu(e);
  }

  function contextMenuInGutter(cm, e) {
    if (!hasHandler(cm, "gutterContextMenu")) return false;
    return gutterEvent(cm, e, "gutterContextMenu", false, signal);
  }

  // UPDATING

  // Compute the position of the end of a change (its 'to' property
  // refers to the pre-change end).
  var changeEnd = CodeMirror.changeEnd = function(change) {
    if (!change.text) return change.to;
    return Pos(change.from.line + change.text.length - 1,
               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));
  };

  // Adjust a position to refer to the post-change position of the
  // same text, or the end of the change if the change covers it.
  function adjustForChange(pos, change) {
    if (cmp(pos, change.from) < 0) return pos;
    if (cmp(pos, change.to) <= 0) return changeEnd(change);

    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;
    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;
    return Pos(line, ch);
  }

  function computeSelAfterChange(doc, change) {
    var out = [];
    for (var i = 0; i < doc.sel.ranges.length; i++) {
      var range = doc.sel.ranges[i];
      out.push(new Range(adjustForChange(range.anchor, change),
                         adjustForChange(range.head, change)));
    }
    return normalizeSelection(out, doc.sel.primIndex);
  }

  function offsetPos(pos, old, nw) {
    if (pos.line == old.line)
      return Pos(nw.line, pos.ch - old.ch + nw.ch);
    else
      return Pos(nw.line + (pos.line - old.line), pos.ch);
  }

  // Used by replaceSelections to allow moving the selection to the
  // start or around the replaced test. Hint may be "start" or "around".
  function computeReplacedSel(doc, changes, hint) {
    var out = [];
    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;
    for (var i = 0; i < changes.length; i++) {
      var change = changes[i];
      var from = offsetPos(change.from, oldPrev, newPrev);
      var to = offsetPos(changeEnd(change), oldPrev, newPrev);
      oldPrev = change.to;
      newPrev = to;
      if (hint == "around") {
        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;
        out[i] = new Range(inv ? to : from, inv ? from : to);
      } else {
        out[i] = new Range(from, from);
      }
    }
    return new Selection(out, doc.sel.primIndex);
  }

  // Allow "beforeChange" event handlers to influence a change
  function filterChange(doc, change, update) {
    var obj = {
      canceled: false,
      from: change.from,
      to: change.to,
      text: change.text,
      origin: change.origin,
      cancel: function() { this.canceled = true; }
    };
    if (update) obj.update = function(from, to, text, origin) {
      if (from) this.from = clipPos(doc, from);
      if (to) this.to = clipPos(doc, to);
      if (text) this.text = text;
      if (origin !== undefined) this.origin = origin;
    };
    signal(doc, "beforeChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeChange", doc.cm, obj);

    if (obj.canceled) return null;
    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};
  }

  // Apply a change to a document, and add it to the document's
  // history, and propagating it to all linked documents.
  function makeChange(doc, change, ignoreReadOnly) {
    if (doc.cm) {
      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);
      if (doc.cm.state.suppressEdits) return;
    }

    if (hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")) {
      change = filterChange(doc, change, true);
      if (!change) return;
    }

    // Possibly split or suppress the update based on the presence
    // of read-only spans in its range.
    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);
    if (split) {
      for (var i = split.length - 1; i >= 0; --i)
        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [""] : change.text});
    } else {
      makeChangeInner(doc, change);
    }
  }

  function makeChangeInner(doc, change) {
    if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) return;
    var selAfter = computeSelAfterChange(doc, change);
    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);

    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));
    var rebased = [];

    linkedDocs(doc, function(doc, sharedHist) {
      if (!sharedHist && indexOf(rebased, doc.history) == -1) {
        rebaseHist(doc.history, change);
        rebased.push(doc.history);
      }
      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));
    });
  }

  // Revert a change stored in a document's history.
  function makeChangeFromHistory(doc, type, allowSelectionOnly) {
    if (doc.cm && doc.cm.state.suppressEdits) return;

    var hist = doc.history, event, selAfter = doc.sel;
    var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done;

    // Verify that there is a useable event (so that ctrl-z won't
    // needlessly clear selection events)
    for (var i = 0; i < source.length; i++) {
      event = source[i];
      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)
        break;
    }
    if (i == source.length) return;
    hist.lastOrigin = hist.lastSelOrigin = null;

    for (;;) {
      event = source.pop();
      if (event.ranges) {
        pushSelectionToHistory(event, dest);
        if (allowSelectionOnly && !event.equals(doc.sel)) {
          setSelection(doc, event, {clearRedo: false});
          return;
        }
        selAfter = event;
      }
      else break;
    }

    // Build up a reverse change object to add to the opposite history
    // stack (redo when undoing, and vice versa).
    var antiChanges = [];
    pushSelectionToHistory(selAfter, dest);
    dest.push({changes: antiChanges, generation: hist.generation});
    hist.generation = event.generation || ++hist.maxGeneration;

    var filter = hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange");

    for (var i = event.changes.length - 1; i >= 0; --i) {
      var change = event.changes[i];
      change.origin = type;
      if (filter && !filterChange(doc, change, false)) {
        source.length = 0;
        return;
      }

      antiChanges.push(historyChangeFromChange(doc, change));

      var after = i ? computeSelAfterChange(doc, change) : lst(source);
      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));
      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});
      var rebased = [];

      // Propagate to the linked documents
      linkedDocs(doc, function(doc, sharedHist) {
        if (!sharedHist && indexOf(rebased, doc.history) == -1) {
          rebaseHist(doc.history, change);
          rebased.push(doc.history);
        }
        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));
      });
    }
  }

  // Sub-views need their line numbers shifted when text is added
  // above or below them in the parent document.
  function shiftDoc(doc, distance) {
    if (distance == 0) return;
    doc.first += distance;
    doc.sel = new Selection(map(doc.sel.ranges, function(range) {
      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),
                       Pos(range.head.line + distance, range.head.ch));
    }), doc.sel.primIndex);
    if (doc.cm) {
      regChange(doc.cm, doc.first, doc.first - distance, distance);
      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)
        regLineChange(doc.cm, l, "gutter");
    }
  }

  // More lower-level change function, handling only a single document
  // (not linked ones).
  function makeChangeSingleDoc(doc, change, selAfter, spans) {
    if (doc.cm && !doc.cm.curOp)
      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);

    if (change.to.line < doc.first) {
      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));
      return;
    }
    if (change.from.line > doc.lastLine()) return;

    // Clip the change to the size of this doc
    if (change.from.line < doc.first) {
      var shift = change.text.length - 1 - (doc.first - change.from.line);
      shiftDoc(doc, shift);
      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),
                text: [lst(change.text)], origin: change.origin};
    }
    var last = doc.lastLine();
    if (change.to.line > last) {
      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),
                text: [change.text[0]], origin: change.origin};
    }

    change.removed = getBetween(doc, change.from, change.to);

    if (!selAfter) selAfter = computeSelAfterChange(doc, change);
    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);
    else updateDoc(doc, change, spans);
    setSelectionNoUndo(doc, selAfter, sel_dontScroll);
  }

  // Handle the interaction of a change to a document with the editor
  // that this document is part of.
  function makeChangeSingleDocInEditor(cm, change, spans) {
    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;

    var recomputeMaxLength = false, checkWidthStart = from.line;
    if (!cm.options.lineWrapping) {
      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));
      doc.iter(checkWidthStart, to.line + 1, function(line) {
        if (line == display.maxLine) {
          recomputeMaxLength = true;
          return true;
        }
      });
    }

    if (doc.sel.contains(change.from, change.to) > -1)
      signalCursorActivity(cm);

    updateDoc(doc, change, spans, estimateHeight(cm));

    if (!cm.options.lineWrapping) {
      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {
        var len = lineLength(line);
        if (len > display.maxLineLength) {
          display.maxLine = line;
          display.maxLineLength = len;
          display.maxLineChanged = true;
          recomputeMaxLength = false;
        }
      });
      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;
    }

    // Adjust frontier, schedule worker
    doc.frontier = Math.min(doc.frontier, from.line);
    startWorker(cm, 400);

    var lendiff = change.text.length - (to.line - from.line) - 1;
    // Remember that these lines changed, for updating the display
    if (change.full)
      regChange(cm);
    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))
      regLineChange(cm, from.line, "text");
    else
      regChange(cm, from.line, to.line + 1, lendiff);

    var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change");
    if (changeHandler || changesHandler) {
      var obj = {
        from: from, to: to,
        text: change.text,
        removed: change.removed,
        origin: change.origin
      };
      if (changeHandler) signalLater(cm, "change", cm, obj);
      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);
    }
    cm.display.selForContextMenu = null;
  }

  function replaceRange(doc, code, from, to, origin) {
    if (!to) to = from;
    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }
    if (typeof code == "string") code = doc.splitLines(code);
    makeChange(doc, {from: from, to: to, text: code, origin: origin});
  }

  // SCROLLING THINGS INTO VIEW

  // If an editor sits on the top or bottom of the window, partially
  // scrolled out of view, this ensures that the cursor is visible.
  function maybeScrollWindow(cm, coords) {
    if (signalDOMEvent(cm, "scrollCursorIntoView")) return;

    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;
    if (coords.top + box.top < 0) doScroll = true;
    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;
    if (doScroll != null && !phantom) {
      var scrollNode = elt("div", "\u200b", null, "position: absolute; top: " +
                           (coords.top - display.viewOffset - paddingTop(cm.display)) + "px; height: " +
                           (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + "px; left: " +
                           coords.left + "px; width: 2px;");
      cm.display.lineSpace.appendChild(scrollNode);
      scrollNode.scrollIntoView(doScroll);
      cm.display.lineSpace.removeChild(scrollNode);
    }
  }

  // Scroll a given position into view (immediately), verifying that
  // it actually became visible (as line heights are accurately
  // measured, the position of something may 'drift' during drawing).
  function scrollPosIntoView(cm, pos, end, margin) {
    if (margin == null) margin = 0;
    for (var limit = 0; limit < 5; limit++) {
      var changed = false, coords = cursorCoords(cm, pos);
      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);
      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),
                                         Math.min(coords.top, endCoords.top) - margin,
                                         Math.max(coords.left, endCoords.left),
                                         Math.max(coords.bottom, endCoords.bottom) + margin);
      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;
      if (scrollPos.scrollTop != null) {
        setScrollTop(cm, scrollPos.scrollTop);
        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;
      }
      if (scrollPos.scrollLeft != null) {
        setScrollLeft(cm, scrollPos.scrollLeft);
        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;
      }
      if (!changed) break;
    }
    return coords;
  }

  // Scroll a given set of coordinates into view (immediately).
  function scrollIntoView(cm, x1, y1, x2, y2) {
    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);
    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);
    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);
  }

  // Calculate a new scroll position needed to scroll the given
  // rectangle into view. Returns an object with scrollTop and
  // scrollLeft properties. When these are undefined, the
  // vertical/horizontal position does not need to be adjusted.
  function calculateScrollPos(cm, x1, y1, x2, y2) {
    var display = cm.display, snapMargin = textHeight(cm.display);
    if (y1 < 0) y1 = 0;
    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;
    var screen = displayHeight(cm), result = {};
    if (y2 - y1 > screen) y2 = y1 + screen;
    var docBottom = cm.doc.height + paddingVert(display);
    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;
    if (y1 < screentop) {
      result.scrollTop = atTop ? 0 : y1;
    } else if (y2 > screentop + screen) {
      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);
      if (newTop != screentop) result.scrollTop = newTop;
    }

    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;
    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);
    var tooWide = x2 - x1 > screenw;
    if (tooWide) x2 = x1 + screenw;
    if (x1 < 10)
      result.scrollLeft = 0;
    else if (x1 < screenleft)
      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));
    else if (x2 > screenw + screenleft - 3)
      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;
    return result;
  }

  // Store a relative adjustment to the scroll position in the current
  // operation (to be applied when the operation finishes).
  function addToScrollPos(cm, left, top) {
    if (left != null || top != null) resolveScrollToPos(cm);
    if (left != null)
      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;
    if (top != null)
      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;
  }

  // Make sure that at the end of the operation the current cursor is
  // shown.
  function ensureCursorVisible(cm) {
    resolveScrollToPos(cm);
    var cur = cm.getCursor(), from = cur, to = cur;
    if (!cm.options.lineWrapping) {
      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;
      to = Pos(cur.line, cur.ch + 1);
    }
    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};
  }

  // When an operation has its scrollToPos property set, and another
  // scroll action is applied before the end of the operation, this
  // 'simulates' scrolling that position into view in a cheap way, so
  // that the effect of intermediate scroll commands is not ignored.
  function resolveScrollToPos(cm) {
    var range = cm.curOp.scrollToPos;
    if (range) {
      cm.curOp.scrollToPos = null;
      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);
      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),
                                    Math.min(from.top, to.top) - range.margin,
                                    Math.max(from.right, to.right),
                                    Math.max(from.bottom, to.bottom) + range.margin);
      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);
    }
  }

  // API UTILITIES

  // Indent the given line. The how parameter can be "smart",
  // "add"/null, "subtract", or "prev". When aggressive is false
  // (typically set to true for forced single-line indents), empty
  // lines are not indented, and places where the mode returns Pass
  // are left alone.
  function indentLine(cm, n, how, aggressive) {
    var doc = cm.doc, state;
    if (how == null) how = "add";
    if (how == "smart") {
      // Fall back to "prev" when the mode doesn't have an indentation
      // method.
      if (!doc.mode.indent) how = "prev";
      else state = getStateBefore(cm, n);
    }

    var tabSize = cm.options.tabSize;
    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);
    if (line.stateAfter) line.stateAfter = null;
    var curSpaceString = line.text.match(/^\s*/)[0], indentation;
    if (!aggressive && !/\S/.test(line.text)) {
      indentation = 0;
      how = "not";
    } else if (how == "smart") {
      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);
      if (indentation == Pass || indentation > 150) {
        if (!aggressive) return;
        how = "prev";
      }
    }
    if (how == "prev") {
      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);
      else indentation = 0;
    } else if (how == "add") {
      indentation = curSpace + cm.options.indentUnit;
    } else if (how == "subtract") {
      indentation = curSpace - cm.options.indentUnit;
    } else if (typeof how == "number") {
      indentation = curSpace + how;
    }
    indentation = Math.max(0, indentation);

    var indentString = "", pos = 0;
    if (cm.options.indentWithTabs)
      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += "\t";}
    if (pos < indentation) indentString += spaceStr(indentation - pos);

    if (indentString != curSpaceString) {
      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input");
      line.stateAfter = null;
      return true;
    } else {
      // Ensure that, if the cursor was in the whitespace at the start
      // of the line, it is moved to the end of that space.
      for (var i = 0; i < doc.sel.ranges.length; i++) {
        var range = doc.sel.ranges[i];
        if (range.head.line == n && range.head.ch < curSpaceString.length) {
          var pos = Pos(n, curSpaceString.length);
          replaceOneSelection(doc, i, new Range(pos, pos));
          break;
        }
      }
    }
  }

  // Utility for applying a change to a line by handle or number,
  // returning the number and optionally registering the line as
  // changed.
  function changeLine(doc, handle, changeType, op) {
    var no = handle, line = handle;
    if (typeof handle == "number") line = getLine(doc, clipLine(doc, handle));
    else no = lineNo(handle);
    if (no == null) return null;
    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);
    return line;
  }

  // Helper for deleting text near the selection(s), used to implement
  // backspace, delete, and similar functionality.
  function deleteNearSelection(cm, compute) {
    var ranges = cm.doc.sel.ranges, kill = [];
    // Build up a set of ranges to kill first, merging overlapping
    // ranges.
    for (var i = 0; i < ranges.length; i++) {
      var toKill = compute(ranges[i]);
      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
        var replaced = kill.pop();
        if (cmp(replaced.from, toKill.from) < 0) {
          toKill.from = replaced.from;
          break;
        }
      }
      kill.push(toKill);
    }
    // Next, remove those actual ranges.
    runInOp(cm, function() {
      for (var i = kill.length - 1; i >= 0; i--)
        replaceRange(cm.doc, "", kill[i].from, kill[i].to, "+delete");
      ensureCursorVisible(cm);
    });
  }

  // Used for horizontal relative motion. Dir is -1 or 1 (left or
  // right), unit can be "char", "column" (like char, but doesn't
  // cross line boundaries), "word" (across next word), or "group" (to
  // the start of next group of word or non-word-non-whitespace
  // chars). The visually param controls whether, in right-to-left
  // text, direction 1 means to move towards the next index in the
  // string, or towards the character to the right of the current
  // position. The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosH(doc, pos, dir, unit, visually) {
    var line = pos.line, ch = pos.ch, origDir = dir;
    var lineObj = getLine(doc, line);
    var possible = true;
    function findNextLine() {
      var l = line + dir;
      if (l < doc.first || l >= doc.first + doc.size) return (possible = false);
      line = l;
      return lineObj = getLine(doc, l);
    }
    function moveOnce(boundToLine) {
      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);
      if (next == null) {
        if (!boundToLine && findNextLine()) {
          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);
          else ch = dir < 0 ? lineObj.text.length : 0;
        } else return (possible = false);
      } else ch = next;
      return true;
    }

    if (unit == "char") moveOnce();
    else if (unit == "column") moveOnce(true);
    else if (unit == "word" || unit == "group") {
      var sawType = null, group = unit == "group";
      var helper = doc.cm && doc.cm.getHelper(pos, "wordChars");
      for (var first = true;; first = false) {
        if (dir < 0 && !moveOnce(!first)) break;
        var cur = lineObj.text.charAt(ch) || "\n";
        var type = isWordChar(cur, helper) ? "w"
          : group && cur == "\n" ? "n"
          : !group || /\s/.test(cur) ? null
          : "p";
        if (group && !first && !type) type = "s";
        if (sawType && sawType != type) {
          if (dir < 0) {dir = 1; moveOnce();}
          break;
        }

        if (type) sawType = type;
        if (dir > 0 && !moveOnce(!first)) break;
      }
    }
    var result = skipAtomic(doc, Pos(line, ch), origDir, true);
    if (!possible) result.hitSide = true;
    return result;
  }

  // For relative vertical movement. Dir may be -1 or 1. Unit can be
  // "page" or "line". The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosV(cm, pos, dir, unit) {
    var doc = cm.doc, x = pos.left, y;
    if (unit == "page") {
      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));
    } else if (unit == "line") {
      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;
    }
    for (;;) {
      var target = coordsChar(cm, x, y);
      if (!target.outside) break;
      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }
      y += dir * 5;
    }
    return target;
  }

  // EDITOR METHODS

  // The publicly visible API. Note that methodOp(f) means
  // 'wrap f in an operation, performed on its `this` parameter'.

  // This is not the complete set of editor methods. Most of the
  // methods defined on the Doc type are also injected into
  // CodeMirror.prototype, for backwards compatibility and
  // convenience.

  CodeMirror.prototype = {
    constructor: CodeMirror,
    focus: function(){window.focus(); this.display.input.focus();},

    setOption: function(option, value) {
      var options = this.options, old = options[option];
      if (options[option] == value && option != "mode") return;
      options[option] = value;
      if (optionHandlers.hasOwnProperty(option))
        operation(this, optionHandlers[option])(this, value, old);
    },

    getOption: function(option) {return this.options[option];},
    getDoc: function() {return this.doc;},

    addKeyMap: function(map, bottom) {
      this.state.keyMaps[bottom ? "push" : "unshift"](getKeyMap(map));
    },
    removeKeyMap: function(map) {
      var maps = this.state.keyMaps;
      for (var i = 0; i < maps.length; ++i)
        if (maps[i] == map || maps[i].name == map) {
          maps.splice(i, 1);
          return true;
        }
    },

    addOverlay: methodOp(function(spec, options) {
      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);
      if (mode.startState) throw new Error("Overlays may not be stateful.");
      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});
      this.state.modeGen++;
      regChange(this);
    }),
    removeOverlay: methodOp(function(spec) {
      var overlays = this.state.overlays;
      for (var i = 0; i < overlays.length; ++i) {
        var cur = overlays[i].modeSpec;
        if (cur == spec || typeof spec == "string" && cur.name == spec) {
          overlays.splice(i, 1);
          this.state.modeGen++;
          regChange(this);
          return;
        }
      }
    }),

    indentLine: methodOp(function(n, dir, aggressive) {
      if (typeof dir != "string" && typeof dir != "number") {
        if (dir == null) dir = this.options.smartIndent ? "smart" : "prev";
        else dir = dir ? "add" : "subtract";
      }
      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);
    }),
    indentSelection: methodOp(function(how) {
      var ranges = this.doc.sel.ranges, end = -1;
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (!range.empty()) {
          var from = range.from(), to = range.to();
          var start = Math.max(end, from.line);
          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;
          for (var j = start; j < end; ++j)
            indentLine(this, j, how);
          var newRanges = this.doc.sel.ranges;
          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)
            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);
        } else if (range.head.line > end) {
          indentLine(this, range.head.line, how, true);
          end = range.head.line;
          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);
        }
      }
    }),

    // Fetch the parser token for a given character. Useful for hacks
    // that want to inspect the mode state (say, for completion).
    getTokenAt: function(pos, precise) {
      return takeToken(this, pos, precise);
    },

    getLineTokens: function(line, precise) {
      return takeToken(this, Pos(line), precise, true);
    },

    getTokenTypeAt: function(pos) {
      pos = clipPos(this.doc, pos);
      var styles = getLineStyles(this, getLine(this.doc, pos.line));
      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;
      var type;
      if (ch == 0) type = styles[2];
      else for (;;) {
        var mid = (before + after) >> 1;
        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;
        else if (styles[mid * 2 + 1] < ch) before = mid + 1;
        else { type = styles[mid * 2 + 2]; break; }
      }
      var cut = type ? type.indexOf("cm-overlay ") : -1;
      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);
    },

    getModeAt: function(pos) {
      var mode = this.doc.mode;
      if (!mode.innerMode) return mode;
      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;
    },

    getHelper: function(pos, type) {
      return this.getHelpers(pos, type)[0];
    },

    getHelpers: function(pos, type) {
      var found = [];
      if (!helpers.hasOwnProperty(type)) return found;
      var help = helpers[type], mode = this.getModeAt(pos);
      if (typeof mode[type] == "string") {
        if (help[mode[type]]) found.push(help[mode[type]]);
      } else if (mode[type]) {
        for (var i = 0; i < mode[type].length; i++) {
          var val = help[mode[type][i]];
          if (val) found.push(val);
        }
      } else if (mode.helperType && help[mode.helperType]) {
        found.push(help[mode.helperType]);
      } else if (help[mode.name]) {
        found.push(help[mode.name]);
      }
      for (var i = 0; i < help._global.length; i++) {
        var cur = help._global[i];
        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)
          found.push(cur.val);
      }
      return found;
    },

    getStateAfter: function(line, precise) {
      var doc = this.doc;
      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);
      return getStateBefore(this, line + 1, precise);
    },

    cursorCoords: function(start, mode) {
      var pos, range = this.doc.sel.primary();
      if (start == null) pos = range.head;
      else if (typeof start == "object") pos = clipPos(this.doc, start);
      else pos = start ? range.from() : range.to();
      return cursorCoords(this, pos, mode || "page");
    },

    charCoords: function(pos, mode) {
      return charCoords(this, clipPos(this.doc, pos), mode || "page");
    },

    coordsChar: function(coords, mode) {
      coords = fromCoordSystem(this, coords, mode || "page");
      return coordsChar(this, coords.left, coords.top);
    },

    lineAtHeight: function(height, mode) {
      height = fromCoordSystem(this, {top: height, left: 0}, mode || "page").top;
      return lineAtHeight(this.doc, height + this.display.viewOffset);
    },
    heightAtLine: function(line, mode) {
      var end = false, lineObj;
      if (typeof line == "number") {
        var last = this.doc.first + this.doc.size - 1;
        if (line < this.doc.first) line = this.doc.first;
        else if (line > last) { line = last; end = true; }
        lineObj = getLine(this.doc, line);
      } else {
        lineObj = line;
      }
      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || "page").top +
        (end ? this.doc.height - heightAtLine(lineObj) : 0);
    },

    defaultTextHeight: function() { return textHeight(this.display); },
    defaultCharWidth: function() { return charWidth(this.display); },

    setGutterMarker: methodOp(function(line, gutterID, value) {
      return changeLine(this.doc, line, "gutter", function(line) {
        var markers = line.gutterMarkers || (line.gutterMarkers = {});
        markers[gutterID] = value;
        if (!value && isEmpty(markers)) line.gutterMarkers = null;
        return true;
      });
    }),

    clearGutter: methodOp(function(gutterID) {
      var cm = this, doc = cm.doc, i = doc.first;
      doc.iter(function(line) {
        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
          line.gutterMarkers[gutterID] = null;
          regLineChange(cm, i, "gutter");
          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;
        }
        ++i;
      });
    }),

    lineInfo: function(line) {
      if (typeof line == "number") {
        if (!isLine(this.doc, line)) return null;
        var n = line;
        line = getLine(this.doc, line);
        if (!line) return null;
      } else {
        var n = lineNo(line);
        if (n == null) return null;
      }
      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,
              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,
              widgets: line.widgets};
    },

    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},

    addWidget: function(pos, node, scroll, vert, horiz) {
      var display = this.display;
      pos = cursorCoords(this, clipPos(this.doc, pos));
      var top = pos.bottom, left = pos.left;
      node.style.position = "absolute";
      node.setAttribute("cm-ignore-events", "true");
      this.display.input.setUneditable(node);
      display.sizer.appendChild(node);
      if (vert == "over") {
        top = pos.top;
      } else if (vert == "above" || vert == "near") {
        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),
        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);
        // Default to positioning above (if specified and possible); otherwise default to positioning below
        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)
          top = pos.top - node.offsetHeight;
        else if (pos.bottom + node.offsetHeight <= vspace)
          top = pos.bottom;
        if (left + node.offsetWidth > hspace)
          left = hspace - node.offsetWidth;
      }
      node.style.top = top + "px";
      node.style.left = node.style.right = "";
      if (horiz == "right") {
        left = display.sizer.clientWidth - node.offsetWidth;
        node.style.right = "0px";
      } else {
        if (horiz == "left") left = 0;
        else if (horiz == "middle") left = (display.sizer.clientWidth - node.offsetWidth) / 2;
        node.style.left = left + "px";
      }
      if (scroll)
        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);
    },

    triggerOnKeyDown: methodOp(onKeyDown),
    triggerOnKeyPress: methodOp(onKeyPress),
    triggerOnKeyUp: onKeyUp,

    execCommand: function(cmd) {
      if (commands.hasOwnProperty(cmd))
        return commands[cmd].call(null, this);
    },

    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),

    findPosH: function(from, amount, unit, visually) {
      var dir = 1;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        cur = findPosH(this.doc, cur, dir, unit, visually);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveH: methodOp(function(dir, unit) {
      var cm = this;
      cm.extendSelectionsBy(function(range) {
        if (cm.display.shift || cm.doc.extend || range.empty())
          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);
        else
          return dir < 0 ? range.from() : range.to();
      }, sel_move);
    }),

    deleteH: methodOp(function(dir, unit) {
      var sel = this.doc.sel, doc = this.doc;
      if (sel.somethingSelected())
        doc.replaceSelection("", null, "+delete");
      else
        deleteNearSelection(this, function(range) {
          var other = findPosH(doc, range.head, dir, unit, false);
          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};
        });
    }),

    findPosV: function(from, amount, unit, goalColumn) {
      var dir = 1, x = goalColumn;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        var coords = cursorCoords(this, cur, "div");
        if (x == null) x = coords.left;
        else coords.left = x;
        cur = findPosV(this, coords, dir, unit);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveV: methodOp(function(dir, unit) {
      var cm = this, doc = this.doc, goals = [];
      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();
      doc.extendSelectionsBy(function(range) {
        if (collapse)
          return dir < 0 ? range.from() : range.to();
        var headPos = cursorCoords(cm, range.head, "div");
        if (range.goalColumn != null) headPos.left = range.goalColumn;
        goals.push(headPos.left);
        var pos = findPosV(cm, headPos, dir, unit);
        if (unit == "page" && range == doc.sel.primary())
          addToScrollPos(cm, null, charCoords(cm, pos, "div").top - headPos.top);
        return pos;
      }, sel_move);
      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)
        doc.sel.ranges[i].goalColumn = goals[i];
    }),

    // Find the word at the given position (as returned by coordsChar).
    findWordAt: function(pos) {
      var doc = this.doc, line = getLine(doc, pos.line).text;
      var start = pos.ch, end = pos.ch;
      if (line) {
        var helper = this.getHelper(pos, "wordChars");
        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;
        var startChar = line.charAt(start);
        var check = isWordChar(startChar, helper)
          ? function(ch) { return isWordChar(ch, helper); }
          : /\s/.test(startChar) ? function(ch) {return /\s/.test(ch);}
          : function(ch) {return !/\s/.test(ch) && !isWordChar(ch);};
        while (start > 0 && check(line.charAt(start - 1))) --start;
        while (end < line.length && check(line.charAt(end))) ++end;
      }
      return new Range(Pos(pos.line, start), Pos(pos.line, end));
    },

    toggleOverwrite: function(value) {
      if (value != null && value == this.state.overwrite) return;
      if (this.state.overwrite = !this.state.overwrite)
        addClass(this.display.cursorDiv, "CodeMirror-overwrite");
      else
        rmClass(this.display.cursorDiv, "CodeMirror-overwrite");

      signal(this, "overwriteToggle", this, this.state.overwrite);
    },
    hasFocus: function() { return this.display.input.getField() == activeElt(); },

    scrollTo: methodOp(function(x, y) {
      if (x != null || y != null) resolveScrollToPos(this);
      if (x != null) this.curOp.scrollLeft = x;
      if (y != null) this.curOp.scrollTop = y;
    }),
    getScrollInfo: function() {
      var scroller = this.display.scroller;
      return {left: scroller.scrollLeft, top: scroller.scrollTop,
              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,
              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,
              clientHeight: displayHeight(this), clientWidth: displayWidth(this)};
    },

    scrollIntoView: methodOp(function(range, margin) {
      if (range == null) {
        range = {from: this.doc.sel.primary().head, to: null};
        if (margin == null) margin = this.options.cursorScrollMargin;
      } else if (typeof range == "number") {
        range = {from: Pos(range, 0), to: null};
      } else if (range.from == null) {
        range = {from: range, to: null};
      }
      if (!range.to) range.to = range.from;
      range.margin = margin || 0;

      if (range.from.line != null) {
        resolveScrollToPos(this);
        this.curOp.scrollToPos = range;
      } else {
        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),
                                      Math.min(range.from.top, range.to.top) - range.margin,
                                      Math.max(range.from.right, range.to.right),
                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);
        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);
      }
    }),

    setSize: methodOp(function(width, height) {
      var cm = this;
      function interpret(val) {
        return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val;
      }
      if (width != null) cm.display.wrapper.style.width = interpret(width);
      if (height != null) cm.display.wrapper.style.height = interpret(height);
      if (cm.options.lineWrapping) clearLineMeasurementCache(this);
      var lineNo = cm.display.viewFrom;
      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {
        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)
          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, "widget"); break; }
        ++lineNo;
      });
      cm.curOp.forceUpdate = true;
      signal(cm, "refresh", this);
    }),

    operation: function(f){return runInOp(this, f);},

    refresh: methodOp(function() {
      var oldHeight = this.display.cachedTextHeight;
      regChange(this);
      this.curOp.forceUpdate = true;
      clearCaches(this);
      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);
      updateGutterSpace(this);
      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)
        estimateLineHeights(this);
      signal(this, "refresh", this);
    }),

    swapDoc: methodOp(function(doc) {
      var old = this.doc;
      old.cm = null;
      attachDoc(this, doc);
      clearCaches(this);
      this.display.input.reset();
      this.scrollTo(doc.scrollLeft, doc.scrollTop);
      this.curOp.forceScroll = true;
      signalLater(this, "swapDoc", this, old);
      return old;
    }),

    getInputField: function(){return this.display.input.getField();},
    getWrapperElement: function(){return this.display.wrapper;},
    getScrollerElement: function(){return this.display.scroller;},
    getGutterElement: function(){return this.display.gutters;}
  };
  eventMixin(CodeMirror);

  // OPTION DEFAULTS

  // The default configuration options.
  var defaults = CodeMirror.defaults = {};
  // Functions to run when options are changed.
  var optionHandlers = CodeMirror.optionHandlers = {};

  function option(name, deflt, handle, notOnInit) {
    CodeMirror.defaults[name] = deflt;
    if (handle) optionHandlers[name] =
      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;
  }

  // Passed to option handlers when there is no old value.
  var Init = CodeMirror.Init = {toString: function(){return "CodeMirror.Init";}};

  // These two are, on init, called from the constructor because they
  // have to be initialized before the editor can start at all.
  option("value", "", function(cm, val) {
    cm.setValue(val);
  }, true);
  option("mode", null, function(cm, val) {
    cm.doc.modeOption = val;
    loadMode(cm);
  }, true);

  option("indentUnit", 2, loadMode, true);
  option("indentWithTabs", false);
  option("smartIndent", true);
  option("tabSize", 4, function(cm) {
    resetModeState(cm);
    clearCaches(cm);
    regChange(cm);
  }, true);
  option("lineSeparator", null, function(cm, val) {
    cm.doc.lineSep = val;
    if (!val) return;
    var newBreaks = [], lineNo = cm.doc.first;
    cm.doc.iter(function(line) {
      for (var pos = 0;;) {
        var found = line.text.indexOf(val, pos);
        if (found == -1) break;
        pos = found + val.length;
        newBreaks.push(Pos(lineNo, found));
      }
      lineNo++;
    });
    for (var i = newBreaks.length - 1; i >= 0; i--)
      replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length))
  });
  option("specialChars", /[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g, function(cm, val, old) {
    cm.state.specialChars = new RegExp(val.source + (val.test("\t") ? "" : "|\t"), "g");
    if (old != CodeMirror.Init) cm.refresh();
  });
  option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);
  option("electricChars", true);
  option("inputStyle", mobile ? "contenteditable" : "textarea", function() {
    throw new Error("inputStyle can not (yet) be changed in a running editor"); // FIXME
  }, true);
  option("rtlMoveVisually", !windows);
  option("wholeLineUpdateBefore", true);

  option("theme", "default", function(cm) {
    themeChanged(cm);
    guttersChanged(cm);
  }, true);
  option("keyMap", "default", function(cm, val, old) {
    var next = getKeyMap(val);
    var prev = old != CodeMirror.Init && getKeyMap(old);
    if (prev && prev.detach) prev.detach(cm, next);
    if (next.attach) next.attach(cm, prev || null);
  });
  option("extraKeys", null);

  option("lineWrapping", false, wrappingChanged, true);
  option("gutters", [], function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("fixedGutter", true, function(cm, val) {
    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0";
    cm.refresh();
  }, true);
  option("coverGutterNextToScrollbar", false, function(cm) {updateScrollbars(cm);}, true);
  option("scrollbarStyle", "native", function(cm) {
    initScrollbars(cm);
    updateScrollbars(cm);
    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);
    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);
  }, true);
  option("lineNumbers", false, function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("firstLineNumber", 1, guttersChanged, true);
  option("lineNumberFormatter", function(integer) {return integer;}, guttersChanged, true);
  option("showCursorWhenSelecting", false, updateSelection, true);

  option("resetSelectionOnContextMenu", true);
  option("lineWiseCopyCut", true);

  option("readOnly", false, function(cm, val) {
    if (val == "nocursor") {
      onBlur(cm);
      cm.display.input.blur();
      cm.display.disabled = true;
    } else {
      cm.display.disabled = false;
    }
    cm.display.input.readOnlyChanged(val)
  });
  option("disableInput", false, function(cm, val) {if (!val) cm.display.input.reset();}, true);
  option("dragDrop", true, dragDropChanged);
  option("allowDropFileTypes", null);

  option("cursorBlinkRate", 530);
  option("cursorScrollMargin", 0);
  option("cursorHeight", 1, updateSelection, true);
  option("singleCursorHeightPerLine", true, updateSelection, true);
  option("workTime", 100);
  option("workDelay", 100);
  option("flattenSpans", true, resetModeState, true);
  option("addModeClass", false, resetModeState, true);
  option("pollInterval", 100);
  option("undoDepth", 200, function(cm, val){cm.doc.history.undoDepth = val;});
  option("historyEventDelay", 1250);
  option("viewportMargin", 10, function(cm){cm.refresh();}, true);
  option("maxHighlightLength", 10000, resetModeState, true);
  option("moveInputWithCursor", true, function(cm, val) {
    if (!val) cm.display.input.resetPosition();
  });

  option("tabindex", null, function(cm, val) {
    cm.display.input.getField().tabIndex = val || "";
  });
  option("autofocus", null);

  // MODE DEFINITION AND QUERYING

  // Known modes, by name and by MIME
  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};

  // Extra arguments are stored as the mode's dependencies, which is
  // used by (legacy) mechanisms like loadmode.js to automatically
  // load a mode. (Preferred mechanism is the require/define calls.)
  CodeMirror.defineMode = function(name, mode) {
    if (!CodeMirror.defaults.mode && name != "null") CodeMirror.defaults.mode = name;
    if (arguments.length > 2)
      mode.dependencies = Array.prototype.slice.call(arguments, 2);
    modes[name] = mode;
  };

  CodeMirror.defineMIME = function(mime, spec) {
    mimeModes[mime] = spec;
  };

  // Given a MIME type, a {name, ...options} config object, or a name
  // string, return a mode config object.
  CodeMirror.resolveMode = function(spec) {
    if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
      spec = mimeModes[spec];
    } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
      var found = mimeModes[spec.name];
      if (typeof found == "string") found = {name: found};
      spec = createObj(found, spec);
      spec.name = found.name;
    } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
      return CodeMirror.resolveMode("application/xml");
    }
    if (typeof spec == "string") return {name: spec};
    else return spec || {name: "null"};
  };

  // Given a mode spec (anything that resolveMode accepts), find and
  // initialize an actual mode object.
  CodeMirror.getMode = function(options, spec) {
    var spec = CodeMirror.resolveMode(spec);
    var mfactory = modes[spec.name];
    if (!mfactory) return CodeMirror.getMode(options, "text/plain");
    var modeObj = mfactory(options, spec);
    if (modeExtensions.hasOwnProperty(spec.name)) {
      var exts = modeExtensions[spec.name];
      for (var prop in exts) {
        if (!exts.hasOwnProperty(prop)) continue;
        if (modeObj.hasOwnProperty(prop)) modeObj["_" + prop] = modeObj[prop];
        modeObj[prop] = exts[prop];
      }
    }
    modeObj.name = spec.name;
    if (spec.helperType) modeObj.helperType = spec.helperType;
    if (spec.modeProps) for (var prop in spec.modeProps)
      modeObj[prop] = spec.modeProps[prop];

    return modeObj;
  };

  // Minimal default mode.
  CodeMirror.defineMode("null", function() {
    return {token: function(stream) {stream.skipToEnd();}};
  });
  CodeMirror.defineMIME("text/plain", "null");

  // This can be used to attach properties to mode objects from
  // outside the actual mode definition.
  var modeExtensions = CodeMirror.modeExtensions = {};
  CodeMirror.extendMode = function(mode, properties) {
    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});
    copyObj(properties, exts);
  };

  // EXTENSIONS

  CodeMirror.defineExtension = function(name, func) {
    CodeMirror.prototype[name] = func;
  };
  CodeMirror.defineDocExtension = function(name, func) {
    Doc.prototype[name] = func;
  };
  CodeMirror.defineOption = option;

  var initHooks = [];
  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};

  var helpers = CodeMirror.helpers = {};
  CodeMirror.registerHelper = function(type, name, value) {
    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};
    helpers[type][name] = value;
  };
  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {
    CodeMirror.registerHelper(type, name, value);
    helpers[type]._global.push({pred: predicate, val: value});
  };

  // MODE STATE HANDLING

  // Utility functions for working with state. Exported because nested
  // modes need to do this for their inner modes.

  var copyState = CodeMirror.copyState = function(mode, state) {
    if (state === true) return state;
    if (mode.copyState) return mode.copyState(state);
    var nstate = {};
    for (var n in state) {
      var val = state[n];
      if (val instanceof Array) val = val.concat([]);
      nstate[n] = val;
    }
    return nstate;
  };

  var startState = CodeMirror.startState = function(mode, a1, a2) {
    return mode.startState ? mode.startState(a1, a2) : true;
  };

  // Given a mode and a state (for that mode), find the inner mode and
  // state at the position that the state refers to.
  CodeMirror.innerMode = function(mode, state) {
    while (mode.innerMode) {
      var info = mode.innerMode(state);
      if (!info || info.mode == mode) break;
      state = info.state;
      mode = info.mode;
    }
    return info || {mode: mode, state: state};
  };

  // STANDARD COMMANDS

  // Commands are parameter-less actions that can be performed on an
  // editor, mostly used for keybindings.
  var commands = CodeMirror.commands = {
    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},
    singleSelection: function(cm) {
      cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll);
    },
    killLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        if (range.empty()) {
          var len = getLine(cm.doc, range.head.line).text.length;
          if (range.head.ch == len && range.head.line < cm.lastLine())
            return {from: range.head, to: Pos(range.head.line + 1, 0)};
          else
            return {from: range.head, to: Pos(range.head.line, len)};
        } else {
          return {from: range.from(), to: range.to()};
        }
      });
    },
    deleteLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0),
                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};
      });
    },
    delLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0), to: range.from()};
      });
    },
    delWrappedLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var leftPos = cm.coordsChar({left: 0, top: top}, "div");
        return {from: leftPos, to: range.from()};
      });
    },
    delWrappedLineRight: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
        return {from: range.from(), to: rightPos };
      });
    },
    undo: function(cm) {cm.undo();},
    redo: function(cm) {cm.redo();},
    undoSelection: function(cm) {cm.undoSelection();},
    redoSelection: function(cm) {cm.redoSelection();},
    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},
    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},
    goLineStart: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },
                            {origin: "+move", bias: 1});
    },
    goLineStartSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        return lineStartSmart(cm, range.head);
      }, {origin: "+move", bias: 1});
    },
    goLineEnd: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },
                            {origin: "+move", bias: -1});
    },
    goLineRight: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
      }, sel_move);
    },
    goLineLeft: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: 0, top: top}, "div");
      }, sel_move);
    },
    goLineLeftSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var pos = cm.coordsChar({left: 0, top: top}, "div");
        if (pos.ch < cm.getLine(pos.line).search(/\S/)) return lineStartSmart(cm, range.head);
        return pos;
      }, sel_move);
    },
    goLineUp: function(cm) {cm.moveV(-1, "line");},
    goLineDown: function(cm) {cm.moveV(1, "line");},
    goPageUp: function(cm) {cm.moveV(-1, "page");},
    goPageDown: function(cm) {cm.moveV(1, "page");},
    goCharLeft: function(cm) {cm.moveH(-1, "char");},
    goCharRight: function(cm) {cm.moveH(1, "char");},
    goColumnLeft: function(cm) {cm.moveH(-1, "column");},
    goColumnRight: function(cm) {cm.moveH(1, "column");},
    goWordLeft: function(cm) {cm.moveH(-1, "word");},
    goGroupRight: function(cm) {cm.moveH(1, "group");},
    goGroupLeft: function(cm) {cm.moveH(-1, "group");},
    goWordRight: function(cm) {cm.moveH(1, "word");},
    delCharBefore: function(cm) {cm.deleteH(-1, "char");},
    delCharAfter: function(cm) {cm.deleteH(1, "char");},
    delWordBefore: function(cm) {cm.deleteH(-1, "word");},
    delWordAfter: function(cm) {cm.deleteH(1, "word");},
    delGroupBefore: function(cm) {cm.deleteH(-1, "group");},
    delGroupAfter: function(cm) {cm.deleteH(1, "group");},
    indentAuto: function(cm) {cm.indentSelection("smart");},
    indentMore: function(cm) {cm.indentSelection("add");},
    indentLess: function(cm) {cm.indentSelection("subtract");},
    insertTab: function(cm) {cm.replaceSelection("\t");},
    insertSoftTab: function(cm) {
      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;
      for (var i = 0; i < ranges.length; i++) {
        var pos = ranges[i].from();
        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);
        spaces.push(new Array(tabSize - col % tabSize + 1).join(" "));
      }
      cm.replaceSelections(spaces);
    },
    defaultTab: function(cm) {
      if (cm.somethingSelected()) cm.indentSelection("add");
      else cm.execCommand("insertTab");
    },
    transposeChars: function(cm) {
      runInOp(cm, function() {
        var ranges = cm.listSelections(), newSel = [];
        for (var i = 0; i < ranges.length; i++) {
          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;
          if (line) {
            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);
            if (cur.ch > 0) {
              cur = new Pos(cur.line, cur.ch + 1);
              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
                              Pos(cur.line, cur.ch - 2), cur, "+transpose");
            } else if (cur.line > cm.doc.first) {
              var prev = getLine(cm.doc, cur.line - 1).text;
              if (prev)
                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +
                                prev.charAt(prev.length - 1),
                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), "+transpose");
            }
          }
          newSel.push(new Range(cur, cur));
        }
        cm.setSelections(newSel);
      });
    },
    newlineAndIndent: function(cm) {
      runInOp(cm, function() {
        var len = cm.listSelections().length;
        for (var i = 0; i < len; i++) {
          var range = cm.listSelections()[i];
          cm.replaceRange(cm.doc.lineSeparator(), range.anchor, range.head, "+input");
          cm.indentLine(range.from().line + 1, null, true);
        }
        ensureCursorVisible(cm);
      });
    },
    toggleOverwrite: function(cm) {cm.toggleOverwrite();}
  };


  // STANDARD KEYMAPS

  var keyMap = CodeMirror.keyMap = {};

  keyMap.basic = {
    "Left": "goCharLeft", "Right": "goCharRight", "Up": "goLineUp", "Down": "goLineDown",
    "End": "goLineEnd", "Home": "goLineStartSmart", "PageUp": "goPageUp", "PageDown": "goPageDown",
    "Delete": "delCharAfter", "Backspace": "delCharBefore", "Shift-Backspace": "delCharBefore",
    "Tab": "defaultTab", "Shift-Tab": "indentAuto",
    "Enter": "newlineAndIndent", "Insert": "toggleOverwrite",
    "Esc": "singleSelection"
  };
  // Note that the save and find-related commands aren't defined by
  // default. User code or addons can define them. Unknown commands
  // are simply ignored.
  keyMap.pcDefault = {
    "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo",
    "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown",
    "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd",
    "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find",
    "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll",
    "Ctrl-[": "indentLess", "Ctrl-]": "indentMore",
    "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection",
    fallthrough: "basic"
  };
  // Very basic readline/emacs-style bindings, which are standard on Mac.
  keyMap.emacsy = {
    "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown",
    "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd",
    "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore",
    "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars"
  };
  keyMap.macDefault = {
    "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo",
    "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft",
    "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore",
    "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find",
    "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll",
    "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight",
    "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd",
    fallthrough: ["basic", "emacsy"]
  };
  keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault;

  // KEYMAP DISPATCH

  function normalizeKeyName(name) {
    var parts = name.split(/-(?!$)/), name = parts[parts.length - 1];
    var alt, ctrl, shift, cmd;
    for (var i = 0; i < parts.length - 1; i++) {
      var mod = parts[i];
      if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;
      else if (/^a(lt)?$/i.test(mod)) alt = true;
      else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;
      else if (/^s(hift)$/i.test(mod)) shift = true;
      else throw new Error("Unrecognized modifier name: " + mod);
    }
    if (alt) name = "Alt-" + name;
    if (ctrl) name = "Ctrl-" + name;
    if (cmd) name = "Cmd-" + name;
    if (shift) name = "Shift-" + name;
    return name;
  }

  // This is a kludge to keep keymaps mostly working as raw objects
  // (backwards compatibility) while at the same time support features
  // like normalization and multi-stroke key bindings. It compiles a
  // new normalized keymap, and then updates the old object to reflect
  // this.
  CodeMirror.normalizeKeyMap = function(keymap) {
    var copy = {};
    for (var keyname in keymap) if (keymap.hasOwnProperty(keyname)) {
      var value = keymap[keyname];
      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) continue;
      if (value == "...") { delete keymap[keyname]; continue; }

      var keys = map(keyname.split(" "), normalizeKeyName);
      for (var i = 0; i < keys.length; i++) {
        var val, name;
        if (i == keys.length - 1) {
          name = keys.join(" ");
          val = value;
        } else {
          name = keys.slice(0, i + 1).join(" ");
          val = "...";
        }
        var prev = copy[name];
        if (!prev) copy[name] = val;
        else if (prev != val) throw new Error("Inconsistent bindings for " + name);
      }
      delete keymap[keyname];
    }
    for (var prop in copy) keymap[prop] = copy[prop];
    return keymap;
  };

  var lookupKey = CodeMirror.lookupKey = function(key, map, handle, context) {
    map = getKeyMap(map);
    var found = map.call ? map.call(key, context) : map[key];
    if (found === false) return "nothing";
    if (found === "...") return "multi";
    if (found != null && handle(found)) return "handled";

    if (map.fallthrough) {
      if (Object.prototype.toString.call(map.fallthrough) != "[object Array]")
        return lookupKey(key, map.fallthrough, handle, context);
      for (var i = 0; i < map.fallthrough.length; i++) {
        var result = lookupKey(key, map.fallthrough[i], handle, context);
        if (result) return result;
      }
    }
  };

  // Modifier key presses don't count as 'real' key presses for the
  // purpose of keymap fallthrough.
  var isModifierKey = CodeMirror.isModifierKey = function(value) {
    var name = typeof value == "string" ? value : keyNames[value.keyCode];
    return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod";
  };

  // Look up the name of a key as indicated by an event object.
  var keyName = CodeMirror.keyName = function(event, noShift) {
    if (presto && event.keyCode == 34 && event["char"]) return false;
    var base = keyNames[event.keyCode], name = base;
    if (name == null || event.altGraphKey) return false;
    if (event.altKey && base != "Alt") name = "Alt-" + name;
    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != "Ctrl") name = "Ctrl-" + name;
    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != "Cmd") name = "Cmd-" + name;
    if (!noShift && event.shiftKey && base != "Shift") name = "Shift-" + name;
    return name;
  };

  function getKeyMap(val) {
    return typeof val == "string" ? keyMap[val] : val;
  }

  // FROMTEXTAREA

  CodeMirror.fromTextArea = function(textarea, options) {
    options = options ? copyObj(options) : {};
    options.value = textarea.value;
    if (!options.tabindex && textarea.tabIndex)
      options.tabindex = textarea.tabIndex;
    if (!options.placeholder && textarea.placeholder)
      options.placeholder = textarea.placeholder;
    // Set autofocus to true if this textarea is focused, or if it has
    // autofocus and no other element is focused.
    if (options.autofocus == null) {
      var hasFocus = activeElt();
      options.autofocus = hasFocus == textarea ||
        textarea.getAttribute("autofocus") != null && hasFocus == document.body;
    }

    function save() {textarea.value = cm.getValue();}
    if (textarea.form) {
      on(textarea.form, "submit", save);
      // Deplorable hack to make the submit method do the right thing.
      if (!options.leaveSubmitMethodAlone) {
        var form = textarea.form, realSubmit = form.submit;
        try {
          var wrappedSubmit = form.submit = function() {
            save();
            form.submit = realSubmit;
            form.submit();
            form.submit = wrappedSubmit;
          };
        } catch(e) {}
      }
    }

    options.finishInit = function(cm) {
      cm.save = save;
      cm.getTextArea = function() { return textarea; };
      cm.toTextArea = function() {
        cm.toTextArea = isNaN; // Prevent this from being ran twice
        save();
        textarea.parentNode.removeChild(cm.getWrapperElement());
        textarea.style.display = "";
        if (textarea.form) {
          off(textarea.form, "submit", save);
          if (typeof textarea.form.submit == "function")
            textarea.form.submit = realSubmit;
        }
      };
    };

    textarea.style.display = "none";
    var cm = CodeMirror(function(node) {
      textarea.parentNode.insertBefore(node, textarea.nextSibling);
    }, options);
    return cm;
  };

  // STRING STREAM

  // Fed to the mode parsers, provides helper functions to make
  // parsers more succinct.

  var StringStream = CodeMirror.StringStream = function(string, tabSize) {
    this.pos = this.start = 0;
    this.string = string;
    this.tabSize = tabSize || 8;
    this.lastColumnPos = this.lastColumnValue = 0;
    this.lineStart = 0;
  };

  StringStream.prototype = {
    eol: function() {return this.pos >= this.string.length;},
    sol: function() {return this.pos == this.lineStart;},
    peek: function() {return this.string.charAt(this.pos) || undefined;},
    next: function() {
      if (this.pos < this.string.length)
        return this.string.charAt(this.pos++);
    },
    eat: function(match) {
      var ch = this.string.charAt(this.pos);
      if (typeof match == "string") var ok = ch == match;
      else var ok = ch && (match.test ? match.test(ch) : match(ch));
      if (ok) {++this.pos; return ch;}
    },
    eatWhile: function(match) {
      var start = this.pos;
      while (this.eat(match)){}
      return this.pos > start;
    },
    eatSpace: function() {
      var start = this.pos;
      while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;
      return this.pos > start;
    },
    skipToEnd: function() {this.pos = this.string.length;},
    skipTo: function(ch) {
      var found = this.string.indexOf(ch, this.pos);
      if (found > -1) {this.pos = found; return true;}
    },
    backUp: function(n) {this.pos -= n;},
    column: function() {
      if (this.lastColumnPos < this.start) {
        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);
        this.lastColumnPos = this.start;
      }
      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    indentation: function() {
      return countColumn(this.string, null, this.tabSize) -
        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    match: function(pattern, consume, caseInsensitive) {
      if (typeof pattern == "string") {
        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};
        var substr = this.string.substr(this.pos, pattern.length);
        if (cased(substr) == cased(pattern)) {
          if (consume !== false) this.pos += pattern.length;
          return true;
        }
      } else {
        var match = this.string.slice(this.pos).match(pattern);
        if (match && match.index > 0) return null;
        if (match && consume !== false) this.pos += match[0].length;
        return match;
      }
    },
    current: function(){return this.string.slice(this.start, this.pos);},
    hideFirstChars: function(n, inner) {
      this.lineStart += n;
      try { return inner(); }
      finally { this.lineStart -= n; }
    }
  };

  // TEXTMARKERS

  // Created with markText and setBookmark methods. A TextMarker is a
  // handle that can be used to clear or find a marked position in the
  // document. Line objects hold arrays (markedSpans) containing
  // {from, to, marker} object pointing to such marker objects, and
  // indicating that such a marker is present on that line. Multiple
  // lines may point to the same marker when it spans across lines.
  // The spans will have null for their from/to properties when the
  // marker continues beyond the start/end of the line. Markers have
  // links back to the lines they currently touch.

  var nextMarkerId = 0;

  var TextMarker = CodeMirror.TextMarker = function(doc, type) {
    this.lines = [];
    this.type = type;
    this.doc = doc;
    this.id = ++nextMarkerId;
  };
  eventMixin(TextMarker);

  // Clear the marker.
  TextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    var cm = this.doc.cm, withOp = cm && !cm.curOp;
    if (withOp) startOperation(cm);
    if (hasHandler(this, "clear")) {
      var found = this.find();
      if (found) signalLater(this, "clear", found.from, found.to);
    }
    var min = null, max = null;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), "text");
      else if (cm) {
        if (span.to != null) max = lineNo(line);
        if (span.from != null) min = lineNo(line);
      }
      line.markedSpans = removeMarkedSpan(line.markedSpans, span);
      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)
        updateLineHeight(line, textHeight(cm.display));
    }
    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {
      var visual = visualLine(this.lines[i]), len = lineLength(visual);
      if (len > cm.display.maxLineLength) {
        cm.display.maxLine = visual;
        cm.display.maxLineLength = len;
        cm.display.maxLineChanged = true;
      }
    }

    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);
    this.lines.length = 0;
    this.explicitlyCleared = true;
    if (this.atomic && this.doc.cantEdit) {
      this.doc.cantEdit = false;
      if (cm) reCheckSelection(cm.doc);
    }
    if (cm) signalLater(cm, "markerCleared", cm, this);
    if (withOp) endOperation(cm);
    if (this.parent) this.parent.clear();
  };

  // Find the position of the marker in the document. Returns a {from,
  // to} object by default. Side can be passed to get a specific side
  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
  // Pos objects returned contain a line object, rather than a line
  // number (used to prevent looking up the same line twice).
  TextMarker.prototype.find = function(side, lineObj) {
    if (side == null && this.type == "bookmark") side = 1;
    var from, to;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (span.from != null) {
        from = Pos(lineObj ? line : lineNo(line), span.from);
        if (side == -1) return from;
      }
      if (span.to != null) {
        to = Pos(lineObj ? line : lineNo(line), span.to);
        if (side == 1) return to;
      }
    }
    return from && {from: from, to: to};
  };

  // Signals that the marker's widget changed, and surrounding layout
  // should be recomputed.
  TextMarker.prototype.changed = function() {
    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;
    if (!pos || !cm) return;
    runInOp(cm, function() {
      var line = pos.line, lineN = lineNo(pos.line);
      var view = findViewForLine(cm, lineN);
      if (view) {
        clearLineMeasurementCacheFor(view);
        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;
      }
      cm.curOp.updateMaxLine = true;
      if (!lineIsHidden(widget.doc, line) && widget.height != null) {
        var oldHeight = widget.height;
        widget.height = null;
        var dHeight = widgetHeight(widget) - oldHeight;
        if (dHeight)
          updateLineHeight(line, line.height + dHeight);
      }
    });
  };

  TextMarker.prototype.attachLine = function(line) {
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)
        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);
    }
    this.lines.push(line);
  };
  TextMarker.prototype.detachLine = function(line) {
    this.lines.splice(indexOf(this.lines, line), 1);
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);
    }
  };

  // Collapsed markers have unique ids, in order to be able to order
  // them, which is needed for uniquely determining an outer marker
  // when they overlap (they may nest, but not partially overlap).
  var nextMarkerId = 0;

  // Create a marker, wire it up to the right lines, and
  function markText(doc, from, to, options, type) {
    // Shared markers (across linked documents) are handled separately
    // (markTextShared will call out to this again, once per
    // document).
    if (options && options.shared) return markTextShared(doc, from, to, options, type);
    // Ensure we are in an operation.
    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);

    var marker = new TextMarker(doc, type), diff = cmp(from, to);
    if (options) copyObj(options, marker, false);
    // Don't connect empty markers unless clearWhenEmpty is false
    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)
      return marker;
    if (marker.replacedWith) {
      // Showing up as a widget implies collapsed (widget replaces text)
      marker.collapsed = true;
      marker.widgetNode = elt("span", [marker.replacedWith], "CodeMirror-widget");
      if (!options.handleMouseEvents) marker.widgetNode.setAttribute("cm-ignore-events", "true");
      if (options.insertLeft) marker.widgetNode.insertLeft = true;
    }
    if (marker.collapsed) {
      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||
          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))
        throw new Error("Inserting collapsed marker partially overlapping an existing one");
      sawCollapsedSpans = true;
    }

    if (marker.addToHistory)
      addChangeToHistory(doc, {from: from, to: to, origin: "markText"}, doc.sel, NaN);

    var curLine = from.line, cm = doc.cm, updateMaxLine;
    doc.iter(curLine, to.line + 1, function(line) {
      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)
        updateMaxLine = true;
      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);
      addMarkedSpan(line, new MarkedSpan(marker,
                                         curLine == from.line ? from.ch : null,
                                         curLine == to.line ? to.ch : null));
      ++curLine;
    });
    // lineIsHidden depends on the presence of the spans, so needs a second pass
    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {
      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);
    });

    if (marker.clearOnEnter) on(marker, "beforeCursorEnter", function() { marker.clear(); });

    if (marker.readOnly) {
      sawReadOnlySpans = true;
      if (doc.history.done.length || doc.history.undone.length)
        doc.clearHistory();
    }
    if (marker.collapsed) {
      marker.id = ++nextMarkerId;
      marker.atomic = true;
    }
    if (cm) {
      // Sync editor state
      if (updateMaxLine) cm.curOp.updateMaxLine = true;
      if (marker.collapsed)
        regChange(cm, from.line, to.line + 1);
      else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)
        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, "text");
      if (marker.atomic) reCheckSelection(cm.doc);
      signalLater(cm, "markerAdded", cm, marker);
    }
    return marker;
  }

  // SHARED TEXTMARKERS

  // A shared marker spans multiple linked documents. It is
  // implemented as a meta-marker-object controlling multiple normal
  // markers.
  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {
    this.markers = markers;
    this.primary = primary;
    for (var i = 0; i < markers.length; ++i)
      markers[i].parent = this;
  };
  eventMixin(SharedTextMarker);

  SharedTextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    this.explicitlyCleared = true;
    for (var i = 0; i < this.markers.length; ++i)
      this.markers[i].clear();
    signalLater(this, "clear");
  };
  SharedTextMarker.prototype.find = function(side, lineObj) {
    return this.primary.find(side, lineObj);
  };

  function markTextShared(doc, from, to, options, type) {
    options = copyObj(options);
    options.shared = false;
    var markers = [markText(doc, from, to, options, type)], primary = markers[0];
    var widget = options.widgetNode;
    linkedDocs(doc, function(doc) {
      if (widget) options.widgetNode = widget.cloneNode(true);
      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));
      for (var i = 0; i < doc.linked.length; ++i)
        if (doc.linked[i].isParent) return;
      primary = lst(markers);
    });
    return new SharedTextMarker(markers, primary);
  }

  function findSharedMarkers(doc) {
    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),
                         function(m) { return m.parent; });
  }

  function copySharedMarkers(doc, markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], pos = marker.find();
      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);
      if (cmp(mFrom, mTo)) {
        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);
        marker.markers.push(subMark);
        subMark.parent = marker;
      }
    }
  }

  function detachSharedMarkers(markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], linked = [marker.primary.doc];;
      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });
      for (var j = 0; j < marker.markers.length; j++) {
        var subMarker = marker.markers[j];
        if (indexOf(linked, subMarker.doc) == -1) {
          subMarker.parent = null;
          marker.markers.splice(j--, 1);
        }
      }
    }
  }

  // TEXTMARKER SPANS

  function MarkedSpan(marker, from, to) {
    this.marker = marker;
    this.from = from; this.to = to;
  }

  // Search an array of spans for a span matching the given marker.
  function getMarkedSpanFor(spans, marker) {
    if (spans) for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.marker == marker) return span;
    }
  }
  // Remove a span from an array, returning undefined if no spans are
  // left (we don't store arrays for lines without spans).
  function removeMarkedSpan(spans, span) {
    for (var r, i = 0; i < spans.length; ++i)
      if (spans[i] != span) (r || (r = [])).push(spans[i]);
    return r;
  }
  // Add a span to a line.
  function addMarkedSpan(line, span) {
    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];
    span.marker.attachLine(line);
  }

  // Used for the algorithm that adjusts markers for a change in the
  // document. These functions cut an array of spans at a given
  // character position, returning an array of remaining chunks (or
  // undefined if nothing remains).
  function markedSpansBefore(old, startCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);
      if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));
      }
    }
    return nw;
  }
  function markedSpansAfter(old, endCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);
      if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,
                                              span.to == null ? null : span.to - endCh));
      }
    }
    return nw;
  }

  // Given a change object, compute the new set of marker spans that
  // cover the line in which the change took place. Removes spans
  // entirely within the change, reconnects spans belonging to the
  // same marker that appear on both sides of the change, and cuts off
  // spans partially within the change. Returns an array of span
  // arrays with one element for each line in (after) the change.
  function stretchSpansOverChange(doc, change) {
    if (change.full) return null;
    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;
    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;
    if (!oldFirst && !oldLast) return null;

    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;
    // Get the spans that 'stick out' on both sides
    var first = markedSpansBefore(oldFirst, startCh, isInsert);
    var last = markedSpansAfter(oldLast, endCh, isInsert);

    // Next, merge those two ends
    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);
    if (first) {
      // Fix up .to properties of first
      for (var i = 0; i < first.length; ++i) {
        var span = first[i];
        if (span.to == null) {
          var found = getMarkedSpanFor(last, span.marker);
          if (!found) span.to = startCh;
          else if (sameLine) span.to = found.to == null ? null : found.to + offset;
        }
      }
    }
    if (last) {
      // Fix up .from in last (or move them into first in case of sameLine)
      for (var i = 0; i < last.length; ++i) {
        var span = last[i];
        if (span.to != null) span.to += offset;
        if (span.from == null) {
          var found = getMarkedSpanFor(first, span.marker);
          if (!found) {
            span.from = offset;
            if (sameLine) (first || (first = [])).push(span);
          }
        } else {
          span.from += offset;
          if (sameLine) (first || (first = [])).push(span);
        }
      }
    }
    // Make sure we didn't create any zero-length spans
    if (first) first = clearEmptySpans(first);
    if (last && last != first) last = clearEmptySpans(last);

    var newMarkers = [first];
    if (!sameLine) {
      // Fill gap with whole-line-spans
      var gap = change.text.length - 2, gapMarkers;
      if (gap > 0 && first)
        for (var i = 0; i < first.length; ++i)
          if (first[i].to == null)
            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));
      for (var i = 0; i < gap; ++i)
        newMarkers.push(gapMarkers);
      newMarkers.push(last);
    }
    return newMarkers;
  }

  // Remove spans that are empty and don't have a clearWhenEmpty
  // option of false.
  function clearEmptySpans(spans) {
    for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)
        spans.splice(i--, 1);
    }
    if (!spans.length) return null;
    return spans;
  }

  // Used for un/re-doing changes from the history. Combines the
  // result of computing the existing spans with the set of spans that
  // existed in the history (so that deleting around a span and then
  // undoing brings back the span).
  function mergeOldSpans(doc, change) {
    var old = getOldSpans(doc, change);
    var stretched = stretchSpansOverChange(doc, change);
    if (!old) return stretched;
    if (!stretched) return old;

    for (var i = 0; i < old.length; ++i) {
      var oldCur = old[i], stretchCur = stretched[i];
      if (oldCur && stretchCur) {
        spans: for (var j = 0; j < stretchCur.length; ++j) {
          var span = stretchCur[j];
          for (var k = 0; k < oldCur.length; ++k)
            if (oldCur[k].marker == span.marker) continue spans;
          oldCur.push(span);
        }
      } else if (stretchCur) {
        old[i] = stretchCur;
      }
    }
    return old;
  }

  // Used to 'clip' out readOnly ranges when making a change.
  function removeReadOnlyRanges(doc, from, to) {
    var markers = null;
    doc.iter(from.line, to.line + 1, function(line) {
      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {
        var mark = line.markedSpans[i].marker;
        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))
          (markers || (markers = [])).push(mark);
      }
    });
    if (!markers) return null;
    var parts = [{from: from, to: to}];
    for (var i = 0; i < markers.length; ++i) {
      var mk = markers[i], m = mk.find(0);
      for (var j = 0; j < parts.length; ++j) {
        var p = parts[j];
        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;
        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);
        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)
          newParts.push({from: p.from, to: m.from});
        if (dto > 0 || !mk.inclusiveRight && !dto)
          newParts.push({from: m.to, to: p.to});
        parts.splice.apply(parts, newParts);
        j += newParts.length - 1;
      }
    }
    return parts;
  }

  // Connect or disconnect spans from a line.
  function detachMarkedSpans(line) {
    var spans = line.markedSpans;
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.detachLine(line);
    line.markedSpans = null;
  }
  function attachMarkedSpans(line, spans) {
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.attachLine(line);
    line.markedSpans = spans;
  }

  // Helpers used when computing which overlapping collapsed span
  // counts as the larger one.
  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }
  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }

  // Returns a number indicating which of two overlapping collapsed
  // spans is larger (and thus includes the other). Falls back to
  // comparing ids when the spans cover exactly the same range.
  function compareCollapsedMarkers(a, b) {
    var lenDiff = a.lines.length - b.lines.length;
    if (lenDiff != 0) return lenDiff;
    var aPos = a.find(), bPos = b.find();
    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);
    if (fromCmp) return -fromCmp;
    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);
    if (toCmp) return toCmp;
    return b.id - a.id;
  }

  // Find out whether a line ends or starts in a collapsed span. If
  // so, return the marker for that span.
  function collapsedSpanAtSide(line, start) {
    var sps = sawCollapsedSpans && line.markedSpans, found;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&
          (!found || compareCollapsedMarkers(found, sp.marker) < 0))
        found = sp.marker;
    }
    return found;
  }
  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }
  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }

  // Test whether there exists a collapsed span that partially
  // overlaps (covers the start or end, but not both) of a new span.
  // Such overlap is not allowed.
  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {
    var line = getLine(doc, lineNo);
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var i = 0; i < sps.length; ++i) {
      var sp = sps[i];
      if (!sp.marker.collapsed) continue;
      var found = sp.marker.find(0);
      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);
      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);
      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;
      if (fromCmp <= 0 && (cmp(found.to, from) > 0 || (sp.marker.inclusiveRight && marker.inclusiveLeft)) ||
          fromCmp >= 0 && (cmp(found.from, to) < 0 || (sp.marker.inclusiveLeft && marker.inclusiveRight)))
        return true;
    }
  }

  // A visual line is a line as drawn on the screen. Folding, for
  // example, can cause multiple logical lines to appear on the same
  // visual line. This finds the start of the visual line that the
  // given line is part of (usually that is the line itself).
  function visualLine(line) {
    var merged;
    while (merged = collapsedSpanAtStart(line))
      line = merged.find(-1, true).line;
    return line;
  }

  // Returns an array of logical lines that continue the visual line
  // started by the argument, or undefined if there are no such lines.
  function visualLineContinued(line) {
    var merged, lines;
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      (lines || (lines = [])).push(line);
    }
    return lines;
  }

  // Get the line number of the start of the visual line that the
  // given line number is part of.
  function visualLineNo(doc, lineN) {
    var line = getLine(doc, lineN), vis = visualLine(line);
    if (line == vis) return lineN;
    return lineNo(vis);
  }
  // Get the line number of the start of the next visual line after
  // the given line.
  function visualLineEndNo(doc, lineN) {
    if (lineN > doc.lastLine()) return lineN;
    var line = getLine(doc, lineN), merged;
    if (!lineIsHidden(doc, line)) return lineN;
    while (merged = collapsedSpanAtEnd(line))
      line = merged.find(1, true).line;
    return lineNo(line) + 1;
  }

  // Compute whether a line is hidden. Lines count as hidden when they
  // are part of a visual line that starts with another line, or when
  // they are entirely covered by collapsed, non-widget span.
  function lineIsHidden(doc, line) {
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (!sp.marker.collapsed) continue;
      if (sp.from == null) return true;
      if (sp.marker.widgetNode) continue;
      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))
        return true;
    }
  }
  function lineIsHiddenInner(doc, line, span) {
    if (span.to == null) {
      var end = span.marker.find(1, true);
      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));
    }
    if (span.marker.inclusiveRight && span.to == line.text.length)
      return true;
    for (var sp, i = 0; i < line.markedSpans.length; ++i) {
      sp = line.markedSpans[i];
      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&
          (sp.to == null || sp.to != span.from) &&
          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&
          lineIsHiddenInner(doc, line, sp)) return true;
    }
  }

  // LINE WIDGETS

  // Line widgets are block elements displayed above or below a line.

  var LineWidget = CodeMirror.LineWidget = function(doc, node, options) {
    if (options) for (var opt in options) if (options.hasOwnProperty(opt))
      this[opt] = options[opt];
    this.doc = doc;
    this.node = node;
  };
  eventMixin(LineWidget);

  function adjustScrollWhenAboveVisible(cm, line, diff) {
    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))
      addToScrollPos(cm, null, diff);
  }

  LineWidget.prototype.clear = function() {
    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);
    if (no == null || !ws) return;
    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);
    if (!ws.length) line.widgets = null;
    var height = widgetHeight(this);
    updateLineHeight(line, Math.max(0, line.height - height));
    if (cm) runInOp(cm, function() {
      adjustScrollWhenAboveVisible(cm, line, -height);
      regLineChange(cm, no, "widget");
    });
  };
  LineWidget.prototype.changed = function() {
    var oldH = this.height, cm = this.doc.cm, line = this.line;
    this.height = null;
    var diff = widgetHeight(this) - oldH;
    if (!diff) return;
    updateLineHeight(line, line.height + diff);
    if (cm) runInOp(cm, function() {
      cm.curOp.forceUpdate = true;
      adjustScrollWhenAboveVisible(cm, line, diff);
    });
  };

  function widgetHeight(widget) {
    if (widget.height != null) return widget.height;
    var cm = widget.doc.cm;
    if (!cm) return 0;
    if (!contains(document.body, widget.node)) {
      var parentStyle = "position: relative;";
      if (widget.coverGutter)
        parentStyle += "margin-left: -" + cm.display.gutters.offsetWidth + "px;";
      if (widget.noHScroll)
        parentStyle += "width: " + cm.display.wrapper.clientWidth + "px;";
      removeChildrenAndAdd(cm.display.measure, elt("div", [widget.node], null, parentStyle));
    }
    return widget.height = widget.node.offsetHeight;
  }

  function addLineWidget(doc, handle, node, options) {
    var widget = new LineWidget(doc, node, options);
    var cm = doc.cm;
    if (cm && widget.noHScroll) cm.display.alignWidgets = true;
    changeLine(doc, handle, "widget", function(line) {
      var widgets = line.widgets || (line.widgets = []);
      if (widget.insertAt == null) widgets.push(widget);
      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);
      widget.line = line;
      if (cm && !lineIsHidden(doc, line)) {
        var aboveVisible = heightAtLine(line) < doc.scrollTop;
        updateLineHeight(line, line.height + widgetHeight(widget));
        if (aboveVisible) addToScrollPos(cm, null, widget.height);
        cm.curOp.forceUpdate = true;
      }
      return true;
    });
    return widget;
  }

  // LINE DATA STRUCTURE

  // Line objects. These hold state related to a line, including
  // highlighting info (the styles array).
  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {
    this.text = text;
    attachMarkedSpans(this, markedSpans);
    this.height = estimateHeight ? estimateHeight(this) : 1;
  };
  eventMixin(Line);
  Line.prototype.lineNo = function() { return lineNo(this); };

  // Change the content (text, markers) of a line. Automatically
  // invalidates cached information and tries to re-estimate the
  // line's height.
  function updateLine(line, text, markedSpans, estimateHeight) {
    line.text = text;
    if (line.stateAfter) line.stateAfter = null;
    if (line.styles) line.styles = null;
    if (line.order != null) line.order = null;
    detachMarkedSpans(line);
    attachMarkedSpans(line, markedSpans);
    var estHeight = estimateHeight ? estimateHeight(line) : 1;
    if (estHeight != line.height) updateLineHeight(line, estHeight);
  }

  // Detach a line from the document tree and its markers.
  function cleanUpLine(line) {
    line.parent = null;
    detachMarkedSpans(line);
  }

  function extractLineClasses(type, output) {
    if (type) for (;;) {
      var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/);
      if (!lineClass) break;
      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);
      var prop = lineClass[1] ? "bgClass" : "textClass";
      if (output[prop] == null)
        output[prop] = lineClass[2];
      else if (!(new RegExp("(?:^|\s)" + lineClass[2] + "(?:$|\s)")).test(output[prop]))
        output[prop] += " " + lineClass[2];
    }
    return type;
  }

  function callBlankLine(mode, state) {
    if (mode.blankLine) return mode.blankLine(state);
    if (!mode.innerMode) return;
    var inner = CodeMirror.innerMode(mode, state);
    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);
  }

  function readToken(mode, stream, state, inner) {
    for (var i = 0; i < 10; i++) {
      if (inner) inner[0] = CodeMirror.innerMode(mode, state).mode;
      var style = mode.token(stream, state);
      if (stream.pos > stream.start) return style;
    }
    throw new Error("Mode " + mode.name + " failed to advance stream.");
  }

  // Utility for getTokenAt and getLineTokens
  function takeToken(cm, pos, precise, asArray) {
    function getObj(copy) {
      return {start: stream.start, end: stream.pos,
              string: stream.current(),
              type: style || null,
              state: copy ? copyState(doc.mode, state) : state};
    }

    var doc = cm.doc, mode = doc.mode, style;
    pos = clipPos(doc, pos);
    var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise);
    var stream = new StringStream(line.text, cm.options.tabSize), tokens;
    if (asArray) tokens = [];
    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {
      stream.start = stream.pos;
      style = readToken(mode, stream, state);
      if (asArray) tokens.push(getObj(true));
    }
    return asArray ? tokens : getObj();
  }

  // Run the given mode's parser over a line, calling f for each token.
  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {
    var flattenSpans = mode.flattenSpans;
    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;
    var curStart = 0, curStyle = null;
    var stream = new StringStream(text, cm.options.tabSize), style;
    var inner = cm.options.addModeClass && [null];
    if (text == "") extractLineClasses(callBlankLine(mode, state), lineClasses);
    while (!stream.eol()) {
      if (stream.pos > cm.options.maxHighlightLength) {
        flattenSpans = false;
        if (forceToEnd) processLine(cm, text, state, stream.pos);
        stream.pos = text.length;
        style = null;
      } else {
        style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses);
      }
      if (inner) {
        var mName = inner[0].name;
        if (mName) style = "m-" + (style ? mName + " " + style : mName);
      }
      if (!flattenSpans || curStyle != style) {
        while (curStart < stream.start) {
          curStart = Math.min(stream.start, curStart + 50000);
          f(curStart, curStyle);
        }
        curStyle = style;
      }
      stream.start = stream.pos;
    }
    while (curStart < stream.pos) {
      // Webkit seems to refuse to render text nodes longer than 57444 characters
      var pos = Math.min(stream.pos, curStart + 50000);
      f(pos, curStyle);
      curStart = pos;
    }
  }

  // Compute a style array (an array starting with a mode generation
  // -- for invalidation -- followed by pairs of end positions and
  // style strings), which is used to highlight the tokens on the
  // line.
  function highlightLine(cm, line, state, forceToEnd) {
    // A styles array always starts with a number identifying the
    // mode/overlays that it is based on (for easy invalidation).
    var st = [cm.state.modeGen], lineClasses = {};
    // Compute the base array of styles
    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {
      st.push(end, style);
    }, lineClasses, forceToEnd);

    // Run overlays, adjust style array.
    for (var o = 0; o < cm.state.overlays.length; ++o) {
      var overlay = cm.state.overlays[o], i = 1, at = 0;
      runMode(cm, line.text, overlay.mode, true, function(end, style) {
        var start = i;
        // Ensure there's a token end at the current position, and that i points at it
        while (at < end) {
          var i_end = st[i];
          if (i_end > end)
            st.splice(i, 1, end, st[i+1], i_end);
          i += 2;
          at = Math.min(end, i_end);
        }
        if (!style) return;
        if (overlay.opaque) {
          st.splice(start, i - start, end, "cm-overlay " + style);
          i = start + 2;
        } else {
          for (; start < i; start += 2) {
            var cur = st[start+1];
            st[start+1] = (cur ? cur + " " : "") + "cm-overlay " + style;
          }
        }
      }, lineClasses);
    }

    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};
  }

  function getLineStyles(cm, line, updateFrontier) {
    if (!line.styles || line.styles[0] != cm.state.modeGen) {
      var state = getStateBefore(cm, lineNo(line));
      var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state);
      line.stateAfter = state;
      line.styles = result.styles;
      if (result.classes) line.styleClasses = result.classes;
      else if (line.styleClasses) line.styleClasses = null;
      if (updateFrontier === cm.doc.frontier) cm.doc.frontier++;
    }
    return line.styles;
  }

  // Lightweight form of highlight -- proceed over this line and
  // update state, but don't save a style array. Used for lines that
  // aren't currently visible.
  function processLine(cm, text, state, startAt) {
    var mode = cm.doc.mode;
    var stream = new StringStream(text, cm.options.tabSize);
    stream.start = stream.pos = startAt || 0;
    if (text == "") callBlankLine(mode, state);
    while (!stream.eol()) {
      readToken(mode, stream, state);
      stream.start = stream.pos;
    }
  }

  // Convert a style as returned by a mode (either null, or a string
  // containing one or more styles) to a CSS style. This is cached,
  // and also looks for line-wide styles.
  var styleToClassCache = {}, styleToClassCacheWithMode = {};
  function interpretTokenStyle(style, options) {
    if (!style || /^\s*$/.test(style)) return null;
    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;
    return cache[style] ||
      (cache[style] = style.replace(/\S+/g, "cm-$&"));
  }

  // Render the DOM representation of the text of a line. Also builds
  // up a 'line map', which points at the DOM nodes that represent
  // specific stretches of text, and is used by the measuring code.
  // The returned object contains the DOM node, this map, and
  // information about line-wide styles that were set by the mode.
  function buildLineContent(cm, lineView) {
    // The padding-right forces the element to have a 'border', which
    // is needed on Webkit to be able to get line-level bounding
    // rectangles for it (in measureChar).
    var content = elt("span", null, null, webkit ? "padding-right: .1px" : null);
    var builder = {pre: elt("pre", [content], "CodeMirror-line"), content: content,
                   col: 0, pos: 0, cm: cm,
                   splitSpaces: (ie || webkit) && cm.getOption("lineWrapping")};
    lineView.measure = {};

    // Iterate over the logical lines that make up this visual line.
    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {
      var line = i ? lineView.rest[i - 1] : lineView.line, order;
      builder.pos = 0;
      builder.addToken = buildToken;
      // Optionally wire in some hacks into the token-rendering
      // algorithm, to deal with browser quirks.
      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))
        builder.addToken = buildTokenBadBidi(builder.addToken, order);
      builder.map = [];
      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);
      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));
      if (line.styleClasses) {
        if (line.styleClasses.bgClass)
          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || "");
        if (line.styleClasses.textClass)
          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || "");
      }

      // Ensure at least a single node is present, for measuring.
      if (builder.map.length == 0)
        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));

      // Store the map and a cache object for the current logical line
      if (i == 0) {
        lineView.measure.map = builder.map;
        lineView.measure.cache = {};
      } else {
        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);
        (lineView.measure.caches || (lineView.measure.caches = [])).push({});
      }
    }

    // See issue #2901
    if (webkit && /\bcm-tab\b/.test(builder.content.lastChild.className))
      builder.content.className = "cm-tab-wrap-hack";

    signal(cm, "renderLine", cm, lineView.line, builder.pre);
    if (builder.pre.className)
      builder.textClass = joinClasses(builder.pre.className, builder.textClass || "");

    return builder;
  }

  function defaultSpecialCharPlaceholder(ch) {
    var token = elt("span", "\u2022", "cm-invalidchar");
    token.title = "\\u" + ch.charCodeAt(0).toString(16);
    token.setAttribute("aria-label", token.title);
    return token;
  }

  // Build up the DOM representation for a single token, and add it to
  // the line map. Takes care to render special characters separately.
  function buildToken(builder, text, style, startStyle, endStyle, title, css) {
    if (!text) return;
    var displayText = builder.splitSpaces ? text.replace(/ {3,}/g, splitSpaces) : text;
    var special = builder.cm.state.specialChars, mustWrap = false;
    if (!special.test(text)) {
      builder.col += text.length;
      var content = document.createTextNode(displayText);
      builder.map.push(builder.pos, builder.pos + text.length, content);
      if (ie && ie_version < 9) mustWrap = true;
      builder.pos += text.length;
    } else {
      var content = document.createDocumentFragment(), pos = 0;
      while (true) {
        special.lastIndex = pos;
        var m = special.exec(text);
        var skipped = m ? m.index - pos : text.length - pos;
        if (skipped) {
          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.map.push(builder.pos, builder.pos + skipped, txt);
          builder.col += skipped;
          builder.pos += skipped;
        }
        if (!m) break;
        pos += skipped + 1;
        if (m[0] == "\t") {
          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;
          var txt = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"));
          txt.setAttribute("role", "presentation");
          txt.setAttribute("cm-text", "\t");
          builder.col += tabWidth;
        } else if (m[0] == "\r" || m[0] == "\n") {
          var txt = content.appendChild(elt("span", m[0] == "\r" ? "\u240d" : "\u2424", "cm-invalidchar"));
          txt.setAttribute("cm-text", m[0]);
          builder.col += 1;
        } else {
          var txt = builder.cm.options.specialCharPlaceholder(m[0]);
          txt.setAttribute("cm-text", m[0]);
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.col += 1;
        }
        builder.map.push(builder.pos, builder.pos + 1, txt);
        builder.pos++;
      }
    }
    if (style || startStyle || endStyle || mustWrap || css) {
      var fullStyle = style || "";
      if (startStyle) fullStyle += startStyle;
      if (endStyle) fullStyle += endStyle;
      var token = elt("span", [content], fullStyle, css);
      if (title) token.title = title;
      return builder.content.appendChild(token);
    }
    builder.content.appendChild(content);
  }

  function splitSpaces(old) {
    var out = " ";
    for (var i = 0; i < old.length - 2; ++i) out += i % 2 ? " " : "\u00a0";
    out += " ";
    return out;
  }

  // Work around nonsense dimensions being reported for stretches of
  // right-to-left text.
  function buildTokenBadBidi(inner, order) {
    return function(builder, text, style, startStyle, endStyle, title, css) {
      style = style ? style + " cm-force-border" : "cm-force-border";
      var start = builder.pos, end = start + text.length;
      for (;;) {
        // Find the part that overlaps with the start of this text
        for (var i = 0; i < order.length; i++) {
          var part = order[i];
          if (part.to > start && part.from <= start) break;
        }
        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title, css);
        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);
        startStyle = null;
        text = text.slice(part.to - start);
        start = part.to;
      }
    };
  }

  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
    var widget = !ignoreWidget && marker.widgetNode;
    if (widget) builder.map.push(builder.pos, builder.pos + size, widget);
    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {
      if (!widget)
        widget = builder.content.appendChild(document.createElement("span"));
      widget.setAttribute("cm-marker", marker.id);
    }
    if (widget) {
      builder.cm.display.input.setUneditable(widget);
      builder.content.appendChild(widget);
    }
    builder.pos += size;
  }

  // Outputs a number of spans to make up a line, taking highlighting
  // and marked text into account.
  function insertLineContent(line, builder, styles) {
    var spans = line.markedSpans, allText = line.text, at = 0;
    if (!spans) {
      for (var i = 1; i < styles.length; i+=2)
        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));
      return;
    }

    var len = allText.length, pos = 0, i = 1, text = "", style, css;
    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;
    for (;;) {
      if (nextChange == pos) { // Update current marker set
        spanStyle = spanEndStyle = spanStartStyle = title = css = "";
        collapsed = null; nextChange = Infinity;
        var foundBookmarks = [];
        for (var j = 0; j < spans.length; ++j) {
          var sp = spans[j], m = sp.marker;
          if (m.type == "bookmark" && sp.from == pos && m.widgetNode) {
            foundBookmarks.push(m);
          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {
            if (sp.to != null && sp.to != pos && nextChange > sp.to) {
              nextChange = sp.to;
              spanEndStyle = "";
            }
            if (m.className) spanStyle += " " + m.className;
            if (m.css) css = m.css;
            if (m.startStyle && sp.from == pos) spanStartStyle += " " + m.startStyle;
            if (m.endStyle && sp.to == nextChange) spanEndStyle += " " + m.endStyle;
            if (m.title && !title) title = m.title;
            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))
              collapsed = sp;
          } else if (sp.from > pos && nextChange > sp.from) {
            nextChange = sp.from;
          }
        }
        if (collapsed && (collapsed.from || 0) == pos) {
          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,
                             collapsed.marker, collapsed.from == null);
          if (collapsed.to == null) return;
          if (collapsed.to == pos) collapsed = false;
        }
        if (!collapsed && foundBookmarks.length) for (var j = 0; j < foundBookmarks.length; ++j)
          buildCollapsedSpan(builder, 0, foundBookmarks[j]);
      }
      if (pos >= len) break;

      var upto = Math.min(len, nextChange);
      while (true) {
        if (text) {
          var end = pos + text.length;
          if (!collapsed) {
            var tokenText = end > upto ? text.slice(0, upto - pos) : text;
            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,
                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : "", title, css);
          }
          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}
          pos = end;
          spanStartStyle = "";
        }
        text = allText.slice(at, at = styles[i++]);
        style = interpretTokenStyle(styles[i++], builder.cm.options);
      }
    }
  }

  // DOCUMENT DATA STRUCTURE

  // By default, updates that start and end at the beginning of a line
  // are treated specially, in order to make the association of line
  // widgets and marker elements with the text behave more intuitive.
  function isWholeLineUpdate(doc, change) {
    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" &&
      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);
  }

  // Perform a change on the document data structure.
  function updateDoc(doc, change, markedSpans, estimateHeight) {
    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}
    function update(line, text, spans) {
      updateLine(line, text, spans, estimateHeight);
      signalLater(line, "change", line, change);
    }
    function linesFor(start, end) {
      for (var i = start, result = []; i < end; ++i)
        result.push(new Line(text[i], spansFor(i), estimateHeight));
      return result;
    }

    var from = change.from, to = change.to, text = change.text;
    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);
    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;

    // Adjust the line structure
    if (change.full) {
      doc.insert(0, linesFor(0, text.length));
      doc.remove(text.length, doc.size - text.length);
    } else if (isWholeLineUpdate(doc, change)) {
      // This is a whole-line replace. Treated specially to make
      // sure line objects move the way they are supposed to.
      var added = linesFor(0, text.length - 1);
      update(lastLine, lastLine.text, lastSpans);
      if (nlines) doc.remove(from.line, nlines);
      if (added.length) doc.insert(from.line, added);
    } else if (firstLine == lastLine) {
      if (text.length == 1) {
        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);
      } else {
        var added = linesFor(1, text.length - 1);
        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));
        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
        doc.insert(from.line + 1, added);
      }
    } else if (text.length == 1) {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));
      doc.remove(from.line + 1, nlines);
    } else {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);
      var added = linesFor(1, text.length - 1);
      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);
      doc.insert(from.line + 1, added);
    }

    signalLater(doc, "change", doc, change);
  }

  // The document is represented as a BTree consisting of leaves, with
  // chunk of lines in them, and branches, with up to ten leaves or
  // other branch nodes below them. The top node is always a branch
  // node, and is the document object itself (meaning it has
  // additional methods and properties).
  //
  // All nodes have parent links. The tree is used both to go from
  // line numbers to line objects, and to go from objects to numbers.
  // It also indexes by height, and is used to convert between height
  // and line object, and to find the total height of the document.
  //
  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html

  function LeafChunk(lines) {
    this.lines = lines;
    this.parent = null;
    for (var i = 0, height = 0; i < lines.length; ++i) {
      lines[i].parent = this;
      height += lines[i].height;
    }
    this.height = height;
  }

  LeafChunk.prototype = {
    chunkSize: function() { return this.lines.length; },
    // Remove the n lines at offset 'at'.
    removeInner: function(at, n) {
      for (var i = at, e = at + n; i < e; ++i) {
        var line = this.lines[i];
        this.height -= line.height;
        cleanUpLine(line);
        signalLater(line, "delete");
      }
      this.lines.splice(at, n);
    },
    // Helper used to collapse a small branch into a single leaf.
    collapse: function(lines) {
      lines.push.apply(lines, this.lines);
    },
    // Insert the given array of lines at offset 'at', count them as
    // having the given height.
    insertInner: function(at, lines, height) {
      this.height += height;
      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));
      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;
    },
    // Used to iterate over a part of the tree.
    iterN: function(at, n, op) {
      for (var e = at + n; at < e; ++at)
        if (op(this.lines[at])) return true;
    }
  };

  function BranchChunk(children) {
    this.children = children;
    var size = 0, height = 0;
    for (var i = 0; i < children.length; ++i) {
      var ch = children[i];
      size += ch.chunkSize(); height += ch.height;
      ch.parent = this;
    }
    this.size = size;
    this.height = height;
    this.parent = null;
  }

  BranchChunk.prototype = {
    chunkSize: function() { return this.size; },
    removeInner: function(at, n) {
      this.size -= n;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var rm = Math.min(n, sz - at), oldHeight = child.height;
          child.removeInner(at, rm);
          this.height -= oldHeight - child.height;
          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }
          if ((n -= rm) == 0) break;
          at = 0;
        } else at -= sz;
      }
      // If the result is smaller than 25 lines, ensure that it is a
      // single leaf node.
      if (this.size - n < 25 &&
          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
        var lines = [];
        this.collapse(lines);
        this.children = [new LeafChunk(lines)];
        this.children[0].parent = this;
      }
    },
    collapse: function(lines) {
      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);
    },
    insertInner: function(at, lines, height) {
      this.size += lines.length;
      this.height += height;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at <= sz) {
          child.insertInner(at, lines, height);
          if (child.lines && child.lines.length > 50) {
            while (child.lines.length > 50) {
              var spilled = child.lines.splice(child.lines.length - 25, 25);
              var newleaf = new LeafChunk(spilled);
              child.height -= newleaf.height;
              this.children.splice(i + 1, 0, newleaf);
              newleaf.parent = this;
            }
            this.maybeSpill();
          }
          break;
        }
        at -= sz;
      }
    },
    // When a node has grown, check whether it should be split.
    maybeSpill: function() {
      if (this.children.length <= 10) return;
      var me = this;
      do {
        var spilled = me.children.splice(me.children.length - 5, 5);
        var sibling = new BranchChunk(spilled);
        if (!me.parent) { // Become the parent node
          var copy = new BranchChunk(me.children);
          copy.parent = me;
          me.children = [copy, sibling];
          me = copy;
        } else {
          me.size -= sibling.size;
          me.height -= sibling.height;
          var myIndex = indexOf(me.parent.children, me);
          me.parent.children.splice(myIndex + 1, 0, sibling);
        }
        sibling.parent = me.parent;
      } while (me.children.length > 10);
      me.parent.maybeSpill();
    },
    iterN: function(at, n, op) {
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var used = Math.min(n, sz - at);
          if (child.iterN(at, used, op)) return true;
          if ((n -= used) == 0) break;
          at = 0;
        } else at -= sz;
      }
    }
  };

  var nextDocId = 0;
  var Doc = CodeMirror.Doc = function(text, mode, firstLine, lineSep) {
    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine, lineSep);
    if (firstLine == null) firstLine = 0;

    BranchChunk.call(this, [new LeafChunk([new Line("", null)])]);
    this.first = firstLine;
    this.scrollTop = this.scrollLeft = 0;
    this.cantEdit = false;
    this.cleanGeneration = 1;
    this.frontier = firstLine;
    var start = Pos(firstLine, 0);
    this.sel = simpleSelection(start);
    this.history = new History(null);
    this.id = ++nextDocId;
    this.modeOption = mode;
    this.lineSep = lineSep;

    if (typeof text == "string") text = this.splitLines(text);
    updateDoc(this, {from: start, to: start, text: text});
    setSelection(this, simpleSelection(start), sel_dontScroll);
  };

  Doc.prototype = createObj(BranchChunk.prototype, {
    constructor: Doc,
    // Iterate over the document. Supports two forms -- with only one
    // argument, it calls that for each line in the document. With
    // three, it iterates over the range given by the first two (with
    // the second being non-inclusive).
    iter: function(from, to, op) {
      if (op) this.iterN(from - this.first, to - from, op);
      else this.iterN(this.first, this.first + this.size, from);
    },

    // Non-public interface for adding and removing lines.
    insert: function(at, lines) {
      var height = 0;
      for (var i = 0; i < lines.length; ++i) height += lines[i].height;
      this.insertInner(at - this.first, lines, height);
    },
    remove: function(at, n) { this.removeInner(at - this.first, n); },

    // From here, the methods are part of the public interface. Most
    // are also available from CodeMirror (editor) instances.

    getValue: function(lineSep) {
      var lines = getLines(this, this.first, this.first + this.size);
      if (lineSep === false) return lines;
      return lines.join(lineSep || this.lineSeparator());
    },
    setValue: docMethodOp(function(code) {
      var top = Pos(this.first, 0), last = this.first + this.size - 1;
      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),
                        text: this.splitLines(code), origin: "setValue", full: true}, true);
      setSelection(this, simpleSelection(top));
    }),
    replaceRange: function(code, from, to, origin) {
      from = clipPos(this, from);
      to = to ? clipPos(this, to) : from;
      replaceRange(this, code, from, to, origin);
    },
    getRange: function(from, to, lineSep) {
      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));
      if (lineSep === false) return lines;
      return lines.join(lineSep || this.lineSeparator());
    },

    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},

    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},
    getLineNumber: function(line) {return lineNo(line);},

    getLineHandleVisualStart: function(line) {
      if (typeof line == "number") line = getLine(this, line);
      return visualLine(line);
    },

    lineCount: function() {return this.size;},
    firstLine: function() {return this.first;},
    lastLine: function() {return this.first + this.size - 1;},

    clipPos: function(pos) {return clipPos(this, pos);},

    getCursor: function(start) {
      var range = this.sel.primary(), pos;
      if (start == null || start == "head") pos = range.head;
      else if (start == "anchor") pos = range.anchor;
      else if (start == "end" || start == "to" || start === false) pos = range.to();
      else pos = range.from();
      return pos;
    },
    listSelections: function() { return this.sel.ranges; },
    somethingSelected: function() {return this.sel.somethingSelected();},

    setCursor: docMethodOp(function(line, ch, options) {
      setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options);
    }),
    setSelection: docMethodOp(function(anchor, head, options) {
      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);
    }),
    extendSelection: docMethodOp(function(head, other, options) {
      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);
    }),
    extendSelections: docMethodOp(function(heads, options) {
      extendSelections(this, clipPosArray(this, heads, options));
    }),
    extendSelectionsBy: docMethodOp(function(f, options) {
      extendSelections(this, map(this.sel.ranges, f), options);
    }),
    setSelections: docMethodOp(function(ranges, primary, options) {
      if (!ranges.length) return;
      for (var i = 0, out = []; i < ranges.length; i++)
        out[i] = new Range(clipPos(this, ranges[i].anchor),
                           clipPos(this, ranges[i].head));
      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);
      setSelection(this, normalizeSelection(out, primary), options);
    }),
    addSelection: docMethodOp(function(anchor, head, options) {
      var ranges = this.sel.ranges.slice(0);
      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));
      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);
    }),

    getSelection: function(lineSep) {
      var ranges = this.sel.ranges, lines;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        lines = lines ? lines.concat(sel) : sel;
      }
      if (lineSep === false) return lines;
      else return lines.join(lineSep || this.lineSeparator());
    },
    getSelections: function(lineSep) {
      var parts = [], ranges = this.sel.ranges;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        if (lineSep !== false) sel = sel.join(lineSep || this.lineSeparator());
        parts[i] = sel;
      }
      return parts;
    },
    replaceSelection: function(code, collapse, origin) {
      var dup = [];
      for (var i = 0; i < this.sel.ranges.length; i++)
        dup[i] = code;
      this.replaceSelections(dup, collapse, origin || "+input");
    },
    replaceSelections: docMethodOp(function(code, collapse, origin) {
      var changes = [], sel = this.sel;
      for (var i = 0; i < sel.ranges.length; i++) {
        var range = sel.ranges[i];
        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};
      }
      var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse);
      for (var i = changes.length - 1; i >= 0; i--)
        makeChange(this, changes[i]);
      if (newSel) setSelectionReplaceHistory(this, newSel);
      else if (this.cm) ensureCursorVisible(this.cm);
    }),
    undo: docMethodOp(function() {makeChangeFromHistory(this, "undo");}),
    redo: docMethodOp(function() {makeChangeFromHistory(this, "redo");}),
    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, "undo", true);}),
    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, "redo", true);}),

    setExtending: function(val) {this.extend = val;},
    getExtending: function() {return this.extend;},

    historySize: function() {
      var hist = this.history, done = 0, undone = 0;
      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;
      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;
      return {undo: done, redo: undone};
    },
    clearHistory: function() {this.history = new History(this.history.maxGeneration);},

    markClean: function() {
      this.cleanGeneration = this.changeGeneration(true);
    },
    changeGeneration: function(forceSplit) {
      if (forceSplit)
        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;
      return this.history.generation;
    },
    isClean: function (gen) {
      return this.history.generation == (gen || this.cleanGeneration);
    },

    getHistory: function() {
      return {done: copyHistoryArray(this.history.done),
              undone: copyHistoryArray(this.history.undone)};
    },
    setHistory: function(histData) {
      var hist = this.history = new History(this.history.maxGeneration);
      hist.done = copyHistoryArray(histData.done.slice(0), null, true);
      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);
    },

    addLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        if (!line[prop]) line[prop] = cls;
        else if (classTest(cls).test(line[prop])) return false;
        else line[prop] += " " + cls;
        return true;
      });
    }),
    removeLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        var cur = line[prop];
        if (!cur) return false;
        else if (cls == null) line[prop] = null;
        else {
          var found = cur.match(classTest(cls));
          if (!found) return false;
          var end = found.index + found[0].length;
          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null;
        }
        return true;
      });
    }),

    addLineWidget: docMethodOp(function(handle, node, options) {
      return addLineWidget(this, handle, node, options);
    }),
    removeLineWidget: function(widget) { widget.clear(); },

    markText: function(from, to, options) {
      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || "range");
    },
    setBookmark: function(pos, options) {
      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),
                      insertLeft: options && options.insertLeft,
                      clearWhenEmpty: false, shared: options && options.shared,
                      handleMouseEvents: options && options.handleMouseEvents};
      pos = clipPos(this, pos);
      return markText(this, pos, pos, realOpts, "bookmark");
    },
    findMarksAt: function(pos) {
      pos = clipPos(this, pos);
      var markers = [], spans = getLine(this, pos.line).markedSpans;
      if (spans) for (var i = 0; i < spans.length; ++i) {
        var span = spans[i];
        if ((span.from == null || span.from <= pos.ch) &&
            (span.to == null || span.to >= pos.ch))
          markers.push(span.marker.parent || span.marker);
      }
      return markers;
    },
    findMarks: function(from, to, filter) {
      from = clipPos(this, from); to = clipPos(this, to);
      var found = [], lineNo = from.line;
      this.iter(from.line, to.line + 1, function(line) {
        var spans = line.markedSpans;
        if (spans) for (var i = 0; i < spans.length; i++) {
          var span = spans[i];
          if (!(lineNo == from.line && from.ch > span.to ||
                span.from == null && lineNo != from.line||
                lineNo == to.line && span.from > to.ch) &&
              (!filter || filter(span.marker)))
            found.push(span.marker.parent || span.marker);
        }
        ++lineNo;
      });
      return found;
    },
    getAllMarks: function() {
      var markers = [];
      this.iter(function(line) {
        var sps = line.markedSpans;
        if (sps) for (var i = 0; i < sps.length; ++i)
          if (sps[i].from != null) markers.push(sps[i].marker);
      });
      return markers;
    },

    posFromIndex: function(off) {
      var ch, lineNo = this.first;
      this.iter(function(line) {
        var sz = line.text.length + 1;
        if (sz > off) { ch = off; return true; }
        off -= sz;
        ++lineNo;
      });
      return clipPos(this, Pos(lineNo, ch));
    },
    indexFromPos: function (coords) {
      coords = clipPos(this, coords);
      var index = coords.ch;
      if (coords.line < this.first || coords.ch < 0) return 0;
      this.iter(this.first, coords.line, function (line) {
        index += line.text.length + 1;
      });
      return index;
    },

    copy: function(copyHistory) {
      var doc = new Doc(getLines(this, this.first, this.first + this.size),
                        this.modeOption, this.first, this.lineSep);
      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;
      doc.sel = this.sel;
      doc.extend = false;
      if (copyHistory) {
        doc.history.undoDepth = this.history.undoDepth;
        doc.setHistory(this.getHistory());
      }
      return doc;
    },

    linkedDoc: function(options) {
      if (!options) options = {};
      var from = this.first, to = this.first + this.size;
      if (options.from != null && options.from > from) from = options.from;
      if (options.to != null && options.to < to) to = options.to;
      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep);
      if (options.sharedHist) copy.history = this.history;
      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});
      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];
      copySharedMarkers(copy, findSharedMarkers(this));
      return copy;
    },
    unlinkDoc: function(other) {
      if (other instanceof CodeMirror) other = other.doc;
      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {
        var link = this.linked[i];
        if (link.doc != other) continue;
        this.linked.splice(i, 1);
        other.unlinkDoc(this);
        detachSharedMarkers(findSharedMarkers(this));
        break;
      }
      // If the histories were shared, split them again
      if (other.history == this.history) {
        var splitIds = [other.id];
        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);
        other.history = new History(null);
        other.history.done = copyHistoryArray(this.history.done, splitIds);
        other.history.undone = copyHistoryArray(this.history.undone, splitIds);
      }
    },
    iterLinkedDocs: function(f) {linkedDocs(this, f);},

    getMode: function() {return this.mode;},
    getEditor: function() {return this.cm;},

    splitLines: function(str) {
      if (this.lineSep) return str.split(this.lineSep);
      return splitLinesAuto(str);
    },
    lineSeparator: function() { return this.lineSep || "\n"; }
  });

  // Public alias.
  Doc.prototype.eachLine = Doc.prototype.iter;

  // Set up methods on CodeMirror's prototype to redirect to the editor's document.
  var dontDelegate = "iter insert remove copy getEditor constructor".split(" ");
  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)
    CodeMirror.prototype[prop] = (function(method) {
      return function() {return method.apply(this.doc, arguments);};
    })(Doc.prototype[prop]);

  eventMixin(Doc);

  // Call f for all linked documents.
  function linkedDocs(doc, f, sharedHistOnly) {
    function propagate(doc, skip, sharedHist) {
      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {
        var rel = doc.linked[i];
        if (rel.doc == skip) continue;
        var shared = sharedHist && rel.sharedHist;
        if (sharedHistOnly && !shared) continue;
        f(rel.doc, shared);
        propagate(rel.doc, doc, shared);
      }
    }
    propagate(doc, null, true);
  }

  // Attach a document to an editor.
  function attachDoc(cm, doc) {
    if (doc.cm) throw new Error("This document is already in use.");
    cm.doc = doc;
    doc.cm = cm;
    estimateLineHeights(cm);
    loadMode(cm);
    if (!cm.options.lineWrapping) findMaxLine(cm);
    cm.options.mode = doc.modeOption;
    regChange(cm);
  }

  // LINE UTILITIES

  // Find the line object corresponding to the given line number.
  function getLine(doc, n) {
    n -= doc.first;
    if (n < 0 || n >= doc.size) throw new Error("There is no line " + (n + doc.first) + " in the document.");
    for (var chunk = doc; !chunk.lines;) {
      for (var i = 0;; ++i) {
        var child = chunk.children[i], sz = child.chunkSize();
        if (n < sz) { chunk = child; break; }
        n -= sz;
      }
    }
    return chunk.lines[n];
  }

  // Get the part of a document between two positions, as an array of
  // strings.
  function getBetween(doc, start, end) {
    var out = [], n = start.line;
    doc.iter(start.line, end.line + 1, function(line) {
      var text = line.text;
      if (n == end.line) text = text.slice(0, end.ch);
      if (n == start.line) text = text.slice(start.ch);
      out.push(text);
      ++n;
    });
    return out;
  }
  // Get the lines between from and to, as array of strings.
  function getLines(doc, from, to) {
    var out = [];
    doc.iter(from, to, function(line) { out.push(line.text); });
    return out;
  }

  // Update the height of a line, propagating the height change
  // upwards to parent nodes.
  function updateLineHeight(line, height) {
    var diff = height - line.height;
    if (diff) for (var n = line; n; n = n.parent) n.height += diff;
  }

  // Given a line object, find its line number by walking up through
  // its parent links.
  function lineNo(line) {
    if (line.parent == null) return null;
    var cur = line.parent, no = indexOf(cur.lines, line);
    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
      for (var i = 0;; ++i) {
        if (chunk.children[i] == cur) break;
        no += chunk.children[i].chunkSize();
      }
    }
    return no + cur.first;
  }

  // Find the line at the given vertical position, using the height
  // information in the document tree.
  function lineAtHeight(chunk, h) {
    var n = chunk.first;
    outer: do {
      for (var i = 0; i < chunk.children.length; ++i) {
        var child = chunk.children[i], ch = child.height;
        if (h < ch) { chunk = child; continue outer; }
        h -= ch;
        n += child.chunkSize();
      }
      return n;
    } while (!chunk.lines);
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i], lh = line.height;
      if (h < lh) break;
      h -= lh;
    }
    return n + i;
  }


  // Find the height above the given line.
  function heightAtLine(lineObj) {
    lineObj = visualLine(lineObj);

    var h = 0, chunk = lineObj.parent;
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i];
      if (line == lineObj) break;
      else h += line.height;
    }
    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
      for (var i = 0; i < p.children.length; ++i) {
        var cur = p.children[i];
        if (cur == chunk) break;
        else h += cur.height;
      }
    }
    return h;
  }

  // Get the bidi ordering for the given line (and cache it). Returns
  // false for lines that are fully left-to-right, and an array of
  // BidiSpan objects otherwise.
  function getOrder(line) {
    var order = line.order;
    if (order == null) order = line.order = bidiOrdering(line.text);
    return order;
  }

  // HISTORY

  function History(startGen) {
    // Arrays of change events and selections. Doing something adds an
    // event to done and clears undo. Undoing moves events from done
    // to undone, redoing moves them in the other direction.
    this.done = []; this.undone = [];
    this.undoDepth = Infinity;
    // Used to track when changes can be merged into a single undo
    // event
    this.lastModTime = this.lastSelTime = 0;
    this.lastOp = this.lastSelOp = null;
    this.lastOrigin = this.lastSelOrigin = null;
    // Used by the isClean() method
    this.generation = this.maxGeneration = startGen || 1;
  }

  // Create a history change event from an updateDoc-style change
  // object.
  function historyChangeFromChange(doc, change) {
    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};
    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);
    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);
    return histChange;
  }

  // Pop all selection events off the end of a history array. Stop at
  // a change event.
  function clearSelectionEvents(array) {
    while (array.length) {
      var last = lst(array);
      if (last.ranges) array.pop();
      else break;
    }
  }

  // Find the top change event in the history. Pop off selection
  // events that are in the way.
  function lastChangeEvent(hist, force) {
    if (force) {
      clearSelectionEvents(hist.done);
      return lst(hist.done);
    } else if (hist.done.length && !lst(hist.done).ranges) {
      return lst(hist.done);
    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
      hist.done.pop();
      return lst(hist.done);
    }
  }

  // Register a change in the history. Merges changes that are within
  // a single operation, ore are close together with an origin that
  // allows merging (starting with "+") into a single event.
  function addChangeToHistory(doc, change, selAfter, opId) {
    var hist = doc.history;
    hist.undone.length = 0;
    var time = +new Date, cur;

    if ((hist.lastOp == opId ||
         hist.lastOrigin == change.origin && change.origin &&
         ((change.origin.charAt(0) == "+" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||
          change.origin.charAt(0) == "*")) &&
        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
      // Merge this change into the last event
      var last = lst(cur.changes);
      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
        // Optimized case for simple insertion -- don't want to add
        // new changesets for every character typed
        last.to = changeEnd(change);
      } else {
        // Add new sub-event
        cur.changes.push(historyChangeFromChange(doc, change));
      }
    } else {
      // Can not be merged, start a new event.
      var before = lst(hist.done);
      if (!before || !before.ranges)
        pushSelectionToHistory(doc.sel, hist.done);
      cur = {changes: [historyChangeFromChange(doc, change)],
             generation: hist.generation};
      hist.done.push(cur);
      while (hist.done.length > hist.undoDepth) {
        hist.done.shift();
        if (!hist.done[0].ranges) hist.done.shift();
      }
    }
    hist.done.push(selAfter);
    hist.generation = ++hist.maxGeneration;
    hist.lastModTime = hist.lastSelTime = time;
    hist.lastOp = hist.lastSelOp = opId;
    hist.lastOrigin = hist.lastSelOrigin = change.origin;

    if (!last) signal(doc, "historyAdded");
  }

  function selectionEventCanBeMerged(doc, origin, prev, sel) {
    var ch = origin.charAt(0);
    return ch == "*" ||
      ch == "+" &&
      prev.ranges.length == sel.ranges.length &&
      prev.somethingSelected() == sel.somethingSelected() &&
      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);
  }

  // Called whenever the selection changes, sets the new selection as
  // the pending selection in the history, and pushes the old pending
  // selection into the 'done' array when it was significantly
  // different (in number of selected ranges, emptiness, or time).
  function addSelectionToHistory(doc, sel, opId, options) {
    var hist = doc.history, origin = options && options.origin;

    // A new event is started when the previous origin does not match
    // the current, or the origins don't allow matching. Origins
    // starting with * are always merged, those starting with + are
    // merged when similar and close together in time.
    if (opId == hist.lastSelOp ||
        (origin && hist.lastSelOrigin == origin &&
         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||
          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))
      hist.done[hist.done.length - 1] = sel;
    else
      pushSelectionToHistory(sel, hist.done);

    hist.lastSelTime = +new Date;
    hist.lastSelOrigin = origin;
    hist.lastSelOp = opId;
    if (options && options.clearRedo !== false)
      clearSelectionEvents(hist.undone);
  }

  function pushSelectionToHistory(sel, dest) {
    var top = lst(dest);
    if (!(top && top.ranges && top.equals(sel)))
      dest.push(sel);
  }

  // Used to store marked span information in the history.
  function attachLocalSpans(doc, change, from, to) {
    var existing = change["spans_" + doc.id], n = 0;
    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {
      if (line.markedSpans)
        (existing || (existing = change["spans_" + doc.id] = {}))[n] = line.markedSpans;
      ++n;
    });
  }

  // When un/re-doing restores text containing marked spans, those
  // that have been explicitly cleared should not be restored.
  function removeClearedSpans(spans) {
    if (!spans) return null;
    for (var i = 0, out; i < spans.length; ++i) {
      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }
      else if (out) out.push(spans[i]);
    }
    return !out ? spans : out.length ? out : null;
  }

  // Retrieve and filter the old marked spans stored in a change event.
  function getOldSpans(doc, change) {
    var found = change["spans_" + doc.id];
    if (!found) return null;
    for (var i = 0, nw = []; i < change.text.length; ++i)
      nw.push(removeClearedSpans(found[i]));
    return nw;
  }

  // Used both to provide a JSON-safe object in .getHistory, and, when
  // detaching a document, to split the history in two
  function copyHistoryArray(events, newGroup, instantiateSel) {
    for (var i = 0, copy = []; i < events.length; ++i) {
      var event = events[i];
      if (event.ranges) {
        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);
        continue;
      }
      var changes = event.changes, newChanges = [];
      copy.push({changes: newChanges});
      for (var j = 0; j < changes.length; ++j) {
        var change = changes[j], m;
        newChanges.push({from: change.from, to: change.to, text: change.text});
        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\d+)$/)) {
          if (indexOf(newGroup, Number(m[1])) > -1) {
            lst(newChanges)[prop] = change[prop];
            delete change[prop];
          }
        }
      }
    }
    return copy;
  }

  // Rebasing/resetting history to deal with externally-sourced changes

  function rebaseHistSelSingle(pos, from, to, diff) {
    if (to < pos.line) {
      pos.line += diff;
    } else if (from < pos.line) {
      pos.line = from;
      pos.ch = 0;
    }
  }

  // Tries to rebase an array of history events given a change in the
  // document. If the change touches the same lines as the event, the
  // event, and everything 'behind' it, is discarded. If the change is
  // before the event, the event's positions are updated. Uses a
  // copy-on-write scheme for the positions, to avoid having to
  // reallocate them all on every rebase, but also avoid problems with
  // shared position objects being unsafely updated.
  function rebaseHistArray(array, from, to, diff) {
    for (var i = 0; i < array.length; ++i) {
      var sub = array[i], ok = true;
      if (sub.ranges) {
        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }
        for (var j = 0; j < sub.ranges.length; j++) {
          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);
          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);
        }
        continue;
      }
      for (var j = 0; j < sub.changes.length; ++j) {
        var cur = sub.changes[j];
        if (to < cur.from.line) {
          cur.from = Pos(cur.from.line + diff, cur.from.ch);
          cur.to = Pos(cur.to.line + diff, cur.to.ch);
        } else if (from <= cur.to.line) {
          ok = false;
          break;
        }
      }
      if (!ok) {
        array.splice(0, i + 1);
        i = 0;
      }
    }
  }

  function rebaseHist(hist, change) {
    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;
    rebaseHistArray(hist.done, from, to, diff);
    rebaseHistArray(hist.undone, from, to, diff);
  }

  // EVENT UTILITIES

  // Due to the fact that we still support jurassic IE versions, some
  // compatibility wrappers are needed.

  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {
    if (e.preventDefault) e.preventDefault();
    else e.returnValue = false;
  };
  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {
    if (e.stopPropagation) e.stopPropagation();
    else e.cancelBubble = true;
  };
  function e_defaultPrevented(e) {
    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;
  }
  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};

  function e_target(e) {return e.target || e.srcElement;}
  function e_button(e) {
    var b = e.which;
    if (b == null) {
      if (e.button & 1) b = 1;
      else if (e.button & 2) b = 3;
      else if (e.button & 4) b = 2;
    }
    if (mac && e.ctrlKey && b == 1) b = 3;
    return b;
  }

  // EVENT HANDLING

  // Lightweight event framework. on/off also work on DOM nodes,
  // registering native DOM handlers.

  var on = CodeMirror.on = function(emitter, type, f) {
    if (emitter.addEventListener)
      emitter.addEventListener(type, f, false);
    else if (emitter.attachEvent)
      emitter.attachEvent("on" + type, f);
    else {
      var map = emitter._handlers || (emitter._handlers = {});
      var arr = map[type] || (map[type] = []);
      arr.push(f);
    }
  };

  var noHandlers = []
  function getHandlers(emitter, type, copy) {
    var arr = emitter._handlers && emitter._handlers[type]
    if (copy) return arr && arr.length > 0 ? arr.slice() : noHandlers
    else return arr || noHandlers
  }

  var off = CodeMirror.off = function(emitter, type, f) {
    if (emitter.removeEventListener)
      emitter.removeEventListener(type, f, false);
    else if (emitter.detachEvent)
      emitter.detachEvent("on" + type, f);
    else {
      var handlers = getHandlers(emitter, type, false)
      for (var i = 0; i < handlers.length; ++i)
        if (handlers[i] == f) { handlers.splice(i, 1); break; }
    }
  };

  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {
    var handlers = getHandlers(emitter, type, true)
    if (!handlers.length) return;
    var args = Array.prototype.slice.call(arguments, 2);
    for (var i = 0; i < handlers.length; ++i) handlers[i].apply(null, args);
  };

  var orphanDelayedCallbacks = null;

  // Often, we want to signal events at a point where we are in the
  // middle of some work, but don't want the handler to start calling
  // other methods on the editor, which might be in an inconsistent
  // state or simply not expect any other events to happen.
  // signalLater looks whether there are any handlers, and schedules
  // them to be executed when the last operation ends, or, if no
  // operation is active, when a timeout fires.
  function signalLater(emitter, type /*, values...*/) {
    var arr = getHandlers(emitter, type, false)
    if (!arr.length) return;
    var args = Array.prototype.slice.call(arguments, 2), list;
    if (operationGroup) {
      list = operationGroup.delayedCallbacks;
    } else if (orphanDelayedCallbacks) {
      list = orphanDelayedCallbacks;
    } else {
      list = orphanDelayedCallbacks = [];
      setTimeout(fireOrphanDelayed, 0);
    }
    function bnd(f) {return function(){f.apply(null, args);};};
    for (var i = 0; i < arr.length; ++i)
      list.push(bnd(arr[i]));
  }

  function fireOrphanDelayed() {
    var delayed = orphanDelayedCallbacks;
    orphanDelayedCallbacks = null;
    for (var i = 0; i < delayed.length; ++i) delayed[i]();
  }

  // The DOM events that CodeMirror handles can be overridden by
  // registering a (non-DOM) handler on the editor for the event name,
  // and preventDefault-ing the event in that handler.
  function signalDOMEvent(cm, e, override) {
    if (typeof e == "string")
      e = {type: e, preventDefault: function() { this.defaultPrevented = true; }};
    signal(cm, override || e.type, cm, e);
    return e_defaultPrevented(e) || e.codemirrorIgnore;
  }

  function signalCursorActivity(cm) {
    var arr = cm._handlers && cm._handlers.cursorActivity;
    if (!arr) return;
    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);
    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)
      set.push(arr[i]);
  }

  function hasHandler(emitter, type) {
    return getHandlers(emitter, type).length > 0
  }

  // Add on and off methods to a constructor's prototype, to make
  // registering events on such objects more convenient.
  function eventMixin(ctor) {
    ctor.prototype.on = function(type, f) {on(this, type, f);};
    ctor.prototype.off = function(type, f) {off(this, type, f);};
  }

  // MISC UTILITIES

  // Number of pixels added to scroller and sizer to hide scrollbar
  var scrollerGap = 30;

  // Returned or thrown by various protocols to signal 'I'm not
  // handling this'.
  var Pass = CodeMirror.Pass = {toString: function(){return "CodeMirror.Pass";}};

  // Reused option objects for setSelection & friends
  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: "*mouse"}, sel_move = {origin: "+move"};

  function Delayed() {this.id = null;}
  Delayed.prototype.set = function(ms, f) {
    clearTimeout(this.id);
    this.id = setTimeout(f, ms);
  };

  // Counts the column offset in a string, taking tabs into account.
  // Used mostly to find indentation.
  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {
    if (end == null) {
      end = string.search(/[^\s\u00a0]/);
      if (end == -1) end = string.length;
    }
    for (var i = startIndex || 0, n = startValue || 0;;) {
      var nextTab = string.indexOf("\t", i);
      if (nextTab < 0 || nextTab >= end)
        return n + (end - i);
      n += nextTab - i;
      n += tabSize - (n % tabSize);
      i = nextTab + 1;
    }
  };

  // The inverse of countColumn -- find the offset that corresponds to
  // a particular column.
  var findColumn = CodeMirror.findColumn = function(string, goal, tabSize) {
    for (var pos = 0, col = 0;;) {
      var nextTab = string.indexOf("\t", pos);
      if (nextTab == -1) nextTab = string.length;
      var skipped = nextTab - pos;
      if (nextTab == string.length || col + skipped >= goal)
        return pos + Math.min(skipped, goal - col);
      col += nextTab - pos;
      col += tabSize - (col % tabSize);
      pos = nextTab + 1;
      if (col >= goal) return pos;
    }
  }

  var spaceStrs = [""];
  function spaceStr(n) {
    while (spaceStrs.length <= n)
      spaceStrs.push(lst(spaceStrs) + " ");
    return spaceStrs[n];
  }

  function lst(arr) { return arr[arr.length-1]; }

  var selectInput = function(node) { node.select(); };
  if (ios) // Mobile Safari apparently has a bug where select() is broken.
    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };
  else if (ie) // Suppress mysterious IE10 errors
    selectInput = function(node) { try { node.select(); } catch(_e) {} };

  function indexOf(array, elt) {
    for (var i = 0; i < array.length; ++i)
      if (array[i] == elt) return i;
    return -1;
  }
  function map(array, f) {
    var out = [];
    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);
    return out;
  }

  function nothing() {}

  function createObj(base, props) {
    var inst;
    if (Object.create) {
      inst = Object.create(base);
    } else {
      nothing.prototype = base;
      inst = new nothing();
    }
    if (props) copyObj(props, inst);
    return inst;
  };

  function copyObj(obj, target, overwrite) {
    if (!target) target = {};
    for (var prop in obj)
      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))
        target[prop] = obj[prop];
    return target;
  }

  function bind(f) {
    var args = Array.prototype.slice.call(arguments, 1);
    return function(){return f.apply(null, args);};
  }

  var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {
    return /\w/.test(ch) || ch > "\x80" &&
      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));
  };
  function isWordChar(ch, helper) {
    if (!helper) return isWordCharBasic(ch);
    if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) return true;
    return helper.test(ch);
  }

  function isEmpty(obj) {
    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;
    return true;
  }

  // Extending unicode characters. A series of a non-extending char +
  // any number of extending chars is treated as a single unit as far
  // as editing and measuring is concerned. This is not fully correct,
  // since some scripts/fonts/browsers also treat other configurations
  // of code points as a group.
  var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }

  // DOM UTILITIES

  function elt(tag, content, className, style) {
    var e = document.createElement(tag);
    if (className) e.className = className;
    if (style) e.style.cssText = style;
    if (typeof content == "string") e.appendChild(document.createTextNode(content));
    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);
    return e;
  }

  var range;
  if (document.createRange) range = function(node, start, end, endNode) {
    var r = document.createRange();
    r.setEnd(endNode || node, end);
    r.setStart(node, start);
    return r;
  };
  else range = function(node, start, end) {
    var r = document.body.createTextRange();
    try { r.moveToElementText(node.parentNode); }
    catch(e) { return r; }
    r.collapse(true);
    r.moveEnd("character", end);
    r.moveStart("character", start);
    return r;
  };

  function removeChildren(e) {
    for (var count = e.childNodes.length; count > 0; --count)
      e.removeChild(e.firstChild);
    return e;
  }

  function removeChildrenAndAdd(parent, e) {
    return removeChildren(parent).appendChild(e);
  }

  var contains = CodeMirror.contains = function(parent, child) {
    if (child.nodeType == 3) // Android browser always returns false when child is a textnode
      child = child.parentNode;
    if (parent.contains)
      return parent.contains(child);
    do {
      if (child.nodeType == 11) child = child.host;
      if (child == parent) return true;
    } while (child = child.parentNode);
  };

  function activeElt() {
    var activeElement = document.activeElement;
    while (activeElement && activeElement.root && activeElement.root.activeElement)
      activeElement = activeElement.root.activeElement;
    return activeElement;
  }
  // Older versions of IE throws unspecified error when touching
  // document.activeElement in some cases (during loading, in iframe)
  if (ie && ie_version < 11) activeElt = function() {
    try { return document.activeElement; }
    catch(e) { return document.body; }
  };

  function classTest(cls) { return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*"); }
  var rmClass = CodeMirror.rmClass = function(node, cls) {
    var current = node.className;
    var match = classTest(cls).exec(current);
    if (match) {
      var after = current.slice(match.index + match[0].length);
      node.className = current.slice(0, match.index) + (after ? match[1] + after : "");
    }
  };
  var addClass = CodeMirror.addClass = function(node, cls) {
    var current = node.className;
    if (!classTest(cls).test(current)) node.className += (current ? " " : "") + cls;
  };
  function joinClasses(a, b) {
    var as = a.split(" ");
    for (var i = 0; i < as.length; i++)
      if (as[i] && !classTest(as[i]).test(b)) b += " " + as[i];
    return b;
  }

  // WINDOW-WIDE EVENTS

  // These must be handled carefully, because naively registering a
  // handler for each editor will cause the editors to never be
  // garbage collected.

  function forEachCodeMirror(f) {
    if (!document.body.getElementsByClassName) return;
    var byClass = document.body.getElementsByClassName("CodeMirror");
    for (var i = 0; i < byClass.length; i++) {
      var cm = byClass[i].CodeMirror;
      if (cm) f(cm);
    }
  }

  var globalsRegistered = false;
  function ensureGlobalHandlers() {
    if (globalsRegistered) return;
    registerGlobalHandlers();
    globalsRegistered = true;
  }
  function registerGlobalHandlers() {
    // When the window resizes, we need to refresh active editors.
    var resizeTimer;
    on(window, "resize", function() {
      if (resizeTimer == null) resizeTimer = setTimeout(function() {
        resizeTimer = null;
        forEachCodeMirror(onResize);
      }, 100);
    });
    // When the window loses focus, we want to show the editor as blurred
    on(window, "blur", function() {
      forEachCodeMirror(onBlur);
    });
  }

  // FEATURE DETECTION

  // Detect drag-and-drop
  var dragAndDrop = function() {
    // There is *some* kind of drag-and-drop support in IE6-8, but I
    // couldn't get it to work yet.
    if (ie && ie_version < 9) return false;
    var div = elt('div');
    return "draggable" in div || "dragDrop" in div;
  }();

  var zwspSupported;
  function zeroWidthElement(measure) {
    if (zwspSupported == null) {
      var test = elt("span", "\u200b");
      removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]));
      if (measure.firstChild.offsetHeight != 0)
        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);
    }
    var node = zwspSupported ? elt("span", "\u200b") :
      elt("span", "\u00a0", null, "display: inline-block; width: 1px; margin-right: -1px");
    node.setAttribute("cm-text", "");
    return node;
  }

  // Feature-detect IE's crummy client rect reporting for bidi text
  var badBidiRects;
  function hasBadBidiRects(measure) {
    if (badBidiRects != null) return badBidiRects;
    var txt = removeChildrenAndAdd(measure, document.createTextNode("A\u062eA"));
    var r0 = range(txt, 0, 1).getBoundingClientRect();
    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)
    var r1 = range(txt, 1, 2).getBoundingClientRect();
    return badBidiRects = (r1.right - r0.right < 3);
  }

  // See if "".split is the broken IE version, if so, provide an
  // alternative way to split lines.
  var splitLinesAuto = CodeMirror.splitLines = "\n\nb".split(/\n/).length != 3 ? function(string) {
    var pos = 0, result = [], l = string.length;
    while (pos <= l) {
      var nl = string.indexOf("\n", pos);
      if (nl == -1) nl = string.length;
      var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl);
      var rt = line.indexOf("\r");
      if (rt != -1) {
        result.push(line.slice(0, rt));
        pos += rt + 1;
      } else {
        result.push(line);
        pos = nl + 1;
      }
    }
    return result;
  } : function(string){return string.split(/\r\n?|\n/);};

  var hasSelection = window.getSelection ? function(te) {
    try { return te.selectionStart != te.selectionEnd; }
    catch(e) { return false; }
  } : function(te) {
    try {var range = te.ownerDocument.selection.createRange();}
    catch(e) {}
    if (!range || range.parentElement() != te) return false;
    return range.compareEndPoints("StartToEnd", range) != 0;
  };

  var hasCopyEvent = (function() {
    var e = elt("div");
    if ("oncopy" in e) return true;
    e.setAttribute("oncopy", "return;");
    return typeof e.oncopy == "function";
  })();

  var badZoomedRects = null;
  function hasBadZoomedRects(measure) {
    if (badZoomedRects != null) return badZoomedRects;
    var node = removeChildrenAndAdd(measure, elt("span", "x"));
    var normal = node.getBoundingClientRect();
    var fromRange = range(node, 0, 1).getBoundingClientRect();
    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;
  }

  // KEY NAMES

  var keyNames = CodeMirror.keyNames = {
    3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
    19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
    36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
    46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod",
    106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 127: "Delete",
    173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
    221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
    63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"
  };
  (function() {
    // Number keys
    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);
    // Alphabetic keys
    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);
    // Function keys
    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = "F" + i;
  })();

  // BIDI HELPERS

  function iterateBidiSections(order, from, to, f) {
    if (!order) return f(from, to, "ltr");
    var found = false;
    for (var i = 0; i < order.length; ++i) {
      var part = order[i];
      if (part.from < to && part.to > from || from == to && part.to == from) {
        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr");
        found = true;
      }
    }
    if (!found) f(from, to, "ltr");
  }

  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }
  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }

  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }
  function lineRight(line) {
    var order = getOrder(line);
    if (!order) return line.text.length;
    return bidiRight(lst(order));
  }

  function lineStart(cm, lineN) {
    var line = getLine(cm.doc, lineN);
    var visual = visualLine(line);
    if (visual != line) lineN = lineNo(visual);
    var order = getOrder(visual);
    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);
    return Pos(lineN, ch);
  }
  function lineEnd(cm, lineN) {
    var merged, line = getLine(cm.doc, lineN);
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      lineN = null;
    }
    var order = getOrder(line);
    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);
    return Pos(lineN == null ? lineNo(line) : lineN, ch);
  }
  function lineStartSmart(cm, pos) {
    var start = lineStart(cm, pos.line);
    var line = getLine(cm.doc, start.line);
    var order = getOrder(line);
    if (!order || order[0].level == 0) {
      var firstNonWS = Math.max(0, line.text.search(/\S/));
      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;
      return Pos(start.line, inWS ? 0 : firstNonWS);
    }
    return start;
  }

  function compareBidiLevel(order, a, b) {
    var linedir = order[0].level;
    if (a == linedir) return true;
    if (b == linedir) return false;
    return a < b;
  }
  var bidiOther;
  function getBidiPartAt(order, pos) {
    bidiOther = null;
    for (var i = 0, found; i < order.length; ++i) {
      var cur = order[i];
      if (cur.from < pos && cur.to > pos) return i;
      if ((cur.from == pos || cur.to == pos)) {
        if (found == null) {
          found = i;
        } else if (compareBidiLevel(order, cur.level, order[found].level)) {
          if (cur.from != cur.to) bidiOther = found;
          return i;
        } else {
          if (cur.from != cur.to) bidiOther = i;
          return found;
        }
      }
    }
    return found;
  }

  function moveInLine(line, pos, dir, byUnit) {
    if (!byUnit) return pos + dir;
    do pos += dir;
    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));
    return pos;
  }

  // This is needed in order to move 'visually' through bi-directional
  // text -- i.e., pressing left should make the cursor go left, even
  // when in RTL text. The tricky part is the 'jumps', where RTL and
  // LTR text touch each other. This often requires the cursor offset
  // to move more than one unit, in order to visually move one unit.
  function moveVisually(line, start, dir, byUnit) {
    var bidi = getOrder(line);
    if (!bidi) return moveLogically(line, start, dir, byUnit);
    var pos = getBidiPartAt(bidi, start), part = bidi[pos];
    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);

    for (;;) {
      if (target > part.from && target < part.to) return target;
      if (target == part.from || target == part.to) {
        if (getBidiPartAt(bidi, target) == pos) return target;
        part = bidi[pos += dir];
        return (dir > 0) == part.level % 2 ? part.to : part.from;
      } else {
        part = bidi[pos += dir];
        if (!part) return null;
        if ((dir > 0) == part.level % 2)
          target = moveInLine(line, part.to, -1, byUnit);
        else
          target = moveInLine(line, part.from, 1, byUnit);
      }
    }
  }

  function moveLogically(line, start, dir, byUnit) {
    var target = start + dir;
    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;
    return target < 0 || target > line.text.length ? null : target;
  }

  // Bidirectional ordering algorithm
  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
  // that this (partially) implements.

  // One-char codes used for character types:
  // L (L):   Left-to-Right
  // R (R):   Right-to-Left
  // r (AL):  Right-to-Left Arabic
  // 1 (EN):  European Number
  // + (ES):  European Number Separator
  // % (ET):  European Number Terminator
  // n (AN):  Arabic Number
  // , (CS):  Common Number Separator
  // m (NSM): Non-Spacing Mark
  // b (BN):  Boundary Neutral
  // s (B):   Paragraph Separator
  // t (S):   Segment Separator
  // w (WS):  Whitespace
  // N (ON):  Other Neutrals

  // Returns null if characters are ordered as they appear
  // (left-to-right), or an array of sections ({from, to, level}
  // objects) in the order in which they occur visually.
  var bidiOrdering = (function() {
    // Character types for codepoints 0 to 0xff
    var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
    // Character types for codepoints 0x600 to 0x6ff
    var arabicTypes = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";
    function charType(code) {
      if (code <= 0xf7) return lowTypes.charAt(code);
      else if (0x590 <= code && code <= 0x5f4) return "R";
      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);
      else if (0x6ee <= code && code <= 0x8ac) return "r";
      else if (0x2000 <= code && code <= 0x200b) return "w";
      else if (code == 0x200c) return "b";
      else return "L";
    }

    var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;
    // Browsers seem to always treat the boundaries of block elements as being L.
    var outerType = "L";

    function BidiSpan(level, from, to) {
      this.level = level;
      this.from = from; this.to = to;
    }

    return function(str) {
      if (!bidiRE.test(str)) return false;
      var len = str.length, types = [];
      for (var i = 0, type; i < len; ++i)
        types.push(type = charType(str.charCodeAt(i)));

      // W1. Examine each non-spacing mark (NSM) in the level run, and
      // change the type of the NSM to the type of the previous
      // character. If the NSM is at the start of the level run, it will
      // get the type of sor.
      for (var i = 0, prev = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "m") types[i] = prev;
        else prev = type;
      }

      // W2. Search backwards from each instance of a European number
      // until the first strong type (R, L, AL, or sor) is found. If an
      // AL is found, change the type of the European number to Arabic
      // number.
      // W3. Change all ALs to R.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "1" && cur == "r") types[i] = "n";
        else if (isStrong.test(type)) { cur = type; if (type == "r") types[i] = "R"; }
      }

      // W4. A single European separator between two European numbers
      // changes to a European number. A single common separator between
      // two numbers of the same type changes to that type.
      for (var i = 1, prev = types[0]; i < len - 1; ++i) {
        var type = types[i];
        if (type == "+" && prev == "1" && types[i+1] == "1") types[i] = "1";
        else if (type == "," && prev == types[i+1] &&
                 (prev == "1" || prev == "n")) types[i] = prev;
        prev = type;
      }

      // W5. A sequence of European terminators adjacent to European
      // numbers changes to all European numbers.
      // W6. Otherwise, separators and terminators change to Other
      // Neutral.
      for (var i = 0; i < len; ++i) {
        var type = types[i];
        if (type == ",") types[i] = "N";
        else if (type == "%") {
          for (var end = i + 1; end < len && types[end] == "%"; ++end) {}
          var replace = (i && types[i-1] == "!") || (end < len && types[end] == "1") ? "1" : "N";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // W7. Search backwards from each instance of a European number
      // until the first strong type (R, L, or sor) is found. If an L is
      // found, then change the type of the European number to L.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (cur == "L" && type == "1") types[i] = "L";
        else if (isStrong.test(type)) cur = type;
      }

      // N1. A sequence of neutrals takes the direction of the
      // surrounding strong text if the text on both sides has the same
      // direction. European and Arabic numbers act as if they were R in
      // terms of their influence on neutrals. Start-of-level-run (sor)
      // and end-of-level-run (eor) are used at level run boundaries.
      // N2. Any remaining neutrals take the embedding direction.
      for (var i = 0; i < len; ++i) {
        if (isNeutral.test(types[i])) {
          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}
          var before = (i ? types[i-1] : outerType) == "L";
          var after = (end < len ? types[end] : outerType) == "L";
          var replace = before || after ? "L" : "R";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // Here we depart from the documented algorithm, in order to avoid
      // building up an actual levels array. Since there are only three
      // levels (0, 1, 2) in an implementation that doesn't take
      // explicit embedding into account, we can build up the order on
      // the fly, without following the level-based algorithm.
      var order = [], m;
      for (var i = 0; i < len;) {
        if (countsAsLeft.test(types[i])) {
          var start = i;
          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}
          order.push(new BidiSpan(0, start, i));
        } else {
          var pos = i, at = order.length;
          for (++i; i < len && types[i] != "L"; ++i) {}
          for (var j = pos; j < i;) {
            if (countsAsNum.test(types[j])) {
              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));
              var nstart = j;
              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}
              order.splice(at, 0, new BidiSpan(2, nstart, j));
              pos = j;
            } else ++j;
          }
          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));
        }
      }
      if (order[0].level == 1 && (m = str.match(/^\s+/))) {
        order[0].from = m[0].length;
        order.unshift(new BidiSpan(0, 0, m[0].length));
      }
      if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
        lst(order).to -= m[0].length;
        order.push(new BidiSpan(0, len - m[0].length, len));
      }
      if (order[0].level == 2)
        order.unshift(new BidiSpan(1, order[0].to, order[0].to));
      if (order[0].level != lst(order).level)
        order.push(new BidiSpan(order[0].level, len, len));

      return order;
    };
  })();

  // THE END

  CodeMirror.version = "5.8.0";

  return CodeMirror;
});

},{}],2:[function(require,module,exports){
/// <reference path="microReact.ts" />
/// <reference path="../vendor/marked.d.ts" />
var microReact = require("./microReact");
var runtime = require("./runtime");
var uiRenderer_1 = require("./uiRenderer");
var utils_1 = require("./utils");
exports.syncedTables = ["manual eav", "view", "action", "action source", "action mapping", "action mapping constant", "action mapping sorted", "action mapping limit", "add collection action", "add eav action", "add bit action"];
exports.eveLocalStorageKey = "eve";
//---------------------------------------------------------
// Renderer
//---------------------------------------------------------
var perfStats;
var perfStatsUi;
var updateStat = 0;
function initRenderer() {
    exports.renderer = new microReact.Renderer();
    exports.uiRenderer = new uiRenderer_1.UIRenderer(exports.eve);
    document.body.appendChild(exports.renderer.content);
    window.addEventListener("resize", render);
    perfStatsUi = document.createElement("div");
    perfStatsUi.id = "perfStats";
    document.body.appendChild(perfStatsUi);
}
if (utils_1.ENV === "browser")
    var performance = window["performance"] || { now: function () { return (new Date()).getTime(); } };
exports.renderRoots = {};
function render() {
    if (!exports.renderer || exports.renderer.queued)
        return;
    exports.renderer.queued = true;
    requestAnimationFrame(function () {
        var stats = {};
        var start = performance.now();
        var trees = [];
        for (var root in exports.renderRoots) {
            trees.push(exports.renderRoots[root]());
        }
        stats.root = (performance.now() - start).toFixed(2);
        if (+stats.root > 10)
            console.info("Slow root: " + stats.root);
        start = performance.now();
        var dynamicUI = exports.eve.find("system ui").map(function (ui) { return ui["template"]; });
        if (utils_1.DEBUG && utils_1.DEBUG.UI_COMPILE) {
            console.info("compiling", dynamicUI);
            console.info("*", exports.uiRenderer.compile(dynamicUI));
        }
        trees.push.apply(trees, exports.uiRenderer.compile(dynamicUI));
        stats.uiCompile = (performance.now() - start).toFixed(2);
        if (+stats.uiCompile > 10)
            console.info("Slow ui compile: " + stats.uiCompile);
        start = performance.now();
        exports.renderer.render(trees);
        stats.render = (performance.now() - start).toFixed(2);
        stats.update = updateStat.toFixed(2);
        perfStatsUi.textContent = "";
        perfStatsUi.textContent += "root: " + stats.root;
        perfStatsUi.textContent += " | ui compile: " + stats.uiCompile;
        perfStatsUi.textContent += " | render: " + stats.render;
        perfStatsUi.textContent += " | update: " + stats.update;
        perfStats = stats;
        exports.renderer.queued = false;
    });
}
exports.render = render;
var storeQueued = false;
function storeLocally() {
    if (storeQueued)
        return;
    storeQueued = true;
    setTimeout(function () {
        var serialized = exports.eve.serialize(true);
        if (exports.eveLocalStorageKey === "eve") {
            for (var _i = 0; _i < exports.syncedTables.length; _i++) {
                var synced = exports.syncedTables[_i];
                delete serialized[synced];
            }
        }
        delete serialized["provenance"];
        localStorage[exports.eveLocalStorageKey] = JSON.stringify(serialized);
        storeQueued = false;
    }, 1000);
}
//---------------------------------------------------------
// Dispatch
//---------------------------------------------------------
var dispatches = {};
function handle(event, func) {
    if (dispatches[event]) {
        console.error("Overwriting handler for '" + event + "'");
    }
    dispatches[event] = func;
}
exports.handle = handle;
function dispatch(event, info, dispatchInfo) {
    var result = dispatchInfo;
    if (!result) {
        result = exports.eve.diff();
        result.meta.render = true;
        result.meta.store = true;
    }
    result.dispatch = function (event, info) {
        return dispatch(event, info, result);
    };
    result.commit = function () {
        var start = performance.now();
        // result.remove("builtin entity", {entity: "render performance statistics"});
        // result.add("builtin entity", {entity: "render performance statistics", content: `
        // # Render performance statistics ({is a: system})
        // root: {root: ${perfStats.root}}
        // ui compile: {ui compile: ${perfStats.uiCompile}}
        // render: {render: ${perfStats.render}}
        // update: {update: ${perfStats.update}}
        // Horrible hack, disregard this: {perf stats: render performance statistics}
        // `});
        if (!runtime.INCREMENTAL) {
            exports.eve.applyDiff(result);
        }
        else {
            exports.eve.applyDiffIncremental(result);
        }
        if (result.meta.render) {
            render();
        }
        if (result.meta.store) {
            storeLocally();
            if (exports.eveLocalStorageKey === "eve") {
                sendChangeSet(result);
            }
        }
        updateStat = performance.now() - start;
    };
    var func = dispatches[event];
    if (!func) {
        console.error("No dispatches for '" + event + "' with " + JSON.stringify(info));
    }
    else {
        func(result, info);
    }
    return result;
}
exports.dispatch = dispatch;
//---------------------------------------------------------
// State
//---------------------------------------------------------
exports.eve = runtime.indexer();
exports.initializers = {};
exports.activeSearches = {};
function init(name, func) {
    exports.initializers[name] = func;
}
exports.init = init;
function executeInitializers() {
    for (var initName in exports.initializers) {
        exports.initializers[initName]();
    }
}
//---------------------------------------------------------
// Websocket
//---------------------------------------------------------
var me = utils_1.uuid();
if (this.localStorage) {
    if (localStorage["me"])
        me = localStorage["me"];
    else
        localStorage["me"] = me;
}
function connectToServer() {
    exports.socket = new WebSocket("ws://" + (window.location.hostname || "localhost") + ":8080");
    exports.socket.onerror = function () {
        console.error("Failed to connect to server, falling back to local storage");
        exports.eveLocalStorageKey = "local-eve";
        executeInitializers();
        render();
    };
    exports.socket.onopen = function () {
        sendServer("connect", me);
    };
    exports.socket.onmessage = function (data) {
        var parsed = JSON.parse(data.data);
        console.log("WS MESSAGE:", parsed);
        if (parsed.kind === "load") {
            exports.eve.load(parsed.data);
            executeInitializers();
            render();
        }
        else if (parsed.kind === "changeset") {
            var diff = exports.eve.diff();
            diff.tables = parsed.data;
            exports.eve.applyDiff(diff);
            render();
        }
    };
}
function sendServer(messageKind, data) {
    if (!exports.socket)
        return;
    exports.socket.send(JSON.stringify({ kind: messageKind, me: me, time: (new Date).getTime(), data: data }));
}
function sendChangeSet(changeset) {
    if (!exports.socket)
        return;
    var changes = {};
    var send = false;
    for (var _i = 0; _i < exports.syncedTables.length; _i++) {
        var table = exports.syncedTables[_i];
        if (changeset.tables[table]) {
            send = true;
            changes[table] = changeset.tables[table];
        }
    }
    if (send)
        sendServer("changeset", changes);
}
//---------------------------------------------------------
// Go
//---------------------------------------------------------
if (utils_1.ENV === "browser") {
    document.addEventListener("DOMContentLoaded", function (event) {
        initRenderer();
        connectToServer();
        render();
    });
}
init("load data", function () {
    var stored = localStorage[exports.eveLocalStorageKey];
    if (stored) {
        exports.eve.load(stored);
    }
});
if (utils_1.ENV === "browser")
    window["app"] = exports;

},{"./microReact":4,"./runtime":8,"./uiRenderer":11,"./utils":12}],3:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime = require("./runtime");
var wiki_1 = require("./wiki");
var app = require("./app");
var app_1 = require("./app");
var queryParser_ts_1 = require("./queryParser.ts");
var parser_1 = require("./parser");
var uiRenderer_1 = require("./uiRenderer");
exports.ixer = app_1.eve;
//-----------------------------------------------------------------------------
// Utilities
//-----------------------------------------------------------------------------
function queryFromSearch(search) {
    var result = queryParser_ts_1.queryToExecutable(search);
    result.executable.ordinal();
    return result.executable;
}
function queryFromPlanDSL(str) {
    return queryParser_ts_1.queryToExecutable(parser_1.parsePlan(str));
}
exports.queryFromPlanDSL = queryFromPlanDSL;
function queryFromQueryDSL(str) {
    var plan = parser_1.parseQuery(str);
    var query = new runtime.Query(exports.ixer);
    var ix = 0;
    for (var _i = 0; _i < plan.length; _i++) {
        var step = plan[_i];
        var id = step.id || step.type + "||" + ix;
        if (step.type === "select")
            query.select(step["view"], step["join"] || {}, step.id);
        else if (step.type === "deselect")
            query.deselect(step["view"], step["join"] || {});
        else if (step.type === "calculate")
            query.calculate(step["func"], step["args"], step.id);
        else if (step.type === "aggregate")
            query.aggregate(step["func"], step["args"], step.id);
        else if (step.type === "ordinal")
            query.ordinal();
        else if (step.type === "group")
            query.group(step["groups"]);
        else if (step.type === "sort")
            query.sort(step["sorts"]);
        else if (step.type === "limit")
            query.limit(step["limit"]);
        else if (step.type === "project")
            query.project(step["mapping"]);
        else
            throw new Error("Unknown query step type '" + step.type + "'");
    }
    return query;
}
exports.queryFromQueryDSL = queryFromQueryDSL;
function UIFromDSL(str) {
    function processElem(data) {
        var elem = new uiRenderer_1.UI(data.id || uuid());
        if (data.binding)
            elem.bind(data.bindingKind === "query" ? queryFromQueryDSL(data.binding) : queryFromPlanDSL(data.binding));
        if (data.embedded)
            elem.embed(data.embedded);
        if (data.attributes)
            elem.attributes(data.attributes);
        if (data.events)
            elem.events(data.events);
        if (data.children) {
            for (var _i = 0, _a = data.children; _i < _a.length; _i++) {
                var child = _a[_i];
                elem.child(processElem(child));
            }
        }
        return elem;
    }
    return processElem(parser_1.parseUI(str));
}
exports.UIFromDSL = UIFromDSL;
var BSPhase = (function () {
    function BSPhase(ixer, changeset) {
        if (changeset === void 0) { changeset = ixer.diff(); }
        this.ixer = ixer;
        this.changeset = changeset;
        this._views = {};
        this._viewFields = {};
        this._entities = [];
        this._uis = {};
        this._queries = {};
        this._names = {};
    }
    BSPhase.prototype.viewKind = function (view) {
        return this._views[view];
    };
    BSPhase.prototype.viewFields = function (view) {
        return this._viewFields[view];
    };
    BSPhase.prototype.apply = function (nukeExisting) {
        for (var view in this._views) {
            if (this._views[view] === "table")
                exports.ixer.addTable(view, this._viewFields[view]);
        }
        if (nukeExisting) {
            for (var view in this._views) {
                if (this._views[view] !== "table")
                    this.changeset.merge(runtime.Query.remove(view, this.ixer));
            }
            for (var _i = 0, _a = this._entities; _i < _a.length; _i++) {
                var entity = _a[_i];
                this.changeset.remove("builtin entity", { entity: entity });
            }
            for (var ui in this._uis)
                this.changeset.merge(uiRenderer_1.UI.remove(ui, this.ixer));
        }
        exports.ixer.applyDiff(this.changeset);
    };
    //-----------------------------------------------------------------------------
    // Macros
    //-----------------------------------------------------------------------------
    BSPhase.prototype.addFact = function (table, fact) {
        this.changeset.add(table, fact);
        return this;
    };
    BSPhase.prototype.addEntity = function (entity, name, kinds, attributes, extraContent) {
        entity = "AUTOGENERATED " + entity + " THIS SHOULDN'T SHOW UP ANYWHERE";
        this._names[name] = entity;
        this._entities.push(entity);
        this.addFact("display name", { id: entity, name: name });
        var isAs = [];
        for (var _i = 0; _i < kinds.length; _i++) {
            var kind = kinds[_i];
            var sourceId = entity + ",is a," + kind;
            isAs.push("{" + kind + "|eav source = " + sourceId + "}");
            var collEntity = "AUTOGENERATED " + kind + " THIS SHOULDN'T SHOW UP ANYWHERE";
            this.addFact("display name", { id: collEntity, name: kind });
            this.addFact("sourced eav", { entity: entity, attribute: "is a", value: collEntity, source: sourceId });
        }
        var collectionsText = "";
        if (isAs.length)
            collectionsText = utils_1.titlecase(name) + " is a " + isAs.slice(0, -1).join(", ") + " " + (isAs.length > 1 ? "and" : "") + " " + isAs[isAs.length - 1] + ".";
        var content = (_a = ["\n      # ", "\n      ", "\n    "], _a.raw = ["\n      # ", "\n      ", "\n    "], utils_1.unpad(6)(_a, name, collectionsText));
        if (attributes) {
            content += "Attributes\n";
            for (var attr in attributes) {
                var sourceId = entity + "," + attr + "," + attributes[attr];
                content += attr + ": {" + name + "'s " + attr + "|eav source = " + sourceId + "}\n      ";
                var value = this._names[attributes[attr]] || attributes[attr];
                this.addFact("sourced eav", { entity: entity, attribute: attr, value: value, source: sourceId });
            }
        }
        if (extraContent)
            content += "\n" + extraContent;
        var page = entity + "|root";
        this.addFact("page content", { page: page, content: content });
        this.addFact("entity page", { entity: entity, page: page });
        return this;
        var _a;
    };
    BSPhase.prototype.addView = function (view, kind, fields) {
        this._views[view] = kind;
        this._viewFields[view] = fields;
        this.addFact("view", { view: view, kind: kind });
        for (var _i = 0; _i < fields.length; _i++) {
            var field = fields[_i];
            this.addFact("field", { view: view, field: field });
        }
        this.addEntity(view, view, ["system", kind], undefined, (_a = ["\n      ## Fields\n      ", "\n    "], _a.raw = ["\n      ## Fields\n      ", "\n    "], utils_1.unpad(6)(_a, fields.map(function (field) { return ("* " + field); }).join("\n      "))));
        return this;
        var _a;
    };
    BSPhase.prototype.addTable = function (view, fields) {
        this.addView(view, "table", fields);
        return this;
    };
    BSPhase.prototype.addUnion = function (view, fields, builtin) {
        if (builtin === void 0) { builtin = true; }
        this.addView(view, "union", fields);
        if (builtin) {
            var table = "builtin " + view;
            this.addTable(table, fields);
            this.addUnionMember(view, table);
        }
        return this;
    };
    BSPhase.prototype.addUnionMember = function (union, member, mapping) {
        // apply the natural mapping.
        if (!mapping) {
            if (this.viewKind(union) !== "union")
                throw new Error("Union '" + union + "' must be added before adding members");
            mapping = {};
            for (var _i = 0, _a = this.viewFields(union); _i < _a.length; _i++) {
                var field = _a[_i];
                mapping[field] = field;
            }
        }
        var action = union + " <-- " + member + " <-- " + JSON.stringify(mapping);
        this.addFact("action", { view: union, action: action, kind: "union", ix: 0 })
            .addFact("action source", { action: action, "source view": member });
        for (var field in mapping) {
            var mapped = mapping[field];
            if (mapped.constructor === Array) {
                this.addFact("action mapping constant", { action: action, from: field, "value": mapped[0] });
            }
            else {
                this.addFact("action mapping", { action: action, from: field, "to source": member, "to field": mapped });
            }
        }
        return this;
    };
    BSPhase.prototype.addQuery = function (view, query) {
        query.name = view;
        this._queries[view] = query;
        this.addView(view, "query", Object.keys(query.projectionMap || {}));
        this.changeset.merge(query.changeset(this.ixer));
        return this;
    };
    BSPhase.prototype.addArtifacts = function (artifacts) {
        var views = artifacts.views;
        console.log("adding artifacts", views);
        for (var id in views)
            this.changeset.merge(views[id].changeset(app_1.eve));
        return this;
    };
    BSPhase.prototype.addUI = function (id, ui) {
        ui.id = id;
        this._uis[id] = ui;
        this.addEntity(id, id, ["system", "ui"]);
        this.changeset.merge(ui.changeset(this.ixer));
        return this;
    };
    BSPhase.prototype.generateBitAction = function (name, queryOrName, template) {
        var query;
        if (typeof queryOrName === "string")
            query = this._queries[queryOrName];
        else
            query = queryOrName;
        this.changeset.merge(wiki_1.addBitAction(name, template));
        return this;
    };
    return BSPhase;
})();
//-----------------------------------------------------------------------------
// Runtime Setup
//-----------------------------------------------------------------------------
runtime.define("parse natural", { multi: true }, function (text) {
    return queryParser_ts_1.queryToExecutable(text).plan;
});
runtime.define("parse plan", { multi: true }, function (text) {
    return parser_1.parsePlan(text);
});
app.init("bootstrap", function bootstrap() {
    //-----------------------------------------------------------------------------
    // Entity System
    //-----------------------------------------------------------------------------
    var phase = new BSPhase(app_1.eve);
    phase.addTable("manual entity", ["entity", "content"]);
    phase.addTable("manual eav", ["entity", "attribute", "value"]);
    phase.addTable("sourced eav", ["entity", "attribute", "value", "source"]);
    phase.addTable("page content", ["page", "content"]);
    phase.addTable("entity page", ["entity", "page"]);
    phase.addTable("action entity", ["entity", "content", "source"]);
    phase.addEntity("collection", "collection", ["system"])
        .addEntity("system", "system", ["collection"])
        .addEntity("union", "union", ["system", "collection"])
        .addEntity("query", "query", ["system", "collection"])
        .addEntity("table", "table", ["system", "collection"])
        .addEntity("ui", "ui", ["system", "collection"]);
    phase.addQuery("entity", queryFromQueryDSL((_a = ["\n    select entity page as [ent]\n    select page content {page: [ent, page]} as [page]\n    project {entity: [ent, entity]; content: [page, content]}\n  "], _a.raw = ["\n    select entity page as [ent]\n    select page content {page: [ent, page]} as [page]\n    project {entity: [ent, entity]; content: [page, content]}\n  "], utils_1.unpad(4)(_a))));
    phase.addQuery("unmodified added bits", queryFromQueryDSL((_b = ["\n    select added bits as [added]\n    deselect manual entity {entity: [added, entity]}\n    project {entity: [added, entity]; content: [added, content]}\n  "], _b.raw = ["\n    select added bits as [added]\n    deselect manual entity {entity: [added, entity]}\n    project {entity: [added, entity]; content: [added, content]}\n  "], utils_1.unpad(4)(_b))));
    phase.addUnion("entity eavs", ["entity", "attribute", "value"], true)
        .addUnionMember("entity eavs", "manual eav")
        .addUnionMember("entity eavs", "generated eav", { entity: "entity", attribute: "attribute", value: "value" })
        .addUnionMember("entity eavs", "sourced eav", { entity: "entity", attribute: "attribute", value: "value" })
        .addUnionMember("entity eavs", "added eavs");
    phase.addQuery("is a attributes", queryFromQueryDSL((_c = ["\n    select entity eavs {attribute: is a} as [is a]\n    project {collection: [is a, value]; entity: [is a, entity]}\n  "], _c.raw = ["\n    select entity eavs {attribute: is a} as [is a]\n    project {collection: [is a, value]; entity: [is a, entity]}\n  "], utils_1.unpad(4)(_c))));
    // @HACK: this view is required because you can't currently join a select on the result of a function.
    // so we create a version of the eavs table that already has everything lowercased.
    phase.addQuery("lowercase eavs", queryFromQueryDSL((_d = ["\n    select entity eavs as [eav]\n    calculate lowercase {text: [eav, value]} as [lower]\n    project {entity: [eav, entity];  attribute: [eav, attribute]; value: [lower, result]}\n  "], _d.raw = ["\n    select entity eavs as [eav]\n    calculate lowercase {text: [eav, value]} as [lower]\n    project {entity: [eav, entity];  attribute: [eav, attribute]; value: [lower, result]}\n  "], utils_1.unpad(4)(_d))));
    phase.addQuery("eav entity links", queryFromQueryDSL((_e = ["\n    select lowercase eavs as [eav]\n    select entity {entity: [eav, value]} as [entity]\n    project {entity: [eav, entity]; link: [entity, entity]; type: [eav, attribute]}\n  "], _e.raw = ["\n    select lowercase eavs as [eav]\n    select entity {entity: [eav, value]} as [entity]\n    project {entity: [eav, entity]; link: [entity, entity]; type: [eav, attribute]}\n  "], utils_1.unpad(4)(_e))));
    phase.addUnion("entity links", ["entity", "link", "type"])
        .addUnionMember("entity links", "eav entity links")
        .addUnionMember("entity links", "is a attributes", { entity: "entity", link: "collection", type: ["is a"] });
    phase.addUnion("directionless links", ["entity", "link"])
        .addUnionMember("directionless links", "entity links")
        .addUnionMember("directionless links", "entity links", { entity: "link", link: "entity" });
    phase.addUnion("collection entities", ["entity", "collection"])
        .addUnionMember("collection entities", "is a attributes");
    phase.addQuery("collection", queryFromQueryDSL((_f = ["\n    select is a attributes as [coll]\n    group {[coll, collection]}\n    aggregate count as [count]\n    project {collection: [coll, collection]; count: [count, count]}\n  "], _f.raw = ["\n    select is a attributes as [coll]\n    group {[coll, collection]}\n    aggregate count as [count]\n    project {collection: [coll, collection]; count: [count, count]}\n  "], utils_1.unpad(4)(_f))));
    phase.addTable("ui pane", ["pane", "contains", "kind"]);
    if (app_1.eve.find("ui pane").length === 0)
        phase.addFact("ui pane", { pane: "p1", contains: "pet", kind: 0 });
    // phase.addArtifacts(parseDSL(unpad(4) `
    //   (query
    //     (is-a-attributes :entity entity :collection "ui pane")
    //     (entity-eavs :attribute "contains" :value contains)
    //     (project! "ui pane" :pane entity :contains contains))
    // `));
    phase.apply(true);
    //-----------------------------------------------------------------------------
    // Wiki Logic
    //-----------------------------------------------------------------------------
    phase = new BSPhase(app_1.eve);
    phase.addUnion("search", ["id", "top", "left"]);
    phase.addUnion("search query", ["id", "search"]);
    // phase.addQuery("searches to entities shim", queryFromQueryDSL(unpad(4) `
    //   select search as [search]
    //   select search query {id: [search, id]} as [query]
    //   project {id: [search, id]; text: [query, search]; top: [search, top]; left: [search, left]}
    // `));
    //   phase.generateBitAction("searches to entities shim", "searches to entities shim", unpad(4) `
    //     # {id}
    //     ({is a: search}, {is a: system})
    //     search: {search: {search}}
    //     left: {left: {left}}
    //     top: {top: {top}}
    //   `);
    phase.apply(true);
    //-----------------------------------------------------------------------------
    // UI
    //-----------------------------------------------------------------------------
    phase = new BSPhase(app_1.eve);
    // @FIXME: These should probably be unionized.
    function resolve(table, fields) {
        return fields.map(function (field) { return (table + ": " + field); });
    }
    phase.addTable("ui template", resolve("ui template", ["template", "parent", "ix"]));
    phase.addTable("ui template binding", resolve("ui template binding", ["template", "query"]));
    phase.addTable("ui embed", resolve("ui embed", ["embed", "template", "parent", "ix"]));
    phase.addTable("ui embed scope", resolve("ui embed scope", ["embed", "key", "value"]));
    phase.addTable("ui embed scope binding", resolve("ui embed scope binding", ["embed", "key", "source", "alias"]));
    phase.addTable("ui attribute", resolve("ui attribute", ["template", "property", "value"]));
    phase.addTable("ui attribute binding", resolve("ui attribute binding", ["template", "property", "source", "alias"]));
    phase.addTable("ui event", resolve("ui event", ["template", "event"]));
    phase.addTable("ui event state", resolve("ui event state", ["template", "event", "key", "value"]));
    phase.addTable("ui event state binding", resolve("ui event state binding", ["template", "event", "key", "source", "alias"]));
    phase.addTable("system ui", ["template"]);
    phase.apply(true);
    //-----------------------------------------------------------------------------
    // Testing
    //-----------------------------------------------------------------------------
    phase = new BSPhase(app_1.eve);
    var testData = {
        "test data": ["collection"],
        pet: ["collection"],
        exotic: ["collection"],
        dangerous: ["collection"],
        cat: ["pet"],
        dog: ["pet"],
        fish: ["pet"],
        snake: ["pet", "exotic"],
        koala: ["pet", "exotic"],
        sloth: ["pet", "exotic"],
        kangaroo: ["exotic"],
        giraffe: ["exotic"],
        gorilla: ["exotic", "dangerous"],
        kodowa: ["company"],
        engineering: ["department"],
        operations: ["department"],
        magic: ["department"],
        josh: ["employee"],
        corey: ["employee"],
        jamie: ["employee"],
        chris: ["employee"],
        rob: ["employee"],
        eric: ["employee"],
    };
    var testAttrs = {
        cat: { length: 4 },
        dog: { length: 3 },
        fish: { length: 1 },
        snake: { length: 4 },
        koala: { length: 3 },
        sloth: { length: 3 },
        engineering: { company: "kodowa" },
        operations: { company: "kodowa" },
        magic: { company: "kodowa" },
        josh: { department: "engineering", salary: 7 },
        corey: { department: "engineering", salary: 10 },
        jamie: { department: "engineering", salary: 7 },
        chris: { department: "engineering", salary: 10 },
        eric: { department: "engineering", salary: 7 },
        rob: { department: "operations", salary: 10 },
    };
    for (var entity in testData)
        phase.addEntity(entity, entity, ["test data"].concat(testData[entity]), testAttrs[entity]);
    // phase.addTable("department", ["department"])
    //   .addFact("department", {department: "engineering"})
    //   .addFact("department", {department: "operations"})
    //   .addFact("department", {department: "magic"});
    // phase.addTable("employee", ["department", "employee", "salary"])
    //   .addFact("employee", {department: "engineering", employee: "josh", salary: 10})
    //   .addFact("employee", {department: "engineering", employee: "corey", salary: 11})
    //   .addFact("employee", {department: "engineering", employee: "chris", salary: 7})
    //   .addFact("employee", {department: "operations", employee: "rob", salary: 7});
    phase.apply(true);
    window["p"] = phase;
    var _a, _b, _c, _d, _e, _f;
});
window["bootstrap"] = exports;

},{"./app":2,"./parser":5,"./queryParser.ts":6,"./runtime":8,"./uiRenderer":11,"./utils":12,"./wiki":13}],4:[function(require,module,exports){
function now() {
    if (window.performance) {
        return window.performance.now();
    }
    return (new Date()).getTime();
}
function shallowEquals(a, b) {
    if (a === b)
        return true;
    if (!a || !b)
        return false;
    for (var k in a) {
        if (a[k] !== b[k])
            return false;
    }
    for (var k in b) {
        if (b[k] !== a[k])
            return false;
    }
    return true;
}
function postAnimationRemove(elements) {
    for (var _i = 0; _i < elements.length; _i++) {
        var elem = elements[_i];
        if (elem.parentNode)
            elem.parentNode.removeChild(elem);
    }
}
var Renderer = (function () {
    function Renderer() {
        this.content = document.createElement("div");
        this.content.className = "__root";
        this.elementCache = { "__root": this.content };
        this.prevTree = {};
        this.tree = {};
        this.postRenders = [];
        this.lastDiff = { adds: [], updates: {} };
        var self = this;
        this.handleEvent = function handleEvent(e) {
            var id = (e.currentTarget || e.target)["_id"];
            var elem = self.tree[id];
            if (!elem)
                return;
            var handler = elem[e.type];
            if (handler) {
                handler(e, elem);
            }
        };
    }
    Renderer.prototype.reset = function () {
        this.prevTree = this.tree;
        this.tree = {};
        this.postRenders = [];
    };
    Renderer.prototype.domify = function () {
        var fakePrev = {}; //create an empty object once instead of every instance of the loop
        var elements = this.tree;
        var prevElements = this.prevTree;
        var diff = this.lastDiff;
        var adds = diff.adds;
        var updates = diff.updates;
        var elemKeys = Object.keys(updates);
        var elementCache = this.elementCache;
        var tempTween = {};
        //Create all the new elements to ensure that they're there when they need to be
        //parented
        for (var i = 0, len = adds.length; i < len; i++) {
            var id = adds[i];
            var cur = elements[id];
            var div;
            if (cur.svg) {
                div = document.createElementNS("http://www.w3.org/2000/svg", cur.t || "rect");
            }
            else {
                div = document.createElement(cur.t || "div");
            }
            div._id = id;
            elementCache[id] = div;
            if (cur.enter) {
                if (cur.enter.delay) {
                    cur.enter.display = "auto";
                    div.style.display = "none";
                }
                Velocity(div, cur.enter, cur.enter);
            }
        }
        for (var i = 0, len = elemKeys.length; i < len; i++) {
            var id = elemKeys[i];
            var cur = elements[id];
            var prev = prevElements[id] || fakePrev;
            var type = updates[id];
            var div;
            if (type === "replaced") {
                var me = elementCache[id];
                if (me.parentNode)
                    me.parentNode.removeChild(me);
                if (cur.svg) {
                    div = document.createElementNS("http://www.w3.org/2000/svg", cur.t || "rect");
                }
                else {
                    div = document.createElement(cur.t || "div");
                }
                div._id = id;
                elementCache[id] = div;
            }
            else if (type === "removed") {
                //NOTE: Batching the removes such that you only remove the parent
                //didn't actually make this faster surprisingly. Given that this
                //strategy is much simpler and there's no noticable perf difference
                //we'll just do the dumb thing and remove all the children one by one.
                var me = elementCache[id];
                if (prev.leave) {
                    prev.leave.complete = postAnimationRemove;
                    if (prev.leave.absolute) {
                        me.style.position = "absolute";
                    }
                    Velocity(me, prev.leave, prev.leave);
                }
                else if (me.parentNode)
                    me.parentNode.removeChild(me);
                elementCache[id] = null;
                continue;
            }
            else {
                div = elementCache[id];
            }
            var style = div.style;
            if (cur.c !== prev.c)
                div.className = cur.c;
            if (cur.draggable !== prev.draggable)
                div.draggable = cur.draggable === undefined ? null : "true";
            if (cur.contentEditable !== prev.contentEditable)
                div.contentEditable = cur.contentEditable || "inherit";
            if (cur.colspan !== prev.colspan)
                div.colSpan = cur.colspan;
            if (cur.placeholder !== prev.placeholder)
                div.placeholder = cur.placeholder;
            if (cur.selected !== prev.selected)
                div.selected = cur.selected;
            if (cur.value !== prev.value)
                div.value = cur.value;
            if (cur.t === "input" && cur.type !== prev.type)
                div.type = cur.type;
            if (cur.t === "input" && cur.checked !== prev.checked)
                div.checked = cur.checked;
            if ((cur.text !== prev.text || cur.strictText) && div.textContent !== cur.text)
                div.textContent = cur.text === undefined ? "" : cur.text;
            if (cur.tabindex !== prev.tabindex)
                div.setAttribute("tabindex", cur.tabindex);
            if (cur.href !== prev.href)
                div.setAttribute("href", cur.href);
            // animateable properties
            var tween = cur.tween || tempTween;
            if (cur.flex !== prev.flex) {
                if (tween.flex)
                    tempTween.flex = cur.flex;
                else
                    style.flex = cur.flex === undefined ? "" : cur.flex;
            }
            if (cur.left !== prev.left) {
                if (tween.left)
                    tempTween.left = cur.left;
                else
                    style.left = cur.left === undefined ? "" : cur.left;
            }
            if (cur.top !== prev.top) {
                if (tween.top)
                    tempTween.top = cur.top;
                else
                    style.top = cur.top === undefined ? "" : cur.top;
            }
            if (cur.height !== prev.height) {
                if (tween.height)
                    tempTween.height = cur.height;
                else
                    style.height = cur.height === undefined ? "auto" : cur.height;
            }
            if (cur.width !== prev.width) {
                if (tween.width)
                    tempTween.width = cur.width;
                else
                    style.width = cur.width === undefined ? "auto" : cur.width;
            }
            if (cur.zIndex !== prev.zIndex) {
                if (tween.zIndex)
                    tempTween.zIndex = cur.zIndex;
                else
                    style.zIndex = cur.zIndex;
            }
            if (cur.backgroundColor !== prev.backgroundColor) {
                if (tween.backgroundColor)
                    tempTween.backgroundColor = cur.backgroundColor;
                else
                    style.backgroundColor = cur.backgroundColor || "transparent";
            }
            if (cur.borderColor !== prev.borderColor) {
                if (tween.borderColor)
                    tempTween.borderColor = cur.borderColor;
                else
                    style.borderColor = cur.borderColor || "none";
            }
            if (cur.borderWidth !== prev.borderWidth) {
                if (tween.borderWidth)
                    tempTween.borderWidth = cur.borderWidth;
                else
                    style.borderWidth = cur.borderWidth || 0;
            }
            if (cur.borderRadius !== prev.borderRadius) {
                if (tween.borderRadius)
                    tempTween.borderRadius = cur.borderRadius;
                else
                    style.borderRadius = (cur.borderRadius || 0) + "px";
            }
            if (cur.opacity !== prev.opacity) {
                if (tween.opacity)
                    tempTween.opacity = cur.opacity;
                else
                    style.opacity = cur.opacity === undefined ? 1 : cur.opacity;
            }
            if (cur.fontSize !== prev.fontSize) {
                if (tween.fontSize)
                    tempTween.fontSize = cur.fontSize;
                else
                    style.fontSize = cur.fontSize;
            }
            if (cur.color !== prev.color) {
                if (tween.color)
                    tempTween.color = cur.color;
                else
                    style.color = cur.color || "inherit";
            }
            var animKeys = Object.keys(tempTween);
            if (animKeys.length) {
                Velocity(div, tempTween, tween);
                tempTween = {};
            }
            // non-animation style properties
            if (cur.backgroundImage !== prev.backgroundImage)
                style.backgroundImage = "url('" + cur.backgroundImage + "')";
            if (cur.border !== prev.border)
                style.border = cur.border || "none";
            if (cur.textAlign !== prev.textAlign) {
                style.alignItems = cur.textAlign;
                if (cur.textAlign === "center") {
                    style.textAlign = "center";
                }
                else if (cur.textAlign === "flex-end") {
                    style.textAlign = "right";
                }
                else {
                    style.textAlign = "left";
                }
            }
            if (cur.verticalAlign !== prev.verticalAlign)
                style.justifyContent = cur.verticalAlign;
            if (cur.fontFamily !== prev.fontFamily)
                style.fontFamily = cur.fontFamily || "inherit";
            if (cur.transform !== prev.transform)
                style.transform = cur.transform || "none";
            if (cur.style !== prev.style)
                div.setAttribute("style", cur.style);
            if (cur.dangerouslySetInnerHTML !== prev.dangerouslySetInnerHTML)
                div.innerHTML = cur.dangerouslySetInnerHTML;
            // debug/programmatic properties
            if (cur.semantic !== prev.semantic)
                div.setAttribute("data-semantic", cur.semantic);
            if (cur.debug !== prev.debug)
                div.setAttribute("data-debug", cur.debug);
            // SVG properties
            if (cur.svg) {
                if (cur.fill !== prev.fill)
                    div.setAttributeNS(null, "fill", cur.fill);
                if (cur.stroke !== prev.stroke)
                    div.setAttributeNS(null, "stroke", cur.stroke);
                if (cur.strokeWidth !== prev.strokeWidth)
                    div.setAttributeNS(null, "stroke-width", cur.strokeWidth);
                if (cur.d !== prev.d)
                    div.setAttributeNS(null, "d", cur.d);
                if (cur.c !== prev.c)
                    div.setAttributeNS(null, "class", cur.c);
                if (cur.x !== prev.x)
                    div.setAttributeNS(null, "x", cur.x);
                if (cur.y !== prev.y)
                    div.setAttributeNS(null, "y", cur.y);
                if (cur.dx !== prev.dx)
                    div.setAttributeNS(null, "dx", cur.dx);
                if (cur.dy !== prev.dy)
                    div.setAttributeNS(null, "dy", cur.dy);
                if (cur.cx !== prev.cx)
                    div.setAttributeNS(null, "cx", cur.cx);
                if (cur.cy !== prev.cy)
                    div.setAttributeNS(null, "cy", cur.cy);
                if (cur.r !== prev.r)
                    div.setAttributeNS(null, "r", cur.r);
                if (cur.height !== prev.height)
                    div.setAttributeNS(null, "height", cur.height);
                if (cur.width !== prev.width)
                    div.setAttributeNS(null, "width", cur.width);
                if (cur.xlinkhref !== prev.xlinkhref)
                    div.setAttributeNS('http://www.w3.org/1999/xlink', "href", cur.xlinkhref);
                if (cur.startOffset !== prev.startOffset)
                    div.setAttributeNS(null, "startOffset", cur.startOffset);
                if (cur.id !== prev.id)
                    div.setAttributeNS(null, "id", cur.id);
                if (cur.viewBox !== prev.viewBox)
                    div.setAttributeNS(null, "viewBox", cur.viewBox);
                if (cur.transform !== prev.transform)
                    div.setAttributeNS(null, "transform", cur.transform);
                if (cur.draggable !== prev.draggable)
                    div.setAttributeNS(null, "draggable", cur.draggable);
                if (cur.textAnchor !== prev.textAnchor)
                    div.setAttributeNS(null, "text-anchor", cur.textAnchor);
            }
            //events
            if (cur.dblclick !== prev.dblclick)
                div.ondblclick = cur.dblclick !== undefined ? this.handleEvent : undefined;
            if (cur.click !== prev.click)
                div.onclick = cur.click !== undefined ? this.handleEvent : undefined;
            if (cur.contextmenu !== prev.contextmenu)
                div.oncontextmenu = cur.contextmenu !== undefined ? this.handleEvent : undefined;
            if (cur.mousedown !== prev.mousedown)
                div.onmousedown = cur.mousedown !== undefined ? this.handleEvent : undefined;
            if (cur.mousemove !== prev.mousemove)
                div.onmousemove = cur.mousemove !== undefined ? this.handleEvent : undefined;
            if (cur.mouseup !== prev.mouseup)
                div.onmouseup = cur.mouseup !== undefined ? this.handleEvent : undefined;
            if (cur.mouseover !== prev.mouseover)
                div.onmouseover = cur.mouseover !== undefined ? this.handleEvent : undefined;
            if (cur.mouseout !== prev.mouseout)
                div.onmouseout = cur.mouseout !== undefined ? this.handleEvent : undefined;
            if (cur.mouseleave !== prev.mouseleave)
                div.onmouseleave = cur.mouseleave !== undefined ? this.handleEvent : undefined;
            if (cur.mousewheel !== prev.mousewheel)
                div.onmouseheel = cur.mousewheel !== undefined ? this.handleEvent : undefined;
            if (cur.dragover !== prev.dragover)
                div.ondragover = cur.dragover !== undefined ? this.handleEvent : undefined;
            if (cur.dragstart !== prev.dragstart)
                div.ondragstart = cur.dragstart !== undefined ? this.handleEvent : undefined;
            if (cur.dragend !== prev.dragend)
                div.ondragend = cur.dragend !== undefined ? this.handleEvent : undefined;
            if (cur.drag !== prev.drag)
                div.ondrag = cur.drag !== undefined ? this.handleEvent : undefined;
            if (cur.drop !== prev.drop)
                div.ondrop = cur.drop !== undefined ? this.handleEvent : undefined;
            if (cur.scroll !== prev.scroll)
                div.onscroll = cur.scroll !== undefined ? this.handleEvent : undefined;
            if (cur.focus !== prev.focus)
                div.onfocus = cur.focus !== undefined ? this.handleEvent : undefined;
            if (cur.blur !== prev.blur)
                div.onblur = cur.blur !== undefined ? this.handleEvent : undefined;
            if (cur.input !== prev.input)
                div.oninput = cur.input !== undefined ? this.handleEvent : undefined;
            if (cur.change !== prev.change)
                div.onchange = cur.change !== undefined ? this.handleEvent : undefined;
            if (cur.keyup !== prev.keyup)
                div.onkeyup = cur.keyup !== undefined ? this.handleEvent : undefined;
            if (cur.keydown !== prev.keydown)
                div.onkeydown = cur.keydown !== undefined ? this.handleEvent : undefined;
            if (type === "added" || type === "replaced" || type === "moved") {
                var parentEl = elementCache[cur.parent];
                if (parentEl) {
                    if (cur.ix >= parentEl.children.length) {
                        parentEl.appendChild(div);
                    }
                    else {
                        parentEl.insertBefore(div, parentEl.children[cur.ix]);
                    }
                }
            }
        }
    };
    Renderer.prototype.diff = function () {
        var a = this.prevTree;
        var b = this.tree;
        var as = Object.keys(a);
        var bs = Object.keys(b);
        var updated = {};
        var adds = [];
        for (var i = 0, len = as.length; i < len; i++) {
            var id = as[i];
            var curA = a[id];
            var curB = b[id];
            if (curB === undefined) {
                updated[id] = "removed";
                continue;
            }
            if (curA.t !== curB.t) {
                updated[id] = "replaced";
                continue;
            }
            if (curA.ix !== curB.ix || curA.parent !== curB.parent) {
                updated[id] = "moved";
                continue;
            }
            if (!curB.dirty
                && curA.c === curB.c
                && curA.key === curB.key
                && curA.dangerouslySetInnerHTML === curB.dangerouslySetInnerHTML
                && curA.tabindex === curB.tabindex
                && curA.href === curB.href
                && curA.placeholder === curB.placeholder
                && curA.selected === curB.selected
                && curA.draggable === curB.draggable
                && curA.contentEditable === curB.contentEditable
                && curA.value === curB.value
                && curA.type === curB.type
                && curA.checked === curB.checked
                && curA.text === curB.text
                && curA.top === curB.top
                && curA.flex === curB.flex
                && curA.left === curB.left
                && curA.width === curB.width
                && curA.height === curB.height
                && curA.zIndex === curB.zIndex
                && curA.backgroundColor === curB.backgroundColor
                && curA.backgroundImage === curB.backgroundImage
                && curA.color === curB.color
                && curA.colspan === curB.colspan
                && curA.border === curB.border
                && curA.borderColor === curB.borderColor
                && curA.borderWidth === curB.borderWidth
                && curA.borderRadius === curB.borderRadius
                && curA.opacity === curB.opacity
                && curA.fontFamily === curB.fontFamily
                && curA.fontSize === curB.fontSize
                && curA.textAlign === curB.textAlign
                && curA.transform === curB.transform
                && curA.verticalAlign === curB.verticalAlign
                && curA.semantic === curB.semantic
                && curA.debug === curB.debug
                && curA.style === curB.style
                && (curB.svg === undefined || (curA.x === curB.x
                    && curA.y === curB.y
                    && curA.dx === curB.dx
                    && curA.dy === curB.dy
                    && curA.cx === curB.cx
                    && curA.cy === curB.cy
                    && curA.r === curB.r
                    && curA.d === curB.d
                    && curA.fill === curB.fill
                    && curA.stroke === curB.stroke
                    && curA.strokeWidth === curB.strokeWidth
                    && curA.startOffset === curB.startOffset
                    && curA.textAnchor === curB.textAnchor
                    && curA.viewBox === curB.viewBox
                    && curA.xlinkhref === curB.xlinkhref))) {
                continue;
            }
            updated[id] = "updated";
        }
        for (var i = 0, len = bs.length; i < len; i++) {
            var id = bs[i];
            var curA = a[id];
            if (curA === undefined) {
                adds.push(id);
                updated[id] = "added";
                continue;
            }
        }
        this.lastDiff = { adds: adds, updates: updated };
        return this.lastDiff;
    };
    Renderer.prototype.prepare = function (root) {
        var elemLen = 1;
        var tree = this.tree;
        var elements = [root];
        var elem;
        for (var elemIx = 0; elemIx < elemLen; elemIx++) {
            elem = elements[elemIx];
            if (elem.parent === undefined)
                elem.parent = "__root";
            if (elem.id === undefined)
                elem.id = "__root__" + elemIx;
            tree[elem.id] = elem;
            if (elem.postRender !== undefined) {
                this.postRenders.push(elem);
            }
            var children = elem.children;
            if (children !== undefined) {
                for (var childIx = 0, len = children.length; childIx < len; childIx++) {
                    var child = children[childIx];
                    if (child === undefined)
                        continue;
                    if (child.id === undefined) {
                        child.id = elem.id + "__" + childIx;
                    }
                    if (child.ix === undefined) {
                        child.ix = childIx;
                    }
                    if (child.parent === undefined) {
                        child.parent = elem.id;
                    }
                    elements.push(child);
                    elemLen++;
                }
            }
        }
        return tree;
    };
    Renderer.prototype.postDomify = function () {
        var postRenders = this.postRenders;
        var diff = this.lastDiff.updates;
        var elementCache = this.elementCache;
        for (var i = 0, len = postRenders.length; i < len; i++) {
            var elem = postRenders[i];
            var id = elem.id;
            if (diff[id] === "updated" || diff[id] === "added" || diff[id] === "replaced" || elem.dirty) {
                elem.postRender(elementCache[elem.id], elem);
            }
        }
    };
    Renderer.prototype.render = function (elems) {
        this.reset();
        // We sort elements by depth to allow them to be self referential.
        elems.sort(function (a, b) { return (a.parent ? a.parent.split("__").length : 0) - (b.parent ? b.parent.split("__").length : 0); });
        var start = now();
        for (var _i = 0; _i < elems.length; _i++) {
            var elem = elems[_i];
            var post = this.prepare(elem);
        }
        var prepare = now();
        var d = this.diff();
        var diff = now();
        this.domify();
        var domify = now();
        this.postDomify();
        var postDomify = now();
        var time = now() - start;
        if (time > 5) {
            console.log("slow render (> 5ms): ", time, {
                prepare: prepare - start,
                diff: diff - prepare,
                domify: domify - diff,
                postDomify: postDomify - domify
            });
        }
    };
    return Renderer;
})();
exports.Renderer = Renderer;

},{}],5:[function(require,module,exports){
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var utils_1 = require("./utils");
var runtime = require("./runtime");
var app_1 = require("./app");
var ParseError = (function (_super) {
    __extends(ParseError, _super);
    function ParseError(message, line, lineIx, charIx, length) {
        if (charIx === void 0) { charIx = 0; }
        if (length === void 0) { length = line && (line.length - charIx); }
        _super.call(this, message);
        this.message = message;
        this.line = line;
        this.lineIx = lineIx;
        this.charIx = charIx;
        this.length = length;
        this.name = "Parse Error";
    }
    ParseError.prototype.toString = function () {
        return (_a = ["\n      ", ": ", "\n      ", "\n      ", "\n      ", "\n    "], _a.raw = ["\n      ", ": ", "\n      ", "\n      ", "\n      ", "\n    "], utils_1.unpad(6)(_a, this.name, this.message, this.lineIx !== undefined ? "On line " + (this.lineIx + 1) + ":" + this.charIx : "", this.line, utils_1.underline(this.charIx, this.length)));
        var _a;
    };
    return ParseError;
})(Error);
function maybe(val) {
    if (val instanceof Error)
        throw Error;
    return val;
}
function readWhile(str, substring, startIx) {
    var endIx = startIx;
    while (str[endIx] === substring)
        endIx++;
    return str.slice(startIx, endIx);
}
function readUntil(str, sentinel, startIx, unsatisfiedErr) {
    var endIx = str.indexOf(sentinel, startIx);
    if (endIx === -1) {
        if (unsatisfiedErr)
            return unsatisfiedErr;
        return str.slice(startIx);
    }
    return str.slice(startIx, endIx);
}
function readUntilAny(str, sentinels, startIx, unsatisfiedErr) {
    var endIx = -1;
    for (var _i = 0; _i < sentinels.length; _i++) {
        var sentinel = sentinels[_i];
        var ix = str.indexOf(sentinel, startIx);
        if (ix === -1 || endIx !== -1 && ix > endIx)
            continue;
        endIx = ix;
    }
    if (endIx === -1) {
        if (unsatisfiedErr)
            return unsatisfiedErr;
        return str.slice(startIx);
    }
    return str.slice(startIx, endIx);
}
function getAlias(line, lineIx, charIx) {
    var alias = utils_1.uuid();
    var aliasIx = line.lastIndexOf("as [");
    if (aliasIx !== -1) {
        alias = readUntil(line, "]", aliasIx + 4, new ParseError("Alias must terminate in a closing ']'", line, lineIx, line.length));
        if (alias instanceof Error)
            return alias;
    }
    else
        aliasIx = undefined;
    return [alias, aliasIx];
}
function maybeCoerceAlias(maybeAlias) {
    if (maybeAlias[0] === "[") {
        if (maybeAlias[maybeAlias.length - 1] !== "]")
            return new Error("Attribute aliases must terminate in a closing ']'");
        var _a = maybeAlias.slice(1, -1).split(","), source = _a[0], attribute = _a[1];
        if (!attribute)
            return new Error("Attribute aliases must contain a source, attribute pair");
        return [source.trim(), attribute.trim()];
    }
    return utils_1.coerceInput(maybeAlias);
}
function getMapArgs(line, lineIx, charIx) {
    var args = {};
    if (line[charIx] === "{") {
        var endIx = line.indexOf("}", charIx);
        if (endIx === -1)
            return [new ParseError("Args must terminate in a closing '}'", line, lineIx, line.length), line.length];
        var syntaxErrorIx = line.indexOf("],");
        if (syntaxErrorIx !== -1)
            return [new ParseError("Args are delimited by ';', not ','", line, lineIx, syntaxErrorIx + 1, 0), charIx];
        for (var _i = 0, _a = line.slice(++charIx, endIx).split(";"); _i < _a.length; _i++) {
            var pair = _a[_i];
            var _b = pair.split(":"), key = _b[0], val = _b[1];
            if (key === undefined || val === undefined)
                return [new ParseError("Args must be specified in key: value pairs", line, lineIx, charIx, pair.length), charIx + pair.length + 1];
            var coerced = args[key.trim()] = maybeCoerceAlias(val.trim());
            if (coerced instanceof Error) {
                var valIx = charIx + pair.indexOf("[");
                return [new ParseError(coerced.message, line, lineIx, valIx), valIx];
            }
            charIx += pair.length + 1;
        }
        return [args, endIx + 1];
    }
    return [undefined, charIx];
}
function getListArgs(line, lineIx, charIx) {
    var args = [];
    if (line[charIx] === "{") {
        var endIx = line.indexOf("}", charIx);
        if (endIx === -1)
            return [new ParseError("Args must terminate in a closing '}'", line, lineIx, line.length), line.length];
        var syntaxErrorIx = line.indexOf("],");
        if (syntaxErrorIx !== -1)
            return [new ParseError("Args are delimited by ';', not ','", line, lineIx, syntaxErrorIx + 1, 0), charIx];
        for (var _i = 0, _a = line.slice(++charIx, endIx).split(";"); _i < _a.length; _i++) {
            var val = _a[_i];
            var coerced = maybeCoerceAlias(val.trim());
            if (coerced instanceof Error) {
                var valIx = charIx + val.indexOf("[");
                return [new ParseError(coerced.message, line, lineIx, valIx), valIx];
            }
            args.push(coerced);
            charIx += alert.length + 1;
        }
        return [args, charIx];
    }
    return [undefined, charIx];
}
function getDeselect(line, lineIx, charIx) {
    var deselect = false;
    if (line[charIx] === "!") {
        deselect = true;
        charIx++;
        while (line[charIx] === " ")
            charIx++;
    }
    return [deselect, charIx];
}
var parsePlanStep = (_a = {},
    _a["#"] = function () {
        return;
    },
    // Sources
    _a.find = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var entity = line.slice(charIx, aliasIx).trim();
        if (!entity)
            return new ParseError("Find step must specify a valid entity id", line, lineIx, charIx);
        var step = { type: "find", id: alias, entity: entity };
        return step;
    },
    _a.gather = function (line, lineIx, charIx, relatedTo) {
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var collection = line.slice(charIx, aliasIx).trim();
        if (!collection)
            return new ParseError("Gather step must specify a valid collection id", line, lineIx, charIx);
        var step = { type: "gather", id: alias, collection: collection, relatedTo: relatedTo };
        return step;
    },
    // Joins
    _a.lookup = function (line, lineIx, charIx, relatedTo) {
        if (!relatedTo)
            return new ParseError("Lookup step must be a child of a root", line, lineIx, charIx);
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var deselect;
        _b = getDeselect(line, lineIx, charIx), deselect = _b[0], charIx = _b[1];
        var attribute = line.slice(charIx, aliasIx).trim();
        if (!attribute)
            return new ParseError("Lookup step must specify a valid attribute id.", line, lineIx, charIx);
        var step = { type: "lookup", id: alias, name: alias, attribute: attribute, deselect: deselect, relatedTo: relatedTo };
        return step;
        var _b;
    },
    _a.intersect = function (line, lineIx, charIx, relatedTo) {
        if (!relatedTo)
            return new ParseError("Lookup step must be a child of a root", line, lineIx, charIx);
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var deselect;
        _b = getDeselect(line, lineIx, charIx), deselect = _b[0], charIx = _b[1];
        var collection = line.slice(charIx, aliasIx).trim();
        if (!collection)
            return new ParseError("Intersect step must specify a valid collection id", line, lineIx, charIx);
        var step = { type: "intersect", id: alias, collection: collection, deselect: deselect, relatedTo: relatedTo };
        return step;
        var _b;
    },
    _a.filterByEntity = function (line, lineIx, charIx, relatedTo) {
        if (!relatedTo)
            return new ParseError("Lookup step must be a child of a root", line, lineIx, charIx);
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var deselect;
        _b = getDeselect(line, lineIx, charIx), deselect = _b[0], charIx = _b[1];
        var entity = line.slice(charIx, aliasIx).trim();
        if (!entity)
            return new ParseError("Intersect step must specify a valid entity id", line, lineIx, charIx, entity.length);
        var step = { type: "filter by entity", id: alias, entity: entity, deselect: deselect, relatedTo: relatedTo };
        return step;
        var _b;
    },
    // Calculations
    _a.filter = function (line, lineIx, charIx) {
        // filter positive
        // filter >; a: 7, b: [person age]
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var lastIx = charIx;
        var filter = readUntil(line, "{", charIx); // @NOTE: Need to remove alias
        charIx += filter.length;
        filter = filter.trim();
        if (!filter)
            return new ParseError("Filter step must specify a valid filter fn", line, lineIx, lastIx);
        var args;
        _b = getMapArgs(line, lineIx, charIx), args = _b[0], charIx = _b[1];
        if (args instanceof Error)
            return args;
        if (line.length > charIx)
            return new ParseError("Filter step contains extraneous text", line, lineIx, charIx);
        var step = { type: "filter", id: alias, func: filter, args: args };
        return step;
        var _b;
    },
    _a.calculate = function (line, lineIx, charIx) {
        // filter positive
        // filter >; a: 7, b: [person age]
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var lastIx = charIx;
        var filter = readUntil(line, "{", charIx); // @NOTE: Need to remove alias
        charIx += filter.length;
        filter = filter.trim();
        if (!filter)
            return new ParseError("Calculate step must specify a valid calculate fn", line, lineIx, lastIx);
        var args;
        _b = getMapArgs(line, lineIx, charIx), args = _b[0], charIx = _b[1];
        if (args instanceof Error)
            return args;
        var step = { type: "calculate", id: alias, func: filter, args: args };
        return step;
        var _b;
    },
    _a
);
function parsePlan(str) {
    var plan = [];
    var errors = [];
    var lineIx = 0;
    var lines = str.split("\n");
    var stack = [];
    for (var _i = 0; _i < lines.length; _i++) {
        var line = lines[_i];
        var charIx = 0;
        while (line[charIx] === " ")
            charIx++;
        var indent = charIx;
        if (line[charIx] === undefined)
            continue;
        var related = void 0;
        for (var stackIx = stack.length - 1; stackIx >= 0; stackIx--) {
            if (indent > stack[stackIx].indent) {
                related = stack[stackIx].step;
                break;
            }
            else
                stack.pop();
        }
        var keyword = readUntil(line, " ", charIx);
        charIx += keyword.length;
        var step = void 0;
        if (parsePlanStep[keyword])
            step = parsePlanStep[keyword](line, lineIx, charIx, related);
        else
            step = new ParseError("Keyword '" + keyword + "' is not a valid plan step, ignoring", line, lineIx, charIx - keyword.length, keyword.length);
        if (step && step["args"]) {
            var args = step["args"];
            for (var arg in args) {
                if (args[arg] instanceof Array) {
                    var source = args[arg][0];
                    var valid = false;
                    for (var _a = 0; _a < plan.length; _a++) {
                        var step_1 = plan[_a];
                        if (step_1.id === source) {
                            valid = true;
                            break;
                        }
                    }
                    if (!valid) {
                        step = new ParseError("Alias source '" + source + "' does not exist in plan", line, lineIx, line.indexOf("[" + source + ",") + 1, source.length);
                    }
                }
            }
        }
        if (step instanceof Error)
            errors.push(step);
        else if (step) {
            plan.push(step);
            stack.push({ indent: indent, step: step });
        }
        lineIx++;
    }
    if (errors.length) {
        for (var _b = 0; _b < errors.length; _b++) {
            var err = errors[_b];
            console.error(err);
        }
    }
    return plan;
}
exports.parsePlan = parsePlan;
var parseQueryStep = (_b = {},
    _b["#"] = function () {
        return;
    },
    _b.select = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var lastIx = charIx;
        var viewRaw = readUntil(line, "{", charIx).slice(0, aliasIx ? aliasIx - charIx : undefined);
        charIx += viewRaw.length;
        var view = viewRaw.trim();
        if (!view)
            return new ParseError("Select step must specify a valid view id", line, lineIx, lastIx, viewRaw.length);
        var join;
        _b = getMapArgs(line, lineIx, charIx), join = _b[0], charIx = _b[1];
        if (join instanceof Error)
            return join;
        var step = { type: "select", id: alias, view: view, join: join };
        return step;
        var _b;
    },
    _b.deselect = function (line, lineIx, charIx) {
        var step = parseQueryStep["select"](line, lineIx, charIx);
        if (step instanceof Error)
            return step;
        step.type = "deselect";
        return step;
    },
    _b.calculate = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var _a = getAlias(line, lineIx, charIx), alias = _a[0], aliasIx = _a[1];
        var lastIx = charIx;
        var funcRaw = readUntil(line, "{", charIx).slice(0, aliasIx ? aliasIx - charIx : undefined);
        charIx += funcRaw.length;
        var func = funcRaw.trim();
        if (!func)
            return new ParseError("Calculate step must specify a valid function id", line, lineIx, lastIx, funcRaw.length);
        var args;
        _b = getMapArgs(line, lineIx, charIx), args = _b[0], charIx = _b[1];
        if (args instanceof Error)
            return args;
        var step = { type: "calculate", id: alias, func: func, args: args };
        return step;
        var _b;
    },
    _b.aggregate = function (line, lineIx, charIx) {
        var step = parseQueryStep["calculate"](line, lineIx, charIx);
        if (step instanceof Error)
            return step;
        step.type = "aggregate";
        return step;
    },
    _b.ordinal = function (line, lineIx, charIx) {
        var step = { type: "ordinal" };
        return step;
    },
    _b.group = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var groups;
        _a = getListArgs(line, lineIx, charIx), groups = _a[0], charIx = _a[1];
        if (groups instanceof Error)
            return groups;
        var step = { type: "group", groups: groups };
        return step;
        var _a;
    },
    _b.sort = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var sorts;
        _a = getListArgs(line, lineIx, charIx), sorts = _a[0], charIx = _a[1];
        if (sorts instanceof Error)
            return sorts;
        var step = { type: "sort", sorts: sorts };
        return step;
        var _a;
    },
    _b.limit = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var args;
        _a = getMapArgs(line, lineIx, charIx), args = _a[0], charIx = _a[1];
        if (args instanceof Error)
            return args;
        for (var _i = 0, _b = Object.keys(args); _i < _b.length; _i++) {
            var key = _b[_i];
            if (key !== "results" && key !== "perGroup")
                return new ParseError("Limit may only apply perGroup or to results", line, lineIx, charIx);
        }
        var step = { type: "limit", limit: args };
        return step;
        var _a;
    },
    _b.project = function (line, lineIx, charIx) {
        while (line[charIx] === " ")
            charIx++;
        var args;
        _a = getMapArgs(line, lineIx, charIx), args = _a[0], charIx = _a[1];
        if (args instanceof Error)
            return args;
        var step = { type: "project", mapping: args };
        return step;
        var _a;
    },
    _b
);
function parseQuery(str) {
    var plan = [];
    var errors = [];
    var lineIx = 0;
    var lines = str.split("\n");
    for (var _i = 0; _i < lines.length; _i++) {
        var line = lines[_i];
        var charIx = 0;
        while (line[charIx] === " ")
            charIx++;
        if (line[charIx] === undefined)
            continue;
        var keyword = readUntil(line, " ", charIx);
        charIx += keyword.length;
        var step = void 0;
        if (parseQueryStep[keyword])
            step = parseQueryStep[keyword](line, lineIx, charIx);
        else
            step = new ParseError("Keyword '" + keyword + "' is not a valid query step, ignoring", line, lineIx, charIx - keyword.length, keyword.length);
        if (step && step["args"]) {
            var args = step["args"];
            for (var arg in args) {
                if (args[arg] instanceof Array) {
                    var source = args[arg][0];
                    var valid = false;
                    for (var _a = 0; _a < plan.length; _a++) {
                        var step_2 = plan[_a];
                        if (step_2.id === source) {
                            valid = true;
                            break;
                        }
                    }
                    if (!valid) {
                        step = new ParseError("Alias source '" + source + "' does not exist in query", line, lineIx, line.indexOf("[" + source + ",") + 1, source.length);
                    }
                }
            }
        }
        if (step instanceof Error)
            errors.push(step);
        else if (step)
            plan.push(step);
        lineIx++;
    }
    if (errors.length) {
        // @FIXME: Return errors instead of logging them.
        for (var _b = 0; _b < errors.length; _b++) {
            var err = errors[_b];
            console.error(err.toString());
        }
    }
    return plan;
}
exports.parseQuery = parseQuery;
function parseUI(str) {
    var root = {};
    var errors = [];
    var lineIx = 0;
    var lines = str.split("\n");
    var stack = [{ indent: -2, elem: root }];
    // @FIXME: Chunk into element chunks instead of lines to enable in-argument continuation.
    for (var _i = 0; _i < lines.length; _i++) {
        var line = lines[_i];
        var charIx = 0;
        while (line[charIx] === " ")
            charIx++;
        var indent = charIx;
        if (line[charIx] === undefined)
            continue;
        var parent_1 = void 0;
        for (var stackIx = stack.length - 1; stackIx >= 0; stackIx--) {
            if (indent > stack[stackIx].indent) {
                parent_1 = stack[stackIx].elem;
                break;
            }
            else
                stack.pop();
        }
        var keyword = readUntil(line, " ", charIx);
        charIx += keyword.length;
        if (keyword[0] === "~" || keyword[0] === "%") {
            charIx -= keyword.length - 1;
            var kind = keyword[0] === "~" ? "plan" : "query";
            if (!parent_1.binding) {
                parent_1.binding = line.slice(charIx);
                parent_1.bindingKind = kind;
            }
            else if (kind === parent_1.bindingKind)
                parent_1.binding += "\n" + line.slice(charIx);
            else {
                errors.push(new ParseError("UI must be bound to a single type of query.", line, lineIx));
                continue;
            }
            charIx = line.length;
        }
        else if (keyword[0] === "@") {
            charIx -= keyword.length - 1;
            var err = void 0;
            while (line[charIx] === " ")
                charIx++;
            var lastIx = charIx;
            var eventRaw = readUntil(line, "{", charIx);
            charIx += eventRaw.length;
            var event_1 = eventRaw.trim();
            if (!event_1)
                err = new ParseError("UI event must specify a valid event name", line, lineIx, lastIx, eventRaw.length);
            var state = void 0;
            _a = getMapArgs(line, lineIx, charIx), state = _a[0], charIx = _a[1];
            if (state instanceof Error && !err)
                err = state;
            if (err) {
                errors.push(err);
                lineIx++;
                continue;
            }
            if (!parent_1.events)
                parent_1.events = {};
            parent_1.events[event_1] = state;
        }
        else if (keyword[0] === ">") {
            charIx -= keyword.length - 1;
            var err = void 0;
            while (line[charIx] === " ")
                charIx++;
            var lastIx = charIx;
            var embedIdRaw = readUntil(line, "{", charIx);
            charIx += embedIdRaw.length;
            var embedId = embedIdRaw.trim();
            if (!embedId)
                err = new ParseError("UI embed must specify a valid element id", line, lineIx, lastIx, embedIdRaw.length);
            var scope = void 0;
            _b = getMapArgs(line, lineIx, charIx), _c = _b[0], scope = _c === void 0 ? {} : _c, charIx = _b[1];
            if (scope instanceof Error && !err)
                err = scope;
            if (err) {
                errors.push(err);
                lineIx++;
                continue;
            }
            var elem = { embedded: scope, id: embedId };
            if (!parent_1.children)
                parent_1.children = [];
            parent_1.children.push(elem);
            stack.push({ indent: indent, elem: elem });
        }
        else {
            var err = void 0;
            if (!keyword)
                err = new ParseError("UI element must specify a valid tag name", line, lineIx, charIx, 0);
            while (line[charIx] === " ")
                charIx++;
            var classesRaw = readUntil(line, "{", charIx);
            charIx += classesRaw.length;
            var classes = classesRaw.trim();
            var attributes = void 0;
            _d = getMapArgs(line, lineIx, charIx), _e = _d[0], attributes = _e === void 0 ? {} : _e, charIx = _d[1];
            if (attributes instanceof Error && !err)
                err = attributes;
            if (err) {
                errors.push(err);
                lineIx++;
                continue;
            }
            attributes["t"] = keyword;
            if (classes)
                attributes["c"] = classes;
            var elem = { id: attributes["id"], attributes: attributes };
            if (!parent_1.children)
                parent_1.children = [];
            parent_1.children.push(elem);
            stack.push({ indent: indent, elem: elem });
        }
        lineIx++;
    }
    if (errors.length) {
        for (var _f = 0; _f < errors.length; _f++) {
            var err = errors[_f];
            console.error(err);
        }
    }
    return root;
    var _a, _b, _c, _d, _e;
}
exports.parseUI = parseUI;
//-----------------------------------------------------------------------------
// Eve DSL Parser
//-----------------------------------------------------------------------------
var TOKEN_TYPE;
(function (TOKEN_TYPE) {
    TOKEN_TYPE[TOKEN_TYPE["EXPR"] = 0] = "EXPR";
    TOKEN_TYPE[TOKEN_TYPE["IDENTIFIER"] = 1] = "IDENTIFIER";
    TOKEN_TYPE[TOKEN_TYPE["KEYWORD"] = 2] = "KEYWORD";
    TOKEN_TYPE[TOKEN_TYPE["STRING"] = 3] = "STRING";
    TOKEN_TYPE[TOKEN_TYPE["LITERAL"] = 4] = "LITERAL";
})(TOKEN_TYPE || (TOKEN_TYPE = {}));
;
var Token = (function () {
    function Token(type, value, lineIx, charIx) {
        this.type = type;
        this.value = value;
        this.lineIx = lineIx;
        this.charIx = charIx;
    }
    Token.identifier = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.IDENTIFIER, value, lineIx, charIx);
    };
    Token.keyword = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.KEYWORD, value, lineIx, charIx);
    };
    Token.string = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.STRING, value, lineIx, charIx);
    };
    Token.literal = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.LITERAL, value, lineIx, charIx);
    };
    Token.prototype.toString = function () {
        if (this.type === Token.TYPE.KEYWORD)
            return ":" + this.value;
        else if (this.type === Token.TYPE.STRING)
            return "\"" + this.value + "\"";
        else
            return this.value.toString();
    };
    Token.TYPE = TOKEN_TYPE;
    return Token;
})();
exports.Token = Token;
var Sexpr = (function () {
    function Sexpr(val, lineIx, charIx, syntax) {
        if (syntax === void 0) { syntax = "expr"; }
        this.lineIx = lineIx;
        this.charIx = charIx;
        this.syntax = syntax;
        this.type = Token.TYPE.EXPR;
        if (val)
            this.value = val.slice();
    }
    Sexpr.list = function (value, lineIx, charIx, syntax) {
        if (value === void 0) { value = []; }
        value = value.slice();
        value.unshift(Token.identifier("list", lineIx, charIx ? charIx + 1 : undefined));
        return new Sexpr(value, lineIx, charIx, syntax ? "list" : undefined);
    };
    Sexpr.hash = function (value, lineIx, charIx, syntax) {
        if (value === void 0) { value = []; }
        value = value.slice();
        value.unshift(Token.identifier("hash", lineIx, charIx ? charIx + 1 : undefined));
        return new Sexpr(value, lineIx, charIx, syntax ? "hash" : undefined);
    };
    Sexpr.asSexprs = function (values) {
        for (var _i = 0; _i < values.length; _i++) {
            var raw = values[_i];
            if (!(raw instanceof Sexpr))
                throw new ParseError("All top level entries must be expressions (got " + raw + ")", undefined, raw.lineIx, raw.charIx);
            else {
                var op = raw.operator;
                if (op.type !== Token.TYPE.IDENTIFIER)
                    throw new ParseError("All expressions must begin with an identifier", undefined, raw.lineIx, raw.charIx);
            }
        }
        return values;
    };
    Sexpr.prototype.toString = function () {
        var content = this.value && this.value.map(function (token) { return token.toString(); }).join(" ");
        var argsContent = this.value && this.arguments.map(function (token) { return token.toString(); }).join(" ");
        if (this.syntax === "hash")
            return "{" + argsContent + "}";
        else if (this.syntax === "list")
            return "[" + argsContent + "]";
        else
            return "(" + content + ")";
    };
    Sexpr.prototype.push = function (val) {
        this.value = this.value || [];
        return this.value.push(val);
    };
    Sexpr.prototype.nth = function (n, val) {
        if (val) {
            this.value = this.value || [];
            return this.value[n] = val;
        }
        return this.value && this.value[n];
    };
    Object.defineProperty(Sexpr.prototype, "operator", {
        get: function () {
            return this.value && this.value[0];
        },
        set: function (op) {
            this.value = this.value || [];
            this.value[0] = op;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Sexpr.prototype, "arguments", {
        get: function () {
            return this.value && this.value.slice(1);
        },
        set: function (args) {
            this.value = this.value || [];
            this.value.length = 1;
            this.value.push.apply(this.value, args);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Sexpr.prototype, "length", {
        get: function () {
            return this.value && this.value.length;
        },
        enumerable: true,
        configurable: true
    });
    return Sexpr;
})();
exports.Sexpr = Sexpr;
var TOKEN_TO_TYPE = {
    "(": "expr",
    ")": "expr",
    "[": "list",
    "]": "list",
    "{": "hash",
    "}": "hash"
};
var hygienicSymbolCounter = 0;
function readSexprs(text) {
    var root = Sexpr.list();
    var token;
    var sexpr = root;
    var sexprs = [root];
    var lines = text.split("\n");
    var lineIx = 0;
    var mode;
    for (var _i = 0; _i < lines.length; _i++) {
        var line = lines[_i];
        var line_1 = lines[lineIx];
        var charIx = 0;
        if (mode === "string")
            token.value += "\n";
        while (charIx < line_1.length) {
            if (mode === "string") {
                if (line_1[charIx] === "\"" && line_1[charIx - 1] !== "\\") {
                    sexpr.push(token);
                    token = mode = undefined;
                    charIx++;
                }
                else
                    token.value += line_1[charIx++];
                continue;
            }
            var padding = readWhile(line_1, " ", charIx);
            charIx += padding.length;
            if (padding.length) {
                if (token)
                    sexpr.push(token);
                token = undefined;
            }
            if (charIx >= line_1.length)
                continue;
            if (line_1[charIx] === ";") {
                charIx = line_1.length;
            }
            else if (line_1[charIx] === "\"") {
                if (!sexpr.length)
                    throw new ParseError("Literal must be an argument in a sexpr.", line_1, lineIx, charIx);
                mode = "string";
                token = Token.string("", lineIx, charIx);
                charIx++;
            }
            else if (line_1[charIx] === ":") {
                if (!sexpr.length)
                    throw new ParseError("Literal must be an argument in a sexpr.", line_1, lineIx, charIx);
                var keyword = readUntilAny(line_1, [" ", ")", "]", "}"], ++charIx);
                sexpr.push(Token.keyword(keyword, lineIx, charIx - 1));
                charIx += keyword.length;
            }
            else if (line_1[charIx] === "(" || line_1[charIx] === "[" || line_1[charIx] === "{") {
                if (token)
                    throw new ParseError("Sexpr arguments must be space separated.", line_1, lineIx, charIx);
                var type = TOKEN_TO_TYPE[line_1[charIx]];
                if (type === "hash")
                    sexpr = Sexpr.hash(undefined, lineIx, charIx);
                else if (type === "list")
                    sexpr = Sexpr.list(undefined, lineIx, charIx);
                else
                    sexpr = new Sexpr(undefined, lineIx, charIx);
                sexpr.syntax = type;
                sexprs.push(sexpr);
                charIx++;
            }
            else if (line_1[charIx] === ")" || line_1[charIx] === "]" || line_1[charIx] === "}") {
                var child = sexprs.pop();
                var type = TOKEN_TO_TYPE[line_1[charIx]];
                if (child.syntax !== type)
                    throw new ParseError("Must terminate " + child.syntax + " before terminating " + type, line_1, lineIx, charIx);
                sexpr = sexprs[sexprs.length - 1];
                if (!sexpr)
                    throw new ParseError("Too many closing parens", line_1, lineIx, charIx);
                sexpr.push(child);
                charIx++;
            }
            else {
                var literal = readUntilAny(line_1, [" ", ")", "]", "}"], charIx);
                var length_1 = literal.length;
                literal = utils_1.coerceInput(literal);
                var type = typeof literal === "string" ? "identifier" : "literal";
                if (!sexpr.length && type !== "identifier")
                    throw new ParseError("Expr must begin with identifier.", line_1, lineIx, charIx);
                if (type === "identifier") {
                    var dotIx = literal.indexOf(".");
                    if (dotIx !== -1) {
                        var child = new Sexpr([
                            Token.identifier("get", lineIx, charIx + 1),
                            Token.identifier(literal.slice(0, dotIx), lineIx, charIx + 3),
                            Token.string(literal.slice(dotIx + 1), lineIx, charIx + 5 + dotIx)
                        ], lineIx, charIx);
                        sexpr.push(child);
                    }
                    else
                        sexpr.push(Token.identifier(literal, lineIx, charIx));
                }
                else
                    sexpr.push(Token.literal(literal, lineIx, charIx));
                charIx += length_1;
            }
        }
        lineIx++;
    }
    if (token)
        throw new ParseError("Unterminated " + TOKEN_TYPE[token.type] + " token", lines[lineIx - 1], lineIx - 1);
    var lastIx = lines.length - 1;
    if (sexprs.length > 1)
        throw new ParseError("Too few closing parens", lines[lastIx], lastIx, lines[lastIx].length);
    return root;
}
exports.readSexprs = readSexprs;
function macroexpandDSL(sexpr) {
    // @TODO: Implement me.
    var op = sexpr.operator;
    if (op.value === "eav") {
        throw new Error("@TODO: Implement me!");
    }
    else if (op.value === "one-of") {
        // (one-of (query ...body) (query ...body) ...) =>
        // (union
        //   (def q1 (query ...body1))
        //   (def q2 (query (negate q1) ...body2)))
        throw new Error("@TODO: Implement me!");
    }
    else if (op.value === "negate") {
        if (sexpr.length > 2)
            throw new ParseError("Negate only take a single body", undefined, sexpr.lineIx, sexpr.charIx);
        var select = macroexpandDSL(Sexpr.asSexprs(sexpr.arguments)[0]);
        select.push(Token.keyword("$$negated"));
        select.push(Token.literal(true));
        return select;
    }
    else if (["hash", "list", "get", "def", "query", "union", "select", "member", "project!", "insert!", "remove!", "load!"].indexOf(op.value) === -1) {
        // (foo-bar :a 5) => (select "foo bar" :a 5)
        var source = op;
        source.type = Token.TYPE.STRING;
        source.value = source.value.replace(/(.?)-(.)/g, "$1 $2");
        var args = sexpr.arguments;
        args.unshift(source);
        sexpr.arguments = args;
        sexpr.operator = Token.identifier("select");
    }
    return sexpr;
}
exports.macroexpandDSL = macroexpandDSL;
var VALUE;
(function (VALUE) {
    VALUE[VALUE["NULL"] = 0] = "NULL";
    VALUE[VALUE["SCALAR"] = 1] = "SCALAR";
    VALUE[VALUE["SET"] = 2] = "SET";
    VALUE[VALUE["VIEW"] = 3] = "VIEW";
})(VALUE || (VALUE = {}));
;
function parseDSL(text) {
    var artifacts = { views: {} };
    var lines = text.split("\n");
    var root = readSexprs(text);
    for (var _i = 0, _a = Sexpr.asSexprs(root.arguments); _i < _a.length; _i++) {
        var raw = _a[_i];
        parseDSLSexpr(raw, artifacts);
    }
    return artifacts;
}
exports.parseDSL = parseDSL;
var primitives = {
    "+": "calculate",
    "-": "calculate",
    "*": "calculate",
    "/": "calculate",
    "=": "filter",
    "<": "filter",
    "<=": "filter",
    "sum": "aggregate",
    "count": "aggregate",
    "max": "aggregate"
};
function parseDSLSexpr(raw, artifacts, context, parent, resultVariable) {
    if (parent instanceof runtime.Query)
        var query = parent;
    else
        var union = parent;
    var sexpr = macroexpandDSL(raw);
    var op = sexpr.operator;
    if (op.type !== Token.TYPE.IDENTIFIER)
        throw new ParseError("Evaluated sexpr must begin with an identifier ('" + op + "' is a " + Token.TYPE[op.type] + ")", "", raw.lineIx, raw.charIx);
    if (op.value === "list") {
        var $$body = parseArguments(sexpr, undefined, "$$body").$$body;
        return { type: VALUE.SCALAR, value: $$body.map(function (token, ix) { return resolveTokenValue("list item " + ix, token, context); }) };
    }
    if (op.value === "hash") {
        var args = parseArguments(sexpr);
        for (var arg in args)
            args[arg] = resolveTokenValue("hash item " + arg, args[arg], context);
        return { type: VALUE.SET, value: args };
    }
    if (op.value === "insert!") {
        var changeset = artifacts.changeset || app_1.eve.diff();
        for (var _i = 0, _a = sexpr.arguments; _i < _a.length; _i++) {
            var arg = _a[_i];
            var table = arg.value[0];
            var fact = {};
            for (var ix = 1; ix < arg.value.length; ix += 2) {
                var key = arg.value[ix];
                var value = arg.value[ix + 1];
                fact[key.value] = value.value;
            }
            changeset.add(table.value, fact);
        }
        artifacts.changeset = changeset;
        return;
    }
    if (op.value === "remove!") {
        var changeset = artifacts.changeset || app_1.eve.diff();
        for (var _b = 0, _c = sexpr.arguments; _b < _c.length; _b++) {
            var arg = _c[_b];
            var table = arg.value[0];
            var fact = {};
            for (var ix = 1; ix < arg.value.length; ix += 2) {
                var key = arg.value[ix];
                var value = arg.value[ix + 1];
                fact[key.value] = value.value;
            }
            changeset.remove(table.value, fact);
        }
        artifacts.changeset = changeset;
        return;
    }
    if (op.value === "load!") {
        throw new Error("(load! ..) has not been implemented yet");
    }
    if (op.value === "query") {
        var neueContext = [];
        var _d = parseArguments(sexpr, undefined, "$$body"), $$view = _d.$$view, $$negated = _d.$$negated, $$body = _d.$$body;
        var queryId = $$view ? resolveTokenValue("view", $$view, context, VALUE.SCALAR) : utils_1.uuid();
        var neue = new runtime.Query(app_1.eve, queryId);
        if (utils_1.DEBUG.instrumentQuery)
            instrumentQuery(neue, utils_1.DEBUG.instrumentQuery);
        artifacts.views[queryId] = neue;
        var aggregated = false;
        for (var _e = 0, _f = Sexpr.asSexprs($$body); _e < _f.length; _e++) {
            var raw_1 = _f[_e];
            var state = parseDSLSexpr(raw_1, artifacts, neueContext, neue);
            if (state && state.aggregated)
                aggregated = true;
        }
        var projectionMap = neue.projectionMap;
        var projected = true;
        if (!projectionMap) {
            projectionMap = {};
            projected = false;
            for (var _g = 0; _g < neueContext.length; _g++) {
                var variable = neueContext[_g];
                projectionMap[variable.name] = variable.value;
            }
        }
        if (Object.keys(projectionMap).length)
            neue.project(projectionMap);
        // Join subquery to parent.
        if (parent) {
            var select = new Sexpr([Token.identifier(query ? "select" : "member"), Token.string(queryId)], raw.lineIx, raw.charIx);
            var groups = [];
            for (var _h = 0; _h < neueContext.length; _h++) {
                var variable = neueContext[_h];
                if (projected && !variable.projection)
                    continue;
                var field = variable.projection || variable.name;
                select.push(Token.keyword(field));
                if (query)
                    select.push(Token.identifier(variable.name));
                else
                    select.push(Sexpr.list([Token.string(field)]));
                if (context) {
                    for (var _j = 0; _j < context.length; _j++) {
                        var parentVar = context[_j];
                        if (parentVar.name === variable.name)
                            groups.push(variable.value);
                    }
                }
            }
            if ($$negated) {
                select.push(Token.keyword("$$negated"));
                select.push($$negated);
            }
            if (groups.length && aggregated)
                neue.group(groups);
            parseDSLSexpr(select, artifacts, context, parent);
        }
        return { value: queryId, type: VALUE.VIEW, projected: projected, context: neueContext };
    }
    if (op.value === "union") {
        var _k = parseArguments(sexpr, undefined, "$$body"), $$view = _k.$$view, $$body = _k.$$body, $$negated = _k.$$negated;
        var unionId = $$view ? resolveTokenValue("view", $$view, context, VALUE.SCALAR) : utils_1.uuid();
        var neue = new runtime.Union(app_1.eve, unionId);
        if (utils_1.DEBUG.instrumentQuery)
            instrumentQuery(neue, utils_1.DEBUG.instrumentQuery);
        artifacts.views[unionId] = neue;
        var mappings = {};
        for (var _l = 0, _m = Sexpr.asSexprs($$body); _l < _m.length; _l++) {
            var raw_2 = _m[_l];
            var child = macroexpandDSL(raw_2);
            if (child.operator.value !== "query" && child.operator.value !== "union")
                throw new ParseError("Unions may only contain queries", "", raw_2.lineIx, raw_2.charIx);
            var res = parseDSLSexpr(child, artifacts, context, neue);
            for (var _o = 0, _p = res.context; _o < _p.length; _o++) {
                var variable = _p[_o];
                if (res.projected && !variable.projection)
                    continue;
                var field = variable.projection || variable.name;
                if (!mappings[field])
                    mappings[field] = {};
                mappings[field][variable.name] = true;
            }
        }
        // Join subunion to parent
        if (parent) {
            var select = new Sexpr([Token.identifier(query ? "select" : "member"), Token.string(unionId)], raw.lineIx, raw.charIx);
            for (var field in mappings) {
                var mappingVariables = Object.keys(mappings[field]);
                if (mappingVariables.length > 1)
                    throw new ParseError("All variables projected to a single union field must have the same name. Field '" + field + "' has " + mappingVariables.length + " fields (" + mappingVariables.join(", ") + ")", "", raw.lineIx, raw.charIx);
                select.push(Token.keyword(field));
                select.push(Token.identifier(mappingVariables[0]));
            }
            console.log("union select", select.toString());
            parseDSLSexpr(select, artifacts, context, parent);
        }
        return { type: VALUE.VIEW, value: unionId, mappings: mappings };
    }
    if (op.value === "member") {
        if (!union)
            throw new ParseError("Cannot add member to non-union parent", "", raw.lineIx, raw.charIx);
        var args = parseArguments(sexpr, ["$$view"]);
        var $$view = args.$$view, $$negated = args.$$negated;
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined)
            throw new ParseError("Must specify a view to be unioned", "", raw.lineIx, raw.charIx);
        var join = {};
        for (var arg in args) {
            if (arg === "$$view" || arg === "$$negated")
                continue;
            join[arg] = resolveTokenValue("member field", args[arg], context);
        }
        if (primitives[view])
            throw new ParseError("Cannot union primitive view '" + view + "'", "", raw.lineIx, raw.charIx);
        union.union(view, join);
        return;
    }
    if (!parent)
        throw new ParseError("Non-query or union sexprs must be contained within a query or union", "", raw.lineIx, raw.charIx);
    if (op.value === "select") {
        if (!query)
            throw new ParseError("Cannot add select to non-query parent", "", raw.lineIx, raw.charIx);
        var selectId = utils_1.uuid();
        var $$view = getArgument(sexpr, "$$view", ["$$view"]);
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined)
            throw new ParseError("Must specify a view to be selected", "", raw.lineIx, raw.charIx);
        //@TODO: Move this to an eve table to allow user defined defaults
        var args = parseArguments(sexpr, ["$$view"].concat(getDefaults(view)));
        var $$negated = args.$$negated;
        var join = {};
        for (var arg in args) {
            var value = args[arg];
            var variable = void 0;
            if (arg === "$$view" || arg === "$$negated")
                continue;
            if (value instanceof Token && value.type !== Token.TYPE.IDENTIFIER) {
                join[arg] = args[arg].value;
                continue;
            }
            if (value instanceof Sexpr) {
                var result = parseDSLSexpr(value, artifacts, context, parent, "$$temp-" + hygienicSymbolCounter++ + "-" + arg);
                if (!result || result.type === VALUE.NULL)
                    throw new Error("Cannot set parameter '" + arg + "' to null value '" + value.toString() + "'");
                if (result.type === VALUE.VIEW) {
                    var view_1 = result.value;
                    var resultField_1 = getResult(view_1);
                    if (!resultField_1)
                        throw new Error("Cannot set parameter '" + arg + "' to select without default result field");
                    for (var _q = 0; _q < context.length; _q++) {
                        var curVar = context[_q];
                        for (var _r = 0, _s = curVar.constraints; _r < _s.length; _r++) {
                            var constraint = _s[_r];
                            if (constraint[0] === view_1 && constraint[1] === resultField_1) {
                                variable = curVar;
                                break;
                            }
                        }
                    }
                }
            }
            else
                variable = getDSLVariable(value.value, context);
            if (variable) {
                join[arg] = variable.value;
                variable.constraints.push([view, arg]);
            }
            else if ($$negated && $$negated.value)
                throw new ParseError("Cannot bind field in negated select to undefined variable '" + value.value + "'", "", raw.lineIx, raw.charIx);
            else
                context.push({ name: value.value, type: VALUE.SCALAR, value: [selectId, arg], constraints: [[view, arg]] }); // @TODO: does this not need to add to the join map?
        }
        var resultField = getResult(view);
        if (resultVariable && resultField && !join[resultField]) {
            join[resultField] = [selectId, resultField];
            context.push({ name: resultVariable, type: VALUE.SCALAR, value: [selectId, resultField], constraints: [[view, resultField]] });
        }
        if (primitives[view]) {
            if (primitives[view] === "aggregate")
                query.aggregate(view, join, selectId);
            else
                query.calculate(view, join, selectId);
        }
        else if ($$negated)
            query.deselect(view, join);
        else
            query.select(view, join, selectId);
        return {
            type: VALUE.VIEW,
            value: view,
            aggregated: primitives[view] === "aggregate"
        };
    }
    if (op.value === "project!") {
        var args = parseArguments(sexpr, ["$$view"]);
        var $$view = args.$$view, $$negated = args.$$negated;
        var projectionMap = {};
        for (var arg in args) {
            var value = args[arg];
            if (arg === "$$view" || arg === "$$negated")
                continue;
            if (value.type !== Token.TYPE.IDENTIFIER) {
                projectionMap[arg] = args[arg].value;
                continue;
            }
            var variable = getDSLVariable(value.value, context);
            if (variable) {
                if (variable.static)
                    projectionMap[arg] = variable.value;
                else if (!$$view) {
                    variable.projection = arg;
                    projectionMap[arg] = variable.value;
                }
                else
                    projectionMap[arg] = [variable.name];
            }
            else
                throw new ParseError("Cannot bind projected field to undefined variable '" + value.value + "'", "", raw.lineIx, raw.charIx);
        }
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined) {
            if (query.projectionMap)
                throw new ParseError("Query can only self-project once", "", raw.lineIx, raw.charIx);
            if ($$negated && $$negated.value)
                throw new ParseError("Cannot negate self-projection", "", raw.lineIx, raw.charIx);
            // Project self
            query.project(projectionMap);
        }
        else {
            var union_1 = artifacts.views[view] || new runtime.Union(app_1.eve, view);
            if (utils_1.DEBUG.instrumentQuery && !artifacts.views[view])
                instrumentQuery(union_1, utils_1.DEBUG.instrumentQuery);
            artifacts.views[view] = union_1;
            // if($$negated && $$negated.value) union.ununion(queryId, projectionMap);
            if ($$negated && $$negated.value)
                throw new ParseError("Union projections may not be negated in the current runtime", "", raw.lineIx, raw.charIx);
            else
                union_1.union(query.name, projectionMap);
        }
        return;
    }
    throw new ParseError("Unknown DSL operator '" + op.value + "'", "", raw.lineIx, raw.charIx);
}
function resolveTokenValue(name, token, context, type) {
    if (!token)
        return;
    if (token instanceof Sexpr)
        return parseDSLSexpr(token, undefined, context);
    if (token instanceof Token && token.type === Token.TYPE.IDENTIFIER) {
        var variable = getDSLVariable(token.value, context, VALUE.SCALAR);
        if (!variable)
            throw new Error("Cannot bind " + name + " to undefined variable '" + token.value + "'");
        if (!variable.static)
            throw new Error("Cannot bind " + name + " to dynamic variable '" + token.value + "'");
        return variable.value;
    }
    return token.value;
}
function getDSLVariable(name, context, type) {
    if (!context)
        return;
    for (var _i = 0; _i < context.length; _i++) {
        var variable = context[_i];
        if (variable.name === name) {
            if (variable.static === false)
                throw new Error("Cannot statically look up dynamic variable '" + name + "'");
            if (type !== undefined && variable.type !== type)
                throw new Error("Expected variable '" + name + "' to have type '" + type + "', but instead has type '" + variable.type + "'");
            return variable;
        }
    }
}
function getDefaults(view) {
    return (runtime.QueryFunctions[view] && runtime.QueryFunctions[view].params) || [];
}
function getResult(view) {
    return runtime.QueryFunctions[view] && runtime.QueryFunctions[view].result;
}
function getArgument(root, param, defaults) {
    var ix = 1;
    var defaultIx = 0;
    for (var ix_1 = 1, cur = root.nth(ix_1); ix_1 < root.length; ix_1++) {
        if (cur.type === Token.TYPE.KEYWORD) {
            if (cur.value === param)
                return root.nth(ix_1 + 1);
            else
                ix_1 + 1;
        }
        else {
            if (defaults && defaultIx < defaults.length) {
                var keyword = defaults[defaultIx++];
                if (keyword === param)
                    return cur;
                else
                    ix_1 + 1;
            }
            throw new Error("Param '" + param + "' not in sexpr " + root.toString());
        }
    }
    throw new Error("Param '" + param + "' not in sexpr " + root.toString());
}
exports.getArgument = getArgument;
function parseArguments(root, defaults, rest) {
    var args = {};
    var defaultIx = 0;
    var keyword;
    var kwarg = false;
    for (var _i = 0, _a = root.arguments; _i < _a.length; _i++) {
        var raw = _a[_i];
        if (raw.type === Token.TYPE.KEYWORD) {
            if (keyword)
                throw new Error("Keywords may not be values '" + raw + "'");
            else
                keyword = raw.value;
        }
        else if (keyword) {
            if (args[keyword] === undefined) {
                args[keyword] = raw;
            }
            else {
                if (!(args[keyword] instanceof Array))
                    args[keyword] = [args[keyword]];
                args[keyword].push(raw);
            }
            keyword = undefined;
            defaultIx = defaults ? defaults.length : 0;
            kwarg = true;
        }
        else if (defaults && defaultIx < defaults.length) {
            args[defaults[defaultIx++]] = raw;
        }
        else if (rest) {
            args[rest] = args[rest] || [];
            args[rest].push(raw);
        }
        else {
            if (kwarg)
                throw new Error("Cannot specify an arg after a kwarg");
            else if (defaultIx)
                throw new Error("Too many args, expected: " + defaults.length + ", got: " + (defaultIx + 1));
            else
                throw new Error("Cannot specify an arg without default keys specified");
        }
    }
    return args;
}
exports.parseArguments = parseArguments;
if (utils_1.ENV === "browser")
    window["parser"] = exports;
function instrumentQuery(q, instrument) {
    var instrumentation = instrument;
    if (!instrument || instrument === true)
        instrumentation = function (fn, args) { return console.log("*", fn, ":", args); };
    var keys = [];
    for (var key in q)
        keys.push(key);
    keys.forEach(function (fn) {
        if (!q.constructor.prototype.hasOwnProperty(fn) || typeof q[fn] !== "function")
            return;
        var old = q[fn];
        q[fn] = function () {
            instrumentation(fn, arguments);
            return old.apply(this, arguments);
        };
    });
    return q;
}
exports.instrumentQuery = instrumentQuery;
function asDiff(ixer, artifacts) {
    var views = artifacts.views;
    var diff = ixer.diff();
    for (var id in views)
        diff.merge(views[id].changeset(app_1.eve));
    return diff;
}
exports.asDiff = asDiff;
function applyAsDiffs(artifacts) {
    var views = artifacts.views;
    for (var id in views)
        app_1.eve.applyDiff(views[id].changeset(app_1.eve));
    console.log("Applied diffs for:");
    for (var id in views)
        console.log("  * ", views[id] instanceof runtime.Query ? "Query" : "Union", views[id].name);
    return artifacts;
}
exports.applyAsDiffs = applyAsDiffs;
function logArtifacts(artifacts) {
    for (var view in artifacts.views)
        console.log(view, "\n", app_1.eve.find(view));
}
exports.logArtifacts = logArtifacts;
var _a, _b;

},{"./app":2,"./runtime":8,"./utils":12}],6:[function(require,module,exports){
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var app_1 = require("./app");
window["eve"] = app_1.eve;
// ---------------------------------------------------------
// Token types
// ---------------------------------------------------------
(function (TokenTypes) {
    TokenTypes[TokenTypes["ENTITY"] = 0] = "ENTITY";
    TokenTypes[TokenTypes["COLLECTION"] = 1] = "COLLECTION";
    TokenTypes[TokenTypes["ATTRIBUTE"] = 2] = "ATTRIBUTE";
    TokenTypes[TokenTypes["MODIFIER"] = 3] = "MODIFIER";
    TokenTypes[TokenTypes["OPERATION"] = 4] = "OPERATION";
    TokenTypes[TokenTypes["PATTERN"] = 5] = "PATTERN";
    TokenTypes[TokenTypes["VALUE"] = 6] = "VALUE";
    TokenTypes[TokenTypes["TEXT"] = 7] = "TEXT";
})(exports.TokenTypes || (exports.TokenTypes = {}));
var TokenTypes = exports.TokenTypes;
// ---------------------------------------------------------
// Modifiers
// ---------------------------------------------------------
var modifiers = {
    "and": { and: true },
    "or": { or: true },
    "without": { deselected: true },
    "aren't": { deselected: true },
    "don't": { deselected: true },
    "not": { deselected: true },
    "isn't": { deselected: true },
    "per": { group: true },
    ",": { separator: true },
    "all": { every: true },
    "every": { every: true },
};
// ---------------------------------------------------------
// Patterns
// ---------------------------------------------------------
var patterns = {
    "older": {
        type: "rewrite",
        rewrites: [{ attribute: "age", text: "age >" }],
    },
    "younger": {
        type: "rewrite",
        rewrites: [{ attribute: "age", text: "age <" }],
    },
    "cheaper": {
        type: "rewrite",
        rewrites: [{ attribute: "price", text: "price <" }, { attribute: "cost", text: "cost <" }]
    },
    "greater than": {
        type: "rewrite",
        rewrites: [{ text: ">" }],
    },
    "years old": {
        type: "rewrite",
        rewrites: [{ attribute: "age", text: "age" }],
    },
    "sum": {
        type: "aggregate",
        op: "sum",
        args: ["value"],
    },
    "count": {
        type: "aggregate",
        op: "count",
        args: ["value"],
    },
    "average": {
        type: "aggregate",
        op: "average",
        args: ["value"],
    },
    "top": {
        type: "sort and limit",
        resultingIndirectObject: 1,
        direction: "descending",
        args: ["limit", "attribute"],
    },
    "bottom": {
        type: "sort and limit",
        resultingIndirectObject: 1,
        direction: "ascending",
        args: ["limit", "attribute"],
    },
    "highest": {
        type: "sort and limit",
        limit: 1,
        resultingIndirectObject: 0,
        direction: "descending",
        args: ["attribute"],
    },
    "lowest": {
        type: "sort and limit",
        limit: 1,
        resultingIndirectObject: 0,
        direction: "ascending",
        args: ["attribute"],
    },
    "between": {
        type: "bounds",
        args: ["lower bound", "upper bound", "attribute"],
    },
    "<": {
        type: "filter",
        op: "<",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    ">": {
        type: "filter",
        op: ">",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "<=": {
        type: "filter",
        op: "<=",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    ">=": {
        type: "filter",
        op: ">=",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "=": {
        type: "filter",
        op: "=",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "+": {
        type: "calculate",
        op: "+",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "-": {
        type: "calculate",
        op: "-",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "*": {
        type: "calculate",
        op: "*",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    },
    "/": {
        type: "calculate",
        op: "/",
        infix: true,
        resultingIndirectObject: 0,
        args: ["a", "b"],
    }
};
// ---------------------------------------------------------
// Tokenizer
// ---------------------------------------------------------
function checkForToken(token) {
    var info;
    if (!token)
        return;
    var display = app_1.eve.findOne("display name", { name: token });
    if (display && (info = app_1.eve.findOne("collection", { collection: display.id }))) {
        return { found: display.id, info: info, type: TokenTypes.COLLECTION };
    }
    else if (display && (info = app_1.eve.findOne("entity", { entity: display.id }))) {
        return { found: display.id, info: info, type: TokenTypes.ENTITY };
    }
    else if (info = app_1.eve.findOne("entity eavs", { attribute: token })) {
        return { found: token, info: info, type: TokenTypes.ATTRIBUTE };
    }
    else if (info = modifiers[token]) {
        return { found: token, info: info, type: TokenTypes.MODIFIER };
    }
    else if (info = patterns[token]) {
        return { found: token, info: info, type: TokenTypes.PATTERN };
    }
    else if (token === "true" || token === "false" || token === '"true"' || token === '"false"') {
        return { found: (token === "true" || token === '"true"' ? true : false), type: TokenTypes.VALUE, valueType: "boolean" };
    }
    else if (token.match(/^-?[\d]+$/gm)) {
        return { found: JSON.parse(token), type: TokenTypes.VALUE, valueType: "number" };
    }
    else if (token.match(/^["][^"]*["]$/gm)) {
        return { found: JSON.parse(token), type: TokenTypes.VALUE, valueType: "string" };
    }
    else if (info = /^([\d]+)-([\d]+)$/gm.exec(token)) {
        return { found: token, type: TokenTypes.VALUE, valueType: "range", start: info[1], stop: info[2] };
    }
    return;
}
function getTokens(queryString) {
    // remove all non-word non-space characters
    var cleaned = queryString.replace(/'s/gi, "  ").toLowerCase();
    cleaned = cleaned.replace(/[,.?!]/gi, " , ");
    var words = cleaned.split(" ");
    var front = 0;
    var back = words.length;
    var results = [];
    var pos = 0;
    while (front < words.length) {
        var info = undefined;
        var str = words.slice(front, back).join(" ");
        var orig = str;
        // Check for the word directly
        info = checkForToken(str);
        if (!info) {
            str = pluralize(str, 1);
            // Check the singular version of the word
            info = checkForToken(str);
            if (!info) {
                // Check the plural version of the word
                str = pluralize(str, 2);
                info = checkForToken(str);
            }
        }
        if (info) {
            var found = info.found, type = info.type, valueType = info.valueType, start = info.start, stop = info.stop;
            // Create a new token
            results.push({ found: found, orig: orig, pos: pos, type: type, valueType: valueType, start: start, stop: stop, info: info.info, id: uuid(), children: [] });
            front = back;
            pos += orig.length + 1;
            back = words.length;
        }
        else if (back - 1 > front) {
            back--;
        }
        else {
            if (orig) {
                // Default case: the token is plain text
                results.push({ found: orig, orig: orig, pos: pos, type: TokenTypes.TEXT });
            }
            back = words.length;
            pos += words[front].length + 1;
            front++;
        }
    }
    return results;
}
exports.getTokens = getTokens;
// ---------------------------------------------------------
// Relationships between tokens
// ---------------------------------------------------------
(function (RelationshipTypes) {
    RelationshipTypes[RelationshipTypes["NONE"] = 0] = "NONE";
    RelationshipTypes[RelationshipTypes["ENTITY_ENTITY"] = 1] = "ENTITY_ENTITY";
    RelationshipTypes[RelationshipTypes["ENTITY_ATTRIBUTE"] = 2] = "ENTITY_ATTRIBUTE";
    RelationshipTypes[RelationshipTypes["COLLECTION_COLLECTION"] = 3] = "COLLECTION_COLLECTION";
    RelationshipTypes[RelationshipTypes["COLLECTION_INTERSECTION"] = 4] = "COLLECTION_INTERSECTION";
    RelationshipTypes[RelationshipTypes["COLLECTION_ENTITY"] = 5] = "COLLECTION_ENTITY";
    RelationshipTypes[RelationshipTypes["COLLECTION_ATTRIBUTE"] = 6] = "COLLECTION_ATTRIBUTE";
})(exports.RelationshipTypes || (exports.RelationshipTypes = {}));
var RelationshipTypes = exports.RelationshipTypes;
var tokenRelationships = (_a = {},
    _a[TokenTypes.COLLECTION] = (_b = {},
        _b[TokenTypes.COLLECTION] = findCollectionToCollectionRelationship,
        _b[TokenTypes.ENTITY] = findCollectionToEntRelationship,
        _b[TokenTypes.ATTRIBUTE] = findCollectionToAttrRelationship,
        _b
    ),
    _a[TokenTypes.ENTITY] = (_c = {},
        _c[TokenTypes.ENTITY] = findEntToEntRelationship,
        _c[TokenTypes.ATTRIBUTE] = findEntToAttrRelationship,
        _c
    ),
    _a
);
function determineRelationship(parent, child) {
    if (!tokenRelationships[parent.type] || !tokenRelationships[parent.type][child.type]) {
        return { distance: Infinity, type: RelationshipTypes.NONE };
    }
    else {
        return tokenRelationships[parent.type][child.type](parent.found, child.found);
    }
}
function entityTocollectionsArray(entity) {
    var entities = app_1.eve.find("collection entities", { entity: entity });
    return entities.map(function (a) { return a["collection"]; });
}
function extractFromUnprojected(coll, ix, field, size) {
    var results = [];
    for (var i = 0, len = coll.length; i < len; i += size) {
        results.push(coll[i + ix][field]);
    }
    return results;
}
function findCommonCollections(ents) {
    var intersection = entityTocollectionsArray(ents[0]);
    intersection.sort();
    for (var _i = 0, _a = ents.slice(1); _i < _a.length; _i++) {
        var entId = _a[_i];
        var cur = entityTocollectionsArray(entId);
        cur.sort();
        arrayIntersect(intersection, cur);
    }
    intersection.sort(function (a, b) {
        return app_1.eve.findOne("collection", { collection: b })["count"] - app_1.eve.findOne("collection", { collection: a })["count"];
    });
    return intersection;
}
function findEntToEntRelationship(ent, ent2) {
    return { distance: Infinity, type: RelationshipTypes.ENTITY_ENTITY };
}
// e.g. "salaries in engineering"
// e.g. "chris's age"
function findEntToAttrRelationship(ent, attr) {
    // check if this ent has that attr
    var directAttribute = app_1.eve.findOne("entity eavs", { entity: ent, attribute: attr });
    if (directAttribute) {
        return { distance: 0, type: RelationshipTypes.ENTITY_ATTRIBUTE };
    }
    var relationships = app_1.eve.query("")
        .select("entity links", { entity: ent }, "links")
        .select("entity eavs", { entity: ["links", "link"], attribute: attr }, "eav")
        .exec();
    if (relationships.unprojected.length) {
        var entities = extractFromUnprojected(relationships.unprojected, 0, "link", 2);
        return { distance: 1, type: RelationshipTypes.ENTITY_ATTRIBUTE, nodes: [findCommonCollections(entities)] };
    }
    var relationships2 = app_1.eve.query("")
        .select("entity links", { entity: ent }, "links")
        .select("entity links", { entity: ["links", "link"] }, "links2")
        .select("entity eavs", { entity: ["links2", "link"], attribute: attr }, "eav")
        .exec();
    if (relationships2.unprojected.length) {
        var entities = extractFromUnprojected(relationships2.unprojected, 0, "link", 3);
        var entities2 = extractFromUnprojected(relationships2.unprojected, 1, "link", 3);
        return { distance: 2, type: RelationshipTypes.ENTITY_ATTRIBUTE, nodes: [findCommonCollections(entities), findCommonCollections(entities2)] };
    }
    // otherwise we assume it's direct and mark it as unfound.
    return { distance: 0, type: RelationshipTypes.ENTITY_ATTRIBUTE, unfound: true };
}
// e.g. "salaries per department"
function findCollectionToAttrRelationship(coll, attr) {
    var direct = app_1.eve.query("")
        .select("collection entities", { collection: coll }, "collection")
        .select("entity eavs", { entity: ["collection", "entity"], attribute: attr }, "eav")
        .exec();
    if (direct.unprojected.length) {
        return { distance: 0, type: RelationshipTypes.COLLECTION_ATTRIBUTE, nodes: [] };
    }
    var relationships = app_1.eve.query("")
        .select("collection entities", { collection: coll }, "collection")
        .select("directionless links", { entity: ["collection", "entity"] }, "links")
        .select("entity eavs", { entity: ["links", "link"], attribute: attr }, "eav")
        .exec();
    if (relationships.unprojected.length) {
        var entities = extractFromUnprojected(relationships.unprojected, 1, "link", 3);
        return { distance: 1, type: RelationshipTypes.COLLECTION_ATTRIBUTE, nodes: [findCommonCollections(entities)] };
    }
    var relationships2 = app_1.eve.query("")
        .select("collection entities", { collection: coll }, "collection")
        .select("directionless links", { entity: ["collection", "entity"] }, "links")
        .select("directionless links", { entity: ["links", "link"] }, "links2")
        .select("entity eavs", { entity: ["links2", "link"], attribute: attr }, "eav")
        .exec();
    if (relationships2.unprojected.length) {
        var entities = extractFromUnprojected(relationships2.unprojected, 1, "link", 4);
        var entities2 = extractFromUnprojected(relationships2.unprojected, 2, "link", 4);
        return { distance: 2, type: RelationshipTypes.COLLECTION_ATTRIBUTE, nodes: [findCommonCollections(entities), findCommonCollections(entities2)] };
    }
}
// e.g. "meetings john was in"
function findCollectionToEntRelationship(coll, ent) {
    if (coll === "collections") {
        if (app_1.eve.findOne("collection entities", { entity: ent })) {
            return { distance: 0, type: "ent->collection" };
        }
    }
    if (app_1.eve.findOne("collection entities", { collection: coll, entity: ent })) {
        return { distance: 0, type: RelationshipTypes.COLLECTION_ENTITY, nodes: [] };
    }
    var relationships = app_1.eve.query("")
        .select("collection entities", { collection: coll }, "collection")
        .select("directionless links", { entity: ["collection", "entity"], link: ent }, "links")
        .exec();
    if (relationships.unprojected.length) {
        return { distance: 1, type: RelationshipTypes.COLLECTION_ENTITY, nodes: [] };
    }
    // e.g. events with chris granger (events -> meetings -> chris granger)
    var relationships2 = app_1.eve.query("")
        .select("collection entities", { collection: coll }, "collection")
        .select("directionless links", { entity: ["collection", "entity"] }, "links")
        .select("directionless links", { entity: ["links", "link"], link: ent }, "links2")
        .exec();
    if (relationships2.unprojected.length) {
        var entities = extractFromUnprojected(relationships2.unprojected, 1, "link", 3);
        return { distance: 2, type: RelationshipTypes.COLLECTION_ENTITY, nodes: [findCommonCollections(entities)] };
    }
}
// e.g. "authors and papers"
function findCollectionToCollectionRelationship(coll, coll2) {
    // are there things in both sets?
    var intersection = app_1.eve.query(coll + "->" + coll2)
        .select("collection entities", { collection: coll }, "coll1")
        .select("collection entities", { collection: coll2, entity: ["coll1", "entity"] }, "coll2")
        .exec();
    // is there a relationship between things in both sets
    var relationships = app_1.eve.query("relationships between " + coll + " and " + coll2)
        .select("collection entities", { collection: coll }, "coll1")
        .select("directionless links", { entity: ["coll1", "entity"] }, "links")
        .select("collection entities", { collection: coll2, entity: ["links", "link"] }, "coll2")
        .group([["links", "link"]])
        .aggregate("count", {}, "count")
        .project({ type: ["links", "link"], count: ["count", "count"] })
        .exec();
    var maxRel = { count: 0 };
    for (var _i = 0, _a = relationships.results; _i < _a.length; _i++) {
        var result = _a[_i];
        if (result.count > maxRel.count)
            maxRel = result;
    }
    // we divide by two because unprojected results pack rows next to eachother
    // and we have two selects.
    var intersectionSize = intersection.unprojected.length / 2;
    if (maxRel.count > intersectionSize) {
        return { distance: 1, type: RelationshipTypes.COLLECTION_COLLECTION };
    }
    else if (intersectionSize > maxRel.count) {
        return { distance: 0, type: RelationshipTypes.COLLECTION_INTERSECTION };
    }
    else if (maxRel.count === 0 && intersectionSize === 0) {
        return;
    }
    else {
        return { distance: 1, type: RelationshipTypes.COLLECTION_COLLECTION };
    }
}
function tokensToTree(origTokens) {
    var tokens = origTokens;
    var roots = [];
    var operations = [];
    var groups = [];
    // Find the direct object
    // The direct object is the first collection we find, or if there are none,
    // the first entity, or finally the first attribute.
    var directObject;
    for (var _i = 0; _i < tokens.length; _i++) {
        var token = tokens[_i];
        if (token.type === TokenTypes.COLLECTION) {
            directObject = token;
            break;
        }
        else if (token.type === TokenTypes.ENTITY) {
            directObject = token;
        }
        else if (token.type === TokenTypes.ATTRIBUTE && !directObject) {
            directObject = token;
        }
    }
    var tree = { directObject: directObject, roots: roots, operations: operations, groups: groups };
    if (!directObject)
        return tree;
    // the direct object is always the first root
    roots.push(directObject);
    // we need to keep state as we traverse the tokens for modifiers and patterns
    var state = { patternStack: [], currentPattern: null, lastAttribute: null };
    // as we parse the query we may encounter other subjects in the sentence, we
    // need a reference to those previous subjects to see if the current token is
    // related to that or the directObject
    var indirectObject = directObject;
    // Main token loop
    for (var tokenIx = 0, len = tokens.length; tokenIx < len; tokenIx++) {
        var token = tokens[tokenIx];
        var type = token.type, info = token.info, found = token.found;
        // check if the last pass finshed our current pattern.
        if (state.currentPattern && state.currentPattern.args.length) {
            var args = state.currentPattern.args;
            var infoArgs = state.currentPattern.info.args;
            var latestArg = args[args.length - 1];
            var latestArgComplete = latestArg.type === TokenTypes.ATTRIBUTE || latestArg.type === TokenTypes.VALUE;
            while (args.length === infoArgs.length && latestArgComplete) {
                var resultingIndirectObject = state.currentPattern.info.resultingIndirectObject;
                if (resultingIndirectObject !== undefined) {
                    indirectObject = args[resultingIndirectObject];
                }
                else {
                    indirectObject = state.currentPattern;
                }
                state.currentPattern = state.patternStack.pop();
                if (!state.currentPattern)
                    break;
                args = state.currentPattern.args;
                infoArgs = state.currentPattern.info.args;
                args.push(indirectObject);
                latestArg = args[args.length - 1];
                latestArgComplete = latestArg.type === TokenTypes.ATTRIBUTE || latestArg.type === TokenTypes.VALUE;
            }
        }
        // deal with modifiers
        if (type === TokenTypes.MODIFIER) {
            // if this is a deselect modifier, we need to roll forward through the tokens
            // to figure out roughly how far the deselection should go. Also if we run into
            // an "and"" or an "or", we need to deal with that specially.
            if (info.deselected) {
                // we're going to move forward from this token and deselect as we go
                var localTokenIx = tokenIx + 1;
                // get to the first non-text token
                while (localTokenIx < len && tokens[localTokenIx].type === TokenTypes.TEXT) {
                    localTokenIx++;
                }
                // negate until we find a reason to stop
                while (localTokenIx < len) {
                    var localToken = tokens[localTokenIx];
                    if (localToken.type === TokenTypes.TEXT) {
                        break;
                    }
                    localToken.deselected = true;
                    localTokenIx++;
                }
            }
            // if we're dealing with an "or" we have two cases, we're either dealing with a negation
            // or a split. If this is a deselected or, we don't really need to do anything because that
            // means we just do a deselected join. If it's not negated though, we're now dealing with
            // a second query context. e.g. people who are employees or spouses of employees
            if (info.or && !token.deselected) {
                var localTokenIx = tokenIx + 1;
                // get to the first non-text token
                while (localTokenIx < len && tokens[localTokenIx].type === TokenTypes.TEXT) {
                    localTokenIx++;
                }
                // consume until we hit a separator
                while (localTokenIx < len) {
                    var localToken = tokens[localTokenIx];
                    if (localToken.type === TokenTypes.TEXT) {
                        break;
                    }
                    localTokenIx++;
                }
            }
            // a group adds a group for the next collection and checks to see if there's an and
            // or a separator that would indicate multiple groupings
            if (info.group) {
                // we're going to move forward from this token and deselect as we go
                var localTokenIx = tokenIx + 1;
                // get to the first non-text token
                while (localTokenIx < len && tokens[localTokenIx].type === TokenTypes.TEXT) {
                    localTokenIx++;
                }
                // if we've run out of tokens, bail
                if (localTokenIx === len)
                    break;
                // otherwise, the next thing we found is what we're trying to group by
                var localToken = tokens[localTokenIx];
                localToken.grouped = true;
                groups.push(localToken);
                localTokenIx++;
                // now we have to check if we're trying to group by multiple things, e.g.
                // "per department and age" or "per department, team, and age"
                var next = tokens[localTokenIx];
                while (next && next.type === TokenTypes.MODIFIER && (next.info.separator || next.info.and)) {
                    localTokenIx++;
                    next = tokens[localTokenIx];
                    // if we have another modifier directly after (e.g. ", and") loop again
                    // to see if this is valid.
                    if (next && next.type === TokenTypes.MODIFIER) {
                        continue;
                    }
                    next.grouped = true;
                    groups.push(next);
                    localTokenIx++;
                    next = tokens[localTokenIx];
                }
            }
            continue;
        }
        // deal with patterns
        if (type === TokenTypes.PATTERN) {
            if (info.type === "rewrite") {
                var newText = void 0;
                // if we only have one possible rewrite, we can just take it
                if (info.rewrites.length === 1) {
                    newText = info.rewrites[0].text;
                }
                else {
                    // @TODO: we have to go through every possibility and deal with it
                    newText = info.rewrites[0].text;
                }
                // Tokenize the new string.
                var newTokens = getTokens(newText);
                // Splice in the new tokens, adjust the length and make sure we revisit this token.
                len += newTokens.length;
                tokens.splice.apply(tokens, [tokenIx + 1, 0].concat(newTokens));
                // apply any deselects, or's, or and's to this token
                for (var _a = 0; _a < newTokens.length; _a++) {
                    var newToken = newTokens[_a];
                    newToken.deselected = token.deselected;
                    newToken.and = token.and;
                    newToken.or = token.or;
                }
                continue;
            }
            else {
                // otherwise it's an operation of some kind
                operations.push(token);
                // keep track of any other patterns we're trying to fill right now
                if (state.currentPattern) {
                    state.patternStack.push(state.currentPattern);
                }
                state.currentPattern = token;
                state.currentPattern.args = [];
            }
            if (info.infix) {
                state.currentPattern.args.push(indirectObject);
            }
            continue;
        }
        // deal with values
        if (type === TokenTypes.VALUE) {
            // Deal with a range value. It's really a pattern
            if (token.valueType === "range") {
                token.found = "between";
                token.info = patterns["between"];
                token.args = [];
                var start = { id: uuid(), found: token.start, orig: token.start, pos: token.pos, type: TokenTypes.VALUE, info: parseFloat(token.start), valueType: "number" };
                var stop = { id: uuid(), found: token.stop, orig: token.stop, pos: token.pos, type: TokenTypes.VALUE, info: parseFloat(token.stop), valueType: "number" };
                token.args.push(start);
                token.args.push(stop);
                operations.push(token);
                state.patternStack.push(token);
                if (state.currentPattern === null) {
                    state.currentPattern = state.patternStack.pop();
                }
                continue;
            }
            // if we still have a currentPattern to fill
            if (state.currentPattern && state.currentPattern.args.length < state.currentPattern.info.args.length) {
                state.currentPattern.args.push(token);
            }
            continue;
        }
        // We don't do anything with text nodes at this point
        if (type === TokenTypes.TEXT)
            continue;
        // once modifiers and patterns have been applied, we don't need to worry
        // about the directObject as it's already been assigned to the first root.
        if (directObject === token) {
            indirectObject = directObject;
            continue;
        }
        if (directObject === indirectObject) {
            directObject.children.push(token);
            token.relationship = determineRelationship(directObject, token);
            token.parent = directObject;
            indirectObject = token;
        }
        else {
            var potentialParent = indirectObject;
            // if our indirect object is an attribute and we encounter another one, we want to check
            // the parent of this node for a match
            if (indirectObject.type === TokenTypes.ATTRIBUTE && token.type === TokenTypes.ATTRIBUTE) {
                potentialParent = indirectObject.parent;
            }
            // if the indirect object is an attribute, anything other than another attribute will create
            // a new root
            if (indirectObject.type === TokenTypes.ATTRIBUTE && token.type !== TokenTypes.ATTRIBUTE) {
                var rootRel = determineRelationship(directObject, token);
                if (!rootRel || (rootRel.distance === 0 && token.type === TokenTypes.ENTITY)) {
                    indirectObject = token;
                    roots.push(indirectObject);
                }
                else {
                    directObject.children.push(token);
                    token.relationship = rootRel;
                    token.parent = directObject;
                }
            }
            else if (potentialParent.type === TokenTypes.ENTITY && token.type !== TokenTypes.ATTRIBUTE) {
                directObject.children.push(token);
                token.relationship = determineRelationship(directObject, token);
                token.parent = directObject;
                indirectObject = token;
            }
            else {
                var cursorRel = determineRelationship(potentialParent, token);
                var rootRel = determineRelationship(directObject, token);
                // if this token is an entity and either the directObject or indirectObject has a direct relationship
                // we don't really want to use that as it's most likely meant to filter a set down
                // instead of reduce the set to exactly one member.
                if (token.type === TokenTypes.ENTITY) {
                    if (cursorRel && cursorRel.distance === 0)
                        cursorRel = null;
                    if (rootRel && rootRel.distance === 0)
                        rootRel = null;
                }
                if (!cursorRel) {
                    directObject.children.push(token);
                    token.relationship = rootRel;
                    token.parent = directObject;
                }
                else if (!rootRel) {
                    potentialParent.children.push(token);
                    token.relationship = cursorRel;
                    token.parent = potentialParent;
                }
                else if (cursorRel.distance <= rootRel.distance) {
                    potentialParent.children.push(token);
                    token.relationship = cursorRel;
                    token.parent = potentialParent;
                }
                else {
                    // @TODO: maybe if there's a cursorRel we should just always ignore the rootRel even if it
                    // is a "better" relationship. Sentence structure-wise it seems pretty likely that attributes
                    // following an entity are related to that entity and not something else.
                    directObject.children.push(token);
                    token.relationship = rootRel;
                    token.parent = directObject;
                }
                indirectObject = token;
            }
        }
        // if we are still looking to fill in a pattern
        if (state.currentPattern) {
            var args = state.currentPattern.args;
            var infoArgs = state.currentPattern.info.args;
            var latestArg = args[args.length - 1];
            var latestArgComplete = !latestArg || latestArg.type === TokenTypes.ATTRIBUTE || latestArg.type === TokenTypes.VALUE;
            var firstArg = args[0];
            if (!latestArgComplete && indirectObject.type === TokenTypes.ATTRIBUTE) {
                args.pop();
                args.push(indirectObject);
            }
            else if (latestArgComplete && args.length < infoArgs.length) {
                args.push(indirectObject);
                latestArg = indirectObject;
            }
        }
    }
    // End main token loop
    // if we've run out of tokens and are still looking to fill in a pattern,
    // we might need to carry the attribute through.
    if (state.currentPattern && state.currentPattern.args.length <= state.currentPattern.info.args.length) {
        var args = state.currentPattern.args;
        var infoArgs = state.currentPattern.info.args;
        var latestArg = args[args.length - 1];
        if (!latestArg)
            return tree;
        var latestArgComplete = latestArg.type === TokenTypes.ATTRIBUTE || latestArg.type === TokenTypes.VALUE;
        var firstArg = args[0];
        // e.g. people older than chris granger => people age > chris granger age
        if (!latestArgComplete && firstArg && firstArg.type === TokenTypes.ATTRIBUTE) {
            var newArg = { type: firstArg.type, found: firstArg.found, orig: firstArg.orig, info: firstArg.info, id: uuid(), children: [] };
            var cursorRel = determineRelationship(latestArg, newArg);
            newArg.relationship = cursorRel;
            newArg.parent = latestArg;
            latestArg.children.push(newArg);
            args.pop();
            args.push(newArg);
        }
        else if (state.currentPattern.found === "between") {
            // Backtrack from the pattern start until we find an attribute
            var patternStart = tokens.lastIndexOf(state.currentPattern);
            var arg = null;
            for (var ix = patternStart; ix > 0; ix--) {
                if (tokens[ix].type === TokenTypes.ATTRIBUTE) {
                    arg = tokens[ix];
                    break;
                }
            }
            // If we found an attribute, now add it to the arglist for the pattern
            if (arg != null) {
                state.currentPattern.args.push(arg);
            }
        }
    }
    return tree;
}
// ---------------------------------------------------------
// Query plans
// ---------------------------------------------------------
(function (StepType) {
    StepType[StepType["FIND"] = 0] = "FIND";
    StepType[StepType["GATHER"] = 1] = "GATHER";
    StepType[StepType["LOOKUP"] = 2] = "LOOKUP";
    StepType[StepType["FILTERBYENTITY"] = 3] = "FILTERBYENTITY";
    StepType[StepType["INTERSECT"] = 4] = "INTERSECT";
    StepType[StepType["CALCULATE"] = 5] = "CALCULATE";
    StepType[StepType["AGGREGATE"] = 6] = "AGGREGATE";
    StepType[StepType["FILTER"] = 7] = "FILTER";
    StepType[StepType["SORT"] = 8] = "SORT";
    StepType[StepType["LIMIT"] = 9] = "LIMIT";
    StepType[StepType["GROUP"] = 10] = "GROUP";
})(exports.StepType || (exports.StepType = {}));
var StepType = exports.StepType;
function queryToPlan(query) {
    var tokens = getTokens(query);
    var tree = tokensToTree(tokens);
    var plan = treeToPlan(tree);
    return { tokens: tokens, tree: tree, plan: plan };
}
exports.queryToPlan = queryToPlan;
var Plan = (function (_super) {
    __extends(Plan, _super);
    function Plan() {
        _super.apply(this, arguments);
    }
    return Plan;
})(Array);
exports.Plan = Plan;
(function (Validated) {
    Validated[Validated["INVALID"] = 0] = "INVALID";
    Validated[Validated["VALID"] = 1] = "VALID";
    Validated[Validated["UNVALIDATED"] = 2] = "UNVALIDATED";
})(exports.Validated || (exports.Validated = {}));
var Validated = exports.Validated;
function ignoreHiddenCollections(colls) {
    for (var _i = 0; _i < colls.length; _i++) {
        var coll = colls[_i];
        if (coll !== "generic related to") {
            return coll;
        }
    }
}
function nodeToPlanSteps(node, parent, parentPlan) {
    // TODO: figure out what to do with operations
    var id = node.id || uuid();
    var deselected = node.deselected;
    var rel = node.relationship;
    var plan = [];
    var curParent = parentPlan;
    if (parent && rel) {
        switch (rel.type) {
            case RelationshipTypes.COLLECTION_ATTRIBUTE:
                for (var _i = 0, _a = rel.nodes; _i < _a.length; _i++) {
                    var node_1 = _a[_i];
                    var coll = ignoreHiddenCollections(node_1);
                    var item = { type: StepType.GATHER, relatedTo: curParent, subject: coll, id: uuid() };
                    plan.push(item);
                    curParent = item;
                }
                plan.push({ type: StepType.LOOKUP, relatedTo: curParent, subject: node.found, id: id, deselected: deselected });
                return plan;
                break;
            case RelationshipTypes.COLLECTION_ENTITY:
                for (var _b = 0, _c = rel.nodes; _b < _c.length; _b++) {
                    var node_2 = _c[_b];
                    var coll = ignoreHiddenCollections(node_2);
                    var item = { type: StepType.GATHER, relatedTo: curParent, subject: coll, id: uuid() };
                    plan.push(item);
                    curParent = item;
                }
                plan.push({ type: StepType.FILTERBYENTITY, relatedTo: curParent, subject: node.found, id: id, deselected: deselected });
                return plan;
                break;
            case RelationshipTypes.COLLECTION_COLLECTION:
                return [{ type: StepType.GATHER, relatedTo: parentPlan, subject: node.found, id: id, deselected: deselected }];
                break;
            case RelationshipTypes.COLLECTION_INTERSECTION:
                return [{ type: StepType.INTERSECT, relatedTo: parentPlan, subject: node.found, id: id, deselected: deselected }];
                break;
            case RelationshipTypes.ENTITY_ATTRIBUTE:
                if (rel.distance === 0) {
                    return [{ type: StepType.LOOKUP, relatedTo: parentPlan, subject: node.found, id: id, deselected: deselected }];
                }
                else {
                    var plan_1 = [];
                    var curParent_1 = parentPlan;
                    for (var _d = 0, _e = rel.nodes; _d < _e.length; _d++) {
                        var node_3 = _e[_d];
                        var coll = ignoreHiddenCollections(node_3);
                        var item = { type: StepType.GATHER, relatedTo: curParent_1, subject: coll, id: uuid() };
                        plan_1.push(item);
                        curParent_1 = item;
                    }
                    plan_1.push({ type: StepType.LOOKUP, relatedTo: curParent_1, subject: node.found, id: id, deselected: deselected });
                    return plan_1;
                }
                break;
        }
    }
    else {
        if (node.type === TokenTypes.COLLECTION) {
            return [{ type: StepType.GATHER, subject: node.found, id: id, deselected: deselected }];
        }
        else if (node.type === TokenTypes.ENTITY) {
            return [{ type: StepType.FIND, subject: node.found, id: id, deselected: deselected }];
        }
        else if (node.type === TokenTypes.ATTRIBUTE) {
            return [{ type: StepType.LOOKUP, subject: node.found, id: id, deselected: deselected }];
        }
        return [];
    }
}
function nodeToPlan(tree, parent, parentPlan) {
    if (parent === void 0) { parent = null; }
    if (parentPlan === void 0) { parentPlan = null; }
    if (!tree)
        return [];
    var plan = [];
    // process you, then your children
    plan.push.apply(plan, nodeToPlanSteps(tree, parent, parentPlan));
    var neueParentPlan = plan[plan.length - 1];
    for (var _i = 0, _a = tree.children; _i < _a.length; _i++) {
        var child = _a[_i];
        plan.push.apply(plan, nodeToPlan(child, tree, neueParentPlan));
    }
    return plan;
}
/*enum PatternTypes {
  COLLECTION,
  ENTITY,
  ATTRIBUTE,
  VALUE,
  GROUP,
  AGGREGATE,
  SORTLIMIT,
  FILTER,
  REWRITE,
}*/
function groupsToPlan(nodes) {
    if (!nodes.length)
        return [];
    var groups = [];
    for (var _i = 0; _i < nodes.length; _i++) {
        var node = nodes[_i];
        if (node.type === "collection") {
            groups.push([node.id, "entity"]);
        }
        else if (node.type === "attribute") {
            groups.push([node.id, "value"]);
        }
        else {
            throw new Error("Invalid node to group on: " + JSON.stringify(nodes));
        }
    }
    return [{ type: StepType.GROUP, id: uuid(), groups: groups, groupNodes: nodes }];
}
function opToPlan(op, groups) {
    var info = op.info;
    var args = {};
    if (info.args) {
        var ix = 0;
        for (var _i = 0, _a = info.args; _i < _a.length; _i++) {
            var arg = _a[_i];
            var argValue = op.args[ix];
            if (argValue === undefined)
                continue;
            if (argValue.type === TokenTypes.VALUE) {
                args[arg] = argValue.found;
            }
            else if (argValue.type === TokenTypes.ATTRIBUTE) {
                args[arg] = [argValue.id, "value"];
            }
            else {
                console.error("Invalid operation argument: " + argValue.orig + " for " + op.found);
            }
            ix++;
        }
    }
    if (info.type === "aggregate") {
        return [{ type: StepType.AGGREGATE, subject: info.op, args: args, id: uuid(), argArray: op.args }];
    }
    else if (info.type === "sort and limit") {
        var sortLimitArgs = op.args.map(function (arg) { return arg.found; });
        var sortField = { parentId: op.args[1].id, parent: op.args[1].parent.found, subject: op.args[1].found };
        var subject = "results";
        // If groups are formed, check if we are sorting on one of them
        for (var _b = 0; _b < groups.length; _b++) {
            var group = groups[_b];
            if (group.found === sortField.parent) {
                subject = "per group";
                break;
            }
        }
        var sortStep = { type: StepType.SORT, subject: subject, direction: info.direction, field: sortField, id: uuid() };
        var limitStep = { type: StepType.LIMIT, subject: subject, value: sortLimitArgs[0], id: uuid() };
        return [sortStep, limitStep];
    }
    else if (info.type === "bounds") {
        var lowerBounds = { type: StepType.FILTER, subject: ">", id: uuid(), argArray: [op.args[2], op.args[0]] };
        var upperBounds = { type: StepType.FILTER, subject: "<", id: uuid(), argArray: [op.args[2], op.args[1]] };
        return [lowerBounds, upperBounds];
    }
    else if (info.type === "filter") {
        return [{ type: StepType.FILTER, subject: info.op, args: args, id: uuid(), argArray: op.args }];
    }
    else {
        return [{ type: StepType.CALCULATE, subject: info.op, args: args, id: uuid(), argArray: op.args }];
    }
}
// Since intermediate plan steps can end up duplicated, we need to walk the plan to find
// nodes that are exactly the same and only do them once. E.g. salaries per department and age
// will bring in two employee gathers.
function dedupePlan(plan) {
    var dupes = {};
    // for every node in the plan backwards
    for (var planIx = plan.length - 1; planIx > -1; planIx--) {
        var step = plan[planIx];
        // check all preceding nodes for a node that is equivalent
        for (var dupeIx = planIx - 1; dupeIx > -1; dupeIx--) {
            var dupe = plan[dupeIx];
            // equivalency requires the same type, subject, deselect, and parent
            if (step.type === dupe.type && step.subject === dupe.subject && step.deselected === dupe.deselected && step.relatedTo === dupe.relatedTo) {
                // store the dupe and what node will replace it
                dupes[step.id] = dupe.id;
            }
        }
    }
    return plan.filter(function (step) {
        // remove anything we found to be a dupe
        if (dupes[step.id])
            return false;
        // if this step references a dupe, relate it to the new node
        if (dupes[step.relatedTo]) {
            step.relatedTo = dupes[step.relatedTo];
        }
        return true;
    });
}
function treeToPlan(tree) {
    var steps = [];
    for (var _i = 0, _a = tree.roots; _i < _a.length; _i++) {
        var root = _a[_i];
        steps = steps.concat(nodeToPlan(root));
    }
    steps = dedupePlan(steps);
    for (var _b = 0, _c = tree.groups; _b < _c.length; _b++) {
        var group = _c[_b];
        var node = void 0;
        for (var _d = 0; _d < steps.length; _d++) {
            var step = steps[_d];
            if (step.id === group.id) {
                node = step;
                break;
            }
        }
        steps.push({ id: uuid(), type: StepType.GROUP, subject: group.found, subjectNode: node });
    }
    for (var _e = 0, _f = tree.operations; _e < _f.length; _e++) {
        var op = _f[_e];
        steps = steps.concat(opToPlan(op, tree.groups));
    }
    // Create a plan type for return
    var plan = new Plan();
    plan.valid = Validated.INVALID;
    for (var _g = 0; _g < steps.length; _g++) {
        var step = steps[_g];
        plan.push(step);
    }
    return plan;
}
// ---------------------------------------------------------
// Plan to query
// ---------------------------------------------------------
function safeProjectionName(name, projection) {
    if (!projection[name]) {
        return name;
    }
    var ix = 2;
    while (projection[name]) {
        name = name + " " + ix;
        ix++;
    }
    return name;
}
function planToExecutable(plan) {
    var projection = {};
    var query = app_1.eve.query();
    for (var _i = 0; _i < plan.length; _i++) {
        var step = plan[_i];
        switch (step.type) {
            case StepType.FIND:
                // find is a no-op
                step.size = 0;
                break;
            case StepType.GATHER:
                var join = {};
                if (step.subject) {
                    join.collection = step.subject;
                }
                var related = step.relatedTo;
                if (related) {
                    if (related.type === StepType.FIND) {
                        step.size = 2;
                        var linkId_1 = step.id + " | link";
                        query.select("directionless links", { entity: related.subject }, linkId_1);
                        join.entity = [linkId_1, "link"];
                        query.select("collection entities", join, step.id);
                    }
                    else {
                        step.size = 2;
                        var linkId_2 = step.id + " | link";
                        query.select("directionless links", { entity: [related.id, "entity"] }, linkId_2);
                        join.entity = [linkId_2, "link"];
                        query.select("collection entities", join, step.id);
                    }
                }
                else {
                    step.size = 1;
                    query.select("collection entities", join, step.id);
                }
                step.name = safeProjectionName(step.subject, projection);
                projection[step.name] = [step.id, "entity"];
                break;
            case StepType.LOOKUP:
                var join = { attribute: step.subject };
                var related = step.relatedTo;
                if (related) {
                    if (related.type === StepType.FIND) {
                        join.entity = related.subject;
                    }
                    else {
                        join.entity = [related.id, "entity"];
                    }
                }
                if (step.deselected) {
                    step.size = 0;
                    query.deselect("entity eavs", join, step.id);
                }
                else {
                    step.size = 1;
                    query.select("entity eavs", join, step.id);
                    step.name = safeProjectionName(step.subject, projection);
                    projection[step.name] = [step.id, "value"];
                }
                break;
            case StepType.INTERSECT:
                var related = step.relatedTo;
                if (step.deselected) {
                    step.size = 0;
                    query.deselect("collection entities", { collection: step.subject, entity: [related.id, "entity"] });
                }
                else {
                    step.size = 1;
                    query.select("collection entities", { collection: step.subject, entity: [related.id, "entity"] }, step.id);
                }
                break;
            case StepType.FILTERBYENTITY:
                var related = step.relatedTo;
                var linkId = step.id + " | link";
                if (step.deselected) {
                    step.size = 0;
                    query.deselect("directionless links", { entity: [related.id, "entity"], link: step.subject });
                }
                else {
                    step.size = 1;
                    query.select("directionless links", { entity: [related.id, "entity"], link: step.subject }, step.id);
                }
                break;
            case StepType.FILTER:
                step.size = 0;
                query.calculate(step.subject, step.args, step.id);
                break;
            case StepType.CALCULATE:
                step.size = 1;
                query.calculate(step.subject, step.args, step.id);
                step.name = safeProjectionName(step.subject, projection);
                projection[step.name] = [step.id, "result"];
                break;
            case StepType.AGGREGATE:
                step.size = 1;
                query.aggregate(step.subject, step.args, step.id);
                step.name = safeProjectionName(step.subject, projection);
                projection[step.name] = [step.id, step.subject];
                break;
            case StepType.GROUP:
                step.size = 0;
                var field = "entity";
                if (step.subjectNode.type === StepType.LOOKUP) {
                    field = "value";
                }
                step.name = step.subjectNode.name;
                query.group([step.subjectNode.id, field]);
                break;
            case StepType.SORT:
                step.size = 0;
                query.sort([step.field.parentId, "value", step.direction]);
                break;
            case StepType.LIMIT:
                step.size = 0;
                query.limit(step.limit);
                break;
        }
    }
    query.project(projection);
    return query;
}
exports.planToExecutable = planToExecutable;
function queryToExecutable(query) {
    var planInfo = queryToPlan(query);
    var executable = planToExecutable(planInfo.plan);
    planInfo.executable = executable;
    planInfo.queryString = query;
    return planInfo;
}
exports.queryToExecutable = queryToExecutable;
// ---------------------------------------------------------
// Utils
// ---------------------------------------------------------
function arrayIntersect(a, b) {
    var ai = 0;
    var bi = 0;
    var result = [];
    while (ai < a.length && bi < b.length) {
        if (a[ai] < b[bi])
            ai++;
        else if (a[ai] > b[bi])
            bi++;
        else {
            result.push(a[ai]);
            ai++;
            bi++;
        }
    }
    return result;
}
window["queryParser"] = exports;
var _a, _b, _c;

},{"./app":2}],7:[function(require,module,exports){
function replaceAll(str, find, replace) {
    var regex = new RegExp(find.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'), 'g');
    return str.replace(regex, replace);
}
function wrapWithMarkdown(cm, wrapping) {
    cm.operation(function () {
        var from = cm.getCursor("from");
        // if there's something selected wrap it
        if (cm.somethingSelected()) {
            var selected = cm.getSelection();
            var cleaned = replaceAll(selected, wrapping, "");
            if (selected.substring(0, wrapping.length) === wrapping
                && selected.substring(selected.length - wrapping.length) === wrapping) {
                cm.replaceRange(cleaned, from, cm.getCursor("to"));
                cm.setSelection(from, cm.getCursor("from"));
            }
            else {
                cm.replaceRange("" + wrapping + cleaned + wrapping, from, cm.getCursor("to"));
                cm.setSelection(from, cm.getCursor("from"));
            }
        }
        else {
            cm.replaceRange("" + wrapping + wrapping, from);
            var newLocation = { line: from.line, ch: from.ch + wrapping.length };
            cm.setCursor(newLocation);
        }
    });
}
var RichTextEditor = (function () {
    function RichTextEditor(node, getEmbed, getInline, removeInline) {
        this.marks = [];
        this.meta = {};
        this.getEmbed = getEmbed;
        this.getInline = getInline;
        this.removeInline = removeInline;
        var cm = this.cmInstance = new CodeMirror(node, {
            lineWrapping: true,
            autoCloseBrackets: true,
            viewportMargin: Infinity,
            extraKeys: {
                "Cmd-B": function (cm) {
                    wrapWithMarkdown(cm, "**");
                },
                "Cmd-I": function (cm) {
                    wrapWithMarkdown(cm, "_");
                },
            }
        });
        var self = this;
        cm.on("changes", function (cm, changes) {
            self.onChanges(cm, changes);
            if (self.onUpdate) {
                self.onUpdate(self.meta, cm.getValue());
            }
        });
        cm.on("cursorActivity", function (cm) { self.onCursorActivity(cm); });
        cm.on("mousedown", function (cm, e) { self.onMouseDown(cm, e); });
    }
    RichTextEditor.prototype.onChanges = function (cm, changes) {
        var self = this;
        for (var _i = 0; _i < changes.length; _i++) {
            var change = changes[_i];
            var removed = change.removed.join("\n");
            var matches = removed.match(/({[^]*?})/gm);
            if (!matches)
                continue;
            for (var _a = 0; _a < matches.length; _a++) {
                var match = matches[_a];
                this.removeInline(this.meta, match);
            }
        }
        cm.operation(function () {
            var content = cm.getValue();
            var parts = content.split(/({[^]*?})/gm);
            var ix = 0;
            for (var _i = 0, _a = self.marks; _i < _a.length; _i++) {
                var mark = _a[_i];
                mark.clear();
            }
            self.marks = [];
            var cursorIx = cm.indexFromPos(cm.getCursor("from"));
            for (var _b = 0; _b < parts.length; _b++) {
                var part = parts[_b];
                if (part[0] === "{") {
                    var mark = self.markEmbeddedQuery(cm, part, ix);
                    if (mark)
                        self.marks.push(mark);
                }
                ix += part.length;
            }
        });
    };
    RichTextEditor.prototype.onCursorActivity = function (cm) {
        if (!cm.somethingSelected()) {
            var cursor = cm.getCursor("from");
            var marks = cm.findMarksAt(cursor);
            for (var _i = 0; _i < marks.length; _i++) {
                var mark = marks[_i];
                if (mark.needsReplacement) {
                    var _a = mark.find(), from = _a.from, to = _a.to;
                    var ix = cm.indexFromPos(from);
                    var text = cm.getRange(from, to);
                    mark.clear();
                    var newMark = this.markEmbeddedQuery(cm, text, ix);
                    if (newMark)
                        this.marks.push(newMark);
                }
            }
        }
        clearTimeout(this.timeout);
        this.timeout = setTimeout(function () {
            if (cm.somethingSelected()) {
            }
        }, 1000);
    };
    RichTextEditor.prototype.onMouseDown = function (cm, e) {
        var cursor = cm.coordsChar({ left: e.clientX, top: e.clientY });
        var pos = cm.indexFromPos(cursor);
        var marks = cm.findMarksAt(cursor);
        for (var _i = 0, _a = this.marks; _i < _a.length; _i++) {
            var mark = _a[_i];
            if (mark.info && mark.info.to) {
            }
        }
    };
    RichTextEditor.prototype.markEmbeddedQuery = function (cm, query, ix) {
        var cursorIx = cm.indexFromPos(cm.getCursor("from"));
        var mark;
        var start = cm.posFromIndex(ix);
        var stop = cm.posFromIndex(ix + query.length);
        // as long as our cursor isn't in this span
        if (query !== "{}" && (cursorIx <= ix || cursorIx >= ix + query.length)) {
            // check if this is a query that's defining an inline attribute
            // e.g. {age: 30}
            var adjusted = this.getInline(this.meta, query);
            if (adjusted !== query) {
                cm.replaceRange(adjusted, start, stop);
            }
            else {
                mark = cm.markText(start, stop, { replacedWith: this.getEmbed(this.meta, query.substring(1, query.length - 1)) });
            }
        }
        else {
            mark = cm.markText(start, stop, { className: "embed-code" });
            mark.needsReplacement = true;
        }
        return mark;
    };
    return RichTextEditor;
})();
exports.RichTextEditor = RichTextEditor;
function createEditor(getEmbed, getInline, removeInline) {
    return function wrapRichTextEditor(node, elem) {
        var editor = node.editor;
        var cm;
        if (!editor) {
            editor = node.editor = new RichTextEditor(node, getEmbed, getInline, removeInline);
            cm = node.editor.cmInstance;
            cm.focus();
        }
        else {
            cm = node.editor.cmInstance;
        }
        editor.onUpdate = elem.change;
        editor.meta = elem.meta || editor.meta;
        if (cm.getValue() !== elem.value) {
            cm.setValue(elem.value || "");
            cm.clearHistory();
        }
        cm.refresh();
    };
}
exports.createEditor = createEditor;

},{}],8:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime = exports;
exports.MAX_NUMBER = 9007199254740991;
exports.INCREMENTAL = false;
function objectsIdentical(a, b) {
    var aKeys = Object.keys(a);
    for (var _i = 0; _i < aKeys.length; _i++) {
        var key = aKeys[_i];
        //TODO: handle non-scalar values
        if (a[key] !== b[key])
            return false;
    }
    return true;
}
function indexOfFact(haystack, needle) {
    var ix = 0;
    for (var _i = 0; _i < haystack.length; _i++) {
        var fact = haystack[_i];
        if (fact.__id === needle.__id) {
            return ix;
        }
        ix++;
    }
    return -1;
}
function removeFact(haystack, needle) {
    var ix = indexOfFact(haystack, needle);
    if (ix > -1)
        haystack.splice(ix, 1);
    return haystack;
}
exports.removeFact = removeFact;
function diffAddsAndRemoves(adds, removes) {
    var localHash = {};
    var hashToFact = {};
    var hashes = [];
    for (var _i = 0; _i < adds.length; _i++) {
        var add = adds[_i];
        var hash = add.__id;
        if (localHash[hash] === undefined) {
            localHash[hash] = 1;
            hashToFact[hash] = add;
            hashes.push(hash);
        }
        else {
            localHash[hash]++;
        }
        add.__id = hash;
    }
    for (var _a = 0; _a < removes.length; _a++) {
        var remove = removes[_a];
        var hash = remove.__id;
        if (localHash[hash] === undefined) {
            localHash[hash] = -1;
            hashToFact[hash] = remove;
            hashes.push(hash);
        }
        else {
            localHash[hash]--;
        }
        remove.__id = hash;
    }
    var realAdds = [];
    var realRemoves = [];
    for (var _b = 0; _b < hashes.length; _b++) {
        var hash = hashes[_b];
        var count = localHash[hash];
        if (count > 0) {
            var fact = hashToFact[hash];
            realAdds.push(fact);
        }
        else if (count < 0) {
            var fact = hashToFact[hash];
            realRemoves.push(fact);
        }
    }
    return { adds: realAdds, removes: realRemoves };
}
function generateEqualityFn(keys) {
    return new Function("a", "b", "return " + keys.map(function (key, ix) {
        if (key.constructor === Array) {
            return "a['" + key[0] + "']['" + key[1] + "'] === b['" + key[0] + "']['" + key[1] + "']";
        }
        else {
            return "a[\"" + key + "\"] === b[\"" + key + "\"]";
        }
    }).join(" && ") + ";");
}
function generateStringFn(keys) {
    var keyStrings = [];
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            keyStrings.push("a['" + key[0] + "']['" + key[1] + "']");
        }
        else {
            keyStrings.push("a['" + key + "']");
        }
    }
    var final = keyStrings.join(' + "|" + ');
    return new Function("a", "return " + final + ";");
}
function generateUnprojectedSorterCode(unprojectedSize, sorts) {
    var conditions = [];
    var path = [];
    var distance = unprojectedSize;
    for (var _i = 0; _i < sorts.length; _i++) {
        var sort = sorts[_i];
        var condition = "";
        for (var _a = 0; _a < path.length; _a++) {
            var prev = path[_a];
            var table_1 = prev[0], key_1 = prev[1];
            condition += "unprojected[j-" + (distance - table_1) + "]['" + key_1 + "'] === item" + table_1 + "['" + key_1 + "'] && ";
        }
        var table = sort[0], key = sort[1], dir = sort[2];
        var op = ">";
        if (dir === "descending") {
            op = "<";
        }
        condition += "unprojected[j-" + (distance - table) + "]['" + key + "'] " + op + " item" + table + "['" + key + "']";
        conditions.push(condition);
        path.push(sort);
    }
    var items = [];
    var repositioned = [];
    var itemAssignments = [];
    for (var ix = 0; ix < distance; ix++) {
        items.push("item" + ix + " = unprojected[j+" + ix + "]");
        repositioned.push("unprojected[j+" + ix + "] = unprojected[j - " + (distance - ix) + "]");
        itemAssignments.push(("unprojected[j+" + ix + "] = item" + ix));
    }
    return "for (var i = 0, len = unprojected.length; i < len; i += " + distance + ") {\n      var j = i, " + items.join(", ") + ";\n      for(; j > " + (distance - 1) + " && (" + conditions.join(" || ") + "); j -= " + distance + ") {\n        " + repositioned.join(";\n") + "\n      }\n      " + itemAssignments.join(";\n") + "\n  }";
}
function generateCollector(keys) {
    var code = "var runtime = this;\n";
    var ix = 0;
    var checks = "";
    var removes = "var cur = index";
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            removes += "[remove['" + key[0] + "']['" + key[1] + "']]";
        }
        else {
            removes += "[remove['" + key + "']]";
        }
    }
    removes += ";\nruntime.removeFact(cur, remove);";
    for (var _a = 0; _a < keys.length; _a++) {
        var key = keys[_a];
        ix++;
        if (key.constructor === Array) {
            checks += "value = add['" + key[0] + "']['" + key[1] + "']\n";
        }
        else {
            checks += "value = add['" + key + "']\n";
        }
        var path = "cursor[value]";
        checks += "if(!" + path + ") " + path + " = ";
        if (ix === keys.length) {
            checks += "[]\n";
        }
        else {
            checks += "{}\n";
        }
        checks += "cursor = " + path + "\n";
    }
    code += "\nfor(var ix = 0, len = removes.length; ix < len; ix++) {\nvar remove = removes[ix];\n" + removes + "\n}\nfor(var ix = 0, len = adds.length; ix < len; ix++) {\nvar add = adds[ix];\nvar cursor = index;\nvar value;\n" + checks + "  cursor.push(add);\n}\nreturn index;";
    return (new Function("index", "adds", "removes", code)).bind(runtime);
}
function generateCollector2(keys) {
    var hashParts = [];
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            hashParts.push("add['" + key[0] + "']['" + key[1] + "']");
        }
        else {
            hashParts.push("add['" + key + "']");
        }
    }
    var code = "\n    var ixCache = cache.ix;\n    var idCache = cache.id;\n    for(var ix = 0, len = removes.length; ix < len; ix++) {\n      var remove = removes[ix];\n      var id = remove.__id;\n      var key = idCache[id];\n      var factIx = ixCache[id];\n      var facts = index[key];\n      //swap the last fact with this one to prevent holes\n      var lastFact = facts.pop();\n      if(lastFact && lastFact.__id !== remove.__id) {\n        facts[factIx] = lastFact;\n        ixCache[lastFact.__id] = factIx;\n      } else if(facts.length === 0) {\n        delete index[key];\n      }\n      delete idCache[id];\n      delete ixCache[id];\n    }\n    for(var ix = 0, len = adds.length; ix < len; ix++) {\n      var add = adds[ix];\n      var id = add.__id;\n      var key = idCache[id] = " + hashParts.join(" + '|' + ") + ";\n      if(index[key] === undefined) index[key] = [];\n      var arr = index[key];\n      ixCache[id] = arr.length;\n      arr.push(add);\n    }\n    return index;";
    return new Function("index", "adds", "removes", "cache", code);
}
function mergeArrays(as, bs) {
    var ix = as.length;
    var start = ix;
    for (var _i = 0; _i < bs.length; _i++) {
        var b = bs[_i];
        as[ix] = bs[ix - start];
        ix++;
    }
    return as;
}
var Diff = (function () {
    function Diff(ixer) {
        this.ixer = ixer;
        this.tables = {};
        this.length = 0;
        this.meta = {};
    }
    Diff.prototype.ensureTable = function (table) {
        var tableDiff = this.tables[table];
        if (!tableDiff) {
            tableDiff = this.tables[table] = { adds: [], removes: [] };
        }
        return tableDiff;
    };
    Diff.prototype.add = function (table, obj) {
        var tableDiff = this.ensureTable(table);
        this.length++;
        tableDiff.adds.push(obj);
        return this;
    };
    Diff.prototype.addMany = function (table, objs) {
        var tableDiff = this.ensureTable(table);
        this.length += objs.length;
        mergeArrays(tableDiff.adds, objs);
        return this;
    };
    Diff.prototype.removeFacts = function (table, objs) {
        var tableDiff = this.ensureTable(table);
        this.length += objs.length;
        mergeArrays(tableDiff.removes, objs);
        return this;
    };
    Diff.prototype.remove = function (table, query) {
        var tableDiff = this.ensureTable(table);
        var found = this.ixer.find(table, query);
        this.length += found.length;
        mergeArrays(tableDiff.removes, found);
        return this;
    };
    Diff.prototype.merge = function (diff) {
        for (var table in diff.tables) {
            var tableDiff = diff.tables[table];
            this.addMany(table, tableDiff.adds);
            this.removeFacts(table, tableDiff.removes);
        }
        return this;
    };
    Diff.prototype.reverse = function () {
        var reversed = new Diff(this.ixer);
        for (var table in this.tables) {
            var diff = this.tables[table];
            reversed.addMany(table, diff.removes);
            reversed.removeFacts(table, diff.adds);
        }
        return reversed;
    };
    return Diff;
})();
exports.Diff = Diff;
var Indexer = (function () {
    function Indexer() {
        this.tables = {};
        this.globalCount = 0;
        this.edbTables = {};
    }
    Indexer.prototype.addTable = function (name, keys) {
        if (keys === void 0) { keys = []; }
        var table = this.tables[name];
        keys = keys.filter(function (key) { return key !== "__id"; });
        if (table && keys.length) {
            table.fields = keys;
            table.stringify = generateStringFn(keys);
        }
        else {
            table = this.tables[name] = { table: [], hashToIx: {}, factHash: {}, indexes: {}, triggers: {}, fields: keys, stringify: generateStringFn(keys), keyLookup: {} };
            this.edbTables[name] = true;
        }
        for (var _i = 0; _i < keys.length; _i++) {
            var key = keys[_i];
            if (key.constructor === Array) {
                table.keyLookup[key[0]] = key;
            }
            else {
                table.keyLookup[key] = key;
            }
        }
        return table;
    };
    Indexer.prototype.clearTable = function (name) {
        var table = this.tables[name];
        if (!table)
            return;
        table.table = [];
        table.factHash = {};
        for (var indexName in table.indexes) {
            table.indexes[indexName].index = {};
            table.indexes[indexName].cache = { id: {}, ix: {} };
        }
    };
    Indexer.prototype.updateTable = function (tableId, adds, removes) {
        var table = this.tables[tableId];
        if (!table || !table.fields.length) {
            var example = adds[0] || removes[0];
            table = this.addTable(tableId, Object.keys(example));
        }
        var stringify = table.stringify;
        var facts = table.table;
        var factHash = table.factHash;
        var hashToIx = table.hashToIx;
        var localHash = {};
        var hashToFact = {};
        var hashes = [];
        for (var _i = 0; _i < adds.length; _i++) {
            var add = adds[_i];
            var hash = add.__id || stringify(add);
            if (localHash[hash] === undefined) {
                localHash[hash] = 1;
                hashToFact[hash] = add;
                hashes.push(hash);
            }
            else {
                localHash[hash]++;
            }
            add.__id = hash;
        }
        for (var _a = 0; _a < removes.length; _a++) {
            var remove = removes[_a];
            var hash = remove.__id || stringify(remove);
            if (localHash[hash] === undefined) {
                localHash[hash] = -1;
                hashToFact[hash] = remove;
                hashes.push(hash);
            }
            else {
                localHash[hash]--;
            }
            remove.__id = hash;
        }
        var realAdds = [];
        var realRemoves = [];
        for (var _b = 0; _b < hashes.length; _b++) {
            var hash = hashes[_b];
            var count = localHash[hash];
            if (count > 0 && !factHash[hash]) {
                var fact = hashToFact[hash];
                realAdds.push(fact);
                facts.push(fact);
                factHash[hash] = fact;
                hashToIx[hash] = facts.length - 1;
            }
            else if (count < 0 && factHash[hash]) {
                var fact = hashToFact[hash];
                var ix = hashToIx[hash];
                //swap the last fact with this one to prevent holes
                var lastFact = facts.pop();
                if (lastFact && lastFact.__id !== fact.__id) {
                    facts[ix] = lastFact;
                    hashToIx[lastFact.__id] = ix;
                }
                realRemoves.push(fact);
                delete factHash[hash];
                delete hashToIx[hash];
            }
        }
        return { adds: realAdds, removes: realRemoves };
    };
    Indexer.prototype.collector = function (keys) {
        return {
            index: {},
            cache: { id: {}, ix: {} },
            hasher: generateStringFn(keys),
            collect: generateCollector2(keys),
        };
    };
    Indexer.prototype.factToIndex = function (table, fact) {
        var keys = Object.keys(fact);
        if (!keys.length)
            return table.table.slice();
        var index = this.index(table, keys);
        var result = index.index[index.hasher(fact)];
        if (result) {
            return result.slice();
        }
        return [];
    };
    Indexer.prototype.execDiff = function (diff) {
        var triggers = {};
        var realDiffs = {};
        var tableIds = Object.keys(diff.tables);
        for (var _i = 0; _i < tableIds.length; _i++) {
            var tableId = tableIds[_i];
            var tableDiff = diff.tables[tableId];
            if (tableDiff.adds.length === 0 && tableDiff.removes.length === 0)
                continue;
            var realDiff = this.updateTable(tableId, tableDiff.adds, tableDiff.removes);
            // go through all the indexes and update them.
            var table = this.tables[tableId];
            var indexes = Object.keys(table.indexes);
            for (var _a = 0; _a < indexes.length; _a++) {
                var indexName = indexes[_a];
                var index = table.indexes[indexName];
                index.collect(index.index, realDiff.adds, realDiff.removes, index.cache);
            }
            var curTriggers = Object.keys(table.triggers);
            for (var _b = 0; _b < curTriggers.length; _b++) {
                var triggerName = curTriggers[_b];
                var trigger = table.triggers[triggerName];
                triggers[triggerName] = trigger;
            }
            realDiffs[tableId] = realDiff;
        }
        return { triggers: triggers, realDiffs: realDiffs };
    };
    Indexer.prototype.execTrigger = function (trigger) {
        var table = this.table(trigger.name);
        // since views might be changed during the triggering process, we want to favor
        // just using the view itself as the trigger if it is one. Otherwise, we use the
        // trigger's exec function. This ensures that if a view is recompiled and added
        // that any already queued triggers will use the updated version of the view instead
        // of the old queued one.
        var _a = (table.view ? table.view.exec() : trigger.exec()) || {}, _b = _a.results, results = _b === void 0 ? undefined : _b, _c = _a.unprojected, unprojected = _c === void 0 ? undefined : _c;
        if (!results)
            return;
        var prevResults = table.factHash;
        var prevHashes = Object.keys(prevResults);
        table.unprojected = unprojected;
        if (results) {
            var diff = new Diff(this);
            this.clearTable(trigger.name);
            diff.addMany(trigger.name, results);
            var triggers = this.execDiff(diff).triggers;
            var newHashes = table.factHash;
            if (prevHashes.length === Object.keys(newHashes).length) {
                var same = true;
                for (var _i = 0; _i < prevHashes.length; _i++) {
                    var hash = prevHashes[_i];
                    if (!newHashes[hash]) {
                        same = false;
                        break;
                    }
                }
                return same ? undefined : triggers;
            }
            else {
                return triggers;
            }
        }
        return;
    };
    Indexer.prototype.transitivelyClearTriggers = function (startingTriggers) {
        var cleared = {};
        var remaining = Object.keys(startingTriggers);
        for (var ix = 0; ix < remaining.length; ix++) {
            var trigger = remaining[ix];
            if (cleared[trigger])
                continue;
            this.clearTable(trigger);
            cleared[trigger] = true;
            remaining.push.apply(remaining, Object.keys(this.table(trigger).triggers));
        }
        return cleared;
    };
    Indexer.prototype.execTriggers = function (triggers) {
        var newTriggers = {};
        var retrigger = false;
        for (var triggerName in triggers) {
            // console.log("Calling:", triggerName);
            var trigger = triggers[triggerName];
            var nextRound = this.execTrigger(trigger);
            if (nextRound) {
                retrigger = true;
                for (var trigger_1 in nextRound) {
                    // console.log("Queuing:", trigger);
                    newTriggers[trigger_1] = nextRound[trigger_1];
                }
            }
        }
        if (retrigger) {
            return newTriggers;
        }
    };
    //---------------------------------------------------------
    // Indexer Public API
    //---------------------------------------------------------
    Indexer.prototype.serialize = function (asObject) {
        var dump = {};
        for (var tableName in this.tables) {
            var table = this.tables[tableName];
            if (!table.isView) {
                dump[tableName] = table.table;
            }
        }
        if (asObject) {
            return dump;
        }
        return JSON.stringify(dump);
    };
    Indexer.prototype.load = function (serialized) {
        var dump = JSON.parse(serialized);
        var diff = this.diff();
        for (var tableName in dump) {
            diff.addMany(tableName, dump[tableName]);
        }
        if (exports.INCREMENTAL) {
            this.applyDiffIncremental(diff);
        }
        else {
            this.applyDiff(diff);
        }
    };
    Indexer.prototype.diff = function () {
        return new Diff(this);
    };
    Indexer.prototype.applyDiff = function (diff) {
        if (exports.INCREMENTAL) {
            return this.applyDiffIncremental(diff);
        }
        var _a = this.execDiff(diff), triggers = _a.triggers, realDiffs = _a.realDiffs;
        var cleared;
        var round = 0;
        if (triggers)
            cleared = this.transitivelyClearTriggers(triggers);
        while (triggers) {
            for (var trigger in triggers) {
                cleared[trigger] = false;
            }
            // console.group(`ROUND ${round}`);
            triggers = this.execTriggers(triggers);
            round++;
        }
        for (var _i = 0, _b = Object.keys(cleared); _i < _b.length; _i++) {
            var trigger = _b[_i];
            if (!cleared[trigger])
                continue;
            var view = this.table(trigger).view;
            if (view) {
                this.execTrigger(view);
            }
        }
    };
    Indexer.prototype.table = function (tableId) {
        var table = this.tables[tableId];
        if (table)
            return table;
        return this.addTable(tableId);
    };
    Indexer.prototype.index = function (tableOrId, keys) {
        var table;
        if (typeof tableOrId === "string")
            table = this.table(tableOrId);
        else
            table = tableOrId;
        keys.sort();
        var indexName = keys.filter(function (key) { return key !== "__id"; }).join("|");
        var index = table.indexes[indexName];
        if (!index) {
            var tableKeys = [];
            for (var _i = 0; _i < keys.length; _i++) {
                var key = keys[_i];
                tableKeys.push(table.keyLookup[key] || key);
            }
            index = table.indexes[indexName] = this.collector(tableKeys);
            index.collect(index.index, table.table, [], index.cache);
        }
        return index;
    };
    Indexer.prototype.find = function (tableId, query) {
        var table = this.tables[tableId];
        if (!table) {
            return [];
        }
        else if (!query) {
            return table.table.slice();
        }
        else {
            return this.factToIndex(table, query);
        }
    };
    Indexer.prototype.findOne = function (tableId, query) {
        return this.find(tableId, query)[0];
    };
    Indexer.prototype.query = function (name) {
        if (name === void 0) { name = "unknown"; }
        return new Query(this, name);
    };
    Indexer.prototype.union = function (name) {
        return new Union(this, name);
    };
    Indexer.prototype.trigger = function (name, table, exec, execIncremental) {
        var tables = (typeof table === "string") ? [table] : table;
        var trigger = { name: name, tables: tables, exec: exec, execIncremental: execIncremental };
        for (var _i = 0; _i < tables.length; _i++) {
            var tableId = tables[_i];
            var table_2 = this.table(tableId);
            table_2.triggers[name] = trigger;
        }
        if (!exports.INCREMENTAL) {
            var nextRound = this.execTrigger(trigger);
            while (nextRound) {
                nextRound = this.execTriggers(nextRound);
            }
            ;
        }
        else {
            if (!tables.length) {
                return exec(this);
            }
            var initial = (_a = {}, _a[tables[0]] = { adds: this.tables[tables[0]].table, removes: [] }, _a);
            var _b = this.execTriggerIncremental(trigger, initial), triggers = _b.triggers, changes = _b.changes;
            while (triggers) {
                var results = this.execTriggersIncremental(triggers, changes);
                if (!results)
                    break;
                triggers = results.triggers;
                changes = results.changes;
            }
        }
        var _a;
    };
    Indexer.prototype.asView = function (query) {
        var name = query.name;
        if (this.tables[name]) {
            this.removeView(name);
        }
        var view = this.table(name);
        this.edbTables[name] = false;
        view.view = query;
        view.isView = true;
        this.trigger(name, query.tables, query.exec.bind(query), query.execIncremental.bind(query));
    };
    Indexer.prototype.removeView = function (id) {
        for (var _i = 0, _a = this.tables; _i < _a.length; _i++) {
            var table = _a[_i];
            delete table.triggers[id];
        }
    };
    Indexer.prototype.totalFacts = function () {
        var total = 0;
        for (var tableName in this.tables) {
            total += this.tables[tableName].table.length;
        }
        return total;
    };
    Indexer.prototype.factsPerTable = function () {
        var info = {};
        for (var tableName in this.tables) {
            info[tableName] = this.tables[tableName].table.length;
        }
        return info;
    };
    Indexer.prototype.applyDiffIncremental = function (diff) {
        if (diff.length === 0)
            return;
        // console.log("DIFF SIZE: ", diff.length, diff);
        var _a = this.execDiff(diff), triggers = _a.triggers, realDiffs = _a.realDiffs;
        var round = 0;
        var changes = realDiffs;
        while (triggers) {
            // console.group(`ROUND ${round}`);
            // console.log("CHANGES: ", changes);
            var results = this.execTriggersIncremental(triggers, changes);
            // console.groupEnd();
            if (!results)
                break;
            triggers = results.triggers;
            changes = results.changes;
            round++;
        }
    };
    Indexer.prototype.execTriggerIncremental = function (trigger, changes) {
        var table = this.table(trigger.name);
        var adds, provenance, removes, info;
        if (trigger.execIncremental) {
            info = trigger.execIncremental(changes, table) || {};
            adds = info.adds;
            removes = info.removes;
        }
        else {
            trigger.exec();
            return;
        }
        var diff = new runtime.Diff(this);
        if (adds.length) {
            diff.addMany(trigger.name, adds);
        }
        if (removes.length) {
            diff.removeFacts(trigger.name, removes);
        }
        var updated = this.execDiff(diff);
        var realDiffs = updated.realDiffs;
        if (realDiffs[trigger.name] && (realDiffs[trigger.name].adds.length || realDiffs[trigger.name].removes)) {
            return { changes: realDiffs[trigger.name], triggers: updated.triggers };
        }
        else {
            return {};
        }
    };
    Indexer.prototype.execTriggersIncremental = function (triggers, changes) {
        var newTriggers = {};
        var nextChanges = {};
        var retrigger = false;
        var triggerKeys = Object.keys(triggers);
        for (var _i = 0; _i < triggerKeys.length; _i++) {
            var triggerName = triggerKeys[_i];
            // console.log("Calling:", triggerName);
            var trigger = triggers[triggerName];
            var nextRound = this.execTriggerIncremental(trigger, changes);
            if (nextRound && nextRound.changes) {
                nextChanges[triggerName] = nextRound.changes;
                if (nextRound.triggers) {
                    var nextRoundKeys = Object.keys(nextRound.triggers);
                    for (var _a = 0; _a < nextRoundKeys.length; _a++) {
                        var trigger_2 = nextRoundKeys[_a];
                        if (trigger_2 && nextRound.triggers[trigger_2]) {
                            retrigger = true;
                            // console.log("Queuing:", trigger);
                            newTriggers[trigger_2] = nextRound.triggers[trigger_2];
                        }
                    }
                }
            }
        }
        if (retrigger) {
            return { changes: nextChanges, triggers: newTriggers };
        }
    };
    return Indexer;
})();
exports.Indexer = Indexer;
function addProvenanceTable(ixer) {
    var table = ixer.addTable("provenance", ["table", ["row", "__id"], "row instance", "source", ["source row", "__id"]]);
    // generate some indexes that we know we're going to need upfront
    ixer.index("provenance", ["table", "row"]);
    ixer.index("provenance", ["table", "row instance"]);
    ixer.index("provenance", ["table", "source", "source row"]);
    ixer.index("provenance", ["table"]);
    return ixer;
}
exports.addProvenanceTable = addProvenanceTable;
function mappingToDiff(diff, action, mapping, aliases, reverseLookup) {
    for (var from in mapping) {
        var to = mapping[from];
        if (to.constructor === Array) {
            var source = to[0];
            if (typeof source === "number") {
                source = aliases[reverseLookup[source]];
            }
            else {
                source = aliases[source];
            }
            diff.add("action mapping", { action: action, from: from, "to source": source, "to field": to[1] });
        }
        else {
            diff.add("action mapping constant", { action: action, from: from, value: to });
        }
    }
    return diff;
}
exports.QueryFunctions = {};
var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;
var ARGUMENT_NAMES = /([^\s,]+)/g;
function getParamNames(func) {
    var fnStr = func.toString().replace(STRIP_COMMENTS, '');
    var result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);
    if (result === null)
        result = [];
    return result;
}
function define(name, opts, func) {
    var params = getParamNames(func);
    opts.name = name;
    opts.params = params;
    opts.func = func;
    exports.QueryFunctions[name] = opts;
}
exports.define = define;
var Query = (function () {
    function Query(ixer, name) {
        if (name === void 0) { name = "unknown"; }
        this.name = name;
        this.ixer = ixer;
        this.dirty = true;
        this.tables = [];
        this.joins = [];
        this.aliases = {};
        this.funcs = [];
        this.aggregates = [];
        this.unprojectedSize = 0;
        this.hasOrdinal = false;
    }
    Query.remove = function (view, ixer) {
        var diff = ixer.diff();
        diff.remove("view", { view: view });
        for (var _i = 0, _a = ixer.find("action", { view: view }); _i < _a.length; _i++) {
            var actionItem = _a[_i];
            var action = actionItem.action;
            diff.remove("action", { action: action });
            diff.remove("action source", { action: action });
            diff.remove("action mapping", { action: action });
            diff.remove("action mapping constant", { action: action });
            diff.remove("action mapping sorted", { action: action });
            diff.remove("action mapping limit", { action: action });
        }
        return diff;
    };
    Query.prototype.changeset = function (ixer) {
        var diff = ixer.diff();
        var aliases = {};
        var reverseLookup = {};
        for (var alias in this.aliases) {
            reverseLookup[this.aliases[alias]] = alias;
        }
        var view = this.name;
        diff.add("view", { view: view, kind: "query" });
        //joins
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var action = utils_1.uuid();
            aliases[join.as] = action;
            if (!join.negated) {
                diff.add("action", { view: view, action: action, kind: "select", ix: join.ix });
            }
            else {
                diff.add("action", { view: view, action: action, kind: "deselect", ix: join.ix });
            }
            diff.add("action source", { action: action, "source view": join.table });
            mappingToDiff(diff, action, join.join, aliases, reverseLookup);
        }
        //functions
        for (var _b = 0, _c = this.funcs; _b < _c.length; _b++) {
            var func = _c[_b];
            var action = utils_1.uuid();
            aliases[func.as] = action;
            diff.add("action", { view: view, action: action, kind: "calculate", ix: func.ix });
            diff.add("action source", { action: action, "source view": func.name });
            mappingToDiff(diff, action, func.args, aliases, reverseLookup);
        }
        //aggregates
        for (var _d = 0, _e = this.aggregates; _d < _e.length; _d++) {
            var agg = _e[_d];
            var action = utils_1.uuid();
            aliases[agg.as] = action;
            diff.add("action", { view: view, action: action, kind: "aggregate", ix: agg.ix });
            diff.add("action source", { action: action, "source view": agg.name });
            mappingToDiff(diff, action, agg.args, aliases, reverseLookup);
        }
        //sort
        if (this.sorts) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "sort", ix: exports.MAX_NUMBER });
            var ix = 0;
            for (var _f = 0, _g = this.sorts; _f < _g.length; _f++) {
                var sort = _g[_f];
                var source = sort[0], field = sort[1], direction = sort[2];
                if (typeof source === "number") {
                    source = aliases[reverseLookup[source]];
                }
                else {
                    source = aliases[source];
                }
                diff.add("action mapping sorted", { action: action, ix: ix, source: source, field: field, direction: direction });
                ix++;
            }
        }
        //group
        if (this.groups) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "group", ix: exports.MAX_NUMBER });
            var ix = 0;
            for (var _h = 0, _j = this.groups; _h < _j.length; _h++) {
                var group = _j[_h];
                var source = group[0], field = group[1];
                if (typeof source === "number") {
                    source = aliases[reverseLookup[source]];
                }
                else {
                    source = aliases[source];
                }
                diff.add("action mapping sorted", { action: action, ix: ix, source: source, field: field, direction: "ascending" });
                ix++;
            }
        }
        //limit
        if (this.limitInfo) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "limit", ix: exports.MAX_NUMBER });
            for (var limitType in this.limitInfo) {
                diff.add("action mapping limit", { action: action, "limit type": limitType, value: this.limitInfo[limitType] });
            }
        }
        //projection
        if (this.projectionMap) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "project", ix: exports.MAX_NUMBER });
            mappingToDiff(diff, action, this.projectionMap, aliases, reverseLookup);
        }
        return diff;
    };
    Query.prototype.validateFields = function (tableName, joinObject) {
        var table = this.ixer.table(tableName);
        for (var field in joinObject) {
            if (table.fields.length && !table.keyLookup[field]) {
                throw new Error("Table '" + tableName + "' doesn't have a field '" + field + "'.\n\nAvailable fields: " + table.fields.join(", "));
            }
            var joinInfo = joinObject[field];
            if (joinInfo.constructor === Array) {
                var joinNumber = joinInfo[0], referencedField = joinInfo[1];
                if (typeof joinNumber !== "number") {
                    joinNumber = this.aliases[joinNumber];
                }
                var join = this.joins[joinNumber];
                if (join && join.ix === joinNumber) {
                    var referencedTable = this.ixer.table(join.table);
                    if (!referencedTable.fields.length)
                        continue;
                    if (!referencedTable.keyLookup[referencedField]) {
                        throw new Error("Table '" + join.table + "' doesn't have a field '" + referencedField + "'.\n\nAvailable fields: " + referencedTable.fields.join(", "));
                    }
                }
            }
        }
    };
    Query.prototype.select = function (table, join, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        this.unprojectedSize++;
        this.tables.push(table);
        this.validateFields(table, join);
        this.joins.push({ negated: false, table: table, join: join, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.deselect = function (table, join) {
        this.dirty = true;
        this.tables.push(table);
        this.validateFields(table, join);
        this.joins.push({ negated: true, table: table, join: join, ix: this.joins.length * 1000 });
        return this;
    };
    Query.prototype.calculate = function (funcName, args, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        if (!exports.QueryFunctions[funcName].filter) {
            this.unprojectedSize++;
        }
        this.funcs.push({ name: funcName, args: args, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.project = function (projectionMap) {
        this.projectionMap = projectionMap;
        this.validateFields(undefined, projectionMap);
        return this;
    };
    Query.prototype.group = function (groups) {
        this.dirty = true;
        if (groups[0] && groups[0].constructor === Array) {
            this.groups = groups;
        }
        else {
            if (!this.groups)
                this.groups = [];
            this.groups.push(groups);
        }
        return this;
    };
    Query.prototype.sort = function (sorts) {
        this.dirty = true;
        if (sorts[0] && sorts[0].constructor === Array) {
            this.sorts = sorts;
        }
        else {
            if (!this.sorts)
                this.sorts = [];
            this.sorts.push(sorts);
        }
        return this;
    };
    Query.prototype.limit = function (limitInfo) {
        this.dirty = true;
        if (!this.limitInfo) {
            this.limitInfo = {};
        }
        for (var key in limitInfo) {
            this.limitInfo[key] = limitInfo[key];
        }
        return this;
    };
    Query.prototype.aggregate = function (funcName, args, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        this.unprojectedSize++;
        this.aggregates.push({ name: funcName, args: args, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.ordinal = function () {
        this.dirty = true;
        this.hasOrdinal = true;
        this.unprojectedSize++;
        return this;
    };
    Query.prototype.applyAliases = function (joinMap) {
        for (var field in joinMap) {
            var joinInfo = joinMap[field];
            if (joinInfo.constructor !== Array || typeof joinInfo[0] === "number")
                continue;
            var joinTable = joinInfo[0];
            if (joinTable === "ordinal") {
                joinInfo[0] = this.unprojectedSize - 1;
            }
            else if (this.aliases[joinTable] !== undefined) {
                joinInfo[0] = this.aliases[joinTable];
            }
            else {
                throw new Error("Invalid alias used: " + joinTable);
            }
        }
    };
    Query.prototype.toAST = function () {
        var cursor = { type: "query",
            children: [] };
        var root = cursor;
        var results = [];
        // by default the only thing we return are the unprojected results
        var returns = ["unprojected", "provenance"];
        // we need an array to store our unprojected results
        root.children.push({ type: "declaration", var: "unprojected", value: "[]" });
        root.children.push({ type: "declaration", var: "provenance", value: "[]" });
        root.children.push({ type: "declaration", var: "projected", value: "{}" });
        // run through each table nested in the order they were given doing pairwise
        // joins along the way.
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var table = join.table, ix = join.ix, negated = join.negated;
            var cur = {
                type: "select",
                table: table,
                passed: ix === 0,
                ix: ix,
                negated: negated,
                children: [],
                join: false,
            };
            // we only want to eat the cost of dealing with indexes
            // if we are actually joining on something
            var joinMap = join.join;
            this.applyAliases(joinMap);
            if (joinMap && Object.keys(joinMap).length !== 0) {
                root.children.unshift({ type: "declaration", var: "query" + ix, value: "{}" });
                cur.join = joinMap;
            }
            cursor.children.push(cur);
            if (!negated) {
                results.push({ type: "select", ix: ix });
            }
            cursor = cur;
        }
        // at the bottom of the joins, we calculate all the functions based on the values
        // collected
        for (var _b = 0, _c = this.funcs; _b < _c.length; _b++) {
            var func = _c[_b];
            var args = func.args, name_1 = func.name, ix = func.ix;
            var funcInfo = exports.QueryFunctions[name_1];
            this.applyAliases(args);
            root.children.unshift({ type: "functionDeclaration", ix: ix, info: funcInfo });
            if (funcInfo.multi || funcInfo.filter) {
                var node = { type: "functionCallMultiReturn", ix: ix, args: args, info: funcInfo, children: [] };
                cursor.children.push(node);
                cursor = node;
            }
            else {
                cursor.children.push({ type: "functionCall", ix: ix, args: args, info: funcInfo, children: [] });
            }
            if (!funcInfo.noReturn && !funcInfo.filter) {
                results.push({ type: "function", ix: ix });
            }
        }
        // now that we're at the bottom of the join, store the unprojected result
        cursor.children.push({ type: "result", results: results });
        //Aggregation
        //sort the unprojected results based on groupings and the given sorts
        var sorts = [];
        var alreadySorted = {};
        if (this.groups) {
            this.applyAliases(this.groups);
            for (var _d = 0, _e = this.groups; _d < _e.length; _d++) {
                var group = _e[_d];
                var table = group[0], field = group[1];
                sorts.push(group);
                alreadySorted[(table + "|" + field)] = true;
            }
        }
        if (this.sorts) {
            this.applyAliases(this.sorts);
            for (var _f = 0, _g = this.sorts; _f < _g.length; _f++) {
                var sort = _g[_f];
                var table = sort[0], field = sort[1];
                if (!alreadySorted[(table + "|" + field)]) {
                    sorts.push(sort);
                }
            }
        }
        var size = this.unprojectedSize;
        if (sorts.length) {
            root.children.push({ type: "sort", sorts: sorts, size: size, children: [] });
        }
        //then we need to run through the sorted items and do the aggregate as a fold.
        if (this.aggregates.length || sorts.length || this.limitInfo || this.hasOrdinal) {
            // we need to store group info for post processing of the unprojected results
            // this will indicate what group number, if any, that each unprojected result belongs to
            root.children.unshift({ type: "declaration", var: "groupInfo", value: "[]" });
            returns.push("groupInfo");
            var aggregateChildren = [];
            for (var _h = 0, _j = this.aggregates; _h < _j.length; _h++) {
                var func = _j[_h];
                var args = func.args, name_2 = func.name, ix = func.ix;
                var funcInfo = exports.QueryFunctions[name_2];
                this.applyAliases(args);
                root.children.unshift({ type: "functionDeclaration", ix: ix, info: funcInfo });
                aggregateChildren.push({ type: "functionCall", ix: ix, resultsIx: results.length, args: args, info: funcInfo, unprojected: true, children: [] });
                results.push({ type: "placeholder" });
            }
            if (this.hasOrdinal === true) {
                aggregateChildren.push({ type: "ordinal" });
                results.push({ type: "placeholder" });
            }
            var aggregate = { type: "aggregate loop", groups: this.groups, limit: this.limitInfo, size: size, children: aggregateChildren };
            root.children.push(aggregate);
            cursor = aggregate;
        }
        if (this.projectionMap) {
            this.applyAliases(this.projectionMap);
            root.children.unshift({ type: "declaration", var: "results", value: "[]" });
            if (exports.INCREMENTAL) {
                cursor.children.push({ type: "provenance" });
            }
            cursor.children.push({ type: "projection", projectionMap: this.projectionMap, unprojected: this.aggregates.length });
            returns.push("results");
        }
        root.children.push({ type: "return", vars: returns });
        return root;
    };
    Query.prototype.compileParamString = function (funcInfo, args, unprojected) {
        if (unprojected === void 0) { unprojected = false; }
        var code = "";
        var params = funcInfo.params;
        if (unprojected)
            params = params.slice(1);
        for (var _i = 0; _i < params.length; _i++) {
            var param = params[_i];
            var arg = args[param];
            var argCode = void 0;
            if (arg.constructor === Array) {
                var property = "";
                if (arg[1]) {
                    property = "['" + arg[1] + "']";
                }
                if (!unprojected) {
                    argCode = "row" + arg[0] + property;
                }
                else {
                    argCode = "unprojected[ix + " + arg[0] + "]" + property;
                }
            }
            else {
                argCode = JSON.stringify(arg);
            }
            code += argCode + ", ";
        }
        return code.substring(0, code.length - 2);
    };
    Query.prototype.compileAST = function (root) {
        var code = "";
        var type = root.type;
        switch (type) {
            case "query":
                for (var _i = 0, _a = root.children; _i < _a.length; _i++) {
                    var child = _a[_i];
                    code += this.compileAST(child);
                }
                break;
            case "declaration":
                code += "var " + root.var + " = " + root.value + ";\n";
                break;
            case "functionDeclaration":
                code += "var func" + root.ix + " = QueryFunctions['" + root.info.name + "'].func;\n";
                break;
            case "functionCall":
                var ix = root.ix;
                var prev = "";
                if (root.unprojected) {
                    prev = "row" + ix;
                    if (root.info.params.length > 1)
                        prev += ",";
                }
                code += "var row" + ix + " = func" + ix + "(" + prev + this.compileParamString(root.info, root.args, root.unprojected) + ");\n";
                break;
            case "functionCallMultiReturn":
                var ix = root.ix;
                code += "var rows" + ix + " = func" + ix + "(" + this.compileParamString(root.info, root.args) + ");\n";
                code += "for(var funcResultIx" + ix + " = 0, funcLen" + ix + " = rows" + ix + ".length; funcResultIx" + ix + " < funcLen" + ix + "; funcResultIx" + ix + "++) {\n";
                code += "var row" + ix + " = rows" + ix + "[funcResultIx" + ix + "];\n";
                for (var _b = 0, _c = root.children; _b < _c.length; _b++) {
                    var child = _c[_b];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "select":
                var ix = root.ix;
                if (root.passed) {
                    code += "var rows" + ix + " = rootRows;\n";
                }
                else if (root.join) {
                    for (var key in root.join) {
                        var mapping = root.join[key];
                        if (mapping.constructor === Array) {
                            var tableIx = mapping[0], value = mapping[1];
                            code += "query" + ix + "['" + key + "'] = row" + tableIx + "['" + value + "'];\n";
                        }
                        else {
                            code += "query" + ix + "['" + key + "'] = " + JSON.stringify(mapping) + ";\n";
                        }
                    }
                    code += "var rows" + ix + " = ixer.factToIndex(ixer.table('" + root.table + "'), query" + ix + ");\n";
                }
                else {
                    code += "var rows" + ix + " = ixer.table('" + root.table + "').table;\n";
                }
                if (!root.negated) {
                    code += "for(var rowIx" + ix + " = 0, rowsLen" + ix + " = rows" + ix + ".length; rowIx" + ix + " < rowsLen" + ix + "; rowIx" + ix + "++) {\n";
                    code += "var row" + ix + " = rows" + ix + "[rowIx" + ix + "];\n";
                }
                else {
                    code += "if(!rows" + ix + ".length) {\n";
                }
                for (var _d = 0, _e = root.children; _d < _e.length; _d++) {
                    var child = _e[_d];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "result":
                var results = [];
                for (var _f = 0, _g = root.results; _f < _g.length; _f++) {
                    var result = _g[_f];
                    if (result.type === "placeholder") {
                        results.push("undefined");
                    }
                    else {
                        var ix_1 = result.ix;
                        results.push("row" + ix_1);
                    }
                }
                code += "unprojected.push(" + results.join(", ") + ");\n";
                break;
            case "sort":
                code += generateUnprojectedSorterCode(root.size, root.sorts) + "\n";
                break;
            case "aggregate loop":
                var projection = "";
                var aggregateCalls = [];
                var aggregateStates = [];
                var aggregateResets = [];
                var unprojected = {};
                var ordinal = false;
                var provenanceCode;
                for (var _h = 0, _j = root.children; _h < _j.length; _h++) {
                    var agg = _j[_h];
                    if (agg.type === "functionCall") {
                        unprojected[agg.ix] = true;
                        var compiled = this.compileAST(agg);
                        compiled += "\nunprojected[ix + " + agg.resultsIx + "] = row" + agg.ix + ";\n";
                        aggregateCalls.push(compiled);
                        aggregateStates.push("var row" + agg.ix + " = {};");
                        aggregateResets.push("row" + agg.ix + " = {};");
                    }
                    else if (agg.type === "projection") {
                        agg.unprojected = unprojected;
                        projection = this.compileAST(agg);
                    }
                    else if (agg.type === "ordinal") {
                        ordinal = "unprojected[ix+" + (this.unprojectedSize - 1) + "] = resultCount;\n";
                    }
                    else if (agg.type === "provenance") {
                        provenanceCode = this.compileAST(agg);
                    }
                }
                var aggregateCallsCode = aggregateCalls.join("");
                var differentGroupChecks = [];
                var groupCheck = "false";
                if (root.groups) {
                    for (var _k = 0, _l = root.groups; _k < _l.length; _k++) {
                        var group = _l[_k];
                        var table = group[0], field = group[1];
                        differentGroupChecks.push("unprojected[nextIx + " + table + "]['" + field + "'] !== unprojected[ix + " + table + "]['" + field + "']");
                    }
                    groupCheck = "(" + differentGroupChecks.join(" || ") + ")";
                }
                var resultsCheck = "";
                if (root.limit && root.limit.results) {
                    var limitValue = root.limit.results;
                    var offset = root.limit.offset;
                    if (offset) {
                        limitValue += offset;
                        projection = "if(resultCount >= " + offset + ") {\n              " + projection + "\n            }";
                    }
                    resultsCheck = "if(resultCount === " + limitValue + ") break;";
                }
                var groupLimitCheck = "";
                if (root.limit && root.limit.perGroup && root.groups) {
                    var limitValue = root.limit.perGroup;
                    var offset = root.limit.offset;
                    if (offset) {
                        limitValue += offset;
                        aggregateCallsCode = "if(perGroupCount >= " + offset + ") {\n              " + aggregateCallsCode + "\n            }";
                    }
                    groupLimitCheck = "if(perGroupCount === " + limitValue + ") {\n            while(!differentGroup) {\n              nextIx += " + root.size + ";\n              if(nextIx >= len) break;\n              groupInfo[nextIx] = undefined;\n              differentGroup = " + groupCheck + ";\n            }\n          }";
                }
                var groupDifference = "";
                var groupInfo = "";
                if (this.groups) {
                    groupInfo = "groupInfo[ix] = resultCount;";
                    var groupProjection = projection + "resultCount++;";
                    if (root.limit && root.limit.offset) {
                        groupProjection = "if(perGroupCount > " + root.limit.offset + ") {\n              " + groupProjection + "\n            }";
                        groupInfo = "if(perGroupCount >= " + root.limit.offset + ") {\n              " + groupInfo + "\n            }";
                    }
                    groupDifference = "\n          perGroupCount++\n          var differentGroup = " + groupCheck + ";\n          " + groupLimitCheck + "\n          if(differentGroup) {\n            " + groupProjection + "\n            " + aggregateResets.join("\n") + "\n            perGroupCount = 0;\n          }\n";
                }
                else {
                    groupDifference = "resultCount++;\n";
                    groupInfo = "groupInfo[ix] = 0;";
                }
                // if there are neither aggregates to calculate nor groups to build,
                // then we just need to worry about limiting
                if (!this.groups && aggregateCalls.length === 0) {
                    code = "var ix = 0;\n                  var resultCount = 0;\n                  var len = unprojected.length;\n                  while(ix < len) {\n                    " + resultsCheck + "\n                    " + (ordinal || "") + "\n                    " + provenanceCode + "\n                    " + projection + "\n                    groupInfo[ix] = resultCount;\n                    resultCount++;\n                    ix += " + root.size + ";\n                  }\n";
                    break;
                }
                code = "var resultCount = 0;\n                var perGroupCount = 0;\n                var ix = 0;\n                var nextIx = 0;\n                var len = unprojected.length;\n                " + aggregateStates.join("\n") + "\n                while(ix < len) {\n                  " + aggregateCallsCode + "\n                  " + groupInfo + "\n                  " + (ordinal || "") + "\n                  " + provenanceCode + "\n                  if(ix + " + root.size + " === len) {\n                    " + projection + "\n                    break;\n                  }\n                  nextIx += " + root.size + ";\n                  " + groupDifference + "\n                  " + resultsCheck + "\n                  ix = nextIx;\n                }\n";
                break;
            case "projection":
                var projectedVars = [];
                var idStringParts = [];
                for (var newField in root.projectionMap) {
                    var mapping = root.projectionMap[newField];
                    var value = "";
                    if (mapping.constructor === Array) {
                        if (mapping[1] === undefined) {
                            value = "unprojected[ix + " + mapping[0] + "]";
                        }
                        else if (!root.unprojected || root.unprojected[mapping[0]]) {
                            value = "row" + mapping[0] + "['" + mapping[1] + "']";
                        }
                        else {
                            value = "unprojected[ix + " + mapping[0] + "]['" + mapping[1] + "']";
                        }
                    }
                    else {
                        value = JSON.stringify(mapping);
                    }
                    projectedVars.push("projected['" + newField.replace(/'/g, "\\'") + "'] = " + value);
                    idStringParts.push(value);
                }
                code += projectedVars.join(";\n") + "\n";
                code += "projected.__id = " + idStringParts.join(" + \"|\" + ") + ";\n";
                code += "results.push(projected);\n";
                code += "projected = {};\n";
                break;
            case "provenance":
                var provenance = "var provenance__id = '';\n";
                var ids = [];
                for (var _m = 0, _o = this.joins; _m < _o.length; _m++) {
                    var join = _o[_m];
                    if (join.negated)
                        continue;
                    provenance += "provenance__id = tableId + '|' + projected.__id + '|' + rowInstance + '|" + join.table + "|' + row" + join.ix + ".__id; \n";
                    provenance += "provenance.push({table: tableId, row: projected, \"row instance\": rowInstance, source: \"" + join.table + "\", \"source row\": row" + join.ix + "});\n";
                    ids.push("row" + join.ix + ".__id");
                }
                code = "var rowInstance = " + ids.join(" + '|' + ") + ";\n        " + provenance;
                break;
            case "return":
                var returns = [];
                for (var _p = 0, _q = root.vars; _p < _q.length; _p++) {
                    var curVar = _q[_p];
                    returns.push(curVar + ": " + curVar);
                }
                code += "return {" + returns.join(", ") + "};";
                break;
        }
        return code;
    };
    // given a set of changes and a join order, determine the root facts that need
    // to be joined again to cover all the adds
    Query.prototype.reverseJoin = function (joins) {
        var changed = joins[0];
        var reverseJoinMap = {};
        // collect all the constraints and reverse them
        for (var _i = 0; _i < joins.length; _i++) {
            var join = joins[_i];
            for (var key in join.join) {
                var _a = join.join[key], source = _a[0], field = _a[1];
                if (source <= changed.ix) {
                    if (!reverseJoinMap[source]) {
                        reverseJoinMap[source] = {};
                    }
                    if (!reverseJoinMap[source][field])
                        reverseJoinMap[source][field] = [join.ix, key];
                }
            }
        }
        var recurse = function (joins, joinIx) {
            var code = "";
            if (joinIx >= joins.length) {
                return "others.push(row0)";
            }
            var _a = joins[joinIx], table = _a.table, ix = _a.ix, negated = _a.negated;
            var joinMap = joins[joinIx].join;
            // we only care about this guy if he's joined with at least one thing
            if (!reverseJoinMap[ix] && joinIx < joins.length - 1)
                return recurse(joins, joinIx + 1);
            else if (!reverseJoinMap)
                return "";
            var mappings = [];
            for (var key in reverseJoinMap[ix]) {
                var _b = reverseJoinMap[ix][key], sourceIx = _b[0], field = _b[1];
                if (sourceIx === changed.ix || reverseJoinMap[sourceIx] !== undefined) {
                    mappings.push("'" + key + "': row" + sourceIx + "['" + field + "']");
                }
            }
            for (var key in joinMap) {
                var value = joinMap[key];
                if (value.constructor !== Array) {
                    mappings.push("'" + key + "': " + JSON.stringify(value));
                }
            }
            if (negated) {
            }
            code += "\n            var rows" + ix + " = eve.find('" + table + "', {" + mappings.join(", ") + "});\n            for(var rowsIx" + ix + " = 0, rowsLen" + ix + " = rows" + ix + ".length; rowsIx" + ix + " < rowsLen" + ix + "; rowsIx" + ix + "++) {\n                var row" + ix + " = rows" + ix + "[rowsIx" + ix + "];\n                " + recurse(joins, joinIx + 1) + "\n            }\n            ";
            return code;
        };
        return recurse(joins, 1);
    };
    Query.prototype.compileIncrementalRowFinderCode = function () {
        var code = "var others = [];\n";
        var reversed = this.joins.slice().reverse();
        var checks = [];
        var ix = 0;
        for (var _i = 0; _i < reversed.length; _i++) {
            var join = reversed[_i];
            // we don't want to do this for the root
            if (ix === reversed.length - 1)
                break;
            checks.push("\n\t\t\tif(changes[\"" + join.table + "\"] && changes[\"" + join.table + "\"].adds) {\n                var curChanges" + join.ix + " = changes[\"" + join.table + "\"].adds;\n                for(var changeIx" + join.ix + " = 0, changeLen" + join.ix + " = curChanges" + join.ix + ".length; changeIx" + join.ix + " < changeLen" + join.ix + "; changeIx" + join.ix + "++) {\n                    var row" + join.ix + " = curChanges" + join.ix + "[changeIx" + join.ix + "];\n\t\t\t\t\t" + this.reverseJoin(reversed.slice(ix)) + "\n\t\t\t\t}\n\t\t\t}");
            ix++;
        }
        code += checks.join(" else");
        var last = reversed[ix];
        code += "\n\t\t\tif(changes[\"" + last.table + "\"] && changes[\"" + last.table + "\"].adds) {\n                var curChanges = changes[\"" + last.table + "\"].adds;\n\t\t\t\tfor(var changeIx = 0, changeLen = curChanges.length; changeIx < changeLen; changeIx++) {\n\t\t\t\t\tothers.push(curChanges[changeIx]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn others;";
        return code;
    };
    Query.prototype.incrementalRemove = function (changes) {
        var ixer = this.ixer;
        var rowsToPostCheck = [];
        var provenanceDiff = this.ixer.diff();
        var removes = [];
        var indexes = ixer.table("provenance").indexes;
        var sourceRowLookup = indexes["source|source row|table"].index;
        var rowInstanceLookup = indexes["row instance|table"].index;
        var tableRowLookup = indexes["row|table"].index;
        var provenanceRemoves = [];
        var visited = {};
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var change = changes[join.table];
            if (!visited[join.table] && change && change.removes.length) {
                visited[join.table] = true;
                for (var _b = 0, _c = change.removes; _b < _c.length; _b++) {
                    var remove = _c[_b];
                    var provenances = sourceRowLookup[join.table + '|' + remove.__id + '|' + this.name];
                    if (provenances) {
                        for (var _d = 0; _d < provenances.length; _d++) {
                            var provenance = provenances[_d];
                            if (!visited[provenance["row instance"]]) {
                                visited[provenance["row instance"]] = true;
                                var relatedProvenance = rowInstanceLookup[provenance["row instance"] + '|' + provenance.table];
                                for (var _e = 0; _e < relatedProvenance.length; _e++) {
                                    var related = relatedProvenance[_e];
                                    provenanceRemoves.push(related);
                                }
                            }
                            rowsToPostCheck.push(provenance);
                        }
                    }
                }
            }
        }
        provenanceDiff.removeFacts("provenance", provenanceRemoves);
        ixer.applyDiffIncremental(provenanceDiff);
        var isEdb = ixer.edbTables;
        for (var _f = 0; _f < rowsToPostCheck.length; _f++) {
            var row = rowsToPostCheck[_f];
            var supports = tableRowLookup[row.row.__id + '|' + row.table];
            if (!supports || supports.length === 0) {
                removes.push(row.row);
            }
        }
        return removes;
    };
    Query.prototype.canBeIncremental = function () {
        if (this.aggregates.length)
            return false;
        if (this.sorts)
            return false;
        if (this.groups)
            return false;
        if (this.limitInfo)
            return false;
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            if (join.negated)
                return false;
        }
        if (!this.joins.length)
            return false;
        return true;
    };
    Query.prototype.compile = function () {
        var ast = this.toAST();
        var code = this.compileAST(ast);
        this.compiled = new Function("ixer", "QueryFunctions", "tableId", "rootRows", code);
        if (this.canBeIncremental()) {
            this.incrementalRowFinder = new Function("changes", this.compileIncrementalRowFinderCode());
        }
        else {
            this.incrementalRowFinder = undefined;
        }
        this.dirty = false;
        return this;
    };
    Query.prototype.exec = function () {
        if (this.dirty) {
            this.compile();
        }
        var root = this.joins[0];
        var rows;
        if (root) {
            rows = this.ixer.find(root.table, root.join);
        }
        else {
            rows = [];
        }
        return this.compiled(this.ixer, exports.QueryFunctions, this.name, rows);
    };
    Query.prototype.execIncremental = function (changes, table) {
        if (this.dirty) {
            this.compile();
        }
        if (this.incrementalRowFinder) {
            var potentialRows = this.incrementalRowFinder(changes);
            // if the root select has some constant filters, then
            // the above rows need to be filtered down to only those that
            // match.
            var rows = [];
            var root = this.joins[0];
            var rootKeys = Object.keys(root.join);
            if (rootKeys.length > 0) {
                rowLoop: for (var _i = 0; _i < potentialRows.length; _i++) {
                    var row = potentialRows[_i];
                    for (var _a = 0; _a < rootKeys.length; _a++) {
                        var key = rootKeys[_a];
                        if (row[key] !== root.join[key])
                            continue rowLoop;
                    }
                    rows.push(row);
                }
            }
            else {
                rows = potentialRows;
            }
            var results = this.compiled(this.ixer, exports.QueryFunctions, this.name, rows);
            var adds = [];
            var prevHashes = table.factHash;
            var prevKeys = Object.keys(prevHashes);
            var suggestedRemoves = this.incrementalRemove(changes);
            var realDiff = diffAddsAndRemoves(results.results, suggestedRemoves);
            for (var _b = 0, _c = realDiff.adds; _b < _c.length; _b++) {
                var result = _c[_b];
                var id = result.__id;
                if (prevHashes[id] === undefined) {
                    adds.push(result);
                }
            }
            var diff = this.ixer.diff();
            diff.addMany("provenance", results.provenance);
            this.ixer.applyDiffIncremental(diff);
            // console.log("INC PROV DIFF", this.name, diff.length);
            return { provenance: results.provenance, adds: adds, removes: realDiff.removes };
        }
        else {
            var results = this.exec();
            var adds = [];
            var removes = [];
            var prevHashes = table.factHash;
            var prevKeys = Object.keys(prevHashes);
            var newHashes = {};
            for (var _d = 0, _e = results.results; _d < _e.length; _d++) {
                var result = _e[_d];
                var id = result.__id;
                newHashes[id] = result;
                if (prevHashes[id] === undefined) {
                    adds.push(result);
                }
            }
            for (var _f = 0; _f < prevKeys.length; _f++) {
                var hash = prevKeys[_f];
                var value = newHashes[hash];
                if (value === undefined) {
                    removes.push(prevHashes[hash]);
                }
            }
            var realDiff = diffAddsAndRemoves(adds, removes);
            var diff = this.ixer.diff();
            diff.remove("provenance", { table: this.name });
            diff.addMany("provenance", results.provenance);
            this.ixer.applyDiffIncremental(diff);
            // console.log("FULL PROV SIZE", this.name, diff.length);
            return { provenance: results.provenance, adds: realDiff.adds, removes: realDiff.removes };
        }
    };
    Query.prototype.debug = function () {
        console.log(this.compileAST(this.toAST()));
        console.time("exec");
        var results = this.exec();
        console.timeEnd("exec");
        console.log(results);
        return results;
    };
    return Query;
})();
exports.Query = Query;
var Union = (function () {
    function Union(ixer, name) {
        if (name === void 0) { name = "unknown"; }
        this.name = name;
        this.ixer = ixer;
        this.tables = [];
        this.sources = [];
        this.isStateful = false;
        this.prev = { results: [], hashes: {} };
        this.dirty = true;
    }
    Union.prototype.changeset = function (ixer) {
        var diff = ixer.diff();
        diff.add("view", { view: this.name, kind: "union" });
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            if (source.type === "+") {
                var action = utils_1.uuid();
                diff.add("action", { view: this.name, action: action, kind: "union", ix: 0 });
                diff.add("action source", { action: action, "source view": source.table });
                for (var field in source.mapping) {
                    var mapped = source.mapping[field];
                    if (mapped.constructor === Array)
                        diff.add("action mapping", { action: action, from: field, "to source": source.table, "to field": mapped[0] });
                    else
                        diff.add("action mapping constant", { action: action, from: field, value: mapped });
                }
            }
            else
                throw new Error("Unknown source type: '" + source.type + "'");
        }
        return diff;
    };
    Union.prototype.ensureHasher = function (mapping) {
        if (!this.hasher) {
            this.hasher = generateStringFn(Object.keys(mapping));
        }
    };
    Union.prototype.union = function (tableName, mapping) {
        this.dirty = true;
        this.ensureHasher(mapping);
        this.tables.push(tableName);
        this.sources.push({ type: "+", table: tableName, mapping: mapping });
        return this;
    };
    Union.prototype.toAST = function () {
        var root = { type: "union", children: [] };
        root.children.push({ type: "declaration", var: "results", value: "[]" });
        root.children.push({ type: "declaration", var: "provenance", value: "[]" });
        var hashesValue = "{}";
        if (this.isStateful) {
            hashesValue = "prevHashes";
        }
        root.children.push({ type: "declaration", var: "hashes", value: hashesValue });
        var ix = 0;
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var action = void 0;
            if (source.type === "+") {
                action = { type: "result", ix: ix, children: [{ type: "provenance", source: source, ix: ix }] };
            }
            root.children.push({
                type: "source",
                ix: ix,
                table: source.table,
                mapping: source.mapping,
                children: [action],
            });
            ix++;
        }
        root.children.push({ type: "hashesToResults" });
        root.children.push({ type: "return", vars: ["results", "hashes", "provenance"] });
        return root;
    };
    Union.prototype.compileAST = function (root) {
        var code = "";
        var type = root.type;
        switch (type) {
            case "union":
                for (var _i = 0, _a = root.children; _i < _a.length; _i++) {
                    var child = _a[_i];
                    code += this.compileAST(child);
                }
                break;
            case "declaration":
                code += "var " + root.var + " = " + root.value + ";\n";
                break;
            case "source":
                var ix = root.ix;
                var mappingItems = [];
                for (var key in root.mapping) {
                    var mapping = root.mapping[key];
                    var value = void 0;
                    if (mapping.constructor === Array && mapping.length === 1) {
                        var field = mapping[0];
                        value = "sourceRow" + ix + "['" + field + "']";
                    }
                    else if (mapping.constructor === Array && mapping.length === 2) {
                        var _ = mapping[0], field = mapping[1];
                        value = "sourceRow" + ix + "['" + field + "']";
                    }
                    else {
                        value = JSON.stringify(mapping);
                    }
                    mappingItems.push("'" + key + "': " + value);
                }
                code += "var sourceRows" + ix + " = changes['" + root.table + "'];\n";
                code += "for(var rowIx" + ix + " = 0, rowsLen" + ix + " = sourceRows" + ix + ".length; rowIx" + ix + " < rowsLen" + ix + "; rowIx" + ix + "++) {\n";
                code += "var sourceRow" + ix + " = sourceRows" + ix + "[rowIx" + ix + "];\n";
                code += "var mappedRow" + ix + " = {" + mappingItems.join(", ") + "};\n";
                for (var _b = 0, _c = root.children; _b < _c.length; _b++) {
                    var child = _c[_b];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "result":
                var ix = root.ix;
                code += "var hash" + ix + " = hasher(mappedRow" + ix + ");\n";
                code += "mappedRow" + ix + ".__id = hash" + ix + ";\n";
                code += "hashes[hash" + ix + "] = mappedRow" + ix + ";\n";
                for (var _d = 0, _e = root.children; _d < _e.length; _d++) {
                    var child = _e[_d];
                    code += this.compileAST(child);
                }
                break;
            case "removeResult":
                var ix = root.ix;
                code += "hashes[hasher(mappedRow" + ix + ")] = false;\n";
                break;
            case "hashesToResults":
                code += "var hashKeys = Object.keys(hashes);\n";
                code += "for(var hashKeyIx = 0, hashKeyLen = hashKeys.length; hashKeyIx < hashKeyLen; hashKeyIx++) {\n";
                code += "var curHashKey = hashKeys[hashKeyIx];";
                code += "var value = hashes[curHashKey];\n";
                code += "if(value !== false) {\n";
                code += "value.__id = curHashKey;\n";
                code += "results.push(value);\n";
                code += "}\n";
                code += "}\n";
                break;
            case "provenance":
                var source = root.source.table;
                var ix = root.ix;
                var provenance = "var provenance__id = '';\n";
                provenance += "provenance__id = '" + this.name + "|' + mappedRow" + ix + ".__id + '|' + rowInstance + '|" + source + "|' + sourceRow" + ix + ".__id; \n";
                provenance += "provenance.push({table: '" + this.name + "', row: mappedRow" + ix + ", \"row instance\": rowInstance, source: \"" + source + "\", \"source row\": sourceRow" + ix + "});\n";
                code = "var rowInstance = \"" + source + "|\" + mappedRow" + ix + ".__id;\n        " + provenance;
                break;
            case "return":
                code += "return {" + root.vars.map(function (name) { return (name + ": " + name); }).join(", ") + "};";
                break;
        }
        return code;
    };
    Union.prototype.compile = function () {
        var ast = this.toAST();
        var code = this.compileAST(ast);
        this.compiled = new Function("ixer", "hasher", "changes", code);
        this.dirty = false;
        return this;
    };
    Union.prototype.debug = function () {
        var code = this.compileAST(this.toAST());
        console.log(code);
        return code;
    };
    Union.prototype.exec = function () {
        if (this.dirty) {
            this.compile();
        }
        var changes = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            changes[source.table] = this.ixer.table(source.table).table;
        }
        var results = this.compiled(this.ixer, this.hasher, changes);
        return results;
    };
    Union.prototype.incrementalRemove = function (changes) {
        var ixer = this.ixer;
        var rowsToPostCheck = [];
        var provenanceDiff = this.ixer.diff();
        var removes = [];
        var indexes = ixer.table("provenance").indexes;
        var sourceRowLookup = indexes["source|source row|table"].index;
        var rowInstanceLookup = indexes["row instance|table"].index;
        var tableRowLookup = indexes["row|table"].index;
        var provenanceRemoves = [];
        var visited = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var change = changes[source.table];
            if (!visited[source.table] && change && change.removes.length) {
                visited[source.table] = true;
                for (var _b = 0, _c = change.removes; _b < _c.length; _b++) {
                    var remove = _c[_b];
                    var provenances = sourceRowLookup[source.table + '|' + remove.__id + '|' + this.name];
                    if (provenances) {
                        for (var _d = 0; _d < provenances.length; _d++) {
                            var provenance = provenances[_d];
                            if (!visited[provenance["row instance"]]) {
                                visited[provenance["row instance"]] = true;
                                var relatedProvenance = rowInstanceLookup[provenance["row instance"] + '|' + provenance.table];
                                for (var _e = 0; _e < relatedProvenance.length; _e++) {
                                    var related = relatedProvenance[_e];
                                    provenanceRemoves.push(related);
                                }
                            }
                            rowsToPostCheck.push(provenance);
                        }
                    }
                }
            }
        }
        provenanceDiff.removeFacts("provenance", provenanceRemoves);
        ixer.applyDiffIncremental(provenanceDiff);
        var isEdb = ixer.edbTables;
        for (var _f = 0; _f < rowsToPostCheck.length; _f++) {
            var row = rowsToPostCheck[_f];
            var supports = tableRowLookup[row.row.__id + '|' + row.table];
            if (!supports || supports.length === 0) {
                removes.push(row.row);
            }
            else if (this.sources.length > 2) {
                var supportsToRemove = [];
                // otherwise if there are supports, then we need to walk the support
                // graph backwards and make sure every supporting row terminates at an
                // edb value. If not, then that support also needs to be removed
                for (var _g = 0; _g < supports.length; _g++) {
                    var support = supports[_g];
                    // if the support is already an edb, we're good to go.
                    if (isEdb[support.source])
                        continue;
                    if (!tableRowLookup[support["source row"].__id + '|' + support.source]) {
                        supportsToRemove.push(support);
                        continue;
                    }
                    // get all the supports for this support
                    var nodes = tableRowLookup[support["source row"].__id + '|' + support.source].slice();
                    var nodeIx = 0;
                    // iterate through all the nodes, if they have further supports then
                    // assume this node is ok and add those supports to the list of nodes to
                    // check. If we run into a node with no supports it must either be an edb
                    // or it's unsupported and this row instance needs to be removed.
                    while (nodeIx < nodes.length) {
                        var node = nodes[nodeIx];
                        if (isEdb[node.source]) {
                            nodeIx++;
                            continue;
                        }
                        var nodeSupports = tableRowLookup[node["source row"].__id + '|' + node.source];
                        if (!nodeSupports || nodeSupports.length === 0) {
                            supportsToRemove.push(support);
                            break;
                        }
                        else {
                            for (var _h = 0; _h < nodeSupports.length; _h++) {
                                var nodeSupport = nodeSupports[_h];
                                nodes.push(nodeSupport);
                            }
                            nodeIx++;
                        }
                    }
                }
                if (supportsToRemove.length) {
                    // we need to remove all the supports
                    var provenanceRemoves_1 = [];
                    for (var _j = 0; _j < supportsToRemove.length; _j++) {
                        var support = supportsToRemove[_j];
                        var relatedProvenance = rowInstanceLookup[support["row instance"] + '|' + support.table];
                        for (var _k = 0; _k < relatedProvenance.length; _k++) {
                            var related = relatedProvenance[_k];
                            provenanceRemoves_1.push(related);
                        }
                    }
                    var diff = ixer.diff();
                    diff.removeFacts("provenance", provenanceRemoves_1);
                    ixer.applyDiffIncremental(diff);
                    // now that all the unsupported provenances have been removed, check if there's anything
                    // left.
                    if (!tableRowLookup[row.row.__id + '|' + row.table] || tableRowLookup[row.row.__id + '|' + row.table].length === 0) {
                        removes.push(row.row);
                    }
                }
            }
        }
        return removes;
    };
    Union.prototype.execIncremental = function (changes, table) {
        if (this.dirty) {
            this.compile();
        }
        var sourceChanges = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var value = void 0;
            if (!changes[source.table]) {
                value = [];
            }
            else {
                value = changes[source.table].adds;
            }
            sourceChanges[source.table] = value;
        }
        var results = this.compiled(this.ixer, this.hasher, sourceChanges);
        var adds = [];
        var prevHashes = table.factHash;
        var prevKeys = Object.keys(prevHashes);
        var suggestedRemoves = this.incrementalRemove(changes);
        var realDiff = diffAddsAndRemoves(results.results, suggestedRemoves);
        for (var _b = 0, _c = realDiff.adds; _b < _c.length; _b++) {
            var result = _c[_b];
            var id = result.__id;
            if (prevHashes[id] === undefined) {
                adds.push(result);
            }
        }
        var diff = this.ixer.diff();
        diff.addMany("provenance", results.provenance);
        this.ixer.applyDiffIncremental(diff);
        return { provenance: results.provenance, adds: adds, removes: realDiff.removes };
    };
    return Union;
})();
exports.Union = Union;
//---------------------------------------------------------
// Builtin Primitives
//---------------------------------------------------------
runtime.define("count", { result: "count" }, function (prev) {
    if (!prev.count) {
        prev.count = 0;
    }
    prev.count++;
    return prev;
});
runtime.define("sum", { result: "sum" }, function (prev, value) {
    if (!prev.sum) {
        prev.sum = 0;
    }
    prev.sum += value;
    return prev;
});
runtime.define("average", { result: "average" }, function (prev, value) {
    if (!prev.sum) {
        prev.sum = 0;
        prev.count = 0;
    }
    prev.count++;
    prev.sum += value;
    prev.average = prev.sum / prev.count;
    return prev;
});
runtime.define("lowercase", { result: "lowercase" }, function (text) {
    if (typeof text === "string") {
        return { result: text.toLowerCase() };
    }
    return { result: text };
});
runtime.define("=", { filter: true }, function (a, b) {
    return a === b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define(">", { filter: true }, function (a, b) {
    return a > b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("<", { filter: true }, function (a, b) {
    return a < b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define(">=", { filter: true }, function (a, b) {
    return a >= b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("<=", { filter: true }, function (a, b) {
    return a <= b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("+", { result: "result" }, function (a, b) {
    return { result: a + b };
});
runtime.define("-", { result: "result" }, function (a, b) {
    return { result: a - b };
});
runtime.define("*", { result: "result" }, function (a, b) {
    return { result: a * b };
});
runtime.define("/", { result: "result" }, function (a, b) {
    return { result: a / b };
});
//---------------------------------------------------------
// Public API
//---------------------------------------------------------
exports.SUCCEED = [{ success: true }];
exports.FAIL = [];
function indexer() {
    return addProvenanceTable(new Indexer());
}
exports.indexer = indexer;
if (utils_1.ENV === "browser")
    window["runtime"] = exports;

},{"./utils":12}],9:[function(require,module,exports){
var app = require("./app");
var app_1 = require("./app");
var wiki = require("./wiki");
var queryParser_1 = require("./queryParser");
var newSearch = queryParser_1.queryToExecutable;
var newSearchResults = wiki.newSearchResults;
function randomlyLetter(phrase, klass) {
    if (klass === void 0) { klass = ""; }
    var children = [];
    var ix = 0;
    for (var _i = 0; _i < phrase.length; _i++) {
        var letter = phrase[_i];
        var rand = Math.round(Math.random() * 5);
        children.push({ id: phrase + ix, t: "span", c: "letter", text: letter, enter: { opacity: 1, duration: (rand * 100) + 150, delay: (0 * 30) + 300 }, leave: { opacity: 0, duration: 250 } });
        ix++;
    }
    return { c: "phrase " + klass, children: children };
}
var slideNumber = 0;
var slides = [
    { type: "slide",
        content: { children: [
                randomlyLetter("The world is full of bits of information.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("We spend our lives exploring those bits.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("They form the foundation of our understanding, our decisions, our work...")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("And yet the tools we have to work with them are fairly primitive.")
            ] } },
    { type: "slide",
        content: { children: [
                { id: "slide-list", c: "list", children: [
                        randomlyLetter("- Our communications are static"),
                        randomlyLetter("- Information requires rigid structure"),
                        randomlyLetter("- Exploration is either limited or it's code"),
                    ] }
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("That's where I come in.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("I help collect, explore, and communicate aspects of the world around you.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("My name is Eve.")
            ] } },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "edward norton", top: 0, left: 0 });
            diff.add("search query", { id: "edward norton", search: "edward norton" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["edward norton"] = newSearch("edward norton");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "edward norton" });
            diff.remove("search query", { id: "edward norton" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["edward norton"] = null;
        },
        content: function () {
            var search = newSearchResults("edward norton");
            search.leave = { opacity: 0, duration: 300 },
                search.enter = { opacity: 1, duration: 2500, delay: 300, begin: function (node) {
                        if (!node[0])
                            return;
                        setTimeout(function () {
                            node[0].querySelector(".search-box").editor.refresh();
                        }, 30);
                    } };
            return { children: [
                    randomlyLetter("And I collect bits like this one"),
                    search,
                ] };
        }
    },
    { type: "slide",
        content: { children: [
                randomlyLetter("A bit is kind of like a page in a wiki.")
            ] } },
    { type: "slide",
        content: { children: [
                { id: "slide-list", c: "list", children: [
                        randomlyLetter("- You can capture information however it comes."),
                        randomlyLetter("- No planning or pre-structuring is required"),
                        randomlyLetter("- Nothing is too big or too small for a bit"),
                        randomlyLetter("- Instead of just rows in tables, you can collect the whole story"),
                    ] }
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("All of which is important when importing information from the outside world.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("And I was designed to be as malleable as possible to accomodate that.")
            ] } },
    { type: "slide",
        content: { children: [
                { id: "slide-list", c: "list", children: [
                        randomlyLetter("- You can add structure at any time"),
                        randomlyLetter("- Work with heterogenous collections"),
                        randomlyLetter("- Handle one off tasks and deal with special cases"),
                    ] }
            ] } },
    // {type: "eve"},
    { type: "slide",
        content: { children: [
                randomlyLetter("But that malleability doesn't sacrifice the ability to explore.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("You can navigate through the web of bits you collect and ask complex questions to discover new information.")
            ] } },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "modern family" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("modern family");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 },
                search.enter = { opacity: 1, duration: 1000, delay: 300, begin: function (node) {
                        if (!node[0])
                            return;
                        setTimeout(function () {
                            node[0].querySelector(".search-box").editor.refresh();
                        }, 30);
                    } };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("For example, here's a bit about Modern Family"),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "episodes of modern family" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("episodes of modern family");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("We can ask what episodes we know about for Modern Family"),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "episodes of modern family with edward norton" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("episodes of modern family with edward norton");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("And get just the ones that have Edward Norton in them"),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "count the episodes of modern family without edward norton" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("count the episodes of modern family without edward norton");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("Or let's count the number of episodes that don't have Norton in them."),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    { type: "slide",
        content: { children: [
                randomlyLetter("As you can see, my search is pretty powerful. It also has some important properties.")
            ] } },
    { type: "slide",
        content: { children: [
                { id: "slide-list", c: "list", children: [
                        randomlyLetter("- It's live: you never have to refresh"),
                        randomlyLetter("- It's tangible: you can see how I got the result"),
                        randomlyLetter("- It's manipulable: you can take the results and do more with them"),
                    ] }
            ] } },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "sum of salaries per department" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("sum of salaries per department");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("Here we have the sum of all the salaries per department, which we store as the 'total cost' per department."),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    { type: "slide",
        setup: function () {
            var diff = app_1.eve.diff();
            diff.add("search", { id: "episodes", top: 0, left: 0 });
            diff.add("search query", { id: "episodes", search: "engineering" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = newSearch("engineering");
        },
        teardown: function () {
            var diff = app_1.eve.diff();
            diff.remove("search", { id: "episodes" });
            diff.remove("search query", { id: "episodes" });
            app_1.eve.applyDiff(diff);
            app.activeSearches["episodes"] = null;
        },
        content: function () {
            var search = newSearchResults("episodes");
            search.leave = { opacity: 0, duration: 300 };
            return { children: [
                    { c: "row", children: [
                            { c: "phrase-container", children: [
                                    randomlyLetter("So now you see that engineering has a total cost."),
                                ] },
                            search,
                        ] }
                ] };
        }
    },
    // {type: "eve"},
    // {type: "slide",
    //  content: {children: [
    //    randomlyLetter("You can also peer into the past and explore alternative futures.")
    //  ]}},
    { type: "slide",
        content: { children: [
                randomlyLetter("Through this, I reduce much of programming to searching and formatting the results.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("But that is usually just the first step towards a more important goal: communicating.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("Fortunately, you can send bits to other people and systems.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("You can also create documents, dashboards, even custom interfaces, by drawing and embedding bits.")
            ] } },
    // {type: "eve"},
    { type: "slide",
        content: { children: [
                randomlyLetter("And since what's being sent is itself a bit, others can pull it apart to see how it was made.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("They can remix it and create new bits based on the information.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("This enables people to collaborate in a much deeper way.")
            ] } },
    // {type: "slide",
    //  content: {children: [
    //    randomlyLetter("And one thing I've learned about that collaboration is that it doesn't always mean consensus.")
    //  ]}},
    { type: "slide",
        content: { children: [
                randomlyLetter("Many versions of a bit can exist; you can have yours and others can have theirs.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("But changes can be proposed, approved, and discarded to create a final version.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("This allows people to contribute to the overall process, while maintaining control of the end result.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("It also allows for different world views and ideas of correctness, which is vital to fitting into the real world.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("Instead of pretending like everything will fit neatly into a box...")
            ] } },
    // {type: "slide",
    //  content: {children: [
    //    randomlyLetter("The world is changing and we all have different views into it.")
    //  ]}},
    // {type: "slide",
    //  content: {children: [
    //    {id: "slide-list", c: "list", children: [
    //       randomlyLetter("There's a new version of work: everything revolves around constantly changing data"),
    //       randomlyLetter("New platforms: mobile, voice, pen, VR, AR"),
    //       randomlyLetter("New kinds of systems: everything is distributed"),
    //    ]}
    //  ]}},
    { type: "slide",
        content: { children: [
                randomlyLetter("I am designed to collect, explore, and communicate in a world that is constantly changing.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("I am alive, malleable, and always available.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("I am honest, genuine, curious, and conversational.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("I am Eve.")
            ] } },
    { type: "slide",
        content: { children: [
                randomlyLetter("It's nice to meet you.")
            ] } },
];
function nextSlide(e, elem) {
    var prev = slides[slideNumber];
    if (prev.teardown) {
        prev.teardown();
    }
    if (!elem.back) {
        slideNumber++;
    }
    else {
        slideNumber--;
    }
    if (slideNumber < 0)
        slideNumber = 0;
    if (slideNumber >= slides.length)
        slideNumber = slides.length - 1;
    var slide = slides[slideNumber];
    if (slide.setup) {
        slide.setup();
    }
    e.stopPropagation();
    e.preventDefault();
    console.log(slideNumber);
    app.render();
}
function slideControls() {
    return { c: "slide-controls", children: [
            { c: "ion-ios-arrow-back", back: true, click: nextSlide },
            { c: "ion-ios-arrow-forward", click: nextSlide }
        ] };
}
function root() {
    var slide = slides[slideNumber] || { type: "slide" };
    if (slide.type === "slide") {
        var content = slide.content;
        if (typeof content === "function") {
            content = content();
        }
        return { id: "root", c: "root slide", children: [
                slideControls(),
                content
            ] };
    }
    else {
        var root = wiki.eveRoot();
        root.children.unshift(slideControls());
        return root;
    }
}
exports.root = root;
app.renderRoots["wiki"] = root;
localStorage["local-eve"] = JSON.stringify({ "view": [{ "view": "generated eav", "kind": "union", "__id": "generated eav|union" }, { "view": "manual entity", "kind": "table", "__id": "manual entity|table" }, { "view": "manual eav", "kind": "table", "__id": "manual eav|table" }, { "view": "action entity", "kind": "table", "__id": "action entity|table" }, { "view": "entity", "kind": "query", "__id": "entity|query" }, { "view": "unmodified added bits", "kind": "query", "__id": "unmodified added bits|query" }, { "view": "content blocks", "kind": "query", "__id": "content blocks|query" }, { "view": "parsed content blocks", "kind": "query", "__id": "parsed content blocks|query" }, { "view": "parsed eavs", "kind": "query", "__id": "parsed eavs|query" }, { "view": "entity eavs", "kind": "union", "__id": "entity eavs|union" }, { "view": "builtin entity eavs", "kind": "table", "__id": "builtin entity eavs|table" }, { "view": "is a attributes", "kind": "query", "__id": "is a attributes|query" }, { "view": "lowercase eavs", "kind": "query", "__id": "lowercase eavs|query" }, { "view": "eav entity links", "kind": "query", "__id": "eav entity links|query" }, { "view": "entity links", "kind": "union", "__id": "entity links|union" }, { "view": "builtin entity links", "kind": "table", "__id": "builtin entity links|table" }, { "view": "directionless links", "kind": "union", "__id": "directionless links|union" }, { "view": "builtin directionless links", "kind": "table", "__id": "builtin directionless links|table" }, { "view": "collection entities", "kind": "union", "__id": "collection entities|union" }, { "view": "builtin collection entities", "kind": "table", "__id": "builtin collection entities|table" }, { "view": "collection", "kind": "query", "__id": "collection|query" }, { "view": "search", "kind": "union", "__id": "search|union" }, { "view": "builtin search", "kind": "table", "__id": "builtin search|table" }, { "view": "search query", "kind": "union", "__id": "search query|union" }, { "view": "builtin search query", "kind": "table", "__id": "builtin search query|table" }, { "view": "searches to entities shim", "kind": "query", "__id": "searches to entities shim|query" }, { "view": "ui template", "kind": "table", "__id": "ui template|table" }, { "view": "ui template binding", "kind": "table", "__id": "ui template binding|table" }, { "view": "ui embed", "kind": "table", "__id": "ui embed|table" }, { "view": "ui embed scope", "kind": "table", "__id": "ui embed scope|table" }, { "view": "ui embed scope binding", "kind": "table", "__id": "ui embed scope binding|table" }, { "view": "ui attribute", "kind": "table", "__id": "ui attribute|table" }, { "view": "ui attribute binding", "kind": "table", "__id": "ui attribute binding|table" }, { "view": "ui event", "kind": "table", "__id": "ui event|table" }, { "view": "ui event state", "kind": "table", "__id": "ui event state|table" }, { "view": "ui event state binding", "kind": "table", "__id": "ui event state binding|table" }, { "view": "system ui", "kind": "table", "__id": "system ui|table" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "kind": "query", "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|query" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "kind": "query", "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|query" }, { "view": "employees", "kind": "query", "__id": "employees|query" }, { "view": "sum of salaries per department", "kind": "query", "__id": "sum of salaries per department|query" }, { "view": "sum of salaries per department|bit", "kind": "query", "__id": "sum of salaries per department|bit|query" }], "action": [{ "view": "unmodified added bits", "action": "1e5e0210-d109-4b8f-91cb-e14a422e11da", "kind": "deselect", "ix": 1000, "__id": "unmodified added bits|1e5e0210-d109-4b8f-91cb-e14a422e11da|deselect|1000" }, { "view": "unmodified added bits", "action": "97f2afde-c0cd-41cb-98ec-51f268feb47c", "kind": "select", "ix": 0, "__id": "unmodified added bits|97f2afde-c0cd-41cb-98ec-51f268feb47c|select|0" }, { "view": "entity", "action": "230901a0-a9eb-480d-b8bd-152a27bba9d6", "kind": "project", "ix": 9007199254740991, "__id": "entity|230901a0-a9eb-480d-b8bd-152a27bba9d6|project|9007199254740991" }, { "view": "entity", "action": "b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18", "kind": "select", "ix": 0, "__id": "entity|b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18|select|0" }, { "view": "content blocks", "action": "5bec8cc7-7c55-4a21-b055-728ee9202d6a", "kind": "select", "ix": 1, "__id": "content blocks|5bec8cc7-7c55-4a21-b055-728ee9202d6a|select|1" }, { "view": "content blocks", "action": "79451f35-89a2-4671-a1e1-d1ae785c1663", "kind": "select", "ix": 0, "__id": "content blocks|79451f35-89a2-4671-a1e1-d1ae785c1663|select|0" }, { "view": "unmodified added bits", "action": "0b8ce76d-9bba-409f-9208-bc0b260d989e", "kind": "project", "ix": 9007199254740991, "__id": "unmodified added bits|0b8ce76d-9bba-409f-9208-bc0b260d989e|project|9007199254740991" }, { "view": "parsed content blocks", "action": "10e5f68c-865d-4edf-ad3d-4b6e379ca923", "kind": "select", "ix": 0, "__id": "parsed content blocks|10e5f68c-865d-4edf-ad3d-4b6e379ca923|select|0" }, { "view": "content blocks", "action": "b4035b12-6251-45dd-8983-325bd9164a18", "kind": "project", "ix": 9007199254740991, "__id": "content blocks|b4035b12-6251-45dd-8983-325bd9164a18|project|9007199254740991" }, { "view": "content blocks", "action": "9fbf8614-c71a-4a92-b757-71542af9f056", "kind": "select", "ix": 2, "__id": "content blocks|9fbf8614-c71a-4a92-b757-71542af9f056|select|2" }, { "view": "parsed content blocks", "action": "e9f0d3d0-e035-409c-86a0-93119a6f34ea", "kind": "project", "ix": 9007199254740991, "__id": "parsed content blocks|e9f0d3d0-e035-409c-86a0-93119a6f34ea|project|9007199254740991" }, { "view": "parsed content blocks", "action": "1125f6a6-181c-430b-811a-39f20299a8ad", "kind": "calculate", "ix": 1, "__id": "parsed content blocks|1125f6a6-181c-430b-811a-39f20299a8ad|calculate|1" }, { "view": "parsed eavs", "action": "d183591e-f1fb-448e-b430-d1f37393e810", "kind": "project", "ix": 9007199254740991, "__id": "parsed eavs|d183591e-f1fb-448e-b430-d1f37393e810|project|9007199254740991" }, { "view": "parsed eavs", "action": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "kind": "calculate", "ix": 1, "__id": "parsed eavs|d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|calculate|1" }, { "view": "parsed eavs", "action": "b23dc854-3fec-4757-a478-d5388840acc1", "kind": "select", "ix": 0, "__id": "parsed eavs|b23dc854-3fec-4757-a478-d5388840acc1|select|0" }, { "view": "entity eavs", "action": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "entity eavs", "action": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "entity eavs", "action": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "entity eavs", "action": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "entity eavs", "action": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "entity eavs", "action": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "kind": "union", "ix": 0, "__id": "entity eavs|entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|union|0" }, { "view": "lowercase eavs", "action": "a576196d-84d5-43e6-9116-edf96b152a71", "kind": "select", "ix": 0, "__id": "lowercase eavs|a576196d-84d5-43e6-9116-edf96b152a71|select|0" }, { "view": "is a attributes", "action": "9fac0c63-a68a-43ec-b69f-09f29c15ddb6", "kind": "project", "ix": 9007199254740991, "__id": "is a attributes|9fac0c63-a68a-43ec-b69f-09f29c15ddb6|project|9007199254740991" }, { "view": "is a attributes", "action": "7de9fcc7-fc5b-4604-92fe-b9654589b84c", "kind": "select", "ix": 0, "__id": "is a attributes|7de9fcc7-fc5b-4604-92fe-b9654589b84c|select|0" }, { "view": "eav entity links", "action": "eec9f039-08e6-46ba-b04b-84d9735808c2", "kind": "select", "ix": 1, "__id": "eav entity links|eec9f039-08e6-46ba-b04b-84d9735808c2|select|1" }, { "view": "eav entity links", "action": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2", "kind": "select", "ix": 0, "__id": "eav entity links|5ff8a466-5a5c-46f2-850d-d0f5265b18c2|select|0" }, { "view": "lowercase eavs", "action": "228de452-b96e-4008-bec9-0ef023c351fc", "kind": "project", "ix": 9007199254740991, "__id": "lowercase eavs|228de452-b96e-4008-bec9-0ef023c351fc|project|9007199254740991" }, { "view": "lowercase eavs", "action": "5605ce60-5b9c-460b-9554-f67f10bfe842", "kind": "calculate", "ix": 1, "__id": "lowercase eavs|5605ce60-5b9c-460b-9554-f67f10bfe842|calculate|1" }, { "view": "collection", "action": "0c002f76-4ef9-48c6-8421-33084657a3ae", "kind": "aggregate", "ix": 1, "__id": "collection|0c002f76-4ef9-48c6-8421-33084657a3ae|aggregate|1" }, { "view": "entity links", "action": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "kind": "union", "ix": 0, "__id": "entity links|entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|union|0" }, { "view": "entity links", "action": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "kind": "union", "ix": 0, "__id": "entity links|entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|union|0" }, { "view": "entity links", "action": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}", "kind": "union", "ix": 0, "__id": "entity links|entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}|union|0" }, { "view": "directionless links", "action": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "kind": "union", "ix": 0, "__id": "directionless links|directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}|union|0" }, { "view": "directionless links", "action": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "kind": "union", "ix": 0, "__id": "directionless links|directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}|union|0" }, { "view": "directionless links", "action": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}", "kind": "union", "ix": 0, "__id": "directionless links|directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}|union|0" }, { "view": "collection entities", "action": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "kind": "union", "ix": 0, "__id": "collection entities|collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|union|0" }, { "view": "collection entities", "action": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "kind": "union", "ix": 0, "__id": "collection entities|collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|union|0" }, { "view": "collection", "action": "64c8ae4c-cded-478d-9f4a-7ad1dc5c7185", "kind": "select", "ix": 0, "__id": "collection|64c8ae4c-cded-478d-9f4a-7ad1dc5c7185|select|0" }, { "view": "eav entity links", "action": "952147cb-02c8-43f7-833b-76cdcea3e6d0", "kind": "project", "ix": 9007199254740991, "__id": "eav entity links|952147cb-02c8-43f7-833b-76cdcea3e6d0|project|9007199254740991" }, { "view": "collection", "action": "ade245fa-ff66-456b-b52e-400817180c29", "kind": "project", "ix": 9007199254740991, "__id": "collection|ade245fa-ff66-456b-b52e-400817180c29|project|9007199254740991" }, { "view": "collection", "action": "563e4b9e-8122-45b6-93da-325b4135a10d", "kind": "group", "ix": 9007199254740991, "__id": "collection|563e4b9e-8122-45b6-93da-325b4135a10d|group|9007199254740991" }, { "view": "search", "action": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}", "kind": "union", "ix": 0, "__id": "search|search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}|union|0" }, { "view": "search query", "action": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}", "kind": "union", "ix": 0, "__id": "search query|search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}|union|0" }, { "view": "searches to entities shim", "action": "3f28818f-6e0c-4352-af3c-b909993e6fce", "kind": "project", "ix": 9007199254740991, "__id": "searches to entities shim|3f28818f-6e0c-4352-af3c-b909993e6fce|project|9007199254740991" }, { "view": "searches to entities shim", "action": "2db00496-2eff-4d2a-b487-4c3705805c3e", "kind": "select", "ix": 1, "__id": "searches to entities shim|2db00496-2eff-4d2a-b487-4c3705805c3e|select|1" }, { "view": "searches to entities shim", "action": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "kind": "select", "ix": 0, "__id": "searches to entities shim|1df78edc-b7df-452b-a73c-e2d5939ec8b9|select|0" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "b844cb2b-7503-4346-b32d-d86191765a8f", "kind": "select", "ix": 0, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|b844cb2b-7503-4346-b32d-d86191765a8f|select|0" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "kind": "project", "ix": 9007199254740991, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|a854f706-a256-48ec-9d90-0eb297a50d06|project|9007199254740991" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "9b37c2cd-5628-4d5e-8a69-916ca66cac87", "kind": "select", "ix": 4, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|9b37c2cd-5628-4d5e-8a69-916ca66cac87|select|4" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "0d27fe25-b05e-44b9-9e45-af96a23bacbf", "kind": "select", "ix": 3, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|0d27fe25-b05e-44b9-9e45-af96a23bacbf|select|3" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "31405d57-a5fb-44b0-ad91-a33da4edcaca", "kind": "select", "ix": 2, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|31405d57-a5fb-44b0-ad91-a33da4edcaca|select|2" }, { "view": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "action": "be9d0f9b-609a-4025-9568-c1e5dff96bc6", "kind": "select", "ix": 1, "__id": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2|be9d0f9b-609a-4025-9568-c1e5dff96bc6|select|1" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "action": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0", "kind": "project", "ix": 9007199254740991, "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|9b46fcb4-ae02-4b8e-b23c-d462c2c519b0|project|9007199254740991" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "action": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae", "kind": "select", "ix": 3, "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|b6943987-ea3e-4a9b-b011-ba7bc269a2ae|select|3" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "action": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2", "kind": "select", "ix": 2, "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|0a3d741e-dbd7-4e70-98a9-10a14f5b02e2|select|2" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "action": "dc275676-ad80-4db1-b3ef-9bfb1f607cba", "kind": "select", "ix": 1, "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|dc275676-ad80-4db1-b3ef-9bfb1f607cba|select|1" }, { "view": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "action": "f602a229-8512-4c4c-aebc-c16c68926e8d", "kind": "select", "ix": 0, "__id": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a|f602a229-8512-4c4c-aebc-c16c68926e8d|select|0" }, { "view": "employees", "action": "71256db8-9484-44a8-abb3-19b2f0b2d983", "kind": "select", "ix": 0, "__id": "employees|71256db8-9484-44a8-abb3-19b2f0b2d983|select|0" }, { "view": "employees", "action": "276af01a-c07d-441e-aa63-55548cdee363", "kind": "project", "ix": 9007199254740991, "__id": "employees|276af01a-c07d-441e-aa63-55548cdee363|project|9007199254740991" }, { "view": "employees|bit", "action": "2943bda0-19db-4662-b45e-8fdd484a31af", "kind": "select", "ix": 0, "__id": "employees|bit|2943bda0-19db-4662-b45e-8fdd484a31af|select|0" }, { "view": "employees|bit", "action": "c58ab1a2-2397-4b07-8c89-18385172aa50", "kind": "select", "ix": 1, "__id": "employees|bit|c58ab1a2-2397-4b07-8c89-18385172aa50|select|1" }, { "view": "employees|bit", "action": "a45744cf-128e-4afd-b981-4167878f916d", "kind": "calculate", "ix": 2, "__id": "employees|bit|a45744cf-128e-4afd-b981-4167878f916d|calculate|2" }, { "view": "employees|bit", "action": "64b345f5-fcff-41c6-91ca-91076f3631c3", "kind": "project", "ix": 9007199254740991, "__id": "employees|bit|64b345f5-fcff-41c6-91ca-91076f3631c3|project|9007199254740991" }, { "view": "sum of salaries per department", "action": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "kind": "select", "ix": 0, "__id": "sum of salaries per department|a4eb6ded-daf3-40de-9629-1173d5dd6a54|select|0" }, { "view": "sum of salaries per department", "action": "aee33461-80bf-4113-af0b-0c290ec18af0", "kind": "select", "ix": 1, "__id": "sum of salaries per department|aee33461-80bf-4113-af0b-0c290ec18af0|select|1" }, { "view": "sum of salaries per department", "action": "79159622-884b-4122-a586-b2f0884e0222", "kind": "select", "ix": 2, "__id": "sum of salaries per department|79159622-884b-4122-a586-b2f0884e0222|select|2" }, { "view": "sum of salaries per department", "action": "e001146b-2df1-4383-833c-df41c7091f6c", "kind": "select", "ix": 3, "__id": "sum of salaries per department|e001146b-2df1-4383-833c-df41c7091f6c|select|3" }, { "view": "sum of salaries per department", "action": "c2147101-16a9-4da2-bbc5-7bcb14a9803d", "kind": "aggregate", "ix": 4, "__id": "sum of salaries per department|c2147101-16a9-4da2-bbc5-7bcb14a9803d|aggregate|4" }, { "view": "sum of salaries per department", "action": "be08fba4-4fd5-4596-95f2-09d430ad58bb", "kind": "group", "ix": 9007199254740991, "__id": "sum of salaries per department|be08fba4-4fd5-4596-95f2-09d430ad58bb|group|9007199254740991" }, { "view": "sum of salaries per department", "action": "639125ca-4db3-402d-982c-bd5d7d2fb601", "kind": "project", "ix": 9007199254740991, "__id": "sum of salaries per department|639125ca-4db3-402d-982c-bd5d7d2fb601|project|9007199254740991" }, { "view": "sum of salaries per department|bit", "action": "6de3fe99-7eb2-4c9f-b895-656768674f37", "kind": "select", "ix": 0, "__id": "sum of salaries per department|bit|6de3fe99-7eb2-4c9f-b895-656768674f37|select|0" }, { "view": "sum of salaries per department|bit", "action": "413e647a-fe52-4ffe-8c0d-dd33fd62e4fc", "kind": "select", "ix": 1, "__id": "sum of salaries per department|bit|413e647a-fe52-4ffe-8c0d-dd33fd62e4fc|select|1" }, { "view": "sum of salaries per department|bit", "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "kind": "calculate", "ix": 2, "__id": "sum of salaries per department|bit|45f13c10-23fd-4ba7-b40b-91cf60815804|calculate|2" }, { "view": "sum of salaries per department|bit", "action": "d616eb26-c106-4cfc-8b62-9c6d526a6806", "kind": "project", "ix": 9007199254740991, "__id": "sum of salaries per department|bit|d616eb26-c106-4cfc-8b62-9c6d526a6806|project|9007199254740991" }, { "view": "generated eav", "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "kind": "union", "ix": 1, "__id": "generated eav|sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|union|1" }], "action source": [{ "action": "b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18", "source view": "content blocks", "__id": "b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18|content blocks" }, { "action": "1e5e0210-d109-4b8f-91cb-e14a422e11da", "source view": "manual entity", "__id": "1e5e0210-d109-4b8f-91cb-e14a422e11da|manual entity" }, { "action": "97f2afde-c0cd-41cb-98ec-51f268feb47c", "source view": "added bits", "__id": "97f2afde-c0cd-41cb-98ec-51f268feb47c|added bits" }, { "action": "5bec8cc7-7c55-4a21-b055-728ee9202d6a", "source view": "entity eavs", "__id": "5bec8cc7-7c55-4a21-b055-728ee9202d6a|entity eavs" }, { "action": "9fbf8614-c71a-4a92-b757-71542af9f056", "source view": "entity eavs", "__id": "9fbf8614-c71a-4a92-b757-71542af9f056|entity eavs" }, { "action": "79451f35-89a2-4671-a1e1-d1ae785c1663", "source view": "entity eavs", "__id": "79451f35-89a2-4671-a1e1-d1ae785c1663|entity eavs" }, { "action": "10e5f68c-865d-4edf-ad3d-4b6e379ca923", "source view": "content blocks", "__id": "10e5f68c-865d-4edf-ad3d-4b6e379ca923|content blocks" }, { "action": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "source view": "parse eavs", "__id": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|parse eavs" }, { "action": "b23dc854-3fec-4757-a478-d5388840acc1", "source view": "entity", "__id": "b23dc854-3fec-4757-a478-d5388840acc1|entity" }, { "action": "7de9fcc7-fc5b-4604-92fe-b9654589b84c", "source view": "entity eavs", "__id": "7de9fcc7-fc5b-4604-92fe-b9654589b84c|entity eavs" }, { "action": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "builtin entity eavs", "__id": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|builtin entity eavs" }, { "action": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "manual eav", "__id": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|manual eav" }, { "action": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "generated eav", "__id": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|generated eav" }, { "action": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "parsed content blocks", "__id": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|parsed content blocks" }, { "action": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "parsed eavs", "__id": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|parsed eavs" }, { "action": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "source view": "added eavs", "__id": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|added eavs" }, { "action": "1125f6a6-181c-430b-811a-39f20299a8ad", "source view": "parse eavs", "__id": "1125f6a6-181c-430b-811a-39f20299a8ad|parse eavs" }, { "action": "5605ce60-5b9c-460b-9554-f67f10bfe842", "source view": "lowercase", "__id": "5605ce60-5b9c-460b-9554-f67f10bfe842|lowercase" }, { "action": "eec9f039-08e6-46ba-b04b-84d9735808c2", "source view": "entity", "__id": "eec9f039-08e6-46ba-b04b-84d9735808c2|entity" }, { "action": "a576196d-84d5-43e6-9116-edf96b152a71", "source view": "entity eavs", "__id": "a576196d-84d5-43e6-9116-edf96b152a71|entity eavs" }, { "action": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2", "source view": "lowercase eavs", "__id": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2|lowercase eavs" }, { "action": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "source view": "builtin entity links", "__id": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|builtin entity links" }, { "action": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "source view": "eav entity links", "__id": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|eav entity links" }, { "action": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}", "source view": "is a attributes", "__id": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}|is a attributes" }, { "action": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "source view": "builtin directionless links", "__id": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}|builtin directionless links" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "source view": "entity links", "__id": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}|entity links" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}", "source view": "entity links", "__id": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}|entity links" }, { "action": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "source view": "builtin collection entities", "__id": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|builtin collection entities" }, { "action": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "source view": "is a attributes", "__id": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|is a attributes" }, { "action": "0c002f76-4ef9-48c6-8421-33084657a3ae", "source view": "count", "__id": "0c002f76-4ef9-48c6-8421-33084657a3ae|count" }, { "action": "64c8ae4c-cded-478d-9f4a-7ad1dc5c7185", "source view": "is a attributes", "__id": "64c8ae4c-cded-478d-9f4a-7ad1dc5c7185|is a attributes" }, { "action": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}", "source view": "builtin search", "__id": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}|builtin search" }, { "action": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}", "source view": "builtin search query", "__id": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}|builtin search query" }, { "action": "2db00496-2eff-4d2a-b487-4c3705805c3e", "source view": "search query", "__id": "2db00496-2eff-4d2a-b487-4c3705805c3e|search query" }, { "action": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "source view": "search", "__id": "1df78edc-b7df-452b-a73c-e2d5939ec8b9|search" }, { "action": "b844cb2b-7503-4346-b32d-d86191765a8f", "source view": "entity eavs", "__id": "b844cb2b-7503-4346-b32d-d86191765a8f|entity eavs" }, { "action": "9b37c2cd-5628-4d5e-8a69-916ca66cac87", "source view": "entity eavs", "__id": "9b37c2cd-5628-4d5e-8a69-916ca66cac87|entity eavs" }, { "action": "0d27fe25-b05e-44b9-9e45-af96a23bacbf", "source view": "entity eavs", "__id": "0d27fe25-b05e-44b9-9e45-af96a23bacbf|entity eavs" }, { "action": "31405d57-a5fb-44b0-ad91-a33da4edcaca", "source view": "entity eavs", "__id": "31405d57-a5fb-44b0-ad91-a33da4edcaca|entity eavs" }, { "action": "be9d0f9b-609a-4025-9568-c1e5dff96bc6", "source view": "entity eavs", "__id": "be9d0f9b-609a-4025-9568-c1e5dff96bc6|entity eavs" }, { "action": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae", "source view": "entity eavs", "__id": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae|entity eavs" }, { "action": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2", "source view": "entity eavs", "__id": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2|entity eavs" }, { "action": "dc275676-ad80-4db1-b3ef-9bfb1f607cba", "source view": "entity eavs", "__id": "dc275676-ad80-4db1-b3ef-9bfb1f607cba|entity eavs" }, { "action": "f602a229-8512-4c4c-aebc-c16c68926e8d", "source view": "collection entities", "__id": "f602a229-8512-4c4c-aebc-c16c68926e8d|collection entities" }, { "action": "71256db8-9484-44a8-abb3-19b2f0b2d983", "source view": "collection entities", "__id": "71256db8-9484-44a8-abb3-19b2f0b2d983|collection entities" }, { "action": "2943bda0-19db-4662-b45e-8fdd484a31af", "source view": "add bit action", "__id": "2943bda0-19db-4662-b45e-8fdd484a31af|add bit action" }, { "action": "c58ab1a2-2397-4b07-8c89-18385172aa50", "source view": "employees", "__id": "c58ab1a2-2397-4b07-8c89-18385172aa50|employees" }, { "action": "a45744cf-128e-4afd-b981-4167878f916d", "source view": "bit template", "__id": "a45744cf-128e-4afd-b981-4167878f916d|bit template" }, { "action": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "source view": "collection entities", "__id": "a4eb6ded-daf3-40de-9629-1173d5dd6a54|collection entities" }, { "action": "aee33461-80bf-4113-af0b-0c290ec18af0", "source view": "directionless links", "__id": "aee33461-80bf-4113-af0b-0c290ec18af0|directionless links" }, { "action": "79159622-884b-4122-a586-b2f0884e0222", "source view": "collection entities", "__id": "79159622-884b-4122-a586-b2f0884e0222|collection entities" }, { "action": "e001146b-2df1-4383-833c-df41c7091f6c", "source view": "entity eavs", "__id": "e001146b-2df1-4383-833c-df41c7091f6c|entity eavs" }, { "action": "c2147101-16a9-4da2-bbc5-7bcb14a9803d", "source view": "sum", "__id": "c2147101-16a9-4da2-bbc5-7bcb14a9803d|sum" }, { "action": "6de3fe99-7eb2-4c9f-b895-656768674f37", "source view": "add bit action", "__id": "6de3fe99-7eb2-4c9f-b895-656768674f37|add bit action" }, { "action": "413e647a-fe52-4ffe-8c0d-dd33fd62e4fc", "source view": "sum of salaries per department", "__id": "413e647a-fe52-4ffe-8c0d-dd33fd62e4fc|sum of salaries per department" }, { "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "source view": "bit template", "__id": "45f13c10-23fd-4ba7-b40b-91cf60815804|bit template" }, { "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "source view": "sum of salaries per department|bit", "__id": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|sum of salaries per department|bit" }], "action mapping": [{ "action": "230901a0-a9eb-480d-b8bd-152a27bba9d6", "from": "content", "to source": "b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18", "to field": "content", "__id": "230901a0-a9eb-480d-b8bd-152a27bba9d6|content|b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18|content" }, { "action": "230901a0-a9eb-480d-b8bd-152a27bba9d6", "from": "entity", "to source": "b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18", "to field": "entity", "__id": "230901a0-a9eb-480d-b8bd-152a27bba9d6|entity|b02e0ae8-90a7-4e76-a6d4-9a9b5bdcaf18|entity" }, { "action": "5bec8cc7-7c55-4a21-b055-728ee9202d6a", "from": "entity", "to source": "79451f35-89a2-4671-a1e1-d1ae785c1663", "to field": "entity", "__id": "5bec8cc7-7c55-4a21-b055-728ee9202d6a|entity|79451f35-89a2-4671-a1e1-d1ae785c1663|entity" }, { "action": "0b8ce76d-9bba-409f-9208-bc0b260d989e", "from": "content", "to source": "97f2afde-c0cd-41cb-98ec-51f268feb47c", "to field": "content", "__id": "0b8ce76d-9bba-409f-9208-bc0b260d989e|content|97f2afde-c0cd-41cb-98ec-51f268feb47c|content" }, { "action": "0b8ce76d-9bba-409f-9208-bc0b260d989e", "from": "entity", "to source": "97f2afde-c0cd-41cb-98ec-51f268feb47c", "to field": "entity", "__id": "0b8ce76d-9bba-409f-9208-bc0b260d989e|entity|97f2afde-c0cd-41cb-98ec-51f268feb47c|entity" }, { "action": "1e5e0210-d109-4b8f-91cb-e14a422e11da", "from": "entity", "to source": "97f2afde-c0cd-41cb-98ec-51f268feb47c", "to field": "entity", "__id": "1e5e0210-d109-4b8f-91cb-e14a422e11da|entity|97f2afde-c0cd-41cb-98ec-51f268feb47c|entity" }, { "action": "b4035b12-6251-45dd-8983-325bd9164a18", "from": "content", "to source": "9fbf8614-c71a-4a92-b757-71542af9f056", "to field": "value", "__id": "b4035b12-6251-45dd-8983-325bd9164a18|content|9fbf8614-c71a-4a92-b757-71542af9f056|value" }, { "action": "b4035b12-6251-45dd-8983-325bd9164a18", "from": "entity", "to source": "5bec8cc7-7c55-4a21-b055-728ee9202d6a", "to field": "value", "__id": "b4035b12-6251-45dd-8983-325bd9164a18|entity|5bec8cc7-7c55-4a21-b055-728ee9202d6a|value" }, { "action": "b4035b12-6251-45dd-8983-325bd9164a18", "from": "block", "to source": "79451f35-89a2-4671-a1e1-d1ae785c1663", "to field": "entity", "__id": "b4035b12-6251-45dd-8983-325bd9164a18|block|79451f35-89a2-4671-a1e1-d1ae785c1663|entity" }, { "action": "9fbf8614-c71a-4a92-b757-71542af9f056", "from": "entity", "to source": "79451f35-89a2-4671-a1e1-d1ae785c1663", "to field": "entity", "__id": "9fbf8614-c71a-4a92-b757-71542af9f056|entity|79451f35-89a2-4671-a1e1-d1ae785c1663|entity" }, { "action": "e9f0d3d0-e035-409c-86a0-93119a6f34ea", "from": "attribute", "to source": "1125f6a6-181c-430b-811a-39f20299a8ad", "to field": "attribute", "__id": "e9f0d3d0-e035-409c-86a0-93119a6f34ea|attribute|1125f6a6-181c-430b-811a-39f20299a8ad|attribute" }, { "action": "e9f0d3d0-e035-409c-86a0-93119a6f34ea", "from": "entity", "to source": "10e5f68c-865d-4edf-ad3d-4b6e379ca923", "to field": "entity", "__id": "e9f0d3d0-e035-409c-86a0-93119a6f34ea|entity|10e5f68c-865d-4edf-ad3d-4b6e379ca923|entity" }, { "action": "1125f6a6-181c-430b-811a-39f20299a8ad", "from": "text", "to source": "10e5f68c-865d-4edf-ad3d-4b6e379ca923", "to field": "content", "__id": "1125f6a6-181c-430b-811a-39f20299a8ad|text|10e5f68c-865d-4edf-ad3d-4b6e379ca923|content" }, { "action": "1125f6a6-181c-430b-811a-39f20299a8ad", "from": "entity", "to source": "10e5f68c-865d-4edf-ad3d-4b6e379ca923", "to field": "entity", "__id": "1125f6a6-181c-430b-811a-39f20299a8ad|entity|10e5f68c-865d-4edf-ad3d-4b6e379ca923|entity" }, { "action": "d183591e-f1fb-448e-b430-d1f37393e810", "from": "attribute", "to source": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "to field": "attribute", "__id": "d183591e-f1fb-448e-b430-d1f37393e810|attribute|d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|attribute" }, { "action": "d183591e-f1fb-448e-b430-d1f37393e810", "from": "entity", "to source": "b23dc854-3fec-4757-a478-d5388840acc1", "to field": "entity", "__id": "d183591e-f1fb-448e-b430-d1f37393e810|entity|b23dc854-3fec-4757-a478-d5388840acc1|entity" }, { "action": "9fac0c63-a68a-43ec-b69f-09f29c15ddb6", "from": "entity", "to source": "7de9fcc7-fc5b-4604-92fe-b9654589b84c", "to field": "entity", "__id": "9fac0c63-a68a-43ec-b69f-09f29c15ddb6|entity|7de9fcc7-fc5b-4604-92fe-b9654589b84c|entity" }, { "action": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "from": "text", "to source": "b23dc854-3fec-4757-a478-d5388840acc1", "to field": "content", "__id": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|text|b23dc854-3fec-4757-a478-d5388840acc1|content" }, { "action": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "from": "entity", "to source": "b23dc854-3fec-4757-a478-d5388840acc1", "to field": "entity", "__id": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|entity|b23dc854-3fec-4757-a478-d5388840acc1|entity" }, { "action": "9fac0c63-a68a-43ec-b69f-09f29c15ddb6", "from": "collection", "to source": "7de9fcc7-fc5b-4604-92fe-b9654589b84c", "to field": "value", "__id": "9fac0c63-a68a-43ec-b69f-09f29c15ddb6|collection|7de9fcc7-fc5b-4604-92fe-b9654589b84c|value" }, { "action": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "builtin entity eavs", "to field": "entity", "__id": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|builtin entity eavs|entity" }, { "action": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "builtin entity eavs", "to field": "attribute", "__id": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|builtin entity eavs|attribute" }, { "action": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "builtin entity eavs", "to field": "value", "__id": "entity eavs <-- builtin entity eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|builtin entity eavs|value" }, { "action": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "manual eav", "to field": "entity", "__id": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|manual eav|entity" }, { "action": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "manual eav", "to field": "attribute", "__id": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|manual eav|attribute" }, { "action": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "manual eav", "to field": "value", "__id": "entity eavs <-- manual eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|manual eav|value" }, { "action": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "generated eav", "to field": "entity", "__id": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|generated eav|entity" }, { "action": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "generated eav", "to field": "attribute", "__id": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|generated eav|attribute" }, { "action": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "generated eav", "to field": "value", "__id": "entity eavs <-- generated eav <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|generated eav|value" }, { "action": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "parsed content blocks", "to field": "entity", "__id": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|parsed content blocks|entity" }, { "action": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "parsed content blocks", "to field": "attribute", "__id": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|parsed content blocks|attribute" }, { "action": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "parsed content blocks", "to field": "value", "__id": "entity eavs <-- parsed content blocks <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|parsed content blocks|value" }, { "action": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "parsed eavs", "to field": "entity", "__id": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|parsed eavs|entity" }, { "action": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "parsed eavs", "to field": "attribute", "__id": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|parsed eavs|attribute" }, { "action": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "parsed eavs", "to field": "value", "__id": "entity eavs <-- parsed eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|parsed eavs|value" }, { "action": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "entity", "to source": "added eavs", "to field": "entity", "__id": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|entity|added eavs|entity" }, { "action": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "attribute", "to source": "added eavs", "to field": "attribute", "__id": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|attribute|added eavs|attribute" }, { "action": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}", "from": "value", "to source": "added eavs", "to field": "value", "__id": "entity eavs <-- added eavs <-- {\"entity\":\"entity\",\"attribute\":\"attribute\",\"value\":\"value\"}|value|added eavs|value" }, { "action": "e9f0d3d0-e035-409c-86a0-93119a6f34ea", "from": "value", "to source": "1125f6a6-181c-430b-811a-39f20299a8ad", "to field": "value", "__id": "e9f0d3d0-e035-409c-86a0-93119a6f34ea|value|1125f6a6-181c-430b-811a-39f20299a8ad|value" }, { "action": "d183591e-f1fb-448e-b430-d1f37393e810", "from": "value", "to source": "d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6", "to field": "value", "__id": "d183591e-f1fb-448e-b430-d1f37393e810|value|d63b8a4f-2d0f-441e-b6ab-7ab1b5a1d5a6|value" }, { "action": "eec9f039-08e6-46ba-b04b-84d9735808c2", "from": "entity", "to source": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2", "to field": "value", "__id": "eec9f039-08e6-46ba-b04b-84d9735808c2|entity|5ff8a466-5a5c-46f2-850d-d0f5265b18c2|value" }, { "action": "228de452-b96e-4008-bec9-0ef023c351fc", "from": "value", "to source": "5605ce60-5b9c-460b-9554-f67f10bfe842", "to field": "result", "__id": "228de452-b96e-4008-bec9-0ef023c351fc|value|5605ce60-5b9c-460b-9554-f67f10bfe842|result" }, { "action": "228de452-b96e-4008-bec9-0ef023c351fc", "from": "attribute", "to source": "a576196d-84d5-43e6-9116-edf96b152a71", "to field": "attribute", "__id": "228de452-b96e-4008-bec9-0ef023c351fc|attribute|a576196d-84d5-43e6-9116-edf96b152a71|attribute" }, { "action": "228de452-b96e-4008-bec9-0ef023c351fc", "from": "entity", "to source": "a576196d-84d5-43e6-9116-edf96b152a71", "to field": "entity", "__id": "228de452-b96e-4008-bec9-0ef023c351fc|entity|a576196d-84d5-43e6-9116-edf96b152a71|entity" }, { "action": "5605ce60-5b9c-460b-9554-f67f10bfe842", "from": "text", "to source": "a576196d-84d5-43e6-9116-edf96b152a71", "to field": "value", "__id": "5605ce60-5b9c-460b-9554-f67f10bfe842|text|a576196d-84d5-43e6-9116-edf96b152a71|value" }, { "action": "952147cb-02c8-43f7-833b-76cdcea3e6d0", "from": "link", "to source": "eec9f039-08e6-46ba-b04b-84d9735808c2", "to field": "entity", "__id": "952147cb-02c8-43f7-833b-76cdcea3e6d0|link|eec9f039-08e6-46ba-b04b-84d9735808c2|entity" }, { "action": "952147cb-02c8-43f7-833b-76cdcea3e6d0", "from": "entity", "to source": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2", "to field": "entity", "__id": "952147cb-02c8-43f7-833b-76cdcea3e6d0|entity|5ff8a466-5a5c-46f2-850d-d0f5265b18c2|entity" }, { "action": "952147cb-02c8-43f7-833b-76cdcea3e6d0", "from": "type", "to source": "5ff8a466-5a5c-46f2-850d-d0f5265b18c2", "to field": "attribute", "__id": "952147cb-02c8-43f7-833b-76cdcea3e6d0|type|5ff8a466-5a5c-46f2-850d-d0f5265b18c2|attribute" }, { "action": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "entity", "to source": "builtin entity links", "to field": "entity", "__id": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|entity|builtin entity links|entity" }, { "action": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "link", "to source": "builtin entity links", "to field": "link", "__id": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|link|builtin entity links|link" }, { "action": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "type", "to source": "builtin entity links", "to field": "type", "__id": "entity links <-- builtin entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|type|builtin entity links|type" }, { "action": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "entity", "to source": "eav entity links", "to field": "entity", "__id": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|entity|eav entity links|entity" }, { "action": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "link", "to source": "eav entity links", "to field": "link", "__id": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|link|eav entity links|link" }, { "action": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}", "from": "type", "to source": "eav entity links", "to field": "type", "__id": "entity links <-- eav entity links <-- {\"entity\":\"entity\",\"link\":\"link\",\"type\":\"type\"}|type|eav entity links|type" }, { "action": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}", "from": "entity", "to source": "is a attributes", "to field": "entity", "__id": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}|entity|is a attributes|entity" }, { "action": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}", "from": "link", "to source": "is a attributes", "to field": "collection", "__id": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}|link|is a attributes|collection" }, { "action": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "from": "entity", "to source": "builtin directionless links", "to field": "entity", "__id": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}|entity|builtin directionless links|entity" }, { "action": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "from": "link", "to source": "builtin directionless links", "to field": "link", "__id": "directionless links <-- builtin directionless links <-- {\"entity\":\"entity\",\"link\":\"link\"}|link|builtin directionless links|link" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "from": "entity", "to source": "entity links", "to field": "entity", "__id": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}|entity|entity links|entity" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}", "from": "link", "to source": "entity links", "to field": "link", "__id": "directionless links <-- entity links <-- {\"entity\":\"entity\",\"link\":\"link\"}|link|entity links|link" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}", "from": "entity", "to source": "entity links", "to field": "link", "__id": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}|entity|entity links|link" }, { "action": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}", "from": "link", "to source": "entity links", "to field": "entity", "__id": "directionless links <-- entity links <-- {\"entity\":\"link\",\"link\":\"entity\"}|link|entity links|entity" }, { "action": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "from": "entity", "to source": "builtin collection entities", "to field": "entity", "__id": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|entity|builtin collection entities|entity" }, { "action": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "from": "collection", "to source": "builtin collection entities", "to field": "collection", "__id": "collection entities <-- builtin collection entities <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|collection|builtin collection entities|collection" }, { "action": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "from": "entity", "to source": "is a attributes", "to field": "entity", "__id": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|entity|is a attributes|entity" }, { "action": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}", "from": "collection", "to source": "is a attributes", "to field": "collection", "__id": "collection entities <-- is a attributes <-- {\"entity\":\"entity\",\"collection\":\"collection\"}|collection|is a attributes|collection" }, { "action": "ade245fa-ff66-456b-b52e-400817180c29", "from": "count", "to source": "0c002f76-4ef9-48c6-8421-33084657a3ae", "to field": "count", "__id": "ade245fa-ff66-456b-b52e-400817180c29|count|0c002f76-4ef9-48c6-8421-33084657a3ae|count" }, { "action": "ade245fa-ff66-456b-b52e-400817180c29", "from": "collection", "to source": "64c8ae4c-cded-478d-9f4a-7ad1dc5c7185", "to field": "collection", "__id": "ade245fa-ff66-456b-b52e-400817180c29|collection|64c8ae4c-cded-478d-9f4a-7ad1dc5c7185|collection" }, { "action": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}", "from": "id", "to source": "builtin search", "to field": "id", "__id": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}|id|builtin search|id" }, { "action": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}", "from": "top", "to source": "builtin search", "to field": "top", "__id": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}|top|builtin search|top" }, { "action": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}", "from": "left", "to source": "builtin search", "to field": "left", "__id": "search <-- builtin search <-- {\"id\":\"id\",\"top\":\"top\",\"left\":\"left\"}|left|builtin search|left" }, { "action": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}", "from": "id", "to source": "builtin search query", "to field": "id", "__id": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}|id|builtin search query|id" }, { "action": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}", "from": "search", "to source": "builtin search query", "to field": "search", "__id": "search query <-- builtin search query <-- {\"id\":\"id\",\"search\":\"search\"}|search|builtin search query|search" }, { "action": "3f28818f-6e0c-4352-af3c-b909993e6fce", "from": "left", "to source": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "to field": "left", "__id": "3f28818f-6e0c-4352-af3c-b909993e6fce|left|1df78edc-b7df-452b-a73c-e2d5939ec8b9|left" }, { "action": "3f28818f-6e0c-4352-af3c-b909993e6fce", "from": "top", "to source": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "to field": "top", "__id": "3f28818f-6e0c-4352-af3c-b909993e6fce|top|1df78edc-b7df-452b-a73c-e2d5939ec8b9|top" }, { "action": "3f28818f-6e0c-4352-af3c-b909993e6fce", "from": "search", "to source": "2db00496-2eff-4d2a-b487-4c3705805c3e", "to field": "search", "__id": "3f28818f-6e0c-4352-af3c-b909993e6fce|search|2db00496-2eff-4d2a-b487-4c3705805c3e|search" }, { "action": "3f28818f-6e0c-4352-af3c-b909993e6fce", "from": "id", "to source": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "to field": "id", "__id": "3f28818f-6e0c-4352-af3c-b909993e6fce|id|1df78edc-b7df-452b-a73c-e2d5939ec8b9|id" }, { "action": "2db00496-2eff-4d2a-b487-4c3705805c3e", "from": "id", "to source": "1df78edc-b7df-452b-a73c-e2d5939ec8b9", "to field": "id", "__id": "2db00496-2eff-4d2a-b487-4c3705805c3e|id|1df78edc-b7df-452b-a73c-e2d5939ec8b9|id" }, { "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "from": "update", "to source": "9b37c2cd-5628-4d5e-8a69-916ca66cac87", "to field": "value", "__id": "a854f706-a256-48ec-9d90-0eb297a50d06|update|9b37c2cd-5628-4d5e-8a69-916ca66cac87|value" }, { "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "from": "render", "to source": "0d27fe25-b05e-44b9-9e45-af96a23bacbf", "to field": "value", "__id": "a854f706-a256-48ec-9d90-0eb297a50d06|render|0d27fe25-b05e-44b9-9e45-af96a23bacbf|value" }, { "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "from": "perf stats", "to source": "b844cb2b-7503-4346-b32d-d86191765a8f", "to field": "value", "__id": "a854f706-a256-48ec-9d90-0eb297a50d06|perf stats|b844cb2b-7503-4346-b32d-d86191765a8f|value" }, { "action": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0", "from": "top", "to source": "dc275676-ad80-4db1-b3ef-9bfb1f607cba", "to field": "value", "__id": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0|top|dc275676-ad80-4db1-b3ef-9bfb1f607cba|value" }, { "action": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0", "from": "search", "to source": "f602a229-8512-4c4c-aebc-c16c68926e8d", "to field": "entity", "__id": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0|search|f602a229-8512-4c4c-aebc-c16c68926e8d|entity" }, { "action": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae", "from": "entity", "to source": "f602a229-8512-4c4c-aebc-c16c68926e8d", "to field": "entity", "__id": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae|entity|f602a229-8512-4c4c-aebc-c16c68926e8d|entity" }, { "action": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0", "from": "search 2", "to source": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae", "to field": "value", "__id": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0|search 2|b6943987-ea3e-4a9b-b011-ba7bc269a2ae|value" }, { "action": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0", "from": "left", "to source": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2", "to field": "value", "__id": "9b46fcb4-ae02-4b8e-b23c-d462c2c519b0|left|0a3d741e-dbd7-4e70-98a9-10a14f5b02e2|value" }, { "action": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2", "from": "entity", "to source": "f602a229-8512-4c4c-aebc-c16c68926e8d", "to field": "entity", "__id": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2|entity|f602a229-8512-4c4c-aebc-c16c68926e8d|entity" }, { "action": "dc275676-ad80-4db1-b3ef-9bfb1f607cba", "from": "entity", "to source": "f602a229-8512-4c4c-aebc-c16c68926e8d", "to field": "entity", "__id": "dc275676-ad80-4db1-b3ef-9bfb1f607cba|entity|f602a229-8512-4c4c-aebc-c16c68926e8d|entity" }, { "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "from": "ui compile", "to source": "31405d57-a5fb-44b0-ad91-a33da4edcaca", "to field": "value", "__id": "a854f706-a256-48ec-9d90-0eb297a50d06|ui compile|31405d57-a5fb-44b0-ad91-a33da4edcaca|value" }, { "action": "a854f706-a256-48ec-9d90-0eb297a50d06", "from": "root", "to source": "be9d0f9b-609a-4025-9568-c1e5dff96bc6", "to field": "value", "__id": "a854f706-a256-48ec-9d90-0eb297a50d06|root|be9d0f9b-609a-4025-9568-c1e5dff96bc6|value" }, { "action": "276af01a-c07d-441e-aa63-55548cdee363", "from": "employee", "to source": "71256db8-9484-44a8-abb3-19b2f0b2d983", "to field": "entity", "__id": "276af01a-c07d-441e-aa63-55548cdee363|employee|71256db8-9484-44a8-abb3-19b2f0b2d983|entity" }, { "action": "a45744cf-128e-4afd-b981-4167878f916d", "from": "row", "to source": "c58ab1a2-2397-4b07-8c89-18385172aa50", "__id": "a45744cf-128e-4afd-b981-4167878f916d|row|c58ab1a2-2397-4b07-8c89-18385172aa50|undefined" }, { "action": "a45744cf-128e-4afd-b981-4167878f916d", "from": "template", "to source": "2943bda0-19db-4662-b45e-8fdd484a31af", "to field": "template", "__id": "a45744cf-128e-4afd-b981-4167878f916d|template|2943bda0-19db-4662-b45e-8fdd484a31af|template" }, { "action": "a45744cf-128e-4afd-b981-4167878f916d", "from": "action", "to source": "2943bda0-19db-4662-b45e-8fdd484a31af", "to field": "action", "__id": "a45744cf-128e-4afd-b981-4167878f916d|action|2943bda0-19db-4662-b45e-8fdd484a31af|action" }, { "action": "64b345f5-fcff-41c6-91ca-91076f3631c3", "from": "entity", "to source": "a45744cf-128e-4afd-b981-4167878f916d", "to field": "entity", "__id": "64b345f5-fcff-41c6-91ca-91076f3631c3|entity|a45744cf-128e-4afd-b981-4167878f916d|entity" }, { "action": "64b345f5-fcff-41c6-91ca-91076f3631c3", "from": "attribute", "to source": "a45744cf-128e-4afd-b981-4167878f916d", "to field": "attribute", "__id": "64b345f5-fcff-41c6-91ca-91076f3631c3|attribute|a45744cf-128e-4afd-b981-4167878f916d|attribute" }, { "action": "64b345f5-fcff-41c6-91ca-91076f3631c3", "from": "value", "to source": "a45744cf-128e-4afd-b981-4167878f916d", "to field": "value", "__id": "64b345f5-fcff-41c6-91ca-91076f3631c3|value|a45744cf-128e-4afd-b981-4167878f916d|value" }, { "action": "aee33461-80bf-4113-af0b-0c290ec18af0", "from": "entity", "to source": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "to field": "entity", "__id": "aee33461-80bf-4113-af0b-0c290ec18af0|entity|a4eb6ded-daf3-40de-9629-1173d5dd6a54|entity" }, { "action": "79159622-884b-4122-a586-b2f0884e0222", "from": "entity", "to source": "aee33461-80bf-4113-af0b-0c290ec18af0", "to field": "link", "__id": "79159622-884b-4122-a586-b2f0884e0222|entity|aee33461-80bf-4113-af0b-0c290ec18af0|link" }, { "action": "e001146b-2df1-4383-833c-df41c7091f6c", "from": "entity", "to source": "79159622-884b-4122-a586-b2f0884e0222", "to field": "entity", "__id": "e001146b-2df1-4383-833c-df41c7091f6c|entity|79159622-884b-4122-a586-b2f0884e0222|entity" }, { "action": "c2147101-16a9-4da2-bbc5-7bcb14a9803d", "from": "value", "to source": "e001146b-2df1-4383-833c-df41c7091f6c", "to field": "value", "__id": "c2147101-16a9-4da2-bbc5-7bcb14a9803d|value|e001146b-2df1-4383-833c-df41c7091f6c|value" }, { "action": "639125ca-4db3-402d-982c-bd5d7d2fb601", "from": "department", "to source": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "to field": "entity", "__id": "639125ca-4db3-402d-982c-bd5d7d2fb601|department|a4eb6ded-daf3-40de-9629-1173d5dd6a54|entity" }, { "action": "639125ca-4db3-402d-982c-bd5d7d2fb601", "from": "employee", "to source": "79159622-884b-4122-a586-b2f0884e0222", "to field": "entity", "__id": "639125ca-4db3-402d-982c-bd5d7d2fb601|employee|79159622-884b-4122-a586-b2f0884e0222|entity" }, { "action": "639125ca-4db3-402d-982c-bd5d7d2fb601", "from": "salary", "to source": "e001146b-2df1-4383-833c-df41c7091f6c", "to field": "value", "__id": "639125ca-4db3-402d-982c-bd5d7d2fb601|salary|e001146b-2df1-4383-833c-df41c7091f6c|value" }, { "action": "639125ca-4db3-402d-982c-bd5d7d2fb601", "from": "sum", "to source": "c2147101-16a9-4da2-bbc5-7bcb14a9803d", "to field": "sum", "__id": "639125ca-4db3-402d-982c-bd5d7d2fb601|sum|c2147101-16a9-4da2-bbc5-7bcb14a9803d|sum" }, { "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "from": "row", "to source": "413e647a-fe52-4ffe-8c0d-dd33fd62e4fc", "__id": "45f13c10-23fd-4ba7-b40b-91cf60815804|row|413e647a-fe52-4ffe-8c0d-dd33fd62e4fc|undefined" }, { "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "from": "template", "to source": "6de3fe99-7eb2-4c9f-b895-656768674f37", "to field": "template", "__id": "45f13c10-23fd-4ba7-b40b-91cf60815804|template|6de3fe99-7eb2-4c9f-b895-656768674f37|template" }, { "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "from": "action", "to source": "6de3fe99-7eb2-4c9f-b895-656768674f37", "to field": "action", "__id": "45f13c10-23fd-4ba7-b40b-91cf60815804|action|6de3fe99-7eb2-4c9f-b895-656768674f37|action" }, { "action": "d616eb26-c106-4cfc-8b62-9c6d526a6806", "from": "entity", "to source": "45f13c10-23fd-4ba7-b40b-91cf60815804", "to field": "entity", "__id": "d616eb26-c106-4cfc-8b62-9c6d526a6806|entity|45f13c10-23fd-4ba7-b40b-91cf60815804|entity" }, { "action": "d616eb26-c106-4cfc-8b62-9c6d526a6806", "from": "attribute", "to source": "45f13c10-23fd-4ba7-b40b-91cf60815804", "to field": "attribute", "__id": "d616eb26-c106-4cfc-8b62-9c6d526a6806|attribute|45f13c10-23fd-4ba7-b40b-91cf60815804|attribute" }, { "action": "d616eb26-c106-4cfc-8b62-9c6d526a6806", "from": "value", "to source": "45f13c10-23fd-4ba7-b40b-91cf60815804", "to field": "value", "__id": "d616eb26-c106-4cfc-8b62-9c6d526a6806|value|45f13c10-23fd-4ba7-b40b-91cf60815804|value" }, { "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "from": "entity", "to source": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "to field": "entity", "__id": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|entity|sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|entity" }, { "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "from": "attribute", "to source": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "to field": "attribute", "__id": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|attribute|sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|attribute" }, { "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "from": "value", "to source": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "to field": "value", "__id": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|value|sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|value" }], "action mapping constant": [{ "action": "79451f35-89a2-4671-a1e1-d1ae785c1663", "from": "value", "value": "content block", "__id": "79451f35-89a2-4671-a1e1-d1ae785c1663|value|content block" }, { "action": "9fbf8614-c71a-4a92-b757-71542af9f056", "from": "attribute", "value": "content", "__id": "9fbf8614-c71a-4a92-b757-71542af9f056|attribute|content" }, { "action": "5bec8cc7-7c55-4a21-b055-728ee9202d6a", "from": "attribute", "value": "associated entity", "__id": "5bec8cc7-7c55-4a21-b055-728ee9202d6a|attribute|associated entity" }, { "action": "79451f35-89a2-4671-a1e1-d1ae785c1663", "from": "attribute", "value": "is a", "__id": "79451f35-89a2-4671-a1e1-d1ae785c1663|attribute|is a" }, { "action": "7de9fcc7-fc5b-4604-92fe-b9654589b84c", "from": "attribute", "value": "is a", "__id": "7de9fcc7-fc5b-4604-92fe-b9654589b84c|attribute|is a" }, { "action": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}", "from": "type", "value": "is a", "__id": "entity links <-- is a attributes <-- {\"entity\":\"entity\",\"link\":\"collection\",\"type\":[\"is a\"]}|type|is a" }, { "action": "31405d57-a5fb-44b0-ad91-a33da4edcaca", "from": "entity", "value": "render performance statistics", "__id": "31405d57-a5fb-44b0-ad91-a33da4edcaca|entity|render performance statistics" }, { "action": "31405d57-a5fb-44b0-ad91-a33da4edcaca", "from": "attribute", "value": "ui compile", "__id": "31405d57-a5fb-44b0-ad91-a33da4edcaca|attribute|ui compile" }, { "action": "be9d0f9b-609a-4025-9568-c1e5dff96bc6", "from": "entity", "value": "render performance statistics", "__id": "be9d0f9b-609a-4025-9568-c1e5dff96bc6|entity|render performance statistics" }, { "action": "be9d0f9b-609a-4025-9568-c1e5dff96bc6", "from": "attribute", "value": "root", "__id": "be9d0f9b-609a-4025-9568-c1e5dff96bc6|attribute|root" }, { "action": "b844cb2b-7503-4346-b32d-d86191765a8f", "from": "entity", "value": "render performance statistics", "__id": "b844cb2b-7503-4346-b32d-d86191765a8f|entity|render performance statistics" }, { "action": "b844cb2b-7503-4346-b32d-d86191765a8f", "from": "attribute", "value": "perf stats", "__id": "b844cb2b-7503-4346-b32d-d86191765a8f|attribute|perf stats" }, { "action": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae", "from": "attribute", "value": "search", "__id": "b6943987-ea3e-4a9b-b011-ba7bc269a2ae|attribute|search" }, { "action": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2", "from": "attribute", "value": "left", "__id": "0a3d741e-dbd7-4e70-98a9-10a14f5b02e2|attribute|left" }, { "action": "dc275676-ad80-4db1-b3ef-9bfb1f607cba", "from": "attribute", "value": "top", "__id": "dc275676-ad80-4db1-b3ef-9bfb1f607cba|attribute|top" }, { "action": "f602a229-8512-4c4c-aebc-c16c68926e8d", "from": "collection", "value": "search", "__id": "f602a229-8512-4c4c-aebc-c16c68926e8d|collection|search" }, { "action": "9b37c2cd-5628-4d5e-8a69-916ca66cac87", "from": "entity", "value": "render performance statistics", "__id": "9b37c2cd-5628-4d5e-8a69-916ca66cac87|entity|render performance statistics" }, { "action": "9b37c2cd-5628-4d5e-8a69-916ca66cac87", "from": "attribute", "value": "update", "__id": "9b37c2cd-5628-4d5e-8a69-916ca66cac87|attribute|update" }, { "action": "0d27fe25-b05e-44b9-9e45-af96a23bacbf", "from": "entity", "value": "render performance statistics", "__id": "0d27fe25-b05e-44b9-9e45-af96a23bacbf|entity|render performance statistics" }, { "action": "0d27fe25-b05e-44b9-9e45-af96a23bacbf", "from": "attribute", "value": "render", "__id": "0d27fe25-b05e-44b9-9e45-af96a23bacbf|attribute|render" }, { "action": "71256db8-9484-44a8-abb3-19b2f0b2d983", "from": "collection", "value": "employee", "__id": "71256db8-9484-44a8-abb3-19b2f0b2d983|collection|employee" }, { "action": "2943bda0-19db-4662-b45e-8fdd484a31af", "from": "view", "value": "employees", "__id": "2943bda0-19db-4662-b45e-8fdd484a31af|view|employees" }, { "action": "a45744cf-128e-4afd-b981-4167878f916d", "from": "name", "value": "employees", "__id": "a45744cf-128e-4afd-b981-4167878f916d|name|employees" }, { "action": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "from": "collection", "value": "department", "__id": "a4eb6ded-daf3-40de-9629-1173d5dd6a54|collection|department" }, { "action": "79159622-884b-4122-a586-b2f0884e0222", "from": "collection", "value": "employee", "__id": "79159622-884b-4122-a586-b2f0884e0222|collection|employee" }, { "action": "e001146b-2df1-4383-833c-df41c7091f6c", "from": "attribute", "value": "salary", "__id": "e001146b-2df1-4383-833c-df41c7091f6c|attribute|salary" }, { "action": "6de3fe99-7eb2-4c9f-b895-656768674f37", "from": "view", "value": "sum of salaries per department", "__id": "6de3fe99-7eb2-4c9f-b895-656768674f37|view|sum of salaries per department" }, { "action": "45f13c10-23fd-4ba7-b40b-91cf60815804", "from": "name", "value": "sum of salaries per department", "__id": "45f13c10-23fd-4ba7-b40b-91cf60815804|name|sum of salaries per department" }, { "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "from": "source view", "value": "sum of salaries per department", "__id": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|source view|sum of salaries per department" }], "action mapping sorted": [{ "action": "563e4b9e-8122-45b6-93da-325b4135a10d", "ix": 0, "source": "64c8ae4c-cded-478d-9f4a-7ad1dc5c7185", "field": "collection", "direction": "ascending", "__id": "563e4b9e-8122-45b6-93da-325b4135a10d|0|64c8ae4c-cded-478d-9f4a-7ad1dc5c7185|collection|ascending" }, { "action": "be08fba4-4fd5-4596-95f2-09d430ad58bb", "ix": 0, "source": "a4eb6ded-daf3-40de-9629-1173d5dd6a54", "field": "entity", "direction": "ascending", "__id": "be08fba4-4fd5-4596-95f2-09d430ad58bb|0|a4eb6ded-daf3-40de-9629-1173d5dd6a54|entity|ascending" }], "action mapping limit": [], "recompile": [], "undefined": [], "manual eav": [{ "entity": "foo|manual content block", "attribute": "is a", "value": "content block", "__id": "foo|manual content block|is a|content block" }, { "entity": "foo|manual content block", "attribute": "source", "value": "manual", "__id": "foo|manual content block|source|manual" }, { "entity": "foo|manual content block", "attribute": "associated entity", "value": "foo", "__id": "foo|manual content block|associated entity|foo" }, { "entity": "foo|manual content block", "attribute": "content", "value": "Foo is a {is a: person} who is {age: 34} years old.", "__id": "foo|manual content block|content|Foo is a {is a: person} who is {age: 34} years old." }, { "entity": "zomg|manual content block", "attribute": "is a", "value": "content block", "__id": "zomg|manual content block|is a|content block" }, { "entity": "zomg|manual content block", "attribute": "source", "value": "manual", "__id": "zomg|manual content block|source|manual" }, { "entity": "zomg|manual content block", "attribute": "associated entity", "value": "zomg", "__id": "zomg|manual content block|associated entity|zomg" }, { "entity": "zomg|manual content block", "attribute": "content", "value": "zomg is a {is a: person} who is {age: 24} years old.", "__id": "zomg|manual content block|content|zomg is a {is a: person} who is {age: 24} years old." }, { "entity": "engineering|manual content block", "attribute": "is a", "value": "content block", "__id": "engineering|manual content block|is a|content block" }, { "entity": "engineering|manual content block", "attribute": "source", "value": "manual", "__id": "engineering|manual content block|source|manual" }, { "entity": "engineering|manual content block", "attribute": "associated entity", "value": "engineering", "__id": "engineering|manual content block|associated entity|engineering" }, { "entity": "engineering|manual content block", "attribute": "content", "value": "Engineering is a {is a: department} at {company: kodowa}, which currently includes:\n\n{chris granger}\n{josh cole}\n{jamie brandon}\n{corey montella}\n{eric hoffman}", "__id": "engineering|manual content block|content|Engineering is a {is a: department} at {company: kodowa}, which currently includes:\n\n{chris granger}\n{josh cole}\n{jamie brandon}\n{corey montella}\n{eric hoffman}" }, { "entity": "chris granger|manual content block", "attribute": "is a", "value": "content block", "__id": "chris granger|manual content block|is a|content block" }, { "entity": "chris granger|manual content block", "attribute": "source", "value": "manual", "__id": "chris granger|manual content block|source|manual" }, { "entity": "chris granger|manual content block", "attribute": "associated entity", "value": "chris granger", "__id": "chris granger|manual content block|associated entity|chris granger" }, { "entity": "chris granger|manual content block", "attribute": "content", "value": "Chris Granger is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 2}.", "__id": "chris granger|manual content block|content|Chris Granger is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 2}." }, { "entity": "josh cole|manual content block", "attribute": "is a", "value": "content block", "__id": "josh cole|manual content block|is a|content block" }, { "entity": "josh cole|manual content block", "attribute": "source", "value": "manual", "__id": "josh cole|manual content block|source|manual" }, { "entity": "josh cole|manual content block", "attribute": "associated entity", "value": "josh cole", "__id": "josh cole|manual content block|associated entity|josh cole" }, { "entity": "josh cole|manual content block", "attribute": "content", "value": "Josh Cole is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}.", "__id": "josh cole|manual content block|content|Josh Cole is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}." }, { "entity": "jamie brandon|manual content block", "attribute": "is a", "value": "content block", "__id": "jamie brandon|manual content block|is a|content block" }, { "entity": "jamie brandon|manual content block", "attribute": "source", "value": "manual", "__id": "jamie brandon|manual content block|source|manual" }, { "entity": "jamie brandon|manual content block", "attribute": "associated entity", "value": "jamie brandon", "__id": "jamie brandon|manual content block|associated entity|jamie brandon" }, { "entity": "jamie brandon|manual content block", "attribute": "content", "value": "Jamie Brandon is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}.", "__id": "jamie brandon|manual content block|content|Jamie Brandon is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}." }, { "entity": "corey montella|manual content block", "attribute": "is a", "value": "content block", "__id": "corey montella|manual content block|is a|content block" }, { "entity": "corey montella|manual content block", "attribute": "source", "value": "manual", "__id": "corey montella|manual content block|source|manual" }, { "entity": "corey montella|manual content block", "attribute": "associated entity", "value": "corey montella", "__id": "corey montella|manual content block|associated entity|corey montella" }, { "entity": "corey montella|manual content block", "attribute": "content", "value": "Corey Montella is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}.", "__id": "corey montella|manual content block|content|Corey Montella is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}." }, { "entity": "eric hoffman|manual content block", "attribute": "is a", "value": "content block", "__id": "eric hoffman|manual content block|is a|content block" }, { "entity": "eric hoffman|manual content block", "attribute": "source", "value": "manual", "__id": "eric hoffman|manual content block|source|manual" }, { "entity": "eric hoffman|manual content block", "attribute": "associated entity", "value": "eric hoffman", "__id": "eric hoffman|manual content block|associated entity|eric hoffman" }, { "entity": "eric hoffman|manual content block", "attribute": "content", "value": "Eric Hoffman is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}.", "__id": "eric hoffman|manual content block|content|Eric Hoffman is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 4}." }, { "entity": "operations|manual content block", "attribute": "is a", "value": "content block", "__id": "operations|manual content block|is a|content block" }, { "entity": "operations|manual content block", "attribute": "source", "value": "manual", "__id": "operations|manual content block|source|manual" }, { "entity": "operations|manual content block", "attribute": "associated entity", "value": "operations", "__id": "operations|manual content block|associated entity|operations" }, { "entity": "operations|manual content block", "attribute": "content", "value": "Operations is a {is a: department} at {company: kodowa}, which includes:\n\n{robert attorri}", "__id": "operations|manual content block|content|Operations is a {is a: department} at {company: kodowa}, which includes:\n\n{robert attorri}" }, { "entity": "robert attorri|manual content block", "attribute": "is a", "value": "content block", "__id": "robert attorri|manual content block|is a|content block" }, { "entity": "robert attorri|manual content block", "attribute": "source", "value": "manual", "__id": "robert attorri|manual content block|source|manual" }, { "entity": "robert attorri|manual content block", "attribute": "associated entity", "value": "robert attorri", "__id": "robert attorri|manual content block|associated entity|robert attorri" }, { "entity": "robert attorri|manual content block", "attribute": "content", "value": "Robert Attorri is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 2}.", "__id": "robert attorri|manual content block|content|Robert Attorri is an {is a: employee} at {company: kodowa}.\nHis salary is {salary: 2}." }, { "entity": "modern family|manual content block", "attribute": "is a", "value": "content block", "__id": "modern family|manual content block|is a|content block" }, { "entity": "modern family|manual content block", "attribute": "source", "value": "manual", "__id": "modern family|manual content block|source|manual" }, { "entity": "modern family|manual content block", "attribute": "associated entity", "value": "modern family", "__id": "modern family|manual content block|associated entity|modern family" }, { "entity": "modern family|manual content block", "attribute": "content", "value": "Modern Family is an American television mockumentary that premiered on ABC on September 23, 2009, which follows the lives of Jay Pritchett and his family, all of whom live in suburban Los Angeles. Pritchett's family includes his second wife, his stepson, and infant son, as well as his two adult children and their spouses and children. Christopher Lloyd and Steven Levitan conceived the series while sharing stories of their own \"modern families\". Modern Family employs an ensemble cast. The series is presented in mockumentary style, with the fictional characters frequently talking directly into the camera. The series premiered on September 23, 2009 and was watched by 12.6 million viewers.\n\nSeason 1 Episodes\n1. {Pilot}\n2. {The Bicycle Thief}\n3. {Come Fly with Me}\n4. {The Incident}\n5. {Coal Digger}\n6. {Run for Your Wife}\n7. {En Garde}\n8. {Great Expectations}", "__id": "modern family|manual content block|content|Modern Family is an American television mockumentary that premiered on ABC on September 23, 2009, which follows the lives of Jay Pritchett and his family, all of whom live in suburban Los Angeles. Pritchett's family includes his second wife, his stepson, and infant son, as well as his two adult children and their spouses and children. Christopher Lloyd and Steven Levitan conceived the series while sharing stories of their own \"modern families\". Modern Family employs an ensemble cast. The series is presented in mockumentary style, with the fictional characters frequently talking directly into the camera. The series premiered on September 23, 2009 and was watched by 12.6 million viewers.\n\nSeason 1 Episodes\n1. {Pilot}\n2. {The Bicycle Thief}\n3. {Come Fly with Me}\n4. {The Incident}\n5. {Coal Digger}\n6. {Run for Your Wife}\n7. {En Garde}\n8. {Great Expectations}" }, { "entity": "great expectations|manual content block", "attribute": "is a", "value": "content block", "__id": "great expectations|manual content block|is a|content block" }, { "entity": "great expectations|manual content block", "attribute": "source", "value": "manual", "__id": "great expectations|manual content block|source|manual" }, { "entity": "great expectations|manual content block", "attribute": "associated entity", "value": "great expectations", "__id": "great expectations|manual content block|associated entity|great expectations" }, { "entity": "great expectations|manual content block", "attribute": "content", "value": "An {is a: episode} of {Modern Family} with {Edward Norton} in it.", "__id": "great expectations|manual content block|content|An {is a: episode} of {Modern Family} with {Edward Norton} in it." }, { "entity": "pilot|manual content block", "attribute": "is a", "value": "content block", "__id": "pilot|manual content block|is a|content block" }, { "entity": "pilot|manual content block", "attribute": "source", "value": "manual", "__id": "pilot|manual content block|source|manual" }, { "entity": "pilot|manual content block", "attribute": "associated entity", "value": "pilot", "__id": "pilot|manual content block|associated entity|pilot" }, { "entity": "pilot|manual content block", "attribute": "content", "value": "The first {is a: episode} of {modern family}.", "__id": "pilot|manual content block|content|The first {is a: episode} of {modern family}." }, { "entity": "the bicycle thief|manual content block", "attribute": "is a", "value": "content block", "__id": "the bicycle thief|manual content block|is a|content block" }, { "entity": "the bicycle thief|manual content block", "attribute": "source", "value": "manual", "__id": "the bicycle thief|manual content block|source|manual" }, { "entity": "the bicycle thief|manual content block", "attribute": "associated entity", "value": "the bicycle thief", "__id": "the bicycle thief|manual content block|associated entity|the bicycle thief" }, { "entity": "the bicycle thief|manual content block", "attribute": "content", "value": "The second {is a: episode} of {modern family}.", "__id": "the bicycle thief|manual content block|content|The second {is a: episode} of {modern family}." }, { "entity": "come fly with me|manual content block", "attribute": "is a", "value": "content block", "__id": "come fly with me|manual content block|is a|content block" }, { "entity": "come fly with me|manual content block", "attribute": "source", "value": "manual", "__id": "come fly with me|manual content block|source|manual" }, { "entity": "come fly with me|manual content block", "attribute": "associated entity", "value": "come fly with me", "__id": "come fly with me|manual content block|associated entity|come fly with me" }, { "entity": "come fly with me|manual content block", "attribute": "content", "value": "The third {is a: episode} of {modern family}.", "__id": "come fly with me|manual content block|content|The third {is a: episode} of {modern family}." }, { "entity": "the incident|manual content block", "attribute": "is a", "value": "content block", "__id": "the incident|manual content block|is a|content block" }, { "entity": "the incident|manual content block", "attribute": "source", "value": "manual", "__id": "the incident|manual content block|source|manual" }, { "entity": "the incident|manual content block", "attribute": "associated entity", "value": "the incident", "__id": "the incident|manual content block|associated entity|the incident" }, { "entity": "the incident|manual content block", "attribute": "content", "value": "The fourth {is a: episode} of {modern family}.", "__id": "the incident|manual content block|content|The fourth {is a: episode} of {modern family}." }, { "entity": "coal digger|manual content block", "attribute": "is a", "value": "content block", "__id": "coal digger|manual content block|is a|content block" }, { "entity": "coal digger|manual content block", "attribute": "source", "value": "manual", "__id": "coal digger|manual content block|source|manual" }, { "entity": "coal digger|manual content block", "attribute": "associated entity", "value": "coal digger", "__id": "coal digger|manual content block|associated entity|coal digger" }, { "entity": "coal digger|manual content block", "attribute": "content", "value": "The fifth {is a: episode} of {modern family}.", "__id": "coal digger|manual content block|content|The fifth {is a: episode} of {modern family}." }, { "entity": "run for your wife|manual content block", "attribute": "is a", "value": "content block", "__id": "run for your wife|manual content block|is a|content block" }, { "entity": "run for your wife|manual content block", "attribute": "source", "value": "manual", "__id": "run for your wife|manual content block|source|manual" }, { "entity": "run for your wife|manual content block", "attribute": "associated entity", "value": "run for your wife", "__id": "run for your wife|manual content block|associated entity|run for your wife" }, { "entity": "run for your wife|manual content block", "attribute": "content", "value": "The sixth {is a: episode} of {modern family}.", "__id": "run for your wife|manual content block|content|The sixth {is a: episode} of {modern family}." }, { "entity": "en garde|manual content block", "attribute": "is a", "value": "content block", "__id": "en garde|manual content block|is a|content block" }, { "entity": "en garde|manual content block", "attribute": "source", "value": "manual", "__id": "en garde|manual content block|source|manual" }, { "entity": "en garde|manual content block", "attribute": "associated entity", "value": "en garde", "__id": "en garde|manual content block|associated entity|en garde" }, { "entity": "en garde|manual content block", "attribute": "content", "value": "The seventh {is a: episode} of {modern family}.", "__id": "en garde|manual content block|content|The seventh {is a: episode} of {modern family}." }, { "entity": "edward norton|manual content block", "attribute": "is a", "value": "content block", "__id": "edward norton|manual content block|is a|content block" }, { "entity": "edward norton|manual content block", "attribute": "source", "value": "manual", "__id": "edward norton|manual content block|source|manual" }, { "entity": "edward norton|manual content block", "attribute": "associated entity", "value": "edward norton", "__id": "edward norton|manual content block|associated entity|edward norton" }, { "entity": "edward norton|manual content block", "attribute": "content", "value": "Edward Harrison Norton (born August 18, 1969) is an {is a: American} {is a: actor}, filmmaker and activist. He was nominated for three Academy Awards for his work in the films Primal Fear (1996), American History X (1998) and Birdman (2014). He also starred in other roles, such as Everyone Says I Love You (1996), The People vs. Larry Flynt (1996), Fight Club (1999), Red Dragon (2002), 25th Hour (2002), Kingdom of Heaven (2005), The Illusionist (2006), Moonrise Kingdom (2012) and The Grand Budapest Hotel (2014). He has also directed and co-written films, including his directorial debut, Keeping the Faith (2000). He has done uncredited work on the scripts for The Score, Frida and The Incredible Hulk.\n\nHe is {age: 46} years old.", "__id": "edward norton|manual content block|content|Edward Harrison Norton (born August 18, 1969) is an {is a: American} {is a: actor}, filmmaker and activist. He was nominated for three Academy Awards for his work in the films Primal Fear (1996), American History X (1998) and Birdman (2014). He also starred in other roles, such as Everyone Says I Love You (1996), The People vs. Larry Flynt (1996), Fight Club (1999), Red Dragon (2002), 25th Hour (2002), Kingdom of Heaven (2005), The Illusionist (2006), Moonrise Kingdom (2012) and The Grand Budapest Hotel (2014). He has also directed and co-written films, including his directorial debut, Keeping the Faith (2000). He has done uncredited work on the scripts for The Score, Frida and The Incredible Hulk.\n\nHe is {age: 46} years old." }, { "entity": "vin diesel|manual content block", "attribute": "is a", "value": "content block", "__id": "vin diesel|manual content block|is a|content block" }, { "entity": "vin diesel|manual content block", "attribute": "source", "value": "manual", "__id": "vin diesel|manual content block|source|manual" }, { "entity": "vin diesel|manual content block", "attribute": "associated entity", "value": "vin diesel", "__id": "vin diesel|manual content block|associated entity|vin diesel" }, { "entity": "vin diesel|manual content block", "attribute": "content", "value": "Mark Sinclair (born July 18, 1967), better known by his stage name Vin Diesel, is an {is a: American} {is a: actor}. He is best known for his portrayals of Dominic Toretto in The Fast and the Furious film series and Richard B. Riddick in The Chronicles of Riddick trilogy. He also was a producer on sequels in both franchises.\nDiesel has also starred in films such as xXx (2002) and Find Me Guilty (2006). His voice acting work includes The Iron Giant (1999), the video game spin-offs from The Chronicles of Riddick franchise, and Guardians of the Galaxy (2014). He wrote, directed, produced, and starred in a short film titled Multi-Facial and the feature-length drama film Strays. He is the founder of the production companies One Race Films, Racetrack Records, and Tigon Studios.", "__id": "vin diesel|manual content block|content|Mark Sinclair (born July 18, 1967), better known by his stage name Vin Diesel, is an {is a: American} {is a: actor}. He is best known for his portrayals of Dominic Toretto in The Fast and the Furious film series and Richard B. Riddick in The Chronicles of Riddick trilogy. He also was a producer on sequels in both franchises.\nDiesel has also starred in films such as xXx (2002) and Find Me Guilty (2006). His voice acting work includes The Iron Giant (1999), the video game spin-offs from The Chronicles of Riddick franchise, and Guardians of the Galaxy (2014). He wrote, directed, produced, and starred in a short film titled Multi-Facial and the feature-length drama film Strays. He is the founder of the production companies One Race Films, Racetrack Records, and Tigon Studios." }, { "entity": "oyako don|manual content block", "attribute": "is a", "value": "content block", "__id": "oyako don|manual content block|is a|content block" }, { "entity": "oyako don|manual content block", "attribute": "source", "value": "manual", "__id": "oyako don|manual content block|source|manual" }, { "entity": "oyako don|manual content block", "attribute": "associated entity", "value": "oyako don", "__id": "oyako don|manual content block|associated entity|oyako don" }, { "entity": "oyako don|manual content block", "attribute": "content", "value": "Oyakodon (), literally 'parent-and-child donburi', is a donburi, or Japanese rice bowl dish, in which {chicken}, {egg}, sliced {scallion} (or sometimes regular onions), and other ingredients are all simmered together in a sauce and then served on top of a large bowl of {rice}. The name of the dish is a poetic reflection of the fact that both {chicken} and {egg} are used in the {is a: dish}.\n\nOyako don is typically {is a: savory}.", "__id": "oyako don|manual content block|content|Oyakodon (), literally 'parent-and-child donburi', is a donburi, or Japanese rice bowl dish, in which {chicken}, {egg}, sliced {scallion} (or sometimes regular onions), and other ingredients are all simmered together in a sauce and then served on top of a large bowl of {rice}. The name of the dish is a poetic reflection of the fact that both {chicken} and {egg} are used in the {is a: dish}.\n\nOyako don is typically {is a: savory}." }, { "entity": "chicken|manual content block", "attribute": "is a", "value": "content block", "__id": "chicken|manual content block|is a|content block" }, { "entity": "chicken|manual content block", "attribute": "source", "value": "manual", "__id": "chicken|manual content block|source|manual" }, { "entity": "chicken|manual content block", "attribute": "associated entity", "value": "chicken", "__id": "chicken|manual content block|associated entity|chicken" }, { "entity": "chicken|manual content block", "attribute": "content", "value": "Chicken is a {is a: meat} used as an {is a: ingredient}.", "__id": "chicken|manual content block|content|Chicken is a {is a: meat} used as an {is a: ingredient}." }, { "entity": "egg|manual content block", "attribute": "is a", "value": "content block", "__id": "egg|manual content block|is a|content block" }, { "entity": "egg|manual content block", "attribute": "source", "value": "manual", "__id": "egg|manual content block|source|manual" }, { "entity": "egg|manual content block", "attribute": "associated entity", "value": "egg", "__id": "egg|manual content block|associated entity|egg" }, { "entity": "egg|manual content block", "attribute": "content", "value": "Is an {is a: ingredient}.", "__id": "egg|manual content block|content|Is an {is a: ingredient}." }, { "entity": "rice|manual content block", "attribute": "is a", "value": "content block", "__id": "rice|manual content block|is a|content block" }, { "entity": "rice|manual content block", "attribute": "source", "value": "manual", "__id": "rice|manual content block|source|manual" }, { "entity": "rice|manual content block", "attribute": "associated entity", "value": "rice", "__id": "rice|manual content block|associated entity|rice" }, { "entity": "rice|manual content block", "attribute": "content", "value": "Rice is a {is a: grain} used as an {is a: ingredient} in virtually every kind of cuisine.", "__id": "rice|manual content block|content|Rice is a {is a: grain} used as an {is a: ingredient} in virtually every kind of cuisine." }, { "entity": "scallion|manual content block", "attribute": "is a", "value": "content block", "__id": "scallion|manual content block|is a|content block" }, { "entity": "scallion|manual content block", "attribute": "source", "value": "manual", "__id": "scallion|manual content block|source|manual" }, { "entity": "scallion|manual content block", "attribute": "associated entity", "value": "scallion", "__id": "scallion|manual content block|associated entity|scallion" }, { "entity": "scallion|manual content block", "attribute": "content", "value": "Also known as 'green onion,' scalions are a {is a: vegetable} used as an {is a: ingredient}.", "__id": "scallion|manual content block|content|Also known as 'green onion,' scalions are a {is a: vegetable} used as an {is a: ingredient}." }, { "entity": "apple pie|manual content block", "attribute": "is a", "value": "content block", "__id": "apple pie|manual content block|is a|content block" }, { "entity": "apple pie|manual content block", "attribute": "source", "value": "manual", "__id": "apple pie|manual content block|source|manual" }, { "entity": "apple pie|manual content block", "attribute": "associated entity", "value": "apple pie", "__id": "apple pie|manual content block|associated entity|apple pie" }, { "entity": "apple pie|manual content block", "attribute": "content", "value": "An apple pie is a fruit {is a: pie} in which the principal filling ingredient is {apple}. It is, on occasion, served with {whipped cream} or {ice cream} on top, or alongside {cheddar cheese}. The {is a: pastry} is generally used top-and-bottom, making it a double-crust pie, the upper crust of which may be a circular shaped crust or a pastry lattice woven of strips; exceptions are deep-dish apple pie with a top crust only, and open-face {Tarte Tatin}.\n\nApple pie is typically a {is a: sweet} {is a: dish} and is served as {is a: dessert}.", "__id": "apple pie|manual content block|content|An apple pie is a fruit {is a: pie} in which the principal filling ingredient is {apple}. It is, on occasion, served with {whipped cream} or {ice cream} on top, or alongside {cheddar cheese}. The {is a: pastry} is generally used top-and-bottom, making it a double-crust pie, the upper crust of which may be a circular shaped crust or a pastry lattice woven of strips; exceptions are deep-dish apple pie with a top crust only, and open-face {Tarte Tatin}.\n\nApple pie is typically a {is a: sweet} {is a: dish} and is served as {is a: dessert}." }, { "entity": "apple|manual content block", "attribute": "is a", "value": "content block", "__id": "apple|manual content block|is a|content block" }, { "entity": "apple|manual content block", "attribute": "source", "value": "manual", "__id": "apple|manual content block|source|manual" }, { "entity": "apple|manual content block", "attribute": "associated entity", "value": "apple", "__id": "apple|manual content block|associated entity|apple" }, { "entity": "apple|manual content block", "attribute": "content", "value": "Is a {is a: fruit} and {is a: ingredient}", "__id": "apple|manual content block|content|Is a {is a: fruit} and {is a: ingredient}" }, { "entity": "my collection|manual content block", "attribute": "is a", "value": "content block", "__id": "my collection|manual content block|is a|content block" }, { "entity": "my collection|manual content block", "attribute": "source", "value": "manual", "__id": "my collection|manual content block|source|manual" }, { "entity": "my collection|manual content block", "attribute": "associated entity", "value": "my collection", "__id": "my collection|manual content block|associated entity|my collection" }, { "entity": "my collection|manual content block", "attribute": "content", "value": "Dishes: {oyako don}, {apple pie}", "__id": "my collection|manual content block|content|Dishes: {oyako don}, {apple pie}" }, { "entity": "kodowa|manual content block", "attribute": "is a", "value": "content block", "__id": "kodowa|manual content block|is a|content block" }, { "entity": "kodowa|manual content block", "attribute": "source", "value": "manual", "__id": "kodowa|manual content block|source|manual" }, { "entity": "kodowa|manual content block", "attribute": "associated entity", "value": "kodowa", "__id": "kodowa|manual content block|associated entity|kodowa" }, { "entity": "kodowa|manual content block", "attribute": "content", "value": "The company behind {Eve}.", "__id": "kodowa|manual content block|content|The company behind {Eve}." }, { "entity": "manual entity|manual content block", "attribute": "is a", "value": "content block", "__id": "manual entity|manual content block|is a|content block" }, { "entity": "manual entity|manual content block", "attribute": "source", "value": "manual", "__id": "manual entity|manual content block|source|manual" }, { "entity": "manual entity|manual content block", "attribute": "associated entity", "value": "manual entity", "__id": "manual entity|manual content block|associated entity|manual entity" }, { "entity": "manual entity|manual content block", "attribute": "content", "value": "# manual entity\nManual Entity is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* content\n", "__id": "manual entity|manual content block|content|# manual entity\nManual Entity is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* content\n" }, { "entity": "manual eav|manual content block", "attribute": "is a", "value": "content block", "__id": "manual eav|manual content block|is a|content block" }, { "entity": "manual eav|manual content block", "attribute": "source", "value": "manual", "__id": "manual eav|manual content block|source|manual" }, { "entity": "manual eav|manual content block", "attribute": "associated entity", "value": "manual eav", "__id": "manual eav|manual content block|associated entity|manual eav" }, { "entity": "manual eav|manual content block", "attribute": "content", "value": "# manual eav\nManual Eav is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "manual eav|manual content block|content|# manual eav\nManual Eav is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "action entity|manual content block", "attribute": "is a", "value": "content block", "__id": "action entity|manual content block|is a|content block" }, { "entity": "action entity|manual content block", "attribute": "source", "value": "manual", "__id": "action entity|manual content block|source|manual" }, { "entity": "action entity|manual content block", "attribute": "associated entity", "value": "action entity", "__id": "action entity|manual content block|associated entity|action entity" }, { "entity": "action entity|manual content block", "attribute": "content", "value": "# action entity\nAction Entity is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* content\n* source\n", "__id": "action entity|manual content block|content|# action entity\nAction Entity is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* content\n* source\n" }, { "entity": "collection|manual content block", "attribute": "is a", "value": "content block", "__id": "collection|manual content block|is a|content block" }, { "entity": "collection|manual content block", "attribute": "source", "value": "manual", "__id": "collection|manual content block|source|manual" }, { "entity": "collection|manual content block", "attribute": "associated entity", "value": "collection", "__id": "collection|manual content block|associated entity|collection" }, { "entity": "collection|manual content block", "attribute": "content", "value": "# collection\nCollection is a   {is a: system}.\n", "__id": "collection|manual content block|content|# collection\nCollection is a   {is a: system}.\n" }, { "entity": "system|manual content block", "attribute": "is a", "value": "content block", "__id": "system|manual content block|is a|content block" }, { "entity": "system|manual content block", "attribute": "source", "value": "manual", "__id": "system|manual content block|source|manual" }, { "entity": "system|manual content block", "attribute": "associated entity", "value": "system", "__id": "system|manual content block|associated entity|system" }, { "entity": "system|manual content block", "attribute": "content", "value": "# system\nSystem is a   {is a: collection}.\n", "__id": "system|manual content block|content|# system\nSystem is a   {is a: collection}.\n" }, { "entity": "union|manual content block", "attribute": "is a", "value": "content block", "__id": "union|manual content block|is a|content block" }, { "entity": "union|manual content block", "attribute": "source", "value": "manual", "__id": "union|manual content block|source|manual" }, { "entity": "union|manual content block", "attribute": "associated entity", "value": "union", "__id": "union|manual content block|associated entity|union" }, { "entity": "union|manual content block", "attribute": "content", "value": "# union\nUnion is a {is a: system} and {is a: collection}.\n", "__id": "union|manual content block|content|# union\nUnion is a {is a: system} and {is a: collection}.\n" }, { "entity": "query|manual content block", "attribute": "is a", "value": "content block", "__id": "query|manual content block|is a|content block" }, { "entity": "query|manual content block", "attribute": "source", "value": "manual", "__id": "query|manual content block|source|manual" }, { "entity": "query|manual content block", "attribute": "associated entity", "value": "query", "__id": "query|manual content block|associated entity|query" }, { "entity": "query|manual content block", "attribute": "content", "value": "# query\nQuery is a {is a: system} and {is a: collection}.\n", "__id": "query|manual content block|content|# query\nQuery is a {is a: system} and {is a: collection}.\n" }, { "entity": "table|manual content block", "attribute": "is a", "value": "content block", "__id": "table|manual content block|is a|content block" }, { "entity": "table|manual content block", "attribute": "source", "value": "manual", "__id": "table|manual content block|source|manual" }, { "entity": "table|manual content block", "attribute": "associated entity", "value": "table", "__id": "table|manual content block|associated entity|table" }, { "entity": "table|manual content block", "attribute": "content", "value": "# table\nTable is a {is a: system} and {is a: collection}.\n", "__id": "table|manual content block|content|# table\nTable is a {is a: system} and {is a: collection}.\n" }, { "entity": "ui|manual content block", "attribute": "is a", "value": "content block", "__id": "ui|manual content block|is a|content block" }, { "entity": "ui|manual content block", "attribute": "source", "value": "manual", "__id": "ui|manual content block|source|manual" }, { "entity": "ui|manual content block", "attribute": "associated entity", "value": "ui", "__id": "ui|manual content block|associated entity|ui" }, { "entity": "ui|manual content block", "attribute": "content", "value": "# ui\nUi is a {is a: system} and {is a: collection}.\n", "__id": "ui|manual content block|content|# ui\nUi is a {is a: system} and {is a: collection}.\n" }, { "entity": "entity|manual content block", "attribute": "is a", "value": "content block", "__id": "entity|manual content block|is a|content block" }, { "entity": "entity|manual content block", "attribute": "source", "value": "manual", "__id": "entity|manual content block|source|manual" }, { "entity": "entity|manual content block", "attribute": "associated entity", "value": "entity", "__id": "entity|manual content block|associated entity|entity" }, { "entity": "entity|manual content block", "attribute": "content", "value": "# entity\nEntity is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* content\n", "__id": "entity|manual content block|content|# entity\nEntity is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* content\n" }, { "entity": "unmodified added bits|manual content block", "attribute": "is a", "value": "content block", "__id": "unmodified added bits|manual content block|is a|content block" }, { "entity": "unmodified added bits|manual content block", "attribute": "source", "value": "manual", "__id": "unmodified added bits|manual content block|source|manual" }, { "entity": "unmodified added bits|manual content block", "attribute": "associated entity", "value": "unmodified added bits", "__id": "unmodified added bits|manual content block|associated entity|unmodified added bits" }, { "entity": "unmodified added bits|manual content block", "attribute": "content", "value": "# unmodified added bits\nUnmodified Added Bits is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* content\n", "__id": "unmodified added bits|manual content block|content|# unmodified added bits\nUnmodified Added Bits is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* content\n" }, { "entity": "content blocks|manual content block", "attribute": "is a", "value": "content block", "__id": "content blocks|manual content block|is a|content block" }, { "entity": "content blocks|manual content block", "attribute": "source", "value": "manual", "__id": "content blocks|manual content block|source|manual" }, { "entity": "content blocks|manual content block", "attribute": "associated entity", "value": "content blocks", "__id": "content blocks|manual content block|associated entity|content blocks" }, { "entity": "content blocks|manual content block", "attribute": "content", "value": "# content blocks\nContent Blocks is a {is a: system} and {is a: query}.\n\n## Fields\n* block\n* entity\n* content\n", "__id": "content blocks|manual content block|content|# content blocks\nContent Blocks is a {is a: system} and {is a: query}.\n\n## Fields\n* block\n* entity\n* content\n" }, { "entity": "parsed content blocks|manual content block", "attribute": "is a", "value": "content block", "__id": "parsed content blocks|manual content block|is a|content block" }, { "entity": "parsed content blocks|manual content block", "attribute": "source", "value": "manual", "__id": "parsed content blocks|manual content block|source|manual" }, { "entity": "parsed content blocks|manual content block", "attribute": "associated entity", "value": "parsed content blocks", "__id": "parsed content blocks|manual content block|associated entity|parsed content blocks" }, { "entity": "parsed content blocks|manual content block", "attribute": "content", "value": "# parsed content blocks\nParsed Content Blocks is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "parsed content blocks|manual content block|content|# parsed content blocks\nParsed Content Blocks is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "parsed eavs|manual content block", "attribute": "is a", "value": "content block", "__id": "parsed eavs|manual content block|is a|content block" }, { "entity": "parsed eavs|manual content block", "attribute": "source", "value": "manual", "__id": "parsed eavs|manual content block|source|manual" }, { "entity": "parsed eavs|manual content block", "attribute": "associated entity", "value": "parsed eavs", "__id": "parsed eavs|manual content block|associated entity|parsed eavs" }, { "entity": "parsed eavs|manual content block", "attribute": "content", "value": "# parsed eavs\nParsed Eavs is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "parsed eavs|manual content block|content|# parsed eavs\nParsed Eavs is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "entity eavs|manual content block", "attribute": "is a", "value": "content block", "__id": "entity eavs|manual content block|is a|content block" }, { "entity": "entity eavs|manual content block", "attribute": "source", "value": "manual", "__id": "entity eavs|manual content block|source|manual" }, { "entity": "entity eavs|manual content block", "attribute": "associated entity", "value": "entity eavs", "__id": "entity eavs|manual content block|associated entity|entity eavs" }, { "entity": "entity eavs|manual content block", "attribute": "content", "value": "# entity eavs\nEntity Eavs is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "entity eavs|manual content block|content|# entity eavs\nEntity Eavs is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "builtin entity eavs|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin entity eavs|manual content block|is a|content block" }, { "entity": "builtin entity eavs|manual content block", "attribute": "source", "value": "manual", "__id": "builtin entity eavs|manual content block|source|manual" }, { "entity": "builtin entity eavs|manual content block", "attribute": "associated entity", "value": "builtin entity eavs", "__id": "builtin entity eavs|manual content block|associated entity|builtin entity eavs" }, { "entity": "builtin entity eavs|manual content block", "attribute": "content", "value": "# builtin entity eavs\nBuiltin Entity Eavs is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "builtin entity eavs|manual content block|content|# builtin entity eavs\nBuiltin Entity Eavs is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "is a attributes|manual content block", "attribute": "is a", "value": "content block", "__id": "is a attributes|manual content block|is a|content block" }, { "entity": "is a attributes|manual content block", "attribute": "source", "value": "manual", "__id": "is a attributes|manual content block|source|manual" }, { "entity": "is a attributes|manual content block", "attribute": "associated entity", "value": "is a attributes", "__id": "is a attributes|manual content block|associated entity|is a attributes" }, { "entity": "is a attributes|manual content block", "attribute": "content", "value": "# is a attributes\nIs A Attributes is a {is a: system} and {is a: query}.\n\n## Fields\n* collection\n* entity\n", "__id": "is a attributes|manual content block|content|# is a attributes\nIs A Attributes is a {is a: system} and {is a: query}.\n\n## Fields\n* collection\n* entity\n" }, { "entity": "lowercase eavs|manual content block", "attribute": "is a", "value": "content block", "__id": "lowercase eavs|manual content block|is a|content block" }, { "entity": "lowercase eavs|manual content block", "attribute": "source", "value": "manual", "__id": "lowercase eavs|manual content block|source|manual" }, { "entity": "lowercase eavs|manual content block", "attribute": "associated entity", "value": "lowercase eavs", "__id": "lowercase eavs|manual content block|associated entity|lowercase eavs" }, { "entity": "lowercase eavs|manual content block", "attribute": "content", "value": "# lowercase eavs\nLowercase Eavs is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n", "__id": "lowercase eavs|manual content block|content|# lowercase eavs\nLowercase Eavs is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* attribute\n* value\n" }, { "entity": "eav entity links|manual content block", "attribute": "is a", "value": "content block", "__id": "eav entity links|manual content block|is a|content block" }, { "entity": "eav entity links|manual content block", "attribute": "source", "value": "manual", "__id": "eav entity links|manual content block|source|manual" }, { "entity": "eav entity links|manual content block", "attribute": "associated entity", "value": "eav entity links", "__id": "eav entity links|manual content block|associated entity|eav entity links" }, { "entity": "eav entity links|manual content block", "attribute": "content", "value": "# eav entity links\nEav Entity Links is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* link\n* type\n", "__id": "eav entity links|manual content block|content|# eav entity links\nEav Entity Links is a {is a: system} and {is a: query}.\n\n## Fields\n* entity\n* link\n* type\n" }, { "entity": "entity links|manual content block", "attribute": "is a", "value": "content block", "__id": "entity links|manual content block|is a|content block" }, { "entity": "entity links|manual content block", "attribute": "source", "value": "manual", "__id": "entity links|manual content block|source|manual" }, { "entity": "entity links|manual content block", "attribute": "associated entity", "value": "entity links", "__id": "entity links|manual content block|associated entity|entity links" }, { "entity": "entity links|manual content block", "attribute": "content", "value": "# entity links\nEntity Links is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* link\n* type\n", "__id": "entity links|manual content block|content|# entity links\nEntity Links is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* link\n* type\n" }, { "entity": "builtin entity links|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin entity links|manual content block|is a|content block" }, { "entity": "builtin entity links|manual content block", "attribute": "source", "value": "manual", "__id": "builtin entity links|manual content block|source|manual" }, { "entity": "builtin entity links|manual content block", "attribute": "associated entity", "value": "builtin entity links", "__id": "builtin entity links|manual content block|associated entity|builtin entity links" }, { "entity": "builtin entity links|manual content block", "attribute": "content", "value": "# builtin entity links\nBuiltin Entity Links is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* link\n* type\n", "__id": "builtin entity links|manual content block|content|# builtin entity links\nBuiltin Entity Links is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* link\n* type\n" }, { "entity": "directionless links|manual content block", "attribute": "is a", "value": "content block", "__id": "directionless links|manual content block|is a|content block" }, { "entity": "directionless links|manual content block", "attribute": "source", "value": "manual", "__id": "directionless links|manual content block|source|manual" }, { "entity": "directionless links|manual content block", "attribute": "associated entity", "value": "directionless links", "__id": "directionless links|manual content block|associated entity|directionless links" }, { "entity": "directionless links|manual content block", "attribute": "content", "value": "# directionless links\nDirectionless Links is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* link\n", "__id": "directionless links|manual content block|content|# directionless links\nDirectionless Links is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* link\n" }, { "entity": "builtin directionless links|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin directionless links|manual content block|is a|content block" }, { "entity": "builtin directionless links|manual content block", "attribute": "source", "value": "manual", "__id": "builtin directionless links|manual content block|source|manual" }, { "entity": "builtin directionless links|manual content block", "attribute": "associated entity", "value": "builtin directionless links", "__id": "builtin directionless links|manual content block|associated entity|builtin directionless links" }, { "entity": "builtin directionless links|manual content block", "attribute": "content", "value": "# builtin directionless links\nBuiltin Directionless Links is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* link\n", "__id": "builtin directionless links|manual content block|content|# builtin directionless links\nBuiltin Directionless Links is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* link\n" }, { "entity": "collection entities|manual content block", "attribute": "is a", "value": "content block", "__id": "collection entities|manual content block|is a|content block" }, { "entity": "collection entities|manual content block", "attribute": "source", "value": "manual", "__id": "collection entities|manual content block|source|manual" }, { "entity": "collection entities|manual content block", "attribute": "associated entity", "value": "collection entities", "__id": "collection entities|manual content block|associated entity|collection entities" }, { "entity": "collection entities|manual content block", "attribute": "content", "value": "# collection entities\nCollection Entities is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* collection\n", "__id": "collection entities|manual content block|content|# collection entities\nCollection Entities is a {is a: system} and {is a: union}.\n\n## Fields\n* entity\n* collection\n" }, { "entity": "builtin collection entities|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin collection entities|manual content block|is a|content block" }, { "entity": "builtin collection entities|manual content block", "attribute": "source", "value": "manual", "__id": "builtin collection entities|manual content block|source|manual" }, { "entity": "builtin collection entities|manual content block", "attribute": "associated entity", "value": "builtin collection entities", "__id": "builtin collection entities|manual content block|associated entity|builtin collection entities" }, { "entity": "builtin collection entities|manual content block", "attribute": "content", "value": "# builtin collection entities\nBuiltin Collection Entities is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* collection\n", "__id": "builtin collection entities|manual content block|content|# builtin collection entities\nBuiltin Collection Entities is a {is a: system} and {is a: table}.\n\n## Fields\n* entity\n* collection\n" }, { "entity": "collection|manual content block", "attribute": "content", "value": "# collection\nCollection is a {is a: system} and {is a: query}.\n\n## Fields\n* collection\n* count\n", "__id": "collection|manual content block|content|# collection\nCollection is a {is a: system} and {is a: query}.\n\n## Fields\n* collection\n* count\n" }, { "entity": "search|manual content block", "attribute": "is a", "value": "content block", "__id": "search|manual content block|is a|content block" }, { "entity": "search|manual content block", "attribute": "source", "value": "manual", "__id": "search|manual content block|source|manual" }, { "entity": "search|manual content block", "attribute": "associated entity", "value": "search", "__id": "search|manual content block|associated entity|search" }, { "entity": "search|manual content block", "attribute": "content", "value": "# search\nSearch is a {is a: system} and {is a: union}.\n\n## Fields\n* id\n* top\n* left\n", "__id": "search|manual content block|content|# search\nSearch is a {is a: system} and {is a: union}.\n\n## Fields\n* id\n* top\n* left\n" }, { "entity": "builtin search|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin search|manual content block|is a|content block" }, { "entity": "builtin search|manual content block", "attribute": "source", "value": "manual", "__id": "builtin search|manual content block|source|manual" }, { "entity": "builtin search|manual content block", "attribute": "associated entity", "value": "builtin search", "__id": "builtin search|manual content block|associated entity|builtin search" }, { "entity": "builtin search|manual content block", "attribute": "content", "value": "# builtin search\nBuiltin Search is a {is a: system} and {is a: table}.\n\n## Fields\n* id\n* top\n* left\n", "__id": "builtin search|manual content block|content|# builtin search\nBuiltin Search is a {is a: system} and {is a: table}.\n\n## Fields\n* id\n* top\n* left\n" }, { "entity": "search query|manual content block", "attribute": "is a", "value": "content block", "__id": "search query|manual content block|is a|content block" }, { "entity": "search query|manual content block", "attribute": "source", "value": "manual", "__id": "search query|manual content block|source|manual" }, { "entity": "search query|manual content block", "attribute": "associated entity", "value": "search query", "__id": "search query|manual content block|associated entity|search query" }, { "entity": "search query|manual content block", "attribute": "content", "value": "# search query\nSearch Query is a {is a: system} and {is a: union}.\n\n## Fields\n* id\n* search\n", "__id": "search query|manual content block|content|# search query\nSearch Query is a {is a: system} and {is a: union}.\n\n## Fields\n* id\n* search\n" }, { "entity": "builtin search query|manual content block", "attribute": "is a", "value": "content block", "__id": "builtin search query|manual content block|is a|content block" }, { "entity": "builtin search query|manual content block", "attribute": "source", "value": "manual", "__id": "builtin search query|manual content block|source|manual" }, { "entity": "builtin search query|manual content block", "attribute": "associated entity", "value": "builtin search query", "__id": "builtin search query|manual content block|associated entity|builtin search query" }, { "entity": "builtin search query|manual content block", "attribute": "content", "value": "# builtin search query\nBuiltin Search Query is a {is a: system} and {is a: table}.\n\n## Fields\n* id\n* search\n", "__id": "builtin search query|manual content block|content|# builtin search query\nBuiltin Search Query is a {is a: system} and {is a: table}.\n\n## Fields\n* id\n* search\n" }, { "entity": "ui template|manual content block", "attribute": "is a", "value": "content block", "__id": "ui template|manual content block|is a|content block" }, { "entity": "ui template|manual content block", "attribute": "source", "value": "manual", "__id": "ui template|manual content block|source|manual" }, { "entity": "ui template|manual content block", "attribute": "associated entity", "value": "ui template", "__id": "ui template|manual content block|associated entity|ui template" }, { "entity": "ui template|manual content block", "attribute": "content", "value": "# ui template\nUi Template is a {is a: system} and {is a: table}.\n\n## Fields\n* ui template: template\n* ui template: parent\n* ui template: ix\n", "__id": "ui template|manual content block|content|# ui template\nUi Template is a {is a: system} and {is a: table}.\n\n## Fields\n* ui template: template\n* ui template: parent\n* ui template: ix\n" }, { "entity": "ui template binding|manual content block", "attribute": "is a", "value": "content block", "__id": "ui template binding|manual content block|is a|content block" }, { "entity": "ui template binding|manual content block", "attribute": "source", "value": "manual", "__id": "ui template binding|manual content block|source|manual" }, { "entity": "ui template binding|manual content block", "attribute": "associated entity", "value": "ui template binding", "__id": "ui template binding|manual content block|associated entity|ui template binding" }, { "entity": "ui template binding|manual content block", "attribute": "content", "value": "# ui template binding\nUi Template Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui template binding: template\n* ui template binding: query\n", "__id": "ui template binding|manual content block|content|# ui template binding\nUi Template Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui template binding: template\n* ui template binding: query\n" }, { "entity": "ui embed|manual content block", "attribute": "is a", "value": "content block", "__id": "ui embed|manual content block|is a|content block" }, { "entity": "ui embed|manual content block", "attribute": "source", "value": "manual", "__id": "ui embed|manual content block|source|manual" }, { "entity": "ui embed|manual content block", "attribute": "associated entity", "value": "ui embed", "__id": "ui embed|manual content block|associated entity|ui embed" }, { "entity": "ui embed|manual content block", "attribute": "content", "value": "# ui embed\nUi Embed is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed: embed\n* ui embed: template\n* ui embed: parent\n* ui embed: ix\n", "__id": "ui embed|manual content block|content|# ui embed\nUi Embed is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed: embed\n* ui embed: template\n* ui embed: parent\n* ui embed: ix\n" }, { "entity": "ui embed scope|manual content block", "attribute": "is a", "value": "content block", "__id": "ui embed scope|manual content block|is a|content block" }, { "entity": "ui embed scope|manual content block", "attribute": "source", "value": "manual", "__id": "ui embed scope|manual content block|source|manual" }, { "entity": "ui embed scope|manual content block", "attribute": "associated entity", "value": "ui embed scope", "__id": "ui embed scope|manual content block|associated entity|ui embed scope" }, { "entity": "ui embed scope|manual content block", "attribute": "content", "value": "# ui embed scope\nUi Embed Scope is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed scope: embed\n* ui embed scope: key\n* ui embed scope: value\n", "__id": "ui embed scope|manual content block|content|# ui embed scope\nUi Embed Scope is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed scope: embed\n* ui embed scope: key\n* ui embed scope: value\n" }, { "entity": "ui embed scope binding|manual content block", "attribute": "is a", "value": "content block", "__id": "ui embed scope binding|manual content block|is a|content block" }, { "entity": "ui embed scope binding|manual content block", "attribute": "source", "value": "manual", "__id": "ui embed scope binding|manual content block|source|manual" }, { "entity": "ui embed scope binding|manual content block", "attribute": "associated entity", "value": "ui embed scope binding", "__id": "ui embed scope binding|manual content block|associated entity|ui embed scope binding" }, { "entity": "ui embed scope binding|manual content block", "attribute": "content", "value": "# ui embed scope binding\nUi Embed Scope Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed scope binding: embed\n* ui embed scope binding: key\n* ui embed scope binding: source\n* ui embed scope binding: alias\n", "__id": "ui embed scope binding|manual content block|content|# ui embed scope binding\nUi Embed Scope Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui embed scope binding: embed\n* ui embed scope binding: key\n* ui embed scope binding: source\n* ui embed scope binding: alias\n" }, { "entity": "ui attribute|manual content block", "attribute": "is a", "value": "content block", "__id": "ui attribute|manual content block|is a|content block" }, { "entity": "ui attribute|manual content block", "attribute": "source", "value": "manual", "__id": "ui attribute|manual content block|source|manual" }, { "entity": "ui attribute|manual content block", "attribute": "associated entity", "value": "ui attribute", "__id": "ui attribute|manual content block|associated entity|ui attribute" }, { "entity": "ui attribute|manual content block", "attribute": "content", "value": "# ui attribute\nUi Attribute is a {is a: system} and {is a: table}.\n\n## Fields\n* ui attribute: template\n* ui attribute: property\n* ui attribute: value\n", "__id": "ui attribute|manual content block|content|# ui attribute\nUi Attribute is a {is a: system} and {is a: table}.\n\n## Fields\n* ui attribute: template\n* ui attribute: property\n* ui attribute: value\n" }, { "entity": "ui attribute binding|manual content block", "attribute": "is a", "value": "content block", "__id": "ui attribute binding|manual content block|is a|content block" }, { "entity": "ui attribute binding|manual content block", "attribute": "source", "value": "manual", "__id": "ui attribute binding|manual content block|source|manual" }, { "entity": "ui attribute binding|manual content block", "attribute": "associated entity", "value": "ui attribute binding", "__id": "ui attribute binding|manual content block|associated entity|ui attribute binding" }, { "entity": "ui attribute binding|manual content block", "attribute": "content", "value": "# ui attribute binding\nUi Attribute Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui attribute binding: template\n* ui attribute binding: property\n* ui attribute binding: source\n* ui attribute binding: alias\n", "__id": "ui attribute binding|manual content block|content|# ui attribute binding\nUi Attribute Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui attribute binding: template\n* ui attribute binding: property\n* ui attribute binding: source\n* ui attribute binding: alias\n" }, { "entity": "ui event|manual content block", "attribute": "is a", "value": "content block", "__id": "ui event|manual content block|is a|content block" }, { "entity": "ui event|manual content block", "attribute": "source", "value": "manual", "__id": "ui event|manual content block|source|manual" }, { "entity": "ui event|manual content block", "attribute": "associated entity", "value": "ui event", "__id": "ui event|manual content block|associated entity|ui event" }, { "entity": "ui event|manual content block", "attribute": "content", "value": "# ui event\nUi Event is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event: template\n* ui event: event\n", "__id": "ui event|manual content block|content|# ui event\nUi Event is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event: template\n* ui event: event\n" }, { "entity": "ui event state|manual content block", "attribute": "is a", "value": "content block", "__id": "ui event state|manual content block|is a|content block" }, { "entity": "ui event state|manual content block", "attribute": "source", "value": "manual", "__id": "ui event state|manual content block|source|manual" }, { "entity": "ui event state|manual content block", "attribute": "associated entity", "value": "ui event state", "__id": "ui event state|manual content block|associated entity|ui event state" }, { "entity": "ui event state|manual content block", "attribute": "content", "value": "# ui event state\nUi Event State is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event state: template\n* ui event state: event\n* ui event state: key\n* ui event state: value\n", "__id": "ui event state|manual content block|content|# ui event state\nUi Event State is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event state: template\n* ui event state: event\n* ui event state: key\n* ui event state: value\n" }, { "entity": "ui event state binding|manual content block", "attribute": "is a", "value": "content block", "__id": "ui event state binding|manual content block|is a|content block" }, { "entity": "ui event state binding|manual content block", "attribute": "source", "value": "manual", "__id": "ui event state binding|manual content block|source|manual" }, { "entity": "ui event state binding|manual content block", "attribute": "associated entity", "value": "ui event state binding", "__id": "ui event state binding|manual content block|associated entity|ui event state binding" }, { "entity": "ui event state binding|manual content block", "attribute": "content", "value": "# ui event state binding\nUi Event State Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event state binding: template\n* ui event state binding: event\n* ui event state binding: key\n* ui event state binding: source\n* ui event state binding: alias\n", "__id": "ui event state binding|manual content block|content|# ui event state binding\nUi Event State Binding is a {is a: system} and {is a: table}.\n\n## Fields\n* ui event state binding: template\n* ui event state binding: event\n* ui event state binding: key\n* ui event state binding: source\n* ui event state binding: alias\n" }, { "entity": "system ui|manual content block", "attribute": "is a", "value": "content block", "__id": "system ui|manual content block|is a|content block" }, { "entity": "system ui|manual content block", "attribute": "source", "value": "manual", "__id": "system ui|manual content block|source|manual" }, { "entity": "system ui|manual content block", "attribute": "associated entity", "value": "system ui", "__id": "system ui|manual content block|associated entity|system ui" }, { "entity": "system ui|manual content block", "attribute": "content", "value": "# system ui\nSystem Ui is a {is a: system} and {is a: table}.\n\n## Fields\n* template\n", "__id": "system ui|manual content block|content|# system ui\nSystem Ui is a {is a: system} and {is a: table}.\n\n## Fields\n* template\n" }], "field": [{ "view": "manual entity", "field": "entity", "__id": "manual entity|entity" }, { "view": "manual entity", "field": "content", "__id": "manual entity|content" }, { "view": "manual eav", "field": "entity", "__id": "manual eav|entity" }, { "view": "manual eav", "field": "attribute", "__id": "manual eav|attribute" }, { "view": "manual eav", "field": "value", "__id": "manual eav|value" }, { "view": "action entity", "field": "entity", "__id": "action entity|entity" }, { "view": "action entity", "field": "content", "__id": "action entity|content" }, { "view": "action entity", "field": "source", "__id": "action entity|source" }, { "view": "entity", "field": "entity", "__id": "entity|entity" }, { "view": "entity", "field": "content", "__id": "entity|content" }, { "view": "unmodified added bits", "field": "entity", "__id": "unmodified added bits|entity" }, { "view": "unmodified added bits", "field": "content", "__id": "unmodified added bits|content" }, { "view": "content blocks", "field": "block", "__id": "content blocks|block" }, { "view": "content blocks", "field": "entity", "__id": "content blocks|entity" }, { "view": "content blocks", "field": "content", "__id": "content blocks|content" }, { "view": "parsed content blocks", "field": "entity", "__id": "parsed content blocks|entity" }, { "view": "parsed content blocks", "field": "attribute", "__id": "parsed content blocks|attribute" }, { "view": "parsed content blocks", "field": "value", "__id": "parsed content blocks|value" }, { "view": "parsed eavs", "field": "entity", "__id": "parsed eavs|entity" }, { "view": "parsed eavs", "field": "attribute", "__id": "parsed eavs|attribute" }, { "view": "parsed eavs", "field": "value", "__id": "parsed eavs|value" }, { "view": "entity eavs", "field": "entity", "__id": "entity eavs|entity" }, { "view": "entity eavs", "field": "attribute", "__id": "entity eavs|attribute" }, { "view": "entity eavs", "field": "value", "__id": "entity eavs|value" }, { "view": "builtin entity eavs", "field": "entity", "__id": "builtin entity eavs|entity" }, { "view": "builtin entity eavs", "field": "attribute", "__id": "builtin entity eavs|attribute" }, { "view": "builtin entity eavs", "field": "value", "__id": "builtin entity eavs|value" }, { "view": "is a attributes", "field": "collection", "__id": "is a attributes|collection" }, { "view": "is a attributes", "field": "entity", "__id": "is a attributes|entity" }, { "view": "lowercase eavs", "field": "entity", "__id": "lowercase eavs|entity" }, { "view": "lowercase eavs", "field": "attribute", "__id": "lowercase eavs|attribute" }, { "view": "lowercase eavs", "field": "value", "__id": "lowercase eavs|value" }, { "view": "eav entity links", "field": "entity", "__id": "eav entity links|entity" }, { "view": "eav entity links", "field": "link", "__id": "eav entity links|link" }, { "view": "eav entity links", "field": "type", "__id": "eav entity links|type" }, { "view": "entity links", "field": "entity", "__id": "entity links|entity" }, { "view": "entity links", "field": "link", "__id": "entity links|link" }, { "view": "entity links", "field": "type", "__id": "entity links|type" }, { "view": "builtin entity links", "field": "entity", "__id": "builtin entity links|entity" }, { "view": "builtin entity links", "field": "link", "__id": "builtin entity links|link" }, { "view": "builtin entity links", "field": "type", "__id": "builtin entity links|type" }, { "view": "directionless links", "field": "entity", "__id": "directionless links|entity" }, { "view": "directionless links", "field": "link", "__id": "directionless links|link" }, { "view": "builtin directionless links", "field": "entity", "__id": "builtin directionless links|entity" }, { "view": "builtin directionless links", "field": "link", "__id": "builtin directionless links|link" }, { "view": "collection entities", "field": "entity", "__id": "collection entities|entity" }, { "view": "collection entities", "field": "collection", "__id": "collection entities|collection" }, { "view": "builtin collection entities", "field": "entity", "__id": "builtin collection entities|entity" }, { "view": "builtin collection entities", "field": "collection", "__id": "builtin collection entities|collection" }, { "view": "collection", "field": "collection", "__id": "collection|collection" }, { "view": "collection", "field": "count", "__id": "collection|count" }, { "view": "search", "field": "id", "__id": "search|id" }, { "view": "search", "field": "top", "__id": "search|top" }, { "view": "search", "field": "left", "__id": "search|left" }, { "view": "builtin search", "field": "id", "__id": "builtin search|id" }, { "view": "builtin search", "field": "top", "__id": "builtin search|top" }, { "view": "builtin search", "field": "left", "__id": "builtin search|left" }, { "view": "search query", "field": "id", "__id": "search query|id" }, { "view": "search query", "field": "search", "__id": "search query|search" }, { "view": "builtin search query", "field": "id", "__id": "builtin search query|id" }, { "view": "builtin search query", "field": "search", "__id": "builtin search query|search" }, { "view": "searches to entities shim", "field": "id", "__id": "searches to entities shim|id" }, { "view": "searches to entities shim", "field": "search", "__id": "searches to entities shim|search" }, { "view": "searches to entities shim", "field": "top", "__id": "searches to entities shim|top" }, { "view": "searches to entities shim", "field": "left", "__id": "searches to entities shim|left" }, { "view": "ui template", "field": "ui template: template", "__id": "ui template|ui template: template" }, { "view": "ui template", "field": "ui template: parent", "__id": "ui template|ui template: parent" }, { "view": "ui template", "field": "ui template: ix", "__id": "ui template|ui template: ix" }, { "view": "ui template binding", "field": "ui template binding: template", "__id": "ui template binding|ui template binding: template" }, { "view": "ui template binding", "field": "ui template binding: query", "__id": "ui template binding|ui template binding: query" }, { "view": "ui embed", "field": "ui embed: embed", "__id": "ui embed|ui embed: embed" }, { "view": "ui embed", "field": "ui embed: template", "__id": "ui embed|ui embed: template" }, { "view": "ui embed", "field": "ui embed: parent", "__id": "ui embed|ui embed: parent" }, { "view": "ui embed", "field": "ui embed: ix", "__id": "ui embed|ui embed: ix" }, { "view": "ui embed scope", "field": "ui embed scope: embed", "__id": "ui embed scope|ui embed scope: embed" }, { "view": "ui embed scope", "field": "ui embed scope: key", "__id": "ui embed scope|ui embed scope: key" }, { "view": "ui embed scope", "field": "ui embed scope: value", "__id": "ui embed scope|ui embed scope: value" }, { "view": "ui embed scope binding", "field": "ui embed scope binding: embed", "__id": "ui embed scope binding|ui embed scope binding: embed" }, { "view": "ui embed scope binding", "field": "ui embed scope binding: key", "__id": "ui embed scope binding|ui embed scope binding: key" }, { "view": "ui embed scope binding", "field": "ui embed scope binding: source", "__id": "ui embed scope binding|ui embed scope binding: source" }, { "view": "ui embed scope binding", "field": "ui embed scope binding: alias", "__id": "ui embed scope binding|ui embed scope binding: alias" }, { "view": "ui attribute", "field": "ui attribute: template", "__id": "ui attribute|ui attribute: template" }, { "view": "ui attribute", "field": "ui attribute: property", "__id": "ui attribute|ui attribute: property" }, { "view": "ui attribute", "field": "ui attribute: value", "__id": "ui attribute|ui attribute: value" }, { "view": "ui attribute binding", "field": "ui attribute binding: template", "__id": "ui attribute binding|ui attribute binding: template" }, { "view": "ui attribute binding", "field": "ui attribute binding: property", "__id": "ui attribute binding|ui attribute binding: property" }, { "view": "ui attribute binding", "field": "ui attribute binding: source", "__id": "ui attribute binding|ui attribute binding: source" }, { "view": "ui attribute binding", "field": "ui attribute binding: alias", "__id": "ui attribute binding|ui attribute binding: alias" }, { "view": "ui event", "field": "ui event: template", "__id": "ui event|ui event: template" }, { "view": "ui event", "field": "ui event: event", "__id": "ui event|ui event: event" }, { "view": "ui event state", "field": "ui event state: template", "__id": "ui event state|ui event state: template" }, { "view": "ui event state", "field": "ui event state: event", "__id": "ui event state|ui event state: event" }, { "view": "ui event state", "field": "ui event state: key", "__id": "ui event state|ui event state: key" }, { "view": "ui event state", "field": "ui event state: value", "__id": "ui event state|ui event state: value" }, { "view": "ui event state binding", "field": "ui event state binding: template", "__id": "ui event state binding|ui event state binding: template" }, { "view": "ui event state binding", "field": "ui event state binding: event", "__id": "ui event state binding|ui event state binding: event" }, { "view": "ui event state binding", "field": "ui event state binding: key", "__id": "ui event state binding|ui event state binding: key" }, { "view": "ui event state binding", "field": "ui event state binding: source", "__id": "ui event state binding|ui event state binding: source" }, { "view": "ui event state binding", "field": "ui event state binding: alias", "__id": "ui event state binding|ui event state binding: alias" }, { "view": "system ui", "field": "template", "__id": "system ui|template" }], "builtin entity": [{ "entity": "wiki root", "content": "# Wiki Root ({is a: system}, {is a: ui})\n", "__id": "wiki root|# Wiki Root ({is a: system}, {is a: ui})\n" }, { "entity": "perf stats", "content": "# Perf Stats ({is a: system}, {is a: ui})\n", "__id": "perf stats|# Perf Stats ({is a: system}, {is a: ui})\n" }, { "entity": "searches to entities shim", "content": "# Searches To Entities Shim ({is a: system}, {is a: query})\n\n## Fields\n* id\n* search\n* top\n* left\n", "__id": "searches to entities shim|# Searches To Entities Shim ({is a: system}, {is a: query})\n\n## Fields\n* id\n* search\n* top\n* left\n" }, { "entity": "render performance statistics", "content": "\n    # Render performance statistics ({is a: system})\n    root: {root: 1.71}\n    ui compile: {ui compile: 0.04}\n    render: {render: 0.35}\n    update: {update: 0.28}\n    Horrible hack, disregard this: {perf stats: render performance statistics}\n    ", "__id": "render performance statistics|\n    # Render performance statistics ({is a: system})\n    root: {root: 1.71}\n    ui compile: {ui compile: 0.04}\n    render: {render: 0.35}\n    update: {update: 0.28}\n    Horrible hack, disregard this: {perf stats: render performance statistics}\n    " }], "builtin search": [{ "id": "a92fad47-ccad-485e-80ab-09ba901975b4", "top": 114, "left": 94, "__id": "a92fad47-ccad-485e-80ab-09ba901975b4|114|94" }, { "id": "76eb6ec8-ca8b-4fd1-958f-b744a84c877d", "top": 55, "left": 721, "__id": "76eb6ec8-ca8b-4fd1-958f-b744a84c877d|55|721" }], "builtin search query": [{ "id": "a92fad47-ccad-485e-80ab-09ba901975b4", "search": "sum of salaries per department", "__id": "a92fad47-ccad-485e-80ab-09ba901975b4|sum of salaries per department" }, { "id": "76eb6ec8-ca8b-4fd1-958f-b744a84c877d", "search": "edward norton", "__id": "76eb6ec8-ca8b-4fd1-958f-b744a84c877d|edward norton" }], "ui template": [{ "ui template: template": "wiki root", "ui template: parent": "", "ui template: ix": "", "__id": "wiki root||" }, { "ui template: template": "5800184d-9953-4d71-b3f0-439c49e54c11", "ui template: parent": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template: ix": 2, "__id": "5800184d-9953-4d71-b3f0-439c49e54c11|3f232603-3f00-4526-abc7-c4b7d298d5c2|2" }, { "ui template: template": "0dccfaee-91a5-4a01-8cde-0fb050cf806b", "ui template: parent": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui template: ix": 0, "__id": "0dccfaee-91a5-4a01-8cde-0fb050cf806b|3e83d7e6-f132-4b01-ad7a-79949b82687a|0" }, { "ui template: template": "perf stats", "ui template: parent": "", "ui template: ix": 0, "__id": "perf stats||0" }, { "ui template: template": "a9972427-a5d2-4656-af4a-5c06d5c1f597", "ui template: parent": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui template: ix": 1, "__id": "a9972427-a5d2-4656-af4a-5c06d5c1f597|3e83d7e6-f132-4b01-ad7a-79949b82687a|1" }, { "ui template: template": "8b74983c-2a52-4c56-9114-c549fe6b1ce2", "ui template: parent": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui template: ix": 2, "__id": "8b74983c-2a52-4c56-9114-c549fe6b1ce2|3e83d7e6-f132-4b01-ad7a-79949b82687a|2" }, { "ui template: template": "3f4c7467-f3cc-412e-b1da-054c44da648c", "ui template: parent": "103b3f2c-02d9-4912-93b5-d80004e6fe9e", "ui template: ix": 0, "__id": "3f4c7467-f3cc-412e-b1da-054c44da648c|103b3f2c-02d9-4912-93b5-d80004e6fe9e|0" }, { "ui template: template": "e67dbd78-77b1-415f-9292-b492228f7513", "ui template: parent": "8f7df862-986c-475a-9624-d8ace89e3c07", "ui template: ix": 0, "__id": "e67dbd78-77b1-415f-9292-b492228f7513|8f7df862-986c-475a-9624-d8ace89e3c07|0" }, { "ui template: template": "8456491f-af91-4eef-9317-73a8d38a8769", "ui template: parent": "wiki root", "ui template: ix": 0, "__id": "8456491f-af91-4eef-9317-73a8d38a8769|wiki root|0" }, { "ui template: template": "bfda829a-de8e-460b-8694-987ed975c234", "ui template: parent": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template: ix": 3, "__id": "bfda829a-de8e-460b-8694-987ed975c234|3f232603-3f00-4526-abc7-c4b7d298d5c2|3" }, { "ui template: template": "2db6509c-dd44-40f4-9c83-a122352f36cc", "ui template: parent": "0dccfaee-91a5-4a01-8cde-0fb050cf806b", "ui template: ix": 0, "__id": "2db6509c-dd44-40f4-9c83-a122352f36cc|0dccfaee-91a5-4a01-8cde-0fb050cf806b|0" }, { "ui template: template": "103b3f2c-02d9-4912-93b5-d80004e6fe9e", "ui template: parent": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template: ix": 0, "__id": "103b3f2c-02d9-4912-93b5-d80004e6fe9e|3f232603-3f00-4526-abc7-c4b7d298d5c2|0" }, { "ui template: template": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template: parent": "perf stats", "ui template: ix": 0, "__id": "3f232603-3f00-4526-abc7-c4b7d298d5c2|perf stats|0" }, { "ui template: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui template: parent": "bacc3e2c-031b-4d9c-9cda-774bd7befe30", "ui template: ix": 1, "__id": "18531d14-6f9d-460a-b616-24539d28c180|bacc3e2c-031b-4d9c-9cda-774bd7befe30|1" }, { "ui template: template": "perf stats", "ui template: parent": "", "ui template: ix": "", "__id": "perf stats||" }, { "ui template: template": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b", "ui template: parent": "bfda829a-de8e-460b-8694-987ed975c234", "ui template: ix": 0, "__id": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b|bfda829a-de8e-460b-8694-987ed975c234|0" }, { "ui template: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui template: parent": "9f0e2b91-513c-4d5b-8558-6383386ee844", "ui template: ix": 0, "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|9f0e2b91-513c-4d5b-8558-6383386ee844|0" }, { "ui template: template": "d8d05641-f867-457c-adc3-ba8c64efd07f", "ui template: parent": "5800184d-9953-4d71-b3f0-439c49e54c11", "ui template: ix": 0, "__id": "d8d05641-f867-457c-adc3-ba8c64efd07f|5800184d-9953-4d71-b3f0-439c49e54c11|0" }, { "ui template: template": "bacc3e2c-031b-4d9c-9cda-774bd7befe30", "ui template: parent": "8b74983c-2a52-4c56-9114-c549fe6b1ce2", "ui template: ix": 0, "__id": "bacc3e2c-031b-4d9c-9cda-774bd7befe30|8b74983c-2a52-4c56-9114-c549fe6b1ce2|0" }, { "ui template: template": "f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc", "ui template: parent": "8456491f-af91-4eef-9317-73a8d38a8769", "ui template: ix": 0, "__id": "f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc|8456491f-af91-4eef-9317-73a8d38a8769|0" }, { "ui template: template": "8f7df862-986c-475a-9624-d8ace89e3c07", "ui template: parent": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template: ix": 1, "__id": "8f7df862-986c-475a-9624-d8ace89e3c07|3f232603-3f00-4526-abc7-c4b7d298d5c2|1" }, { "ui template: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui template: parent": "bacc3e2c-031b-4d9c-9cda-774bd7befe30", "ui template: ix": 0, "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|bacc3e2c-031b-4d9c-9cda-774bd7befe30|0" }, { "ui template: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui template: parent": "bacc3e2c-031b-4d9c-9cda-774bd7befe30", "ui template: ix": 2, "__id": "47324bdd-3312-47d9-831c-78fba05a7342|bacc3e2c-031b-4d9c-9cda-774bd7befe30|2" }, { "ui template: template": "9f0e2b91-513c-4d5b-8558-6383386ee844", "ui template: parent": "8456491f-af91-4eef-9317-73a8d38a8769", "ui template: ix": 1, "__id": "9f0e2b91-513c-4d5b-8558-6383386ee844|8456491f-af91-4eef-9317-73a8d38a8769|1" }], "ui template binding": [{ "ui template binding: template": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui template binding: binding": "bound view 3f232603-3f00-4526-abc7-c4b7d298d5c2", "__id": "3f232603-3f00-4526-abc7-c4b7d298d5c2|undefined" }, { "ui template binding: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui template binding: binding": "bound view 3e83d7e6-f132-4b01-ad7a-79949b82687a", "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|undefined" }], "ui embed": [{ "ui embed: embed": "2908d4ad-d158-44e6-912d-52eb141bbe32", "ui embed: template": "perf stats", "ui embed: parent": "f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc", "ui embed: ix": 0, "__id": "2908d4ad-d158-44e6-912d-52eb141bbe32|perf stats|f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc|0" }], "ui attribute": [{ "ui attribute: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui attribute: property": "t", "ui attribute: value": "search", "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|t|search" }, { "ui attribute: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui attribute: property": "t", "ui attribute: value": "button", "__id": "47324bdd-3312-47d9-831c-78fba05a7342|t|button" }, { "ui attribute: template": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b", "ui attribute: property": "t", "ui attribute: value": "span", "__id": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b|t|span" }, { "ui attribute: template": "8456491f-af91-4eef-9317-73a8d38a8769", "ui attribute: property": "color", "ui attribute: value": "red", "__id": "8456491f-af91-4eef-9317-73a8d38a8769|color|red" }, { "ui attribute: template": "5800184d-9953-4d71-b3f0-439c49e54c11", "ui attribute: property": "t", "ui attribute: value": "label", "__id": "5800184d-9953-4d71-b3f0-439c49e54c11|t|label" }, { "ui attribute: template": "103b3f2c-02d9-4912-93b5-d80004e6fe9e", "ui attribute: property": "t", "ui attribute: value": "label", "__id": "103b3f2c-02d9-4912-93b5-d80004e6fe9e|t|label" }, { "ui attribute: template": "8b74983c-2a52-4c56-9114-c549fe6b1ce2", "ui attribute: property": "c", "ui attribute: value": "search-actions", "__id": "8b74983c-2a52-4c56-9114-c549fe6b1ce2|c|search-actions" }, { "ui attribute: template": "a9972427-a5d2-4656-af4a-5c06d5c1f597", "ui attribute: property": "t", "ui attribute: value": "content", "__id": "a9972427-a5d2-4656-af4a-5c06d5c1f597|t|content" }, { "ui attribute: template": "d8d05641-f867-457c-adc3-ba8c64efd07f", "ui attribute: property": "t", "ui attribute: value": "span", "__id": "d8d05641-f867-457c-adc3-ba8c64efd07f|t|span" }, { "ui attribute: template": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui attribute: property": "c", "ui attribute: value": "perf-stats", "__id": "3f232603-3f00-4526-abc7-c4b7d298d5c2|c|perf-stats" }, { "ui attribute: template": "8456491f-af91-4eef-9317-73a8d38a8769", "ui attribute: property": "c", "ui attribute: value": "wiki-root", "__id": "8456491f-af91-4eef-9317-73a8d38a8769|c|wiki-root" }, { "ui attribute: template": "8456491f-af91-4eef-9317-73a8d38a8769", "ui attribute: property": "t", "ui attribute: value": "div", "__id": "8456491f-af91-4eef-9317-73a8d38a8769|t|div" }, { "ui attribute: template": "0dccfaee-91a5-4a01-8cde-0fb050cf806b", "ui attribute: property": "c", "ui attribute: value": "search-header", "__id": "0dccfaee-91a5-4a01-8cde-0fb050cf806b|c|search-header" }, { "ui attribute: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui attribute: property": "c", "ui attribute: value": "container search-container", "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|c|container search-container" }, { "ui attribute: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui attribute: property": "text", "ui attribute: value": "+ collection", "__id": "47324bdd-3312-47d9-831c-78fba05a7342|text|+ collection" }, { "ui attribute: template": "bfda829a-de8e-460b-8694-987ed975c234", "ui attribute: property": "t", "ui attribute: value": "label", "__id": "bfda829a-de8e-460b-8694-987ed975c234|t|label" }, { "ui attribute: template": "bfda829a-de8e-460b-8694-987ed975c234", "ui attribute: property": "text", "ui attribute: value": "update", "__id": "bfda829a-de8e-460b-8694-987ed975c234|text|update" }, { "ui attribute: template": "8f7df862-986c-475a-9624-d8ace89e3c07", "ui attribute: property": "t", "ui attribute: value": "label", "__id": "8f7df862-986c-475a-9624-d8ace89e3c07|t|label" }, { "ui attribute: template": "8b74983c-2a52-4c56-9114-c549fe6b1ce2", "ui attribute: property": "t", "ui attribute: value": "footer", "__id": "8b74983c-2a52-4c56-9114-c549fe6b1ce2|t|footer" }, { "ui attribute: template": "5800184d-9953-4d71-b3f0-439c49e54c11", "ui attribute: property": "text", "ui attribute: value": "render", "__id": "5800184d-9953-4d71-b3f0-439c49e54c11|text|render" }, { "ui attribute: template": "e67dbd78-77b1-415f-9292-b492228f7513", "ui attribute: property": "t", "ui attribute: value": "span", "__id": "e67dbd78-77b1-415f-9292-b492228f7513|t|span" }, { "ui attribute: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui attribute: property": "t", "ui attribute: value": "button", "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|t|button" }, { "ui attribute: template": "2db6509c-dd44-40f4-9c83-a122352f36cc", "ui attribute: property": "c", "ui attribute: value": "search-input", "__id": "2db6509c-dd44-40f4-9c83-a122352f36cc|c|search-input" }, { "ui attribute: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui attribute: property": "t", "ui attribute: value": "button", "__id": "18531d14-6f9d-460a-b616-24539d28c180|t|button" }, { "ui attribute: template": "103b3f2c-02d9-4912-93b5-d80004e6fe9e", "ui attribute: property": "text", "ui attribute: value": "root", "__id": "103b3f2c-02d9-4912-93b5-d80004e6fe9e|text|root" }, { "ui attribute: template": "8f7df862-986c-475a-9624-d8ace89e3c07", "ui attribute: property": "text", "ui attribute: value": "ui compile", "__id": "8f7df862-986c-475a-9624-d8ace89e3c07|text|ui compile" }, { "ui attribute: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui attribute: property": "text", "ui attribute: value": "+ entity", "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|text|+ entity" }, { "ui attribute: template": "3f232603-3f00-4526-abc7-c4b7d298d5c2", "ui attribute: property": "t", "ui attribute: value": "row", "__id": "3f232603-3f00-4526-abc7-c4b7d298d5c2|t|row" }, { "ui attribute: template": "3f4c7467-f3cc-412e-b1da-054c44da648c", "ui attribute: property": "t", "ui attribute: value": "span", "__id": "3f4c7467-f3cc-412e-b1da-054c44da648c|t|span" }, { "ui attribute: template": "bacc3e2c-031b-4d9c-9cda-774bd7befe30", "ui attribute: property": "t", "ui attribute: value": "row", "__id": "bacc3e2c-031b-4d9c-9cda-774bd7befe30|t|row" }, { "ui attribute: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui attribute: property": "text", "ui attribute: value": "+ attribute", "__id": "18531d14-6f9d-460a-b616-24539d28c180|text|+ attribute" }, { "ui attribute: template": "0dccfaee-91a5-4a01-8cde-0fb050cf806b", "ui attribute: property": "t", "ui attribute: value": "header", "__id": "0dccfaee-91a5-4a01-8cde-0fb050cf806b|t|header" }, { "ui attribute: template": "f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc", "ui attribute: property": "t", "ui attribute: value": "header", "__id": "f51f9bf1-230d-4a8b-8671-a1d7c35bb2cc|t|header" }, { "ui attribute: template": "2db6509c-dd44-40f4-9c83-a122352f36cc", "ui attribute: property": "t", "ui attribute: value": "div", "__id": "2db6509c-dd44-40f4-9c83-a122352f36cc|t|div" }, { "ui attribute: template": "9f0e2b91-513c-4d5b-8558-6383386ee844", "ui attribute: property": "t", "ui attribute: value": "content", "__id": "9f0e2b91-513c-4d5b-8558-6383386ee844|t|content" }], "ui attribute binding": [{ "ui attribute binding: template": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b", "ui attribute binding: property": "text", "ui attribute binding: source": "perf stats", "ui attribute binding: alias": "update", "__id": "db9e9258-1ab7-4fd6-9d6c-8e869e04c94b|text|perf stats|update" }, { "ui attribute binding: template": "2db6509c-dd44-40f4-9c83-a122352f36cc", "ui attribute binding: property": "text", "ui attribute binding: source": "search", "ui attribute binding: alias": "search 2", "__id": "2db6509c-dd44-40f4-9c83-a122352f36cc|text|search|search 2" }, { "ui attribute binding: template": "e67dbd78-77b1-415f-9292-b492228f7513", "ui attribute binding: property": "text", "ui attribute binding: source": "perf stats", "ui attribute binding: alias": "ui compile", "__id": "e67dbd78-77b1-415f-9292-b492228f7513|text|perf stats|ui compile" }, { "ui attribute binding: template": "3f4c7467-f3cc-412e-b1da-054c44da648c", "ui attribute binding: property": "text", "ui attribute binding: source": "perf stats", "ui attribute binding: alias": "root", "__id": "3f4c7467-f3cc-412e-b1da-054c44da648c|text|perf stats|root" }, { "ui attribute binding: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui attribute binding: property": "top", "ui attribute binding: source": "search", "ui attribute binding: alias": "top", "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|top|search|top" }, { "ui attribute binding: template": "3e83d7e6-f132-4b01-ad7a-79949b82687a", "ui attribute binding: property": "left", "ui attribute binding: source": "search", "ui attribute binding: alias": "left", "__id": "3e83d7e6-f132-4b01-ad7a-79949b82687a|left|search|left" }, { "ui attribute binding: template": "d8d05641-f867-457c-adc3-ba8c64efd07f", "ui attribute binding: property": "text", "ui attribute binding: source": "perf stats", "ui attribute binding: alias": "render", "__id": "d8d05641-f867-457c-adc3-ba8c64efd07f|text|perf stats|render" }], "ui event": [{ "ui event: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui event: event": "click", "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|click" }, { "ui event: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui event: event": "click", "__id": "47324bdd-3312-47d9-831c-78fba05a7342|click" }, { "ui event: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui event: event": "click", "__id": "18531d14-6f9d-460a-b616-24539d28c180|click" }], "ui event state": [{ "ui event state: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui event state: event": "click", "ui event state: key": "kind", "ui event state: value": "add entity action", "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|click|kind|add entity action" }, { "ui event state: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui event state: event": "click", "ui event state: key": "kind", "ui event state: value": "add collection action", "__id": "47324bdd-3312-47d9-831c-78fba05a7342|click|kind|add collection action" }, { "ui event state: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui event state: event": "click", "ui event state: key": "kind", "ui event state: value": "add attribute action", "__id": "18531d14-6f9d-460a-b616-24539d28c180|click|kind|add attribute action" }], "ui event state binding": [{ "ui event state binding: template": "674867da-6ea2-4490-a571-a7712cb9fb20", "ui event state binding: event": "click", "ui event state binding: key": "id", "ui event state binding: source": "search", "ui event state binding: alias": "id", "__id": "674867da-6ea2-4490-a571-a7712cb9fb20|click|id|search|id" }, { "ui event state binding: template": "47324bdd-3312-47d9-831c-78fba05a7342", "ui event state binding: event": "click", "ui event state binding: key": "id", "ui event state binding: source": "search", "ui event state binding: alias": "id", "__id": "47324bdd-3312-47d9-831c-78fba05a7342|click|id|search|id" }, { "ui event state binding: template": "18531d14-6f9d-460a-b616-24539d28c180", "ui event state binding: event": "click", "ui event state binding: key": "id", "ui event state binding: source": "search", "ui event state binding: alias": "id", "__id": "18531d14-6f9d-460a-b616-24539d28c180|click|id|search|id" }], "system ui": [{ "template": "wiki root", "__id": "wiki root" }], "history stack": [{ "entity": "foo", "pos": 0, "__id": "foo|0" }, { "entity": "engineering", "pos": 1, "__id": "engineering|1" }, { "entity": "chris granger", "pos": 2, "__id": "chris granger|2" }, { "entity": "josh cole", "pos": 3, "__id": "josh cole|3" }, { "entity": "jamie brandon", "pos": 4, "__id": "jamie brandon|4" }, { "entity": "corey montella", "pos": 5, "__id": "corey montella|5" }, { "entity": "eric hoffman", "pos": 6, "__id": "eric hoffman|6" }, { "entity": "sum people's ages", "pos": 7, "__id": "sum people's ages|7" }, { "entity": "operations", "pos": 8, "__id": "operations|8" }, { "entity": "sum of salaries per department", "pos": 9, "__id": "sum of salaries per department|9" }, { "entity": "robert attorri", "pos": 10, "__id": "robert attorri|10" }, { "entity": "people ages", "pos": 11, "__id": "people ages|11" }, { "entity": "people ages and heights", "pos": 12, "__id": "people ages and heights|12" }, { "entity": "people's ages and heights", "pos": 13, "__id": "people's ages and heights|13" }, { "entity": "zomg", "pos": 14, "__id": "zomg|14" }, { "entity": "department", "pos": 15, "__id": "department|15" }, { "entity": "sum of the salaries per department", "pos": 16, "__id": "sum of the salaries per department|16" }, { "entity": "sum of the top 2 salaries per department", "pos": 17, "__id": "sum of the top 2 salaries per department|17" }, { "entity": "people's ages", "pos": 18, "__id": "people's ages|18" }, { "entity": "employee", "pos": 19, "__id": "employee|19" }, { "entity": "employees", "pos": 20, "__id": "employees|20" }, { "entity": "people", "pos": 21, "__id": "people|21" }, { "entity": "modern family", "pos": 22, "__id": "modern family|22" }, { "entity": "pilot", "pos": 23, "__id": "pilot|23" }, { "entity": "great expectations", "pos": 24, "__id": "great expectations|24" }, { "entity": "the bicycle thief", "pos": 25, "__id": "the bicycle thief|25" }, { "entity": "come fly with me", "pos": 26, "__id": "come fly with me|26" }, { "entity": "the incident", "pos": 27, "__id": "the incident|27" }, { "entity": "coal digger", "pos": 28, "__id": "coal digger|28" }, { "entity": "run for your wife", "pos": 29, "__id": "run for your wife|29" }, { "entity": "en garde", "pos": 30, "__id": "en garde|30" }, { "entity": "episodes of modern family", "pos": 31, "__id": "episodes of modern family|31" }, { "entity": "episodes of modern family without edward norton", "pos": 32, "__id": "episodes of modern family without edward norton|32" }, { "entity": "edward norton", "pos": 33, "__id": "edward norton|33" }, { "entity": "vin diesel", "pos": 34, "__id": "vin diesel|34" }, { "entity": "american", "pos": 35, "__id": "american|35" }, { "entity": "americans", "pos": 36, "__id": "americans|36" }, { "entity": "vin actors", "pos": 37, "__id": "vin actors|37" }, { "entity": "actor", "pos": 38, "__id": "actor|38" }, { "entity": "actors who are american", "pos": 39, "__id": "actors who are american|39" }, { "entity": "count the episodes of modern family without edward norton", "pos": 40, "__id": "count the episodes of modern family without edward norton|40" }, { "entity": "episodes of modern family with edward norton", "pos": 41, "__id": "episodes of modern family with edward norton|41" }, { "entity": "actors related to modern family", "pos": 42, "__id": "actors related to modern family|42" }, { "entity": "count episodes of modern family without edward norton", "pos": 43, "__id": "count episodes of modern family without edward norton|43" }, { "entity": "count of modern family episodes without edward norton", "pos": 44, "__id": "count of modern family episodes without edward norton|44" }, { "entity": "oyako don", "pos": 45, "__id": "oyako don|45" }, { "entity": "chicken", "pos": 46, "__id": "chicken|46" }, { "entity": "egg", "pos": 47, "__id": "egg|47" }, { "entity": "dishes", "pos": 48, "__id": "dishes|48" }, { "entity": "dishes that are sweet", "pos": 49, "__id": "dishes that are sweet|49" }, { "entity": "rice", "pos": 50, "__id": "rice|50" }, { "entity": "scallion", "pos": 51, "__id": "scallion|51" }, { "entity": "dishes with chicken", "pos": 52, "__id": "dishes with chicken|52" }, { "entity": "dishes with chicken and eggs", "pos": 53, "__id": "dishes with chicken and eggs|53" }, { "entity": "dishes with chicken and eggs and rice", "pos": 54, "__id": "dishes with chicken and eggs and rice|54" }, { "entity": "dishes with chicken and", "pos": 55, "__id": "dishes with chicken and|55" }, { "entity": "dishes with chicken and rice", "pos": 56, "__id": "dishes with chicken and rice|56" }, { "entity": "savory", "pos": 57, "__id": "savory|57" }, { "entity": "Apple Pie", "pos": 58, "__id": "Apple Pie|58" }, { "entity": "apple pie", "pos": 59, "__id": "apple pie|59" }, { "entity": "apple", "pos": 60, "__id": "apple|60" }, { "entity": "sweet", "pos": 61, "__id": "sweet|61" }, { "entity": "sweets", "pos": 62, "__id": "sweets|62" }, { "entity": "dishes with apple", "pos": 63, "__id": "dishes with apple|63" }, { "entity": "dishes that are sweet with rice", "pos": 64, "__id": "dishes that are sweet with rice|64" }, { "entity": "dishes that are sweet with apples", "pos": 65, "__id": "dishes that are sweet with apples|65" }, { "entity": "dishes that are sweet without apples", "pos": 66, "__id": "dishes that are sweet without apples|66" }, { "entity": "rice pudding", "pos": 67, "__id": "rice pudding|67" }, { "entity": "\"rice pudding\"", "pos": 68, "__id": "\"rice pudding\"|68" }, { "entity": "grains", "pos": 69, "__id": "grains|69" }, { "entity": "dishes that use a grain", "pos": 70, "__id": "dishes that use a grain|70" }, { "entity": "dishes that use a grain without chicken", "pos": 71, "__id": "dishes that use a grain without chicken|71" }, { "entity": "dishes that use a grain and don't have chicken", "pos": 72, "__id": "dishes that use a grain and don't have chicken|72" }, { "entity": "dishes that use a grain and don't have apples", "pos": 73, "__id": "dishes that use a grain and don't have apples|73" }, { "entity": "dishes that contain a grain and don't have apples", "pos": 74, "__id": "dishes that contain a grain and don't have apples|74" }, { "entity": "dishes that contain a grain and don't have scallions", "pos": 75, "__id": "dishes that contain a grain and don't have scallions|75" }, { "entity": "count ingredients per dish", "pos": 76, "__id": "count ingredients per dish|76" }, { "entity": "per dish count the ingredients", "pos": 77, "__id": "per dish count the ingredients|77" }, { "entity": "count of the ingredients per dish", "pos": 78, "__id": "count of the ingredients per dish|78" }, { "entity": "count ingredients per dish in my collection", "pos": 79, "__id": "count ingredients per dish in my collection|79" }, { "entity": "dishes in my collection", "pos": 80, "__id": "dishes in my collection|80" }, { "entity": "dishes in my collection ingredients", "pos": 81, "__id": "dishes in my collection ingredients|81" }, { "entity": "dishes in my collection per ingredients", "pos": 82, "__id": "dishes in my collection per ingredients|82" }, { "entity": "per dishes in my collection ingredients", "pos": 83, "__id": "per dishes in my collection ingredients|83" }, { "entity": "per dishes in my collection count ingredients", "pos": 84, "__id": "per dishes in my collection count ingredients|84" }, { "entity": "count ingredients my collection", "pos": 85, "__id": "count ingredients my collection|85" }, { "entity": "count ingredients in my collection", "pos": 86, "__id": "count ingredients in my collection|86" }, { "entity": "count ingredients in my collection per dish", "pos": 87, "__id": "count ingredients in my collection per dish|87" }, { "entity": "count dishes in my collection", "pos": 88, "__id": "count dishes in my collection|88" }, { "entity": "my collection", "pos": 89, "__id": "my collection|89" }, { "entity": "dishes without eggs", "pos": 90, "__id": "dishes without eggs|90" }, { "entity": "dishes without chicken and eggs", "pos": 91, "__id": "dishes without chicken and eggs|91" }, { "entity": "dishes without chicken and without eggs", "pos": 92, "__id": "dishes without chicken and without eggs|92" }, { "entity": "dishes that are chicken", "pos": 93, "__id": "dishes that are chicken|93" }, { "entity": "chicken quesadilla", "pos": 94, "__id": "chicken quesadilla|94" }, { "entity": "Terriyaki", "pos": 95, "__id": "Terriyaki|95" }, { "entity": "", "pos": 96, "__id": "|96" }, { "entity": "count per ingredient in my collection", "pos": 97, "__id": "count per ingredient in my collection|97" }, { "entity": "salaries per department", "pos": 98, "__id": "salaries per department|98" }, { "entity": "sum of the salaries per episode", "pos": 99, "__id": "sum of the salaries per episode|99" }, { "entity": "sum of the salaries per episode of modern family", "pos": 100, "__id": "sum of the salaries per episode of modern family|100" }, { "entity": "departments", "pos": 101, "__id": "departments|101" }, { "entity": "kodowa", "pos": 102, "__id": "kodowa|102" }, { "entity": "dishes without chicken", "pos": 103, "__id": "dishes without chicken|103" }], "added bits": [], "manual entity": [], "builtin entity eavs": [], "added eavs": [], "builtin entity links": [], "builtin directionless links": [], "builtin collection entities": [], "action entity": [], "ui embed scope": [], "ui embed scope binding": [], "adding action": [], "add bit action": [{ "view": "sum of salaries per department", "action": "sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}", "template": "# {department}\n{department} has a total cost of {total cost: {sum}}", "__id": "sum of salaries per department|sum of salaries per department|# {department}\n{department} has a total cost of {total cost: {sum}}|# {department}\n{department} has a total cost of {total cost: {sum}}" }] });

},{"./app":2,"./queryParser":6,"./wiki":13}],10:[function(require,module,exports){
/// <reference path="codemirror/codemirror.d.ts" />
var CodeMirror = require("codemirror");
var richTextEditor_1 = require("./richTextEditor");
var microReact_1 = require("./microReact");
var app_1 = require("./app");
var queryParser_1 = require("./queryParser");
var utils_1 = require("./utils");
var PANE;
(function (PANE) {
    PANE[PANE["FULL"] = 0] = "FULL";
    PANE[PANE["WINDOW"] = 1] = "WINDOW";
    PANE[PANE["POPOUT"] = 2] = "POPOUT";
})(PANE || (PANE = {}));
;
var BLOCK;
(function (BLOCK) {
    BLOCK[BLOCK["TEXT"] = 0] = "TEXT";
    BLOCK[BLOCK["PROJECTION"] = 1] = "PROJECTION";
})(BLOCK || (BLOCK = {}));
;
exports.uiState = {
    widget: {
        search: {}
    }
};
//---------------------------------------------------------
// Utils
//---------------------------------------------------------
//---------------------------------------------------------
// Dispatches
//---------------------------------------------------------
app_1.handle("ui focus search", function (changes, _a) {
    var paneId = _a.paneId, value = _a.value;
    var state = exports.uiState.widget.search[paneId] = exports.uiState.widget.search[paneId] || { value: value };
    state.focused = true;
});
app_1.handle("ui set search", function (changes, _a) {
    var paneId = _a.paneId, value = _a.value;
    var state = exports.uiState.widget.search[paneId] = exports.uiState.widget.search[paneId] || { value: value };
    state.value = value;
    state.focused = false;
    var fact = utils_1.copy(app_1.eve.findOne("ui pane", { pane: paneId }));
    fact.__id = undefined;
    fact.contains = value;
    changes.remove("ui pane", { pane: paneId })
        .add("ui pane", fact);
    if (!app_1.eve.findOne("display name", { name: value }))
        app_1.activeSearches[value] = queryParser_1.queryToExecutable(value);
});
app_1.handle("ui toggle search plan", function (changes, _a) {
    var paneId = _a.paneId;
    var state = exports.uiState.widget.search[paneId] = exports.uiState.widget.search[paneId] || { value: "" };
    state.plan = !state.plan;
});
app_1.handle("add sourced eav", function (changes, eav) {
    changes.add("sourced eav", eav);
});
app_1.handle("remove sourced eav", function (changes, eav) {
    changes.remove("sourced eav", eav);
});
app_1.handle("update page", function (changes, _a) {
    var page = _a.page, content = _a.content;
    changes.remove("page content", { page: page });
    changes.add("page content", { page: page, content: content });
});
//---------------------------------------------------------
// Wiki Containers
//---------------------------------------------------------
function root() {
    var panes = [];
    for (var _i = 0, _a = app_1.eve.find("ui pane"); _i < _a.length; _i++) {
        var paneId = _a[_i].pane;
        panes.push(pane(paneId));
    }
    return { c: "wiki-root", id: "root", children: panes };
}
exports.root = root;
// @TODO: Add search functionality + Pane Chrome
var paneChrome = (_a = {},
    _a[PANE.FULL] = function (paneId, entityId) { return ({
        c: "fullscreen",
        header: { t: "header", c: "flex-row", children: [{ c: "logo eve-logo" }, searchInput(paneId, entityId)] }
    }); },
    _a[PANE.POPOUT] = function (paneId, entityId) { return ({
        c: "window",
        header: { t: "header", c: "flex-row", children: [
                { c: "flex-grow title", text: entityId },
                { c: "flex-row controls", children: [{ c: "ion-close-round" }] }
            ] }
    }); },
    _a[PANE.WINDOW] = function (paneId, entityId) { return ({
        c: "window",
        header: { t: "header", c: "flex-row", children: [
                { c: "flex-grow title", text: entityId },
                { c: "flex-row controls", children: [
                        { c: "ion-android-search" },
                        { c: "ion-minus-round" },
                        { c: "ion-close-round" }
                    ] }
            ] }
    }); },
    _a
);
function pane(paneId) {
    // @FIXME: Add kind to ui panes
    var _a = app_1.eve.findOne("ui pane", { pane: paneId }) || {}, _b = _a.contains, contains = _b === void 0 ? undefined : _b, _c = _a.kind, kind = _c === void 0 ? PANE.FULL : _c;
    var makeChrome = paneChrome[kind];
    if (!makeChrome)
        throw new Error("Unknown pane kind: '" + kind + "' (" + PANE[kind] + ")");
    var _d = makeChrome(paneId, contains), klass = _d.c, header = _d.header, footer = _d.footer;
    var content;
    var display = app_1.eve.findOne("display name", { name: contains }) || app_1.eve.findOne("display name", { id: contains });
    if (display)
        content = entity(display.id, paneId);
    else if (app_1.activeSearches[contains] && app_1.activeSearches[contains].plan.length > 1)
        content = search(contains, paneId);
    else
        content = { text: "No results found..." }; // @ TODO: Editor to create new entity
    return { c: "wiki-pane " + (klass || ""), children: [header, content, footer] };
}
exports.pane = pane;
function search(search, paneId) {
    var _a = app_1.activeSearches[search], tokens = _a.tokens, plan = _a.plan, executable = _a.executable;
    // figure out what the headers are
    var headers = [];
    for (var _i = 0; _i < plan.length; _i++) {
        var step = plan[_i];
        var name_1 = step.name;
        if (step.size === 0 || step.type === queryParser_1.StepType.FILTERBYENTITY || step.type === queryParser_1.StepType.INTERSECT)
            continue;
        if (step.type === queryParser_1.StepType.GATHER)
            name_1 = app_1.eve.findOne("display name", { id: name_1 }).name;
        headers.push({ c: "column field", value: step.name, text: name_1 });
    }
    // figure out what fields are grouped, if any
    var groupedFields = {};
    for (var _b = 0; _b < plan.length; _b++) {
        var step = plan[_b];
        if (step.type === queryParser_1.StepType.GROUP)
            groupedFields[step.subjectNode.name] = true;
        else if (step.type === queryParser_1.StepType.AGGREGATE)
            groupedFields[step.name] = true;
    }
    var results = executable.exec();
    var groupInfo = results.groupInfo;
    var planLength = plan.length;
    var isBit = planLength > 1;
    var groups = [];
    nextResult: for (var ix = 0, len = results.unprojected.length; ix < len; ix += executable.unprojectedSize) {
        if (groupInfo && ix > groupInfo.length)
            break;
        if (groupInfo && groupInfo[ix] === undefined)
            continue;
        var group = void 0;
        if (!groupInfo)
            groups.push(group = { c: "group", children: [] });
        else if (!groups[groupInfo[ix]])
            groups[groupInfo[ix]] = group = { c: "group", children: [] };
        else
            group = groups[groupInfo[ix]];
        var offset = 0;
        for (var stepIx = 0; stepIx < planLength; stepIx++) {
            var step = plan[stepIx];
            if (!step.size)
                continue;
            var chunk = results.unprojected[ix + offset + step.size - 1];
            if (!chunk)
                continue nextResult;
            offset += step.size;
            var text = void 0, link = void 0, kind = void 0, click;
            if (step.type === queryParser_1.StepType.GATHER) {
                text = app_1.eve.findOne("display name", { id: chunk["entity"] }).name;
                link = chunk["entity"];
                kind = "entity";
            }
            else if (step.type === queryParser_1.StepType.LOOKUP) {
                text = chunk["value"];
                kind = "attribute";
            }
            else if (step.type === queryParser_1.StepType.AGGREGATE) {
                text = chunk[step.subject];
                kind = "value";
            }
            else if (step.type = queryParser_1.StepType.CALCULATE) {
                text = JSON.stringify(chunk.result);
                kind = "value";
            }
            else if (step.type === queryParser_1.StepType.FILTERBYENTITY || step.type === queryParser_1.StepType.INTERSECT) {
            }
            else
                text = JSON.stringify(chunk);
            if (text === undefined)
                continue;
            var item = { id: paneId + " " + ix + " " + stepIx, c: "field " + kind, text: text, data: { paneId: paneId }, link: link, click: link ? navigate : undefined };
            if (!group.children[stepIx])
                group.children[stepIx] = { c: "column", value: step.name, children: [item] };
            else if (!groupedFields[step.name])
                group.children[stepIx].children.push(item);
            if (planLength === 1)
                group.c = "list-row"; // @FIXME: Is this still needed?
        }
    }
    // @TODO: Without this ID, a bug occurs when reusing elements that injects a text node containing "undefined" after certain scenarios.
    groups.unshift({ t: "header", id: paneId + "|header", c: "flex-row", children: headers });
    return { t: "content", c: "wiki-search", key: JSON.stringify(results.unprojected), children: [{ id: paneId + "|table", c: "results table", children: groups }], };
}
exports.search = search;
function sizeColumns(node, elem) {
    // @FIXME: Horrible hack to get around randomly added "undefined" text node that's coming from in microreact.
    var cur = node;
    while (cur.parentElement)
        cur = cur.parentElement;
    if (cur.tagName !== "HTML")
        document.body.appendChild(cur);
    var child, ix = 0;
    var widths = {};
    var columns = node.querySelectorAll(".column");
    for (var _i = 0; _i < columns.length; _i++) {
        var column = columns[_i];
        column.style.width = "auto";
        widths[column["value"]] = widths[column["value"]] || 0;
        if (column.offsetWidth > widths[column["value"]])
            widths[column["value"]] = column.offsetWidth;
    }
    for (var _a = 0; _a < columns.length; _a++) {
        var column = columns[_a];
        column.style.width = widths[column["value"]] + 1;
    }
    if (cur.tagName !== "HTML")
        document.body.removeChild(cur);
}
//---------------------------------------------------------
// CHRIS
//---------------------------------------------------------
function parseParams(rawParams) {
    var params = {};
    if (!rawParams)
        return params;
    for (var _i = 0, _a = rawParams.split(";"); _i < _a.length; _i++) {
        var kv = _a[_i];
        var _b = kv.split("="), key = _b[0], value = _b[1];
        params[key.trim()] = utils_1.coerceInput(value.trim());
    }
    return params;
}
function getEmbed(meta, query) {
    var _a = query.split("|"), content = _a[0], rawParams = _a[1];
    var node = document.createElement("span");
    var link;
    node.textContent = content;
    var params = parseParams(rawParams);
    var contentDisplay = app_1.eve.findOne("display name", { id: content });
    // @TODO: Figure out what to do for {age: {current year - birth year}}
    if (params["eav source"]) {
        // Attribute reference
        node.classList.add("attribute");
        var eav = app_1.eve.findOne("sourced eav", { source: params["eav source"] });
        if (!eav) {
            node.classList.add("invalid");
        }
        else {
            var attribute = eav.attribute, value = eav.value;
            var display = app_1.eve.findOne("display name", { id: value });
            if (attribute === "is a" || display) {
                link = value;
            }
            node.textContent = display ? display.name : value;
        }
    }
    else if (contentDisplay) {
        // Entity reference
        node.classList.add("entity");
        node.textContent = contentDisplay.name;
        link = content;
    }
    else {
        // Embedded queries
        node.classList.add("query");
        // @FIXME: Horrible kludge, need a microReact.compile(...)
        var subRenderer = new microReact_1.Renderer();
        subRenderer.render([{ id: "root", children: [search(content, meta.paneId)] }]);
        node = subRenderer.content;
    }
    if (link) {
        node.classList.add("link");
        node.onclick = function () {
            app_1.dispatch("ui set search", { paneId: meta.paneId, value: link }).commit();
        };
    }
    return node;
}
function getInline(meta, query) {
    var _a = query.slice(1, -1).split("|"), content = _a[0], rawParams = _a[1];
    var params = parseParams(rawParams);
    if (content.indexOf(":") > -1) {
        var sourceId = utils_1.uuid();
        var entity_1 = meta.entity;
        var _b = query.substring(1, query.length - 1).split(":"), attribute = _b[0], value = _b[1];
        value = utils_1.coerceInput(value.trim());
        var display = app_1.eve.findOne("display name", { name: value });
        if (display) {
            value = display.id;
        }
        app_1.dispatch("add sourced eav", { entity: entity_1, attribute: attribute, value: value, source: sourceId }).commit();
        return "{" + entity_1 + "'s " + attribute + "|eav source = " + sourceId + "}";
    }
    else if (!params["eav source"]) {
        app_1.activeSearches[content] = queryParser_1.queryToExecutable(content);
    }
    return query;
}
function removeInline(meta, query) {
    var _a = query.substring(1, query.length - 1).split("|"), search = _a[0], rawParams = _a[1];
    var params = parseParams(rawParams);
    var source = params["eav source"];
    if (source && app_1.eve.findOne("sourced eav", { source: source })) {
        app_1.dispatch("remove sourced eav", { entity: meta.entity, source: source }).commit();
    }
    else {
    }
}
var wikiEditor = richTextEditor_1.createEditor(getEmbed, getInline, removeInline);
//---------------------------------------------------------
function entity(entityId, paneId) {
    var content = app_1.eve.findOne("entity", { entity: entityId })["content"];
    var page = app_1.eve.findOne("entity page", { entity: entityId })["page"];
    // @TODO: Move these into blocks
    //   if(eve.findOne("collection", {collection: entityId})) blocks.push({id: `${paneId}|index`, c: "wiki-block", children: [index({collectionId: entityId, data: {paneId}, click: navigate})]});
    //   blocks.push({id: `${paneId}|related`, c: "wiki-block", children: [related({entityId, data: {paneId}, click: navigate})]});
    return { t: "content", c: "wiki-entity", children: [
            { c: "wiki-editor", postRender: wikiEditor, change: updatePage, meta: { entity: entityId, page: page, paneId: paneId }, value: content }
        ] };
}
exports.entity = entity;
function updatePage(meta, content) {
    app_1.dispatch("update page", { page: meta.page, content: content }).commit();
}
function navigate(event, elem) {
    var paneId = elem.data.paneId;
    app_1.dispatch("ui set search", { paneId: paneId, value: elem.link }).commit();
}
//---------------------------------------------------------
// Wiki Widgets
//---------------------------------------------------------
function searchInput(paneId, value) {
    var display = app_1.eve.findOne("display name", { id: value });
    var name = value;
    if (display) {
        name = display.name;
    }
    var state = exports.uiState.widget.search[paneId] || { focused: false, plan: false };
    return {
        c: "flex-grow wiki-search-wrapper",
        children: [
            codeMirrorElement({
                c: "flex-grow wiki-search-input " + (state.focused ? "selected" : ""),
                paneId: paneId,
                value: name,
                focus: focusSearch,
                blur: setSearch,
                // change: updateSearch,
                shortcuts: { "Enter": setSearch }
            }),
            { c: "controls", children: [
                    { c: "ion-ios-arrow-" + (state.plan ? 'up' : 'down') + " plan", click: toggleSearchPlan, paneId: paneId },
                    // while technically a button, we don't need to do anything as clicking it will blur the editor
                    // which will execute the search
                    { c: "ion-android-search visible", paneId: paneId }
                ] },
        ]
    };
}
exports.searchInput = searchInput;
;
function focusSearch(event, elem) {
    app_1.dispatch("ui focus search", elem).commit();
}
function setSearch(event, elem) {
    app_1.dispatch("ui set search", { paneId: elem.paneId, value: event.value }).commit();
}
function updateSearch(event, elem) {
    app_1.dispatch("ui update search", elem).commit();
}
function toggleSearchPlan(event, elem) {
    console.log("toggle search plan", elem);
    app_1.dispatch("ui toggle search plan", elem).commit();
}
function index(elem) {
    var facts = app_1.eve.find("is a attributes", { collection: elem.collectionId });
    var click = elem.click;
    delete elem.click;
    elem.t = "p";
    elem.children = [
        { t: "h2", text: "There " + pluralize("are", facts.length) + " " + facts.length + " " + pluralize(elem.collectionId, facts.length) + ":" },
        { t: "ul", children: facts.map(function (fact) { return ({ t: "li", c: "entity link", text: fact.entity, data: elem.data, link: fact.entity, click: click }); }) }
    ];
    return elem;
}
exports.index = index;
function related(elem) {
    var facts = app_1.eve.find("directionless links", { entity: elem.entityId });
    elem.t = "p";
    elem.c = "flex-row flex-wrap csv" + (elem.c || "");
    var click = elem.click;
    delete elem.click;
    if (facts.length)
        elem.children = [
            { t: "h2", text: elem.entityId + " is related to:" },
        ].concat(facts.map(function (fact) { return ({ c: "entity link", text: fact.link, data: elem.data, link: fact.link, click: click }); }));
    else
        elem.text = elem.entityId + " is not related to any other entities.";
    return elem;
}
exports.related = related;
;
function codeMirrorElement(elem) {
    elem.postRender = codeMirrorPostRender(elem.postRender);
    return elem;
}
exports.codeMirrorElement = codeMirrorElement;
var _codeMirrorPostRenderMemo = {};
function handleCMEvent(handler, elem) {
    return function (cm) {
        var evt = (new CustomEvent("CMEvent"));
        evt.editor = cm;
        evt.value = cm.getDoc().getValue();
        handler(evt, elem);
    };
}
function codeMirrorPostRender(postRender) {
    var key = postRender ? postRender.toString() : "";
    if (_codeMirrorPostRenderMemo[key])
        return _codeMirrorPostRenderMemo[key];
    return _codeMirrorPostRenderMemo[key] = function (node, elem) {
        var cm = node.cm;
        if (!cm) {
            var extraKeys = {};
            if (elem.shortcuts) {
                for (var shortcut in elem.shortcuts)
                    extraKeys[shortcut] = handleCMEvent(elem.shortcuts[shortcut], elem);
            }
            cm = node.cm = CodeMirror(node, {
                lineWrapping: elem.lineWrapping !== false ? true : false,
                lineNumbers: elem.lineNumbers,
                mode: elem.mode || "gfm",
                extraKeys: extraKeys
            });
            if (elem.change)
                cm.on("change", handleCMEvent(elem.change, elem));
            if (elem.blur)
                cm.on("blur", handleCMEvent(elem.blur, elem));
            if (elem.focus)
                cm.on("focus", handleCMEvent(elem.focus, elem));
            if (elem.autofocus)
                cm.focus();
        }
        if (cm.getDoc().getValue() !== elem.value)
            cm.setValue(elem.value || "");
        if (postRender)
            postRender(node, elem);
    };
}
// @NOTE: Uncomment this to enable the new UI, or type `window["NEUE_UI"] = true; app.render()` into the console to enable it transiently.
window["NEUE_UI"] = true;
var _a;

},{"./app":2,"./microReact":4,"./queryParser":6,"./richTextEditor":7,"./utils":12,"codemirror":1}],11:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime_1 = require("./runtime");
function resolve(table, fact) {
    var neue = {};
    for (var field in fact)
        neue[(table + ": " + field)] = fact[field];
    return neue;
}
function humanize(table, fact) {
    var neue = {};
    for (var field in fact)
        neue[field.slice(table.length + 2)] = fact[field];
    return neue;
}
function resolvedAdd(changeset, table, fact) {
    return changeset.add(table, resolve(table, fact));
}
function resolvedRemove(changeset, table, fact) {
    return changeset.remove(table, resolve(table, fact));
}
function humanizedFind(ixer, table, query) {
    var results = [];
    for (var _i = 0, _a = ixer.find(table, resolve(table, query)); _i < _a.length; _i++) {
        var fact = _a[_i];
        results.push(humanize(table, fact));
    }
    var diag = {};
    for (var table_1 in ixer.tables)
        diag[table_1] = ixer.tables[table_1].table.length;
    return results;
}
var UI = (function () {
    function UI(id) {
        this.id = id;
        this._children = [];
        this._attributes = {};
        this._events = {};
    }
    UI.remove = function (template, ixer) {
        var changeset = ixer.diff();
        resolvedRemove(changeset, "ui template", { template: template });
        resolvedRemove(changeset, "ui template binding", { template: template });
        var bindings = humanizedFind(ixer, "ui template binding", { template: template });
        for (var _i = 0; _i < bindings.length; _i++) {
            var binding = bindings[_i];
            changeset.merge(runtime_1.Query.remove(binding.binding, ixer));
        }
        resolvedRemove(changeset, "ui embed", { template: template });
        var embeds = humanizedFind(ixer, "ui embed", { template: template });
        for (var _a = 0; _a < embeds.length; _a++) {
            var embed = embeds[_a];
            resolvedRemove(changeset, "ui embed scope", { template: template, embed: embed.embed });
            resolvedRemove(changeset, "ui embed scope binding", { template: template, embed: embed.embed });
        }
        resolvedRemove(changeset, "ui attribute", { template: template });
        resolvedRemove(changeset, "ui attribute binding", { template: template });
        resolvedRemove(changeset, "ui event", { template: template });
        var events = humanizedFind(ixer, "ui event", { template: template });
        for (var _b = 0; _b < events.length; _b++) {
            var event_1 = events[_b];
            resolvedRemove(changeset, "ui event state", { template: template, event: event_1.event });
            resolvedRemove(changeset, "ui event state binding", { template: template, event: event_1.event });
        }
        for (var _c = 0, _d = humanizedFind(ixer, "ui template", { parent: template }); _c < _d.length; _c++) {
            var child = _d[_c];
            changeset.merge(UI.remove(child.template, ixer));
        }
        return changeset;
    };
    UI.prototype.copy = function () {
        var neue = new UI(this.id);
        neue._binding = this._binding;
        neue._embedded = this._embedded;
        neue._children = this._children;
        neue._attributes = this._attributes;
        neue._events = this._events;
        neue._parent = this._parent;
        return neue;
    };
    UI.prototype.changeset = function (ixer) {
        var changeset = ixer.diff();
        var parent = this._attributes["parent"] || (this._parent && this._parent.id) || "";
        var ix = this._attributes["ix"];
        if (ix === undefined)
            ix = (this._parent && this._parent._children.indexOf(this));
        if (ix === -1 || ix === undefined)
            ix = "";
        if (this._embedded)
            parent = "";
        resolvedAdd(changeset, "ui template", { template: this.id, parent: parent, ix: ix });
        if (this._binding) {
            if (!this._binding.name || this._binding.name === "unknown")
                this._binding.name = "bound view " + this.id;
            changeset.merge(this._binding.changeset(ixer));
            resolvedAdd(changeset, "ui template binding", { template: this.id, binding: this._binding.name });
        }
        if (this._embedded) {
            var embed = utils_1.uuid();
            resolvedAdd(changeset, "ui embed", { embed: embed, template: this.id, parent: (this._parent || {}).id, ix: ix });
            for (var key in this._embedded) {
                var value = this._attributes[key];
                if (value instanceof Array)
                    resolvedAdd(changeset, "ui embed scope binding", { embed: embed, key: key, source: value[0], alias: value[1] });
                else
                    resolvedAdd(changeset, "ui embed scope", { embed: embed, key: key, value: value });
            }
        }
        for (var property in this._attributes) {
            var value = this._attributes[property];
            if (value instanceof Array)
                resolvedAdd(changeset, "ui attribute binding", { template: this.id, property: property, source: value[0], alias: value[1] });
            else
                resolvedAdd(changeset, "ui attribute", { template: this.id, property: property, value: value });
        }
        for (var event_2 in this._events) {
            resolvedAdd(changeset, "ui event", { template: this.id, event: event_2 });
            var state = this._events[event_2];
            for (var key in state) {
                var value = state[key];
                if (value instanceof Array)
                    resolvedAdd(changeset, "ui event state binding", { template: this.id, event: event_2, key: key, source: value[0], alias: value[1] });
                else
                    resolvedAdd(changeset, "ui event state", { template: this.id, event: event_2, key: key, value: value });
            }
        }
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            changeset.merge(child.changeset(ixer));
        }
        return changeset;
    };
    UI.prototype.load = function (template, ixer, parent) {
        var fact = humanizedFind(ixer, "ui template", { template: template })[0];
        if (!fact)
            return this;
        if (parent || fact.parent)
            this._parent = parent || new UI(this._parent);
        var binding = humanizedFind(ixer, "ui template binding", { template: template })[0];
        if (binding)
            this.bind((new runtime_1.Query(ixer, binding.binding)));
        var embed = humanizedFind(ixer, "ui embed", { template: template, parent: this._parent ? this._parent.id : "" })[0];
        if (embed) {
            var scope = {};
            for (var _i = 0, _a = humanizedFind(ixer, "ui embed scope", { embed: embed.embed }); _i < _a.length; _i++) {
                var attr = _a[_i];
                scope[attr.key] = attr.value;
            }
            for (var _b = 0, _c = humanizedFind(ixer, "ui embed scope binding", { embed: embed.embed }); _b < _c.length; _b++) {
                var attr = _c[_b];
                scope[attr.key] = [attr.source, attr.alias];
            }
            this.embed(scope);
        }
        for (var _d = 0, _e = humanizedFind(ixer, "ui attribute", { template: template }); _d < _e.length; _d++) {
            var attr = _e[_d];
            this.attribute(attr.property, attr.value);
        }
        for (var _f = 0, _g = humanizedFind(ixer, "ui attribute binding", { template: template }); _f < _g.length; _f++) {
            var attr = _g[_f];
            this.attribute(attr.property, [attr.source, attr.alias]);
        }
        for (var _h = 0, _j = humanizedFind(ixer, "ui event", { template: template }); _h < _j.length; _h++) {
            var event_3 = _j[_h];
            var state = {};
            for (var _k = 0, _l = humanizedFind(ixer, "ui event state", { template: template, event: event_3.event }); _k < _l.length; _k++) {
                var attr = _l[_k];
                state[event_3.key] = event_3.value;
            }
            for (var _m = 0, _o = humanizedFind(ixer, "ui event state binding", { template: template, event: event_3.event }); _m < _o.length; _m++) {
                var attr = _o[_m];
                state[event_3.key] = [event_3.source, event_3.alias];
            }
            this.event(event_3.event, state);
        }
        for (var _p = 0, _q = humanizedFind(ixer, "ui template", { parent: template }); _p < _q.length; _p++) {
            var child = _q[_p];
            this.child((new UI(child.template)).load(child.template, ixer, this));
        }
        return this;
    };
    UI.prototype.children = function (neue, append) {
        if (append === void 0) { append = false; }
        if (!neue)
            return this._children;
        if (!append)
            this._children.length = 0;
        for (var _i = 0; _i < neue.length; _i++) {
            var child = neue[_i];
            var copied = child.copy();
            copied._parent = this;
            this._children.push(copied);
        }
        return this._children;
    };
    UI.prototype.child = function (child, ix, embed) {
        child = child.copy();
        child._parent = this;
        if (embed)
            child.embed(embed);
        if (!ix)
            this._children.push(child);
        else
            this._children.splice(ix, 0, child);
        return child;
    };
    UI.prototype.removeChild = function (ix) {
        return this._children.splice(ix, 1);
    };
    UI.prototype.attributes = function (properties, merge) {
        if (merge === void 0) { merge = false; }
        if (!properties)
            return this._attributes;
        if (!merge) {
            for (var prop in this._attributes)
                delete this._attributes[prop];
        }
        for (var prop in properties)
            this._attributes[prop] = properties[prop];
        return this;
    };
    UI.prototype.attribute = function (property, value) {
        if (value === undefined)
            return this._attributes[property];
        this._attributes[property] = value;
        return this;
    };
    UI.prototype.removeAttribute = function (property) {
        delete this._attributes[property];
        return this;
    };
    UI.prototype.events = function (events, merge) {
        if (merge === void 0) { merge = false; }
        if (!events)
            return this._events;
        if (!merge) {
            for (var event_4 in this._events)
                delete this._events[event_4];
        }
        for (var event_5 in events)
            this._events[event_5] = events[event_5];
        return this;
    };
    UI.prototype.event = function (event, state) {
        if (state === undefined)
            return this._events[event];
        this._attributes[event] = state;
        return this;
    };
    UI.prototype.removeEvent = function (event) {
        delete this._events[event];
        return this;
    };
    UI.prototype.embed = function (scope) {
        if (scope === void 0) { scope = {}; }
        if (!scope) {
            this._embedded = undefined;
            return this;
        }
        if (scope === true)
            scope = {};
        this._embedded = scope;
        return this;
    };
    UI.prototype.bind = function (binding) {
        this._binding = binding;
        return this;
    };
    return UI;
})();
exports.UI = UI;
// @TODO: Finish reference impl.
// @TODO: Then build bit-generating version
var UIRenderer = (function () {
    function UIRenderer(ixer) {
        this.ixer = ixer;
        this.compiled = 0;
        this._tagCompilers = {};
        this._handlers = [];
    }
    UIRenderer.prototype.compile = function (roots) {
        if (utils_1.DEBUG.RENDERER)
            console.group("ui compile");
        var compiledElems = [];
        for (var _i = 0; _i < roots.length; _i++) {
            var root = roots[_i];
            // @TODO: reparent dynamic roots if needed.
            if (typeof root === "string") {
                var elems = this._compileWrapper(root, compiledElems.length);
                compiledElems.push.apply(compiledElems, elems);
                var base = this.ixer.findOne("ui template", { "ui template: template": root });
                if (!base)
                    continue;
                var parent_1 = base["ui template: parent"];
                if (parent_1) {
                    for (var _a = 0; _a < elems.length; _a++) {
                        var elem = elems[_a];
                        elem.parent = parent_1;
                    }
                }
            }
            else {
                if (!root.ix)
                    root.ix = compiledElems.length;
                compiledElems.push(root);
            }
        }
        if (utils_1.DEBUG.RENDERER)
            console.groupEnd();
        return compiledElems;
    };
    UIRenderer.prototype._compileWrapper = function (template, baseIx, constraints, bindingStack, depth) {
        if (constraints === void 0) { constraints = {}; }
        if (bindingStack === void 0) { bindingStack = []; }
        if (depth === void 0) { depth = 0; }
        var elems = [];
        var binding = this.ixer.findOne("ui template binding", { "ui template binding: template": template });
        if (!binding) {
            var elem = this._compileElement(template, bindingStack, depth);
            if (elem)
                elems[0] = elem;
        }
        else {
            var boundQuery = binding["ui template binding: binding"];
            var facts = this.getBoundFacts(boundQuery, constraints);
            var ix = 0;
            for (var _i = 0; _i < facts.length; _i++) {
                var fact = facts[_i];
                bindingStack.push(fact);
                var elem = this._compileElement(template, bindingStack, depth);
                bindingStack.pop();
                if (elem)
                    elems.push(elem);
            }
        }
        elems.sort(function (a, b) { return a.ix - b.ix; });
        var prevIx = undefined;
        for (var _a = 0; _a < elems.length; _a++) {
            var elem = elems[_a];
            elem.ix = elem.ix ? elem.ix + baseIx : baseIx;
            if (elem.ix === prevIx)
                elem.ix++;
            prevIx = elem.ix;
        }
        return elems;
    };
    UIRenderer.prototype._compileElement = function (template, bindingStack, depth) {
        if (utils_1.DEBUG.RENDERER)
            console.log(utils_1.repeat("  ", depth) + "* compile", template);
        var elementToChildren = this.ixer.index("ui template", ["ui template: parent"]);
        var elementToEmbeds = this.ixer.index("ui embed", ["ui embed: parent"]);
        var embedToScope = this.ixer.index("ui embed scope", ["ui embed scope: embed"]);
        var embedToScopeBinding = this.ixer.index("ui embed scope binding", ["ui embed scope binding: embed"]);
        var elementToAttrs = this.ixer.index("ui attribute", ["ui attribute: template"]);
        var elementToAttrBindings = this.ixer.index("ui attribute binding", ["ui attribute binding: template"]);
        var elementToEvents = this.ixer.index("ui event", ["ui event: template"]);
        this.compiled++;
        var base = this.ixer.findOne("ui template", { "ui template: template": template });
        if (!base) {
            console.warn("ui template " + template + " does not exist. Ignoring.");
            return undefined;
        }
        var attrs = elementToAttrs[template];
        var boundAttrs = elementToAttrBindings[template];
        var events = elementToEvents[template];
        // Handle meta properties
        var elem = { _template: template, ix: base["ui template: ix"] };
        // Handle static properties
        if (attrs) {
            for (var _i = 0; _i < attrs.length; _i++) {
                var _a = attrs[_i], prop = _a["ui attribute: property"], val = _a["ui attribute: value"];
                elem[prop] = val;
            }
        }
        // Handle bound properties
        if (boundAttrs) {
            // @FIXME: What do with source?
            for (var _b = 0; _b < boundAttrs.length; _b++) {
                var _c = boundAttrs[_b], prop = _c["ui attribute binding: property"], source = _c["ui attribute binding: source"], alias = _c["ui attribute binding: alias"];
                elem[prop] = this.getBoundValue(source, alias, bindingStack);
            }
        }
        // Attach event handlers
        if (events) {
            for (var _d = 0; _d < events.length; _d++) {
                var event_6 = events[_d]["ui event: event"];
                elem[event_6] = this.generateEventHandler(elem, event_6, bindingStack);
            }
        }
        // Compile children
        var children = elementToChildren[template] || [];
        var embeds = elementToEmbeds[template] || [];
        if (children.length || embeds.length) {
            elem.children = [];
            var childIx = 0, embedIx = 0;
            while (childIx < children.length || embedIx < embeds.length) {
                var child = children[childIx];
                var embed = embeds[embedIx];
                var add = void 0, constraints = {}, childBindingStack = bindingStack;
                if (!embed || child && child.ix <= embed.ix) {
                    add = children[childIx++]["ui template: template"];
                    // Resolve bound aliases into constraints
                    constraints = this.getBoundScope(bindingStack);
                }
                else {
                    add = embeds[embedIx++]["ui embed: template"];
                    for (var _e = 0, _f = embedToScope[embed["ui embed: embed"]] || []; _e < _f.length; _e++) {
                        var scope = _f[_e];
                        constraints[scope["ui embed scope: key"]] = scope["ui embed scope: value"];
                    }
                    for (var _g = 0, _h = embedToScopeBinding[embed["ui embed: embed"]] || []; _g < _h.length; _g++) {
                        var scope = _h[_g];
                        // @FIXME: What do about source?
                        var key = scope["ui embed scope binding: key"], source = scope["ui embed scope binding: source"], alias = scope["ui embed scope binding: alias"];
                        constraints[key] = this.getBoundValue(source, alias, bindingStack);
                    }
                    childBindingStack = [constraints];
                }
                elem.children.push.apply(elem.children, this._compileWrapper(add, elem.children.length, constraints, childBindingStack, depth + 1));
            }
        }
        if (this._tagCompilers[elem.t]) {
            try {
                this._tagCompilers[elem.t](elem);
            }
            catch (err) {
                console.warn("Failed to compile template: '" + template + "' due to '" + err + "' for element '" + JSON.stringify(elem) + "'");
                elem.t = "ui-error";
            }
        }
        return elem;
    };
    UIRenderer.prototype.getBoundFacts = function (query, constraints) {
        return this.ixer.find(query, constraints);
    };
    UIRenderer.prototype.getBoundScope = function (bindingStack) {
        var scope = {};
        for (var _i = 0; _i < bindingStack.length; _i++) {
            var fact = bindingStack[_i];
            for (var alias in fact)
                scope[alias] = fact[alias];
        }
        return scope;
    };
    //@FIXME: What do about source?
    UIRenderer.prototype.getBoundValue = function (source, alias, bindingStack) {
        for (var ix = bindingStack.length - 1; ix >= 0; ix--) {
            var fact = bindingStack[ix];
            if (source in fact && fact[alias])
                return fact[alias];
        }
    };
    UIRenderer.prototype.generateEventHandler = function (elem, event, bindingStack) {
        var template = elem["_template"];
        var memoKey = template + "::" + event;
        var attrKey = event + "::state";
        elem[attrKey] = this.getEventState(template, event, bindingStack);
        if (this._handlers[memoKey])
            return this._handlers[memoKey];
        var self = this;
        if (event === "change" || event === "input") {
            this._handlers[memoKey] = function (evt, elem) {
                var props = {};
                if (elem.t === "select" || elem.t === "input" || elem.t === "textarea")
                    props.value = evt.target.value;
                if (elem.type === "checkbox")
                    props.value = evt.target.checked;
                self.handleEvent(template, event, evt, elem, props);
            };
        }
        else {
            this._handlers[memoKey] = function (evt, elem) {
                self.handleEvent(template, event, evt, elem, {});
            };
        }
        return this._handlers[memoKey];
    };
    UIRenderer.prototype.handleEvent = function (template, eventName, event, elem, eventProps) {
        var attrKey = eventName + "::state";
        var state = elem[attrKey];
        var content = (_a = ["\n      # ", " ({is a: event})\n      ## Meta\n      event target: {event target: ", "}\n      event template: {event template: ", "}\n      event type: {event type: ", "}\n\n      ## State\n    "], _a.raw = ["\n      # ", " ({is a: event})\n      ## Meta\n      event target: {event target: ", "}\n      event template: {event template: ", "}\n      event type: {event type: ", "}\n\n      ## State\n    "], utils_1.unpad(6)(_a, eventName, elem.id, template, eventName));
        if (state["*event*"]) {
            for (var prop in state["*event*"])
                content += prop + ": {" + prop + ": " + eventProps[state["*event*"][prop]] + "}\n";
        }
        for (var prop in state) {
            if (prop === "*event*")
                continue;
            content += prop + ": {" + prop + ": " + state[prop] + "}\n";
        }
        var changeset = this.ixer.diff();
        var raw = utils_1.uuid();
        var entity = eventName + " event " + raw.slice(-12);
        changeset.add("builtin entity", { entity: entity, content: content });
        this.ixer.applyDiff(changeset);
        console.log(entity);
        var _a;
    };
    UIRenderer.prototype.getEventState = function (template, event, bindingStack) {
        var state = {};
        var staticAttrs = this.ixer.find("ui event state", { "ui event state: template": template, "ui event state: event": event });
        for (var _i = 0; _i < staticAttrs.length; _i++) {
            var _a = staticAttrs[_i], key = _a["ui event state: key"], val = _a["ui event state: value"];
            state[key] = val;
        }
        var boundAttrs = this.ixer.find("ui event state binding", { "ui event state binding: template": template, "ui event state binding: event": event });
        for (var _b = 0; _b < boundAttrs.length; _b++) {
            var _c = boundAttrs[_b], key = _c["ui event state binding: key"], source = _c["ui event state binding: source"], alias = _c["ui event state binding: alias"];
            if (source === "*event*") {
                state["*event*"] = state["*event*"] || {};
                state["*event*"][key] = alias;
            }
            else {
                state[key] = this.getBoundValue(source, alias, bindingStack);
            }
        }
        return state;
    };
    return UIRenderer;
})();
exports.UIRenderer = UIRenderer;
if (this.window)
    window["uiRenderer"] = exports;

},{"./runtime":8,"./utils":12}],12:[function(require,module,exports){
var uuid_1 = require("../vendor/uuid");
exports.uuid = uuid_1.v4;
exports.ENV = "browser";
try {
    window;
}
catch (err) {
    exports.ENV = "node";
}
exports.DEBUG = {};
if (exports.ENV === "browser")
    window["DEBUG"] = exports.DEBUG;
exports.unpad = function (indent) {
    if (exports.unpad.memo[indent])
        return exports.unpad.memo[indent];
    return exports.unpad.memo[indent] = function (strings) {
        var values = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            values[_i - 1] = arguments[_i];
        }
        if (!strings.length)
            return;
        var res = "";
        var ix = 0;
        for (var _a = 0; _a < strings.length; _a++) {
            var str = strings[_a];
            res += str + (values.length > ix ? values[ix++] : "");
        }
        if (res[0] === "\n")
            res = res.slice(1);
        var charIx = 0;
        while (true) {
            res = res.slice(0, charIx) + res.slice(charIx + indent);
            charIx = res.indexOf("\n", charIx) + 1;
            if (!charIx)
                break;
        }
        return res;
    };
};
exports.unpad.memo = {};
function repeat(str, length) {
    var len = length / str.length;
    var res = "";
    for (var ix = 0; ix < len; ix++)
        res += str;
    return (res.length > length) ? res.slice(0, length) : res;
}
exports.repeat = repeat;
function underline(startIx, length) {
    return repeat(" ", startIx) + "^" + repeat("~", length - 1);
}
exports.underline = underline;
function capitalize(word) {
    return word[0].toUpperCase() + word.slice(1);
}
exports.capitalize = capitalize;
function titlecase(name) {
    return name.split(" ").map(capitalize).join(" ");
}
exports.titlecase = titlecase;
exports.string = {
    unpad: exports.unpad,
    repeat: repeat,
    underline: underline,
    capitalize: capitalize,
    titlecase: titlecase
};
function tail(arr) {
    return arr[arr.length - 1];
}
exports.tail = tail;
exports.array = {
    tail: tail
};
function coerceInput(input) {
    // http://jsperf.com/regex-vs-plus-coercion
    if (!isNaN(+input))
        return +input;
    else if (input === "true")
        return true;
    else if (input === "false")
        return false;
    return input;
}
exports.coerceInput = coerceInput;
// Shallow copy the given object.
function copy(obj) {
    if (!obj || typeof obj !== "object")
        return obj;
    if (obj instanceof Array)
        return obj.slice();
    var res = {};
    for (var key in obj)
        res[key] = obj[key];
    return res;
}
exports.copy = copy;

},{"../vendor/uuid":17}],13:[function(require,module,exports){
"use strict";
var marked_1 = require("../vendor/marked");
var runtime = require("./runtime");
var queryParser_1 = require("./queryParser");
var app_1 = require("./app");
var app = require("./app");
var microReact = require("./microReact");
var utils = require("./utils");
var ui = require("./ui");
var MAX_NUMBER = runtime.MAX_NUMBER;
//---------------------------------------------------------
// Entity
//---------------------------------------------------------
exports.coerceInput = utils.coerceInput;
var breaks = /[{}\|:\n#"]/;
var types = {
    "#": "header",
    "{": "link open",
    "}": "link close",
    ":": "assignment",
    "\"": "text",
};
function tokenize(entity) {
    var line = 0;
    var ix = 0;
    var len = entity.length;
    var tokens = [];
    var cur = { ix: ix, line: line, type: "text", text: "" };
    for (; ix < len; ix++) {
        var ch = entity[ix];
        if (ch.match(breaks)) {
            var type = types[ch];
            if (type === "text") {
                ch = entity[++ix];
                while (ch && ch !== "\"") {
                    if (ch === "\n")
                        line++;
                    cur.text += ch;
                    ch = entity[++ix];
                }
                tokens.push(cur);
                ix++;
                cur = { ix: ix + 1, line: line, type: "text", text: "" };
                continue;
            }
            if (ch === "\n")
                line++;
            if (cur.text !== "" || cur.line !== line) {
                tokens.push(cur);
            }
            if (ch === "\n") {
                cur = { ix: ix + 1, line: line, type: "text", text: "" };
                continue;
            }
            cur = { ix: ix, line: line, type: type, text: ch };
            tokens.push(cur);
            if (types[cur.text]) {
                cur.type = types[cur.text];
            }
            if (type === "header") {
                //trim the next character if it's a space between the header indicator
                //and the text;
                if (entity[ix + 1] === " ")
                    ix++;
            }
            cur = { ix: ix + 1, line: line, type: "text", text: "" };
        }
        else {
            cur.text += ch;
        }
    }
    tokens.push(cur);
    return tokens;
}
function parse(tokens) {
    var links = [];
    var eavs = [];
    var collections = [];
    var state = { items: [] };
    var lines = [];
    var line;
    var lineIx = -1;
    for (var _i = 0; _i < tokens.length; _i++) {
        var token = tokens[_i];
        if (token.line !== lineIx) {
            // this accounts for blank lines.
            while (lineIx < token.line) {
                line = { ix: token.line, header: false, items: [] };
                lines.push(line);
                lineIx++;
            }
        }
        var type = token.type;
        switch (type) {
            case "header":
                line.header = true;
                break;
            case "link open":
                state.capturing = true;
                state.mode = "link";
                state.items.push(token);
                break;
            case "link close":
                state.items.push(token);
                state.type = "link";
                if (state.mode === "assignment") {
                    if (state.attribute === "is a") {
                        state.type = "collection";
                        state.link = state.value;
                    }
                    else {
                        state.type = "eav";
                    }
                    eavs.push(state);
                }
                else {
                    state.type = "eav";
                    state.attribute = "generic related to";
                    state.value = state.link;
                    eavs.push(state);
                }
                line.items.push(state);
                state = { items: [] };
                break;
            case "assignment":
                if (!state.capturing) {
                    token.type = "text";
                    line.items.push(token);
                    break;
                }
                state.mode = "assignment";
                state.attribute = state.link;
                break;
            case "text":
                if (!state.capturing) {
                    line.items.push(token);
                }
                else if (state.mode === "link") {
                    state.link = token.text.trim();
                    state.items.push(token);
                }
                else if (state.mode === "assignment") {
                    state.value = exports.coerceInput(token.text.trim());
                    state.items.push(token);
                }
                break;
        }
    }
    return { lines: lines, links: links, collections: collections, eavs: eavs };
}
var parseCache;
function parseEntity(entityId, content) {
    if (!parseCache)
        parseCache = {};
    var cached = parseCache[entityId];
    if (!cached || cached[0] !== content) {
        cached = parseCache[entityId] = [content, parse(tokenize(content))];
    }
    return cached[1];
}
function CodeMirrorElement(node, elem) {
    var cm = node.editor;
    if (!cm) {
        cm = node.editor = new CodeMirror(node, {
            mode: "gfm",
            lineWrapping: true,
            extraKeys: {
                "Cmd-Enter": function (cm) {
                    var latest = app.renderer.tree[elem.id];
                    commitEntity(cm, latest);
                },
                "Ctrl-Enter": function (cm) {
                    var latest = app.renderer.tree[elem.id];
                    commitEntity(cm, latest);
                }
            }
        });
        if (elem.onInput) {
            cm.on("change", elem.onInput);
        }
        if (elem.keydown) {
            cm.on("keydown", function (cm) { elem.keydown(cm, elem); });
        }
        if (elem.blur) {
            cm.on("blur", function (cm) { elem.blur(cm, elem); });
        }
        cm.focus();
    }
    if (cm.getValue() !== elem.value) {
        cm.setValue(elem.value);
    }
}
function NewBitEditor(node, elem) {
    var cm = node.editor;
    if (!cm) {
        cm = node.editor = new CodeMirror(node, {
            mode: "gfm",
            lineWrapping: true,
            extraKeys: {
                "Cmd-Enter": function (cm) {
                    var latest = app.renderer.tree[elem.id];
                    submitAction(cm, latest);
                },
                "Ctrl-Enter": function (cm) {
                    var latest = app.renderer.tree[elem.id];
                    submitAction(cm, latest);
                }
            }
        });
        if (elem.onInput) {
            cm.on("change", elem.onInput);
        }
        if (elem.keydown) {
            cm.on("keydown", function (cm) { elem.keydown(cm, elem); });
        }
        if (elem.blur) {
            cm.on("blur", function (cm) { elem.blur(cm, elem); });
        }
        cm.focus();
        cm.setValue("\n");
        // create a line widget
        var widget = document.createElement("div");
        widget.className = "header-line";
        cm.addLineWidget(0, widget);
        cm.addLineClass(0, "text", "header");
    }
    if (cm.getValue() !== elem.value) {
        cm.setValue(elem.value);
    }
}
function CMSearchBox(node, elem) {
    var cm = node.editor;
    if (!cm) {
        var state = { marks: [] };
        cm = node.editor = new CodeMirror(node, {
            lineWrapping: true,
            extraKeys: {
                "Enter": function (cm) {
                    var latest = app.renderer.tree[elem.id];
                    app.dispatch("setSearch", { value: cm.getValue(), searchId: latest.searchId }).commit();
                }
            }
        });
        cm.on("change", function (cm) {
            var value = cm.getValue();
            var tokens = queryParser_1.getTokens(value);
            for (var _i = 0, _a = state.marks; _i < _a.length; _i++) {
                var mark = _a[_i];
                mark.clear();
            }
            state.marks = [];
            for (var _b = 0; _b < tokens.length; _b++) {
                var token = tokens[_b];
                var start = cm.posFromIndex(token.pos);
                var stop = cm.posFromIndex(token.pos + token.orig.length);
                state.marks.push(cm.markText(start, stop, { className: queryParser_1.TokenTypes[token.type].toLowerCase() }));
            }
        });
        cm.focus();
    }
    if (cm.getValue() !== elem.value) {
        cm.setValue(elem.value);
    }
}
function entityToGraph(entityId, content) {
    var parsed = parseEntity(entityId, content);
    var links = [];
    for (var _i = 0, _a = parsed.links; _i < _a.length; _i++) {
        var link = _a[_i];
        links.push({ link: link.link.toLowerCase(), type: (link.linkType || "unknown").toLowerCase() });
    }
    for (var _b = 0, _c = parsed.collections; _b < _c.length; _b++) {
        var collection = _c[_b];
        links.push({ link: collection.link.toLowerCase(), type: "collection" });
    }
    return links;
}
//---------------------------------------------------------
// Wiki
//---------------------------------------------------------
var dragging = null;
app.handle("startEditingEntity", function (result, info) {
    result.add("editing", { editing: true, search: info.searchId });
});
app.handle("stopEditingEntity", function (result, info) {
    if (!app_1.eve.findOne("editing"))
        return;
    result.remove("editing");
    var entity = info.entity, value = info.value;
    entity = entity.trim().toLowerCase();
    if (!entity)
        return;
    var blockId = entity + "|manual content block";
    if (!app_1.eve.findOne("manual eav", { entity: blockId })) {
        result.add("manual eav", { entity: blockId, attribute: "is a", value: "content block" });
        result.add("manual eav", { entity: blockId, attribute: "source", value: "manual" });
        result.add("manual eav", { entity: blockId, attribute: "associated entity", value: entity });
    }
    else {
        result.remove("manual eav", { entity: blockId, attribute: "content" });
    }
    result.add("manual eav", { entity: blockId, attribute: "content", value: value });
});
app.handle("setSearch", function (result, info) {
    var searchId = info.searchId;
    var search = app_1.eve.findOne("search query", { id: searchId })["search"];
    if (search === info.value)
        return;
    if (!app_1.eve.findOne("history stack", { entity: search })) {
        var stack = app_1.eve.find("history stack");
        result.add("history stack", { entity: search, pos: stack.length });
    }
    var newSearchValue = info.value.trim();
    app.activeSearches[searchId] = queryParser_1.queryToExecutable(newSearchValue);
    result.remove("builtin search query", { id: searchId });
    result.add("builtin search query", { id: searchId, search: newSearchValue });
});
app.handle("submitAction", function (result, info) {
    var searchId = info.searchId;
    var search = app_1.eve.findOne("search query", { id: searchId })["search"];
    result.merge(saveSearch(search, app.activeSearches[searchId].executable));
    if (info.type === "attribute") {
        if (!info.entity || !info.attribute || !info.value)
            return;
        result.merge(addEavAction(search, info.entity, info.attribute, info.value));
    }
    else if (info.type === "collection") {
        result.merge(addToCollectionAction(search, info.entity, info.collection));
    }
    else if (info.type === "bit") {
        var template = info.template.trim();
        if (template[0] !== "#") {
            template = "# " + template;
        }
        result.merge(addBitAction(search, template));
    }
});
app.handle("addNewSearch", function (result, info) {
    var id = uuid();
    var search = info.search || "";
    app.activeSearches[id] = queryParser_1.queryToExecutable(search);
    result.add("builtin search", { id: id, top: info.top || 100, left: info.left || 100 });
    result.add("builtin search query", { id: id, search: search });
});
app.handle("addNewSyntaxSearch", function (result, info) {
    var id = uuid();
    var code = info.search || "";
    result.add("builtin syntax search", { id: id, top: info.top || 100, left: info.left || 100 });
    result.add("builtin syntax search code", { id: id, code: code });
});
app.handle("removeSearch", function (result, info) {
    var searchId = info.searchId;
    if (!searchId)
        return;
    result.remove("builtin search", { id: searchId });
    result.remove("builtin search query", { id: searchId });
    result.remove("builtin syntax search", { id: searchId });
    result.remove("builtin syntax search code", { id: searchId });
    for (var _i = 0, _a = app_1.eve.find("builtin syntax search view", { id: searchId }); _i < _a.length; _i++) {
        var view = _a[_i];
        var diff_1 = removeView(view.view);
        result.merge(diff_1);
    }
    result.remove("builtin syntax search view", { id: searchId });
    result.remove("builtin syntax search error", { id: searchId });
    app.activeSearches[searchId] = null;
});
app.handle("startAddingAction", function (result, info) {
    result.remove("adding action");
    result.add("adding action", { type: info.type, search: info.searchId });
});
app.handle("stopAddingAction", function (result, info) {
    result.remove("adding action");
});
app.handle("removeAction", function (result, info) {
    if (info.type === "eav") {
        result.merge(removeAddEavAction(info.actionId));
    }
    else if (info.type === "collection") {
        result.merge(removeAddToCollectionAction(info.actionId));
    }
    else if (info.type === "bit") {
        result.merge(removeAddBitAction(info.actionId));
    }
});
app.handle("startDragging", function (result, info) {
    var searchId = info.searchId, x = info.x, y = info.y;
    var pos = app_1.eve.findOne("search", { id: searchId });
    if (!pos) {
        pos = app_1.eve.findOne("builtin syntax search", { id: searchId });
    }
    dragging = { id: searchId, offsetTop: y - pos.top, offsetLeft: x - pos.left, action: info.action || "moveSearch" };
});
app.handle("stopDragging", function (result, info) {
    dragging = null;
});
app.handle("moveSearch", function (result, info) {
    var searchId = info.searchId, x = info.x, y = info.y;
    if (app_1.eve.findOne("builtin search", { id: searchId })) {
        result.remove("builtin search", { id: searchId });
        result.add("builtin search", { id: searchId, top: y - dragging.offsetTop, left: x - dragging.offsetLeft });
    }
    else {
        result.remove("builtin syntax search", { id: searchId });
        result.add("builtin syntax search", { id: searchId, top: y - dragging.offsetTop, left: x - dragging.offsetLeft });
    }
});
app.handle("resizeSearch", function (result, info) {
    var searchId = info.searchId, x = info.x, y = info.y;
    var type = "builtin search size";
    var pos = app_1.eve.findOne("builtin search", { id: searchId });
    if (!pos) {
        pos = app_1.eve.findOne("builtin syntax search", { id: searchId });
    }
    result.remove("builtin search size", { id: searchId });
    var height = y - pos.top + 5;
    var width = x - pos.left + 5;
    if (width <= 100) {
        width = 100;
    }
    if (height <= 100) {
        height = 100;
    }
    result.add(type, { id: searchId, width: width, height: height });
});
app.handle("toggleShowPlan", function (result, info) {
    if (app_1.eve.findOne("showPlan", { search: info.searchId })) {
        result.remove("showPlan", { search: info.searchId });
    }
    else {
        result.add("showPlan", { search: info.searchId });
    }
});
function root() {
    if (window["slides"])
        return window["slides"].root();
    else if (window["NEUE_UI"])
        return ui.root();
    else
        return eveRoot();
}
exports.root = root;
function eveRoot() {
    var searchers = [];
    for (var _i = 0, _a = app_1.eve.find("search"); _i < _a.length; _i++) {
        var search = _a[_i];
        searchers.push(newSearchResults(search.id));
    }
    for (var _b = 0, _c = app_1.eve.find("builtin syntax search"); _b < _c.length; _b++) {
        var search = _c[_b];
        searchers.push(syntaxSearch(search.id));
    }
    return { id: "root", c: "root", dblclick: addNewSearch, children: [
            //       slideControls(),
            { c: "canvas", mousemove: maybeDrag, mouseup: stopDragging, children: searchers },
        ] };
}
exports.eveRoot = eveRoot;
function maybeDrag(e, elem) {
    if (dragging) {
        app.dispatch(dragging.action, { searchId: dragging.id, x: e.clientX, y: e.clientY }).commit();
        e.preventDefault();
    }
}
function addNewSearch(e, elem) {
    if (e.target.classList.contains("canvas")) {
        if (e.shiftKey) {
            app.dispatch("addNewSyntaxSearch", { top: e.clientY, left: e.clientX }).commit();
        }
        else {
            app.dispatch("addNewSearch", { top: e.clientY, left: e.clientX }).commit();
        }
        e.preventDefault();
    }
}
function injectEmbeddedSearches(node, elem) {
    var embedded = node.querySelectorAll("[data-embedded-search]");
    for (var _i = 0; _i < embedded.length; _i++) {
        var embed = embedded[_i];
        var search = void 0, searchId = void 0, searchText = embed.getAttribute("data-embedded-search");
        for (var id in app.activeSearches) {
            if (app.activeSearches[id].text === searchText) {
                searchId = id;
                break;
            }
        }
        if (searchId)
            search = app.activeSearches[searchId];
        else {
            searchId = uuid();
            search = app.activeSearches[searchId] = queryParser_1.queryToExecutable(searchText);
        }
        // @FIXME: Horrible, horrible kludge.
        var subRenderer = new microReact.Renderer();
        var contents = entityContents(elem["searchId"], searchId, search);
        subRenderer.render(contents.elems);
        var node_1 = subRenderer.content;
        if (contents.inline) {
            embed.classList.add("inline");
            var inlineContainer = document.createElement("span");
            while (node_1.children.length) {
                inlineContainer.appendChild(node_1.firstChild);
            }
            node_1 = inlineContainer;
        }
        embed.appendChild(node_1);
    }
}
var markedEntityRenderer = new marked_1.Renderer();
markedEntityRenderer.heading = function (text, level) {
    return "<h" + level + ">" + text + "</h" + level + ">"; // override auto-setting an id based on content.
};
function entityToHTML(entityId, searchId, content, passthrough) {
    var md = marked_1.parse(content, { breaks: true, renderer: markedEntityRenderer });
    var ix = md.indexOf("{");
    var queryCount = 0;
    var stack = [];
    while (ix !== -1) {
        if (md[ix - 1] === "\\") {
            md = md.slice(0, ix - 1) + md.slice(ix);
            ix--;
        }
        else if (md[ix] === "{")
            stack.push(ix);
        else if (md[ix] === "}") {
            var startIx = stack.pop();
            var content_1 = md.slice(startIx + 1, ix);
            var colonIx = content_1.indexOf(":");
            var value = (colonIx !== -1 ? content_1.slice(colonIx + 1) : content_1).trim();
            var replacement = void 0;
            var type = "attribute";
            if (app_1.eve.findOne("collection", { collection: value.toLowerCase() }))
                type = "collection";
            else if (app_1.eve.findOne("entity", { entity: value.toLowerCase() }))
                type = "entity";
            else if (passthrough && passthrough.indexOf(value) !== -1)
                type = "passthrough";
            else if (colonIx === -1)
                type = "query";
            if (type === "attribute") {
                var attr = content_1.slice(0, colonIx).trim();
                replacement = "<span class=\"attribute\" data-attribute=\"" + attr + "\">" + value + "</span>";
            }
            else if (type === "entity") {
                var attr = content_1.slice(0, colonIx !== -1 ? colonIx : undefined).trim();
                var onClick = "app.dispatch('setSearch', {value: '" + value + "', searchId: '" + searchId + "'}).commit();";
                replacement = "<a class=\"link attribute entity\" data-attribute=\"" + attr + "\" onclick=\"" + onClick + "\">" + value + "</a>";
            }
            else if (type === "collection") {
                var attr = content_1.slice(0, colonIx !== -1 ? colonIx : undefined).trim();
                var onClick = "app.dispatch('setSearch', {value: '" + value + "', searchId: '" + searchId + "'}).commit();";
                replacement = "<a class=\"link attribute collection\" data-attribute=\"" + attr + "\" onclick=\"" + onClick + "\">" + value + "</a>";
            }
            else if (type === "query") {
                //throw new Error("@TODO: Implement embedded projections");
                // add postRender to newSearch pane container that checks for data-search attribute. If it exists, compile the search template for each of them and insert.
                var containerId = searchId + "|" + content_1 + "|" + queryCount++;
                replacement = "<span class=\"embedded-query search-results\" id=\"" + containerId + "\" data-embedded-search=\"" + content_1 + "\"></span>";
            }
            if (type !== "passthrough") {
                md = md.slice(0, startIx) + replacement + md.slice(ix + 1);
                ix += replacement.length - content_1.length - 2;
            }
        }
        else {
            throw new Error("Unexpected character '" + md[ix] + "' at index " + ix);
        }
        // @NOTE: There has got to be a more elegant solution for (min if > 0) here.
        var nextCloseIx = md.indexOf("}", ix + 1);
        var nextOpenIx = md.indexOf("{", ix + 1);
        if (nextCloseIx === -1)
            ix = nextOpenIx;
        else if (nextOpenIx === -1)
            ix = nextCloseIx;
        else if (nextCloseIx < nextOpenIx)
            ix = nextCloseIx;
        else
            ix = nextOpenIx;
    }
    return md;
}
function entityUi(entityId, instance, searchId) {
    if (instance === void 0) { instance = ""; }
    var entityBlocks = app_1.eve.find("content blocks", { entity: entityId });
    var entityViews = [];
    for (var _i = 0; _i < entityBlocks.length; _i++) {
        var block = entityBlocks[_i];
        var isManual = app_1.eve.findOne("entity eavs", { entity: block.block, attribute: "source", value: "manual" });
        var entityView = void 0;
        if (isManual) {
            if (!app_1.eve.findOne("editing", { search: searchId })) {
                entityView = {
                    id: "" + block.block + instance,
                    c: "entity",
                    searchId: searchId,
                    entity: entityId,
                    dangerouslySetInnerHTML: entityToHTML(entityId, searchId, block.content),
                    postRender: injectEmbeddedSearches,
                    dblclick: editEntity
                };
            }
            else {
                entityView = { id: "" + block.block + instance + "|editor", c: "entity editor", entity: entityId, searchId: searchId, postRender: CodeMirrorElement, value: block.content, blur: commitEntity };
            }
            entityViews.unshift(entityView);
        }
        else {
            var source = app_1.eve.findOne("entity eavs", { entity: block.block, attribute: "source" }).value;
            //strip the header
            var content = block.content;
            content = content.substring(content.indexOf("\n"));
            var children = [{ dangerouslySetInnerHTML: entityToHTML(entityId, searchId, content) }];
            children.push({ c: "source-link ion-help", text: "", click: followLink, linkText: source, searchId: searchId });
            entityView = { id: "" + block.block + instance, c: "entity generated", searchId: searchId, entity: entityId, children: children };
            entityViews.push(entityView);
        }
    }
    if (entityViews.length === 0) {
        if (!app_1.eve.findOne("editing", { search: searchId })) {
            entityViews.push({ id: "" + entityId + instance, c: "entity", searchId: searchId, entity: entityId, children: [{ c: "placeholder", text: "Add a description" }], dblclick: editEntity });
        }
        else {
            entityViews.push({ id: "" + entityId + instance + "|editor", c: "entity editor", entity: entityId, searchId: searchId, postRender: CodeMirrorElement, value: "", blur: commitEntity });
        }
    }
    var relatedBits = [];
    for (var _a = 0, _b = app_1.eve.find("entity links", { link: entityId }); _a < _b.length; _a++) {
        var incoming = _b[_a];
        if (incoming.entity === entityId)
            continue;
        if (app_1.eve.findOne("entity eavs", { entity: incoming.entity, attribute: "is a", value: "content block" }))
            continue;
        if (app_1.eve.findOne("entity eavs", { entity: incoming.entity, attribute: "is a", value: entityId }))
            continue;
        relatedBits.push({ c: "entity link", click: followLink, searchId: searchId, linkText: incoming.entity, text: incoming.entity });
    }
    if (relatedBits.length) {
        entityViews.push({ c: "entity related-bits", children: [
                { text: "Related cards: " },
                { c: "related-list", children: relatedBits }
            ] });
    }
    return { c: "entity-container", children: [
            { c: "entity-blocks", children: entityViews },
        ] };
}
function searchDescription(tokens, plan) {
    var planChildren = [];
    for (var _i = 0; _i < plan.length; _i++) {
        var step = plan[_i];
        if (step.type === queryParser_1.StepType.GATHER) {
            var related = step.relatedTo ? "related to those" : "";
            var coll = "anything";
            if (step.subject) {
                coll = pluralize(step.subject, 2);
            }
            planChildren.push({ c: "text collection", text: "gather " + coll + " " + related });
        }
        else if (step.type === queryParser_1.StepType.INTERSECT) {
            if (step.deselected) {
                planChildren.push({ c: "text", text: "remove the " + pluralize(step.subject, 2) });
            }
            else {
                planChildren.push({ c: "text", text: "keep only the " + pluralize(step.subject, 2) });
            }
        }
        else if (step.type === queryParser_1.StepType.LOOKUP) {
            planChildren.push({ c: "text attribute", text: "lookup " + step.subject });
        }
        else if (step.type === queryParser_1.StepType.FIND) {
            planChildren.push({ c: "text entity", text: "find " + step.subject });
        }
        else if (step.type === queryParser_1.StepType.FILTERBYENTITY) {
            if (step.deselected) {
                planChildren.push({ c: "text entity", text: "remove anything related to " + step.subject });
            }
            else {
                planChildren.push({ c: "text entity", text: "related to " + step.subject });
            }
        }
        else if (step.type === queryParser_1.StepType.FILTER) {
            planChildren.push({ c: "text operation", text: "filter those by " + step.subject });
        }
        else if (step.type === queryParser_1.StepType.SORT) {
            planChildren.push({ c: "text operation", text: "sort them" });
        }
        else if (step.type === queryParser_1.StepType.GROUP) {
            planChildren.push({ c: "text operation", text: "group them" });
        }
        else if (step.type === queryParser_1.StepType.LIMIT) {
            var limit = void 0;
            if (step.limit.results) {
                limit = "to " + step.limit.results + " results";
            }
            else {
                limit = "to " + step.limit.perGroup + " items per group";
            }
            planChildren.push({ c: "text operation", text: "limit " + limit });
        }
        else if (step.type === queryParser_1.StepType.CALCULATE) {
            planChildren.push({ c: "text operation", text: "calculate " + step.func });
        }
        else if (step.type === queryParser_1.StepType.AGGREGATE) {
            planChildren.push({ c: "text operation", text: "" + step.subject });
        }
        else {
            planChildren.push({ c: "text", text: step.type + "->" });
        }
    }
    planChildren.unshift();
    return { c: "plan-container", children: [
            { c: "description", text: "Search plan:" },
            { c: "search-plan", children: planChildren }
        ] };
}
function entityContents(paneId, searchId, search) {
    var plan = search.plan;
    if (!plan.length)
        return { inline: true, elems: [{ t: "span", c: "link", text: search.queryString, linkText: search.queryString, click: followLink, searchId: paneId }] };
    var contents = [];
    var singleton = true;
    if (plan.length === 1 && (plan[0].type === queryParser_1.StepType.FIND || plan[0].type === queryParser_1.StepType.GATHER)) {
        contents.push({ c: "singleton", children: [entityUi(plan[0].subject || plan[0].subject, searchId, searchId)] });
    }
    else
        singleton = false;
    // If we're just looking up an attribute for a specific entity, embed that value
    if (plan.length === 2 && plan[0].type === queryParser_1.StepType.FIND && plan[1].type === queryParser_1.StepType.LOOKUP) {
        var results_1 = search.executable.exec();
        var text;
        if (!results_1.results.length) {
            text = "('" + search.queryString + "' was not found)";
        }
        else {
            text = results_1.results[0][plan[1].name];
        }
        return { inline: true, elems: [{ t: "span", c: "attribute", text: text }] };
    }
    if (singleton)
        return { elems: contents };
    var resultItems = [];
    contents.push({ c: "results", id: "root", children: resultItems });
    var headers = [];
    // figure out what the headers are
    for (var _i = 0; _i < plan.length; _i++) {
        var step = plan[_i];
        if (step.type === queryParser_1.StepType.FILTERBYENTITY || step.type === queryParser_1.StepType.INTERSECT)
            continue;
        if (step.size === 0)
            continue;
        headers.push({ text: step.name });
    }
    var groupedFields = {};
    // figure out what fields are grouped, if any
    for (var _a = 0; _a < plan.length; _a++) {
        var step = plan[_a];
        if (step.type === queryParser_1.StepType.GROUP) {
            groupedFields[step.subjectNode.name] = true;
        }
        else if (step.type === queryParser_1.StepType.AGGREGATE) {
            groupedFields[step.name] = true;
        }
    }
    var results = search.executable.exec();
    var groupInfo = results.groupInfo;
    var planLength = plan.length;
    var itemClass = planLength > 1 ? " bit" : " link list-item";
    row: for (var ix = 0, len = results.unprojected.length; ix < len; ix += search.executable.unprojectedSize) {
        if (groupInfo && ix > groupInfo.length)
            break;
        if (groupInfo && groupInfo[ix] === undefined)
            continue;
        // Get content row to insert into
        var resultItem = void 0;
        if (groupInfo && resultItems[groupInfo[ix]])
            resultItem = resultItems[groupInfo[ix]];
        else if (groupInfo)
            resultItem = resultItems[groupInfo[ix]] = { c: "path", children: [] };
        else {
            resultItem = { c: "path", children: [] };
            resultItems.push(resultItem);
        }
        var planOffset = 0;
        for (var planIx = 0; planIx < planLength; planIx++) {
            var planItem = plan[planIx];
            var item = void 0, id = searchId + " " + ix + " " + planIx;
            if (planItem.size) {
                var resultPart = results.unprojected[ix + planOffset + planItem.size - 1];
                if (!resultPart)
                    continue row;
                var text, klass, click, link;
                if (planItem.type === queryParser_1.StepType.GATHER) {
                    item = { id: id, c: itemClass + " entity bit", text: resultPart["entity"], click: followLink, searchId: paneId, linkText: resultPart["entity"] };
                }
                else if (planItem.type === queryParser_1.StepType.LOOKUP) {
                    item = { id: id, c: itemClass + " attribute", text: resultPart["value"] };
                }
                else if (planItem.type === queryParser_1.StepType.AGGREGATE) {
                    item = { id: id, c: itemClass + " value", text: resultPart[planItem.name] };
                }
                else if (planItem.type === queryParser_1.StepType.FILTERBYENTITY || planItem.type === queryParser_1.StepType.INTERSECT) {
                }
                else if (planItem.type === queryParser_1.StepType.CALCULATE) {
                    item = { id: id, c: itemClass + " value", text: resultPart["result"] };
                }
                else {
                    item = { id: id, c: itemClass, text: JSON.stringify(resultPart) };
                }
                if (item) {
                    if (groupedFields[planItem.name] && !resultItem.children[planIx]) {
                        resultItem.children[planIx] = { c: "sub-group", children: [item] };
                    }
                    else if (!groupedFields[planItem.name] && !resultItem.children[planIx]) {
                        resultItem.children[planIx] = { c: "sub-group", children: [item] };
                    }
                    else if (!groupedFields[planItem.name]) {
                        resultItem.children[planIx].children.push(item);
                    }
                    if (planLength === 1)
                        resultItem.c = "path list-row";
                }
                planOffset += planItem.size;
            }
        }
    }
    resultItems.unshift({ c: "search-headers", children: headers });
    return { elems: contents };
}
exports.entityContents = entityContents;
function newSearchResults(searchId) {
    var _a = app_1.eve.findOne("search", { id: searchId }), top = _a.top, left = _a.left;
    var search = app_1.eve.findOne("search query", { id: searchId })["search"];
    var _b = app.activeSearches[searchId], tokens = _b.tokens, plan = _b.plan, executable = _b.executable;
    var resultItems = [];
    var groupedFields = {};
    if (executable && plan.length && (plan.length > 1 || plan[0].type === queryParser_1.StepType.GATHER)) {
        // figure out what fields are grouped, if any
        for (var _i = 0; _i < plan.length; _i++) {
            var step = plan[_i];
            if (step.type === queryParser_1.StepType.GROUP) {
                groupedFields[step.subjectNode.name] = true;
            }
            else if (step.type === queryParser_1.StepType.AGGREGATE) {
                groupedFields[step.name] = true;
            }
        }
        var results = executable.exec();
        var groupInfo = results.groupInfo;
        var planLength = plan.length;
        row: for (var ix = 0, len = results.unprojected.length; ix < len; ix += executable.unprojectedSize) {
            if (groupInfo && ix > groupInfo.length)
                break;
            if (groupInfo && groupInfo[ix] === undefined)
                continue;
            var resultItem = void 0;
            if (groupInfo && !resultItems[groupInfo[ix]]) {
                resultItem = resultItems[groupInfo[ix]] = { c: "path", children: [] };
            }
            else if (!groupInfo) {
                resultItem = { c: "path", children: [] };
                resultItems.push(resultItem);
            }
            else {
                resultItem = resultItems[groupInfo[ix]];
            }
            var planOffset = 0;
            for (var planIx = 0; planIx < planLength; planIx++) {
                var planItem = plan[planIx];
                if (planItem.size) {
                    var resultPart = results.unprojected[ix + planOffset + planItem.size - 1];
                    if (!resultPart)
                        continue row;
                    var text = void 0, klass = void 0, click = void 0, link = void 0;
                    if (planItem.type === queryParser_1.StepType.GATHER) {
                        text = resultPart["entity"];
                        klass = "entity";
                        click = followLink;
                        link = resultPart["entity"];
                    }
                    else if (planItem.type === queryParser_1.StepType.LOOKUP) {
                        text = resultPart["value"];
                        klass = "attribute";
                    }
                    else if (planItem.type === queryParser_1.StepType.AGGREGATE) {
                        text = resultPart[planItem.subject];
                        klass = "value";
                    }
                    else if (planItem.type === queryParser_1.StepType.FILTERBYENTITY || planItem.type === queryParser_1.StepType.INTERSECT) {
                    }
                    else if (planItem.type === queryParser_1.StepType.CALCULATE) {
                        text = JSON.stringify(resultPart.result);
                        klass = "value";
                    }
                    else {
                        text = JSON.stringify(resultPart);
                    }
                    if (text !== undefined) {
                        klass += planLength > 1 ? " bit" : " link list-item";
                        var item = { id: searchId + " " + ix + " " + planIx, c: "" + klass, text: text, click: click, searchId: searchId, linkText: link };
                        if (groupedFields[planItem.name] && !resultItem.children[planIx]) {
                            resultItem.children[planIx] = { c: "sub-group", children: [item] };
                        }
                        else if (!groupedFields[planItem.name] && !resultItem.children[planIx]) {
                            resultItem.children[planIx] = { c: "sub-group", children: [item] };
                        }
                        else if (!groupedFields[planItem.name]) {
                            resultItem.children[planIx].children.push(item);
                        }
                        if (planLength === 1) {
                            resultItem.c = "path list-row";
                        }
                    }
                    planOffset += planItem.size;
                }
            }
        }
    }
    var entityContent = [];
    var noHeaders = false;
    if (plan.length === 1 && plan[0].type === queryParser_1.StepType.FIND) {
        entityContent.push({ c: "singleton", children: [entityUi(plan[0].subject, searchId, searchId)] });
    }
    else if (plan.length === 1 && plan[0].type === queryParser_1.StepType.GATHER) {
        entityContent.unshift({ c: "singleton", children: [entityUi(plan[0].subject, searchId, searchId)] });
        var text = "There are no " + pluralize(plan[0].subject, resultItems.length) + " in the system.";
        if (resultItems.length > 0) {
            text = "There " + pluralize("are", resultItems.length) + " " + resultItems.length + " " + pluralize(plan[0].subject, resultItems.length) + ":";
        }
        resultItems.unshift({ c: "description", text: text });
        noHeaders = true;
    }
    else if (plan.length === 0) {
        entityContent.push({ c: "singleton", children: [entityUi(search.toLowerCase(), searchId, searchId)] });
    }
    else {
        var headers = [];
        // figure out what the headers are
        if (!noHeaders) {
            for (var _c = 0; _c < plan.length; _c++) {
                var step = plan[_c];
                if (step.type === queryParser_1.StepType.FILTERBYENTITY || step.type === queryParser_1.StepType.INTERSECT)
                    continue;
                if (step.size === 0)
                    continue;
                headers.push({ text: step.name });
            }
        }
        resultItems.unshift({ c: "search-headers", children: headers });
    }
    var actions = [];
    for (var _d = 0, _e = app_1.eve.find("add bit action", { view: search }); _d < _e.length; _d++) {
        var bitAction = _e[_d];
        var template = bitAction.template, action = bitAction.action;
        actions.push({ c: "action new-bit", children: [
                { c: "bit entity", dangerouslySetInnerHTML: entityToHTML(action, searchId, template, Object.keys(executable.projectionMap)) },
                { c: "remove ion-android-close", click: removeAction, actionType: "bit", actionId: bitAction.action }
            ] });
    }
    var actionContainer;
    var addActionChildren = [];
    var adding = app_1.eve.findOne("adding action", { search: searchId });
    if (adding) {
        if (adding.type === "bit") {
            addActionChildren.push({ c: "add-card-editor", children: [
                    { c: "new-bit-editor", searchId: searchId, value: "\n", postRender: NewBitEditor },
                    { c: "spacer" },
                    //         {c: "button", text: "submit", click: submitAction},
                    { c: "ion-android-close close", click: stopAddingAction },
                ] });
        }
    }
    if (plan.length && plan[0].type !== queryParser_1.StepType.FIND) {
        var text = "Add a card";
        if (actions.length) {
            text = "Add another card";
        }
        actionContainer = { c: "actions-container", children: [
                { c: "actions-header", children: [
                        { c: "add-card-link", text: text, actionType: "bit", searchId: searchId, click: startAddingAction },
                    ] },
                actions.length ? { c: "actions", children: actions } : undefined,
            ] };
    }
    var size = app_1.eve.findOne("builtin search size", { id: searchId });
    var width, height;
    if (size) {
        width = size.width;
        height = size.height;
    }
    var isDragging = dragging && dragging.id === searchId ? "dragging" : "";
    var showPlan = app_1.eve.findOne("showPlan", { search: searchId }) ? searchDescription(tokens, plan) : undefined;
    return { id: searchId + "|container", c: "container search-container " + isDragging, top: top, left: left, width: width, height: height, children: [
            { c: "search-input", mousedown: startDragging, mouseup: stopDragging, searchId: searchId, children: [
                    { c: "search-box", value: search, postRender: CMSearchBox, searchId: searchId },
                    { c: "spacer" },
                    { c: "ion-ios-arrow-" + (showPlan ? 'up' : 'down') + " plan", click: toggleShowPlan, searchId: searchId },
                    { c: "ion-android-close close", click: removeSearch, searchId: searchId },
                ] },
            { c: "container-content", children: [
                    showPlan,
                    { c: "entity-content", children: entityContent },
                    resultItems.length ? { c: "search-results", children: resultItems } : {},
                    actionContainer,
                    { c: "add-action", children: addActionChildren },
                ] },
            { c: "resize", mousedown: startDragging, mouseup: stopDragging, searchId: searchId, action: "resizeSearch" }
        ] };
}
exports.newSearchResults = newSearchResults;
function removeAction(e, elem) {
    app.dispatch("removeAction", { type: elem.actionType, actionId: elem.actionId }).commit();
}
function toggleShowPlan(e, elem) {
    app.dispatch("toggleShowPlan", { searchId: elem.searchId }).commit();
}
function startDragging(e, elem) {
    if (e.target === e.currentTarget) {
        app.dispatch("startDragging", { searchId: elem.searchId, x: e.clientX, y: e.clientY, action: elem.action }).commit();
    }
}
function stopDragging(e, elem) {
    if (!dragging)
        return;
    app.dispatch("stopDragging", {}).commit();
}
function removeSearch(e, elem) {
    app.dispatch("removeSearch", { searchId: elem.searchId }).commit();
}
function startAddingAction(e, elem) {
    app.dispatch("startAddingAction", { type: elem.actionType, searchId: elem.searchId }).commit();
}
function stopAddingAction(e, elem) {
    app.dispatch("stopAddingAction", {}).commit();
}
function submitAction(e, elem) {
    var values = { type: app_1.eve.findOne("adding action")["type"],
        searchId: elem.searchId };
    if (values.type === "bit") {
        if (e.getValue) {
            values.template = e.getValue();
        }
        else {
            var editor = e.currentTarget.parentNode.querySelector("new-bit-editor").editor;
            values.template = editor.getValue();
        }
    }
    else {
        var parent_1 = e.currentTarget.parentNode;
        for (var _i = 0, _a = parent_1.childNodes; _i < _a.length; _i++) {
            var child = _a[_i];
            if (child.nodeName === "INPUT") {
                values[child.className] = child.value;
            }
        }
    }
    app.dispatch("submitAction", values)
        .dispatch("stopAddingAction", {})
        .commit();
}
function commitEntity(cm, elem) {
    app.dispatch("stopEditingEntity", { searchId: elem.searchId, entity: elem.entity, value: cm.getValue() }).commit();
}
function editEntity(e, elem) {
    app.dispatch("startEditingEntity", { searchId: elem.searchId, entity: elem.entity }).commit();
    e.preventDefault();
}
function followLink(e, elem) {
    app.dispatch("setSearch", { value: elem.linkText, searchId: elem.searchId }).commit();
}
function saveSearch(name, query) {
    if (!app_1.eve.findOne("view", { view: name })) {
        query.name = name;
        var diff_2 = queryObjectToDiff(query);
        return diff_2;
    }
    else {
        return app_1.eve.diff();
    }
}
function addToCollectionAction(name, field, collection) {
    var diff = app_1.eve.diff();
    // add an action
    var action = name + "|" + field + "|" + collection;
    diff.add("add collection action", { view: name, action: action, field: field, collection: collection });
    diff.add("action", { view: "added collections", action: action, kind: "union", ix: 1 });
    // a source
    diff.add("action source", { action: action, "source view": name });
    // a mapping
    diff.add("action mapping", { action: action, from: "entity", "to source": action, "to field": field });
    diff.add("action mapping constant", { action: action, from: "collection", value: collection });
    diff.add("action mapping constant", { action: action, from: "source view", value: name });
    return diff;
}
function removeAddToCollectionAction(action) {
    var info = app_1.eve.findOne("add collection action", { action: action });
    if (info) {
        var diff_3 = addToCollectionAction(info.view, info.field, info.collection);
        return diff_3.reverse();
    }
    else {
        return app_1.eve.diff();
    }
}
function addEavAction(name, entity, attribute, field) {
    var diff = app_1.eve.diff();
    // add an action
    var action = name + "|" + entity + "|" + attribute + "|" + field;
    diff.add("add eav action", { view: name, action: action, entity: entity, attribute: attribute, field: field, });
    diff.add("action", { view: "added eavs", action: action, kind: "union", ix: 1 });
    // a source
    diff.add("action source", { action: action, "source view": name });
    // a mapping
    diff.add("action mapping", { action: action, from: "entity", "to source": action, "to field": entity });
    diff.add("action mapping", { action: action, from: "value", "to source": action, "to field": field });
    diff.add("action mapping constant", { action: action, from: "attribute", value: attribute });
    diff.add("action mapping constant", { action: action, from: "source view", value: name });
    return diff;
}
exports.addEavAction = addEavAction;
function removeAddEavAction(action) {
    var info = app_1.eve.findOne("add eav action", { action: action });
    if (info) {
        var diff_4 = addEavAction(info.view, info.entity, info.attribute, info.field);
        return diff_4.reverse();
    }
    else {
        return app_1.eve.diff();
    }
}
function addBitAction(name, template) {
    // console.log(name, "|", template, "|", query);
    var diff = app_1.eve.diff();
    // add an action
    var bitQueryId = name + "|bit";
    var action = name + "|" + template;
    diff.add("add bit action", { view: name, action: action, template: template });
    //   diff.remove("add bit action", {view: name});
    var bitQuery = app_1.eve.query(bitQueryId)
        .select("add bit action", { view: name }, "action")
        .select(name, {}, "table")
        .calculate("bit template", { row: ["table"], name: name, template: ["action", "template"], action: ["action", "action"] }, "result")
        .project({ entity: ["result", "entity"], attribute: ["result", "attribute"], value: ["result", "value"] });
    diff.merge(queryObjectToDiff(bitQuery));
    // diff.merge(removeView(bitQueryId));
    diff.add("action", { view: "generated eav", action: action, kind: "union", ix: 1 });
    // a source
    diff.add("action source", { action: action, "source view": bitQueryId });
    // a mapping
    diff.add("action mapping", { action: action, from: "entity", "to source": action, "to field": "entity" });
    diff.add("action mapping", { action: action, from: "attribute", "to source": action, "to field": "attribute" });
    diff.add("action mapping", { action: action, from: "value", "to source": action, "to field": "value" });
    diff.add("action mapping constant", { action: action, from: "source view", value: name });
    return diff;
}
exports.addBitAction = addBitAction;
function removeAddBitAction(action) {
    var info = app_1.eve.findOne("add bit action", { action: action });
    if (info) {
        var diff_5 = addBitAction(info.view, info.template);
        return diff_5.reverse();
    }
    else {
        return app_1.eve.diff();
    }
}
function removeView(view) {
    return runtime.Query.remove(view, app_1.eve);
}
exports.removeView = removeView;
function clearSaved() {
    var diff = app_1.eve.diff();
    diff.remove("view");
    diff.remove("action");
    diff.remove("action source");
    diff.remove("action mapping");
    diff.remove("action mapping constant");
    diff.remove("action mapping sorted");
    diff.remove("action mapping limit");
    diff.remove("add collection action");
    diff.remove("add eav action");
    return diff;
}
exports.clearSaved = clearSaved;
//---------------------------------------------------------
// Syntax search
//---------------------------------------------------------
app.handle("setSyntaxSearch", function (result, info) {
    var searchId = info.searchId;
    var code = app_1.eve.findOne("builtin syntax search code", { id: searchId })["code"];
    if (code === info.code)
        return;
    var newSearchValue = info.code.trim();
    var wrapped = newSearchValue;
    if (wrapped.indexOf("(query") !== 0) {
        wrapped = "(query :$$view \"" + searchId + "\"\n" + wrapped + ")";
    }
    // remove the old one
    for (var _i = 0, _a = app_1.eve.find("builtin syntax search view", { id: searchId }); _i < _a.length; _i++) {
        var view = _a[_i];
        var diff_6 = removeView(view.view);
        result.merge(diff_6);
    }
    result.remove("builtin syntax search view", { id: searchId });
    result.remove("builtin syntax search error", { id: searchId });
    try {
        var parsed = window["parser"].parseDSL(wrapped);
        for (var view in parsed.views) {
            result.add("builtin syntax search view", { id: searchId, view: view });
        }
        result.merge(window["parser"].asDiff(app_1.eve, parsed));
    }
    catch (e) {
        result.add("builtin syntax search error", { id: searchId, error: e.toString() });
    }
    result.remove("builtin syntax search code", { id: searchId });
    result.add("builtin syntax search code", { id: searchId, code: newSearchValue });
});
function CMSyntaxEditor(node, elem) {
    var cm = node.editor;
    if (!cm) {
        var state = { marks: [] };
        cm = node.editor = new CodeMirror(node, {
            mode: "clojure",
            lineWrapping: true,
            extraKeys: {
                "Ctrl-Enter": function (cm) {
                    app.dispatch("setSyntaxSearch", { searchId: elem.searchId, code: cm.getValue() }).commit();
                },
                "Cmd-Enter": function (cm) {
                    app.dispatch("setSyntaxSearch", { searchId: elem.searchId, code: cm.getValue() }).commit();
                }
            }
        });
        cm.on("change", function (cm) {
            //       let value = cm.getValue();
            //       let tokens = newSearchTokens(value);
            //       for(let mark of state.marks) {
            //         mark.clear();
            //       }
            //       state.marks = [];
            //       for(let token of tokens) {
            //         let start = cm.posFromIndex(token.pos);
            //         let stop = cm.posFromIndex(token.pos + token.orig.length);
            //         state.marks.push(cm.markText(start, stop, {className: token.type}));
            //       }
        });
        cm.focus();
    }
    if (cm.getValue() !== elem.value) {
        cm.setValue(elem.value);
    }
}
function syntaxSearch(searchId) {
    var _a = app_1.eve.findOne("builtin syntax search", { id: searchId }), top = _a.top, left = _a.left;
    var code = app_1.eve.findOne("builtin syntax search code", { id: searchId })["code"];
    var isDragging = dragging && dragging.id === searchId ? "dragging" : "";
    var error = app_1.eve.findOne("builtin syntax search error", { id: searchId });
    var resultUi;
    if (!error) {
        var results = app_1.eve.find(searchId);
        var fields = Object.keys(results[0] || {}).filter(function (field) { return field !== "__id"; });
        var headers = [];
        for (var _i = 0; _i < fields.length; _i++) {
            var field = fields[_i];
            headers.push({ c: "header", text: field });
        }
        var resultItems = [];
        for (var _b = 0; _b < results.length; _b++) {
            var result = results[_b];
            var fieldItems = [];
            for (var _c = 0; _c < fields.length; _c++) {
                var field = fields[_c];
                fieldItems.push({ c: "field", text: result[field] });
            }
            resultItems.push({ c: "row", children: fieldItems });
        }
        resultUi = { c: "results", children: [
                { c: "headers", children: headers },
                { c: "rows", children: resultItems }
            ] };
    }
    else {
        resultUi = { c: "error", text: error.error };
    }
    var size = app_1.eve.findOne("builtin search size", { id: searchId });
    var width, height;
    if (size) {
        width = size.width;
        height = size.height;
    }
    return { id: searchId + "|container", c: "container search-container " + isDragging + " syntax-search", top: top, left: left, width: width, height: height, children: [
            { c: "search-input", mousedown: startDragging, searchId: searchId, children: [
                    { c: "search-box syntax-editor", value: code, postRender: CMSyntaxEditor, searchId: searchId },
                    { c: "ion-android-close close", click: removeSearch, searchId: searchId },
                ] },
            resultUi,
            { c: "resize", mousedown: startDragging, searchId: searchId, action: "resizeSearch" }
        ] };
}
//---------------------------------------------------------
// AST and compiler
//---------------------------------------------------------
// view: view, kind[union|query|table]
// action: view, action, kind[select|calculate|project|union|ununion|stateful|limit|sort|group|aggregate], ix
// action source: action, source view
// action mapping: action, from, to source, to field
// action mapping constant: action, from, value
var recompileTrigger = {
    exec: function () {
        for (var _i = 0, _a = app_1.eve.find("view"); _i < _a.length; _i++) {
            var view = _a[_i];
            if (view.kind === "table")
                continue;
            var query = compile(app_1.eve, view.view);
            app_1.eve.asView(query);
        }
        return {};
    }
};
app_1.eve.addTable("view", ["view", "kind"]);
app_1.eve.addTable("action", ["view", "action", "kind", "ix"]);
app_1.eve.addTable("action source", ["action", "source view"]);
app_1.eve.addTable("action mapping", ["action", "from", "to source", "to field"]);
app_1.eve.addTable("action mapping constant", ["action", "from", "value"]);
app_1.eve.addTable("action mapping sorted", ["action", "ix", "source", "field", "direction"]);
app_1.eve.addTable("action mapping limit", ["action", "limit type", "value"]);
app_1.eve.table("view").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action source").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action mapping").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action mapping constant").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action mapping sorted").triggers["recompile"] = recompileTrigger;
app_1.eve.table("action mapping limit").triggers["recompile"] = recompileTrigger;
function queryObjectToDiff(query) {
    return query.changeset(app_1.eve);
}
// add the added collections union so that sources can be added to it by
// actions.
var diff = app_1.eve.diff();
diff.add("view", { view: "generated eav", kind: "union" });
app_1.eve.applyDiff(diff);
function compile(ixer, viewId) {
    var view = ixer.findOne("view", { view: viewId });
    if (!view) {
        throw new Error("No view found for " + viewId + ".");
    }
    var compiled = ixer[view.kind](viewId);
    var actions = ixer.find("action", { view: viewId });
    if (!actions) {
        throw new Error("View " + viewId + " has no actions.");
    }
    // sort actions by ix
    actions.sort(function (a, b) { return a.ix - b.ix; });
    for (var _i = 0; _i < actions.length; _i++) {
        var action = actions[_i];
        var actionKind = action.kind;
        if (actionKind === "limit") {
            var limit = {};
            for (var _a = 0, _b = ixer.find("action mapping limit", { action: action.action }); _a < _b.length; _a++) {
                var limitMapping = _b[_a];
                limit[limitMapping["limit type"]] = limitMapping["value"];
            }
            compiled.limit(limit);
        }
        else if (actionKind === "sort" || actionKind === "group") {
            var sorted = [];
            var mappings = ixer.find("action mapping sorted", { action: action.action });
            mappings.sort(function (a, b) { return a.ix - b.ix; });
            for (var _c = 0; _c < mappings.length; _c++) {
                var mapping = mappings[_c];
                sorted.push([mapping["source"], mapping["field"], mapping["direction"]]);
            }
            if (sorted.length) {
                compiled[actionKind](sorted);
            }
            else {
                throw new Error(actionKind + " without any mappings: " + action.action);
            }
        }
        else {
            var mappings = ixer.find("action mapping", { action: action.action });
            var mappingObject = {};
            for (var _d = 0; _d < mappings.length; _d++) {
                var mapping = mappings[_d];
                var source_1 = mapping["to source"];
                var field = mapping["to field"];
                if (actionKind === "union" || actionKind === "ununion") {
                    mappingObject[mapping.from] = [field];
                }
                else {
                    mappingObject[mapping.from] = [source_1, field];
                }
            }
            var constants = ixer.find("action mapping constant", { action: action.action });
            for (var _e = 0; _e < constants.length; _e++) {
                var constant = constants[_e];
                mappingObject[constant.from] = constant.value;
            }
            var source = ixer.findOne("action source", { action: action.action });
            if (!source && actionKind !== "project") {
                throw new Error(actionKind + " action without a source in '" + viewId + "'");
            }
            if (actionKind !== "project") {
                compiled[actionKind](source["source view"], mappingObject, action.action);
            }
            else {
                compiled[actionKind](mappingObject);
            }
        }
    }
    return compiled;
}
exports.compile = compile;
//---------------------------------------------------------
// Eve functions
//---------------------------------------------------------
runtime.define("entity to graph", { multi: true }, function (entity, text) {
    return entityToGraph(entity, text);
});
runtime.define("parse eavs", { multi: true }, function (entity, text) {
    return parseEntity(entity, text).eavs;
});
runtime.define("bit template", { multi: true }, function (row, name, template, action) {
    var content = template;
    for (var key in row) {
        var item = row[key];
        content = content.replace(new RegExp("{" + key.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1") + "}", "gi"), item);
    }
    var entity;
    var header = content.match(/#.*$/mgi);
    if (header) {
        entity = header[0].replace("#", "").toLowerCase().trim();
    }
    else {
        entity = name + "|" + row.__id;
    }
    var blockId = action + "|" + row.__id;
    return [{ entity: blockId, attribute: "is a", value: "content block" },
        { entity: blockId, attribute: "associated entity", value: entity },
        { entity: blockId, attribute: "content", value: content },
        { entity: blockId, attribute: "source", value: name }];
});
runtime.define("collection content", {}, function (collection) {
    return { content: "# " + pluralize(collection, 2) };
});
//---------------------------------------------------------
// Queries
//---------------------------------------------------------
// eve.addTable("manual entity", ["entity", "content"]);
// eve.addTable("action entity", ["entity", "content", "source"]);
// eve.asView(eve.union("entity")
//               .union("manual entity", {entity: ["entity"], content: ["content"]})
//               .union("action entity", {entity: ["entity"], content: ["content"]})
//               .union("unmodified added bits", {entity: ["entity"], content: ["content"]})
//               .union("automatic collection entities", {entity: ["entity"], content: ["content"]}));
// eve.asView(eve.query("unmodified added bits")
//               .select("added bits", {}, "added")
//               .deselect("manual entity", {entity: ["added", "entity"]})
//               .project({entity: ["added", "entity"], content: ["added", "content"]}));
// eve.asView(eve.query("parsed eavs")
//             .select("entity", {}, "entity")
//             .calculate("parse eavs", {entity: ["entity", "entity"], text: ["entity", "content"]}, "parsed")
//             .project({entity: ["entity", "entity"], attribute: ["parsed", "attribute"], value: ["parsed", "value"]}));
// eve.asView(eve.union("entity eavs")
//             .union("added collections", {entity: ["entity"], attribute: "is a", value: ["collection"]})
//             .union("parsed eavs", {entity: ["entity"], attribute: ["attribute"], value: ["value"]})
//             // this is a stored union that is used by the add eav action to take query results and
//             // push them into eavs, e.g. sum salaries per department -> [total salary = *]
//             .union("added eavs", {entity: ["entity"], attribute: ["attribute"], value: ["value"]}));
// eve.asView(eve.query("is a attributes")
//               .select("entity eavs", {attribute: "is a"}, "is a")
//               .project({collection: ["is a", "value"], entity: ["is a", "entity"]}));
// @HACK: this view is required because you can't currently join a select on the result of a function.
// so we create a version of the eavs table that already has everything lowercased.
// eve.asView(eve.query("lowercase eavs")
//               .select("entity eavs", {}, "eav")
//               .calculate("lowercase", {text: ["eav", "value"]}, "lower")
//               .project({entity: ["eav", "entity"], attribute: ["eav", "attribute"], value: ["lower", "result"]}));
// eve.asView(eve.query("entity links")
//               .select("lowercase eavs", {}, "eav")
//               .select("entity", {entity: ["eav", "value"]}, "entity")
//               .project({entity: ["eav", "entity"], link: ["entity", "entity"], type: ["eav", "attribute"]}));
// eve.asView(eve.union("directionless links")
//               .union("entity links", {entity: ["entity"], link: ["link"]})
//               .union("entity links", {entity: ["link"], link: ["entity"]}));
// eve.asView(eve.union("collection entities")
//             // the rest of these are editor-level views
//             .union("is a attributes", {entity: ["entity"], collection: ["collection"]})
//             // this is a stored union that is used by the add to collection action to take query results and
//             // push them into collections, e.g. people older than 21 -> [[can drink]]
//             .union("added collections", {entity: ["entity"], collection: ["collection"]}));
// eve.asView(eve.query("collection")
//             .select("collection entities", {}, "collections")
//             .group([["collections", "collection"]])
//             .aggregate("count", {}, "count")
//             .project({collection: ["collections", "collection"], count: ["count", "count"]}));
// eve.asView(eve.query("automatic collection entities")
//               .select("collection", {}, "coll")
//               .deselect("manual entity", {entity: ["coll", "collection"]})
//               .calculate("collection content", {collection: ["coll", "collection"]}, "content")
//               .project({entity: ["coll", "collection"], content: ["content", "content"]}));
//---------------------------------------------------------
// Go
//---------------------------------------------------------
function initSearches() {
    for (var _i = 0, _a = app_1.eve.find("builtin search"); _i < _a.length; _i++) {
        var search = _a[_i];
        var value = app_1.eve.findOne("builtin search query", { id: search.id })["search"];
        app.activeSearches[search.id] = queryParser_1.queryToExecutable(value);
    }
    for (var _b = 0, _c = app_1.eve.find("ui pane"); _b < _c.length; _b++) {
        var pane = _c[_b];
        if (app_1.eve.findOne("entity", { entity: pane.contains }))
            continue;
        app.activeSearches[pane.contains] = queryParser_1.queryToExecutable(pane.contains);
    }
}
// @TODO: KILL ME
require("./bootstrap");
function initEve() {
    var stored = localStorage[app.eveLocalStorageKey];
    if (!stored) {
        var diff = app_1.eve.diff();
        var id = uuid();
        diff.add("builtin search", { id: id, top: 100, left: 100 });
        diff.add("builtin search query", { id: id, search: "foo" });
        app_1.eve.applyDiffIncremental(diff);
    }
    initSearches();
}
app.renderRoots["wiki"] = root;
app.init("wiki", function () {
    document.body.classList.add(localStorage["theme"] || "light");
    app.activeSearches = {};
    initEve();
});
window["wiki"] = exports;

},{"../vendor/marked":16,"./app":2,"./bootstrap":3,"./microReact":4,"./queryParser":6,"./runtime":8,"./ui":10,"./utils":12}],14:[function(require,module,exports){

},{}],15:[function(require,module,exports){
arguments[4][14][0].apply(exports,arguments)
},{"dup":14}],16:[function(require,module,exports){
(function (global){
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(cap[1]==="pre"||cap[1]==="script"||cap[1]==="style"),text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.text(escape(this.smartypants(cap[0])));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")};InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{}}Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(prot.indexOf("javascript:")===0||prot.indexOf("vbscript:")===0){return""}}var out='<a href="'+href+'"';if(title){out+=' title="'+title+'"'}out+=">"+text+"</a>";return out};Renderer.prototype.image=function(href,title,text){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"'}out+=this.options.xhtml?"/>":">";return out};Renderer.prototype.text=function(text){return text};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,sanitizer:null,mangle:true,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define(function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],17:[function(require,module,exports){
//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

(function() {
  var _global = this;

  // Unique ID creation requires a high quality random # generator.  We feature
  // detect to determine the best RNG source, normalizing to a function that
  // returns 128-bits of randomness, since that's what's usually required
  var _rng;

  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html
  //
  // Moderately fast, high quality
  if (typeof(_global.require) == 'function') {
    try {
      var _rb = _global.require('crypto').randomBytes;
      _rng = _rb && function() {return _rb(16);};
    } catch(e) {}
  }

  if (!_rng && _global.crypto && crypto.getRandomValues) {
    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto
    //
    // Moderately fast, high quality
    var _rnds8 = new Uint8Array(16);
    _rng = function whatwgRNG() {
      crypto.getRandomValues(_rnds8);
      return _rnds8;
    };
  }

  if (!_rng) {
    // Math.random()-based (RNG)
    //
    // If all else fails, use Math.random().  It's fast, but is of unspecified
    // quality.
    var  _rnds = new Array(16);
    _rng = function() {
      for (var i = 0, r; i < 16; i++) {
        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
      }

      return _rnds;
    };
  }

  // Buffer class to use
  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;

  // Maps for number <-> hex string conversion
  var _byteToHex = [];
  var _hexToByte = {};
  for (var i = 0; i < 256; i++) {
    _byteToHex[i] = (i + 0x100).toString(16).substr(1);
    _hexToByte[_byteToHex[i]] = i;
  }

  // **`parse()` - Parse a UUID into it's component bytes**
  function parse(s, buf, offset) {
    var i = (buf && offset) || 0, ii = 0;

    buf = buf || [];
    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {
      if (ii < 16) { // Don't overflow!
        buf[i + ii++] = _hexToByte[oct];
      }
    });

    // Zero out remaining bytes if string was short
    while (ii < 16) {
      buf[i + ii++] = 0;
    }

    return buf;
  }

  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**
  function unparse(buf, offset) {
    var i = offset || 0, bth = _byteToHex;
    return  bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]];
  }

  // **`v1()` - Generate time-based UUID**
  //
  // Inspired by https://github.com/LiosK/UUID.js
  // and http://docs.python.org/library/uuid.html

  // random #'s we need to init node and clockseq
  var _seedBytes = _rng();

  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
  var _nodeId = [
    _seedBytes[0] | 0x01,
    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]
  ];

  // Per 4.2.2, randomize (14 bit) clockseq
  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;

  // Previous uuid creation time
  var _lastMSecs = 0, _lastNSecs = 0;

  // See https://github.com/broofa/node-uuid for API details
  function v1(options, buf, offset) {
    var i = buf && offset || 0;
    var b = buf || [];

    options = options || {};

    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;

    // UUID timestamps are 100 nano-second units since the Gregorian epoch,
    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
    var msecs = options.msecs != null ? options.msecs : new Date().getTime();

    // Per 4.2.1.2, use count of uuid's generated during the current clock
    // cycle to simulate higher resolution clock
    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;

    // Time since last uuid creation (in msecs)
    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;

    // Per 4.2.1.2, Bump clockseq on clock regression
    if (dt < 0 && options.clockseq == null) {
      clockseq = clockseq + 1 & 0x3fff;
    }

    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
    // time interval
    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {
      nsecs = 0;
    }

    // Per 4.2.1.2 Throw error if too many uuids are requested
    if (nsecs >= 10000) {
      throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
    }

    _lastMSecs = msecs;
    _lastNSecs = nsecs;
    _clockseq = clockseq;

    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
    msecs += 12219292800000;

    // `time_low`
    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
    b[i++] = tl >>> 24 & 0xff;
    b[i++] = tl >>> 16 & 0xff;
    b[i++] = tl >>> 8 & 0xff;
    b[i++] = tl & 0xff;

    // `time_mid`
    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;
    b[i++] = tmh >>> 8 & 0xff;
    b[i++] = tmh & 0xff;

    // `time_high_and_version`
    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
    b[i++] = tmh >>> 16 & 0xff;

    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
    b[i++] = clockseq >>> 8 | 0x80;

    // `clock_seq_low`
    b[i++] = clockseq & 0xff;

    // `node`
    var node = options.node || _nodeId;
    for (var n = 0; n < 6; n++) {
      b[i + n] = node[n];
    }

    return buf ? buf : unparse(b);
  }

  // **`v4()` - Generate random UUID**

  // See https://github.com/broofa/node-uuid for API details
  function v4(options, buf, offset) {
    // Deprecated - 'format' argument, as supported in v1.2
    var i = buf && offset || 0;

    if (typeof(options) == 'string') {
      buf = options == 'binary' ? new BufferClass(16) : null;
      options = null;
    }
    options = options || {};

    var rnds = options.random || (options.rng || _rng)();

    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
    rnds[6] = (rnds[6] & 0x0f) | 0x40;
    rnds[8] = (rnds[8] & 0x3f) | 0x80;

    // Copy bytes to buffer, if provided
    if (buf) {
      for (var ii = 0; ii < 16; ii++) {
        buf[i + ii] = rnds[ii];
      }
    }

    return buf || unparse(rnds);
  }

  // Export public API
  var uuid = v4;
  uuid.v1 = v1;
  uuid.v4 = v4;
  uuid.parse = parse;
  uuid.unparse = unparse;
  uuid.BufferClass = BufferClass;

  if (typeof define === 'function' && define.amd) {
    // Publish as AMD module
    define(function() {return uuid;});
  } else if (typeof(module) != 'undefined' && module.exports) {
    // Publish as node.js module
    module.exports = uuid;
  } else {
    // Publish as global (in browsers)
    var _previousRoot = _global.uuid;

    // **`noConflict()` - (browser only) to reset global 'uuid' var**
    uuid.noConflict = function() {
      _global.uuid = _previousRoot;
      return uuid;
    };

    _global.uuid = uuid;
  }
}).call(this);

},{}]},{},[9,14,15])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5qcyIsInNyYy9hcHAudHMiLCJzcmMvYm9vdHN0cmFwLnRzIiwic3JjL21pY3JvUmVhY3QudHMiLCJzcmMvcGFyc2VyLnRzIiwic3JjL3F1ZXJ5UGFyc2VyLnRzIiwic3JjL3JpY2hUZXh0RWRpdG9yLnRzIiwic3JjL3J1bnRpbWUudHMiLCJzcmMvc2xpZGVzLnRzIiwic3JjL3VpLnRzIiwic3JjL3VpUmVuZGVyZXIudHMiLCJzcmMvdXRpbHMudHMiLCJzcmMvd2lraS50cyIsInR5cGluZ3MvY29kZW1pcnJvci9jb2RlbWlycm9yLmQudHMiLCJ2ZW5kb3IvbWFya2VkLmpzIiwidmVuZG9yL3V1aWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LENBQUEsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsRyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsV0FBVyxLQUFLLElBQUksQ0FBQyxXQUFXLENBQUM7Z0JBQUMsR0FBRyxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsV0FBVyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUMxSCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsSCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsSCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsT0FBTyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUMxRyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsSCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsUUFBUSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM5RyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsVUFBVSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUN0SCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsVUFBVSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNySCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsUUFBUSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM5RyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsSCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsT0FBTyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUMxRyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM5RixFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM5RixFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUM7Z0JBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUMsTUFBTSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUN0RyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsRyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM5RixFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxLQUFLLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUNsRyxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUM7Z0JB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dEssQ0FBQztRQUVELElBQUksV0FBVyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUEsQ0FBQyxjQUFjLElBQUksV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDNUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO1FBQy9ILENBQUM7UUFFRCxFQUFFLENBQUEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEVBQUUsQ0FBQSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxXQUFXLENBQUM7Z0JBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQzNFLElBQUk7Z0JBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsU0FBUyxDQUFDO1lBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEQsSUFBSTtZQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUM7WUFDTCxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7WUFDaEIsS0FBSyxFQUFFLElBQUk7WUFDWCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUks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RSxNQUFNLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0UsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM5RCxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQUEsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDNUQsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQUEsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDM0QsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQUEsSUFBSSxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDMUQsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSyxPQUFPLElBQUksS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztRQUM5RixNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxLQUFL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TUFBTSxDQUFDLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUMsRUFBRSxVQUFTLElBQUksRUFBRSxLQUFLO0lBQ3pELEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDYixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNmLENBQUM7SUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQztJQUNsQixNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFSCxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUMsRUFBRSxVQUFTLElBQUksRUFBRSxLQUFLO0lBQ2pFLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDYixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDYixJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQztJQUNsQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFSCxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUMsRUFBRSxVQUFTLElBQUk7SUFDOUQsRUFBRSxDQUFBLENBQUMsT0FBTyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztRQUM1QixNQUFNLENBQUMsRUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFDLENBQUM7SUFDdEMsQ0FBQztJQUNELE1BQU0sQ0FBQyxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUMsQ0FBQztB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QUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsdUJBQXVCLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsMEVBQTBFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyx1QkFBdUIsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxxRUFBcUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxFQUFDLHNFQUFzRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLHNEQUFzRCxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsZ0JBQWdCLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsOERBQThELEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyw4REFBOEQsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLHVCQUF1QixFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMscUZBQXFGLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyx1QkFBdUIsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMs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QUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMsYUFBYSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLGFBQWEsRUFBQyxhQUFhLEVBQUMsTUFBTSxFQUFDLGtEQUFrRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsYUFBYSxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMscUJBQXFCLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsYUFBYSxFQUFDLHFCQUFxQixFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLGFBQWEsRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxnREFBZ0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLGFBQWEsRUFBQyxjQUFjLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsYUFBYSxFQUFDLHFCQUFxQixFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLGFBQWEsRUFBQyxxQkFBcUIsRUFBQyxNQUFNLEVBQUMsMERBQTBELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMscUJBQXFCLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsYUFBYSxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQywwQ0FBMEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLGFBQWEsRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxhQUFhLEVBQUMsZ0NBQWdDLEVBQUMsTUFBTSxFQUFDLHFFQUFxRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsYUFBYSxFQUFDLGNBQWMsRUFBQyxNQUFNLEVBQUMsbURBQW1ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxR0FBcUcsRUFBQyxhQUFhLEVBQUMsb0NBQW9DLEVBQUMsTUFBTSxFQUFDLHdJQUF3SSxFQUFDLENBQUMsRUFBQyxnQkFBZ0IsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLDJGQUEyRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLDJGQUEyRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsd0ZBQXdGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx3RkFBd0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsK0ZBQStGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLHdGQUF3RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQywrRkFBK0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyx3RkFBd0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFlBQVksRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsNEZBQTRGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpSEFBaUgsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxxQkFBcUIsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxtSkFBbUosRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlIQUFpSCxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLHFCQUFxQixFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLHlKQUF5SixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUhBQWlILEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsaUpBQWlKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaUlBQWlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsdUlBQXVJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsK0hBQStILEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyR0FBMkcsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxlQUFlLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsdUlBQXVJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyR0FBMkcsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxlQUFlLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsNklBQTZJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyR0FBMkcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxlQUFlLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMscUlBQXFJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtSEFBbUgsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyx1QkFBdUIsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx1SkFBdUosRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1IQUFtSCxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLHVCQUF1QixFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLDZKQUE2SixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUhBQW1ILEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsdUJBQXVCLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMscUpBQXFKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5R0FBeUcsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsbUlBQW1JLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5R0FBeUcsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMseUlBQXlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5R0FBeUcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsaUlBQWlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaUlBQWlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsdUlBQXVJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3R0FBd0csRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxZQUFZLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsK0hBQStILEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyx1RkFBdUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLHVGQUF1RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsd0ZBQXdGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx3RkFBd0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLCtGQUErRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxzRkFBc0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHVGQUF1RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQywwRkFBMEYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVHQUF1RyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNCQUFzQixFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDBJQUEwSSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsdUdBQXVHLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsc0JBQXNCLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsc0lBQXNJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1R0FBdUcsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxzQkFBc0IsRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxzSUFBc0ksRUFBQyxFQUFDLEVBQUMsUUFBUSxF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QUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQywwRkFBMEYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLHNGQUFzRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLDRGQUE0RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsc0ZBQXNGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywyRkFBMkYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLDZGQUE2RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLCtGQUErRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsdUZBQXVGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLHVGQUF1RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseUZBQXlGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyx1RkFBdUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDZGQUE2RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMkZBQTJGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyx3RkFBd0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLG1GQUFtRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsNkZBQTZGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5RkFBeUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHNDQUFzQyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlGQUF5RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsc0NBQXNDLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsK0ZBQStGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxzQ0FBc0MsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyx1RkFBdUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFHQUFxRyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLHFHQUFxRyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHVOQUF1TixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUdBQXFHLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMscUdBQXFHLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsNk5BQTZOLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxR0FBcUcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxxR0FBcUcsRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxxTkFBcU4sRUFBQyxDQUFDLEVBQUMseUJBQXlCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyx3REFBd0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFDLG1CQUFtQixFQUFDLE1BQU0sRUFBQyxrRUFBa0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMEdBQTBHLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxvSEFBb0gsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLCtCQUErQixFQUFDLE1BQU0sRUFBQywyRUFBMkUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUMsMkRBQTJELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQywrQkFBK0IsRUFBQyxNQUFNLEVBQUMsMkVBQTJFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsK0JBQStCLEVBQUMsTUFBTSxFQUFDLDJFQUEyRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQywyREFBMkQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsdURBQXVELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxvREFBb0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQywrQkFBK0IsRUFBQyxNQUFNLEVBQUMsMkVBQTJFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHVEQUF1RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsK0JBQStCLEVBQUMsTUFBTSxFQUFDLDJFQUEyRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx1REFBdUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsMERBQTBELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxxREFBcUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUMsNERBQTRELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxNQUFNLEVBQUMsWUFBWSxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx1REFBdUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGdDQUFnQyxFQUFDLE1BQU0sRUFBQywwRUFBMEUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGdDQUFnQyxFQUFDLE1BQU0sRUFBQywwRUFBMEUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFHQUFxRyxFQUFDLE1BQU0sRUFBQyxhQUFhLEVBQUMsT0FBTyxFQUFDLGdDQUFnQyxFQUFDLE1BQU0sRUFBQyxnSkFBZ0osRUFBQyxDQUFDLEVBQUMsdUJBQXVCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxPQUFPLEVBQUMsWUFBWSxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLGtHQUFrRyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyw4RkFBOEYsRUFBQyxDQUFDLEVBQUMsc0JBQXNCLEVBQUMsRUFBRSxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQywwQkFBMEIsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDZDQUE2QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMEJBQTBCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx3Q0FBd0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBCQUEwQixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxnREFBZ0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBCQUEwQixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHFEQUFxRCxFQUFDLE1BQU0sRUFBQyxzRkFBc0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJCQUEyQixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsOENBQThDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQkFBMkIsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlDQUF5QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkJBQTJCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLGtEQUFrRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkJBQTJCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsc0RBQXNELEVBQUMsTUFBTSxFQUFDLHdGQUF3RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxxREFBcUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsZ0RBQWdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsZ0VBQWdFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyx3S0FBd0ssRUFBQyxNQUFNLEVBQUMsaU5BQWlOLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHVEQUF1RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvRUFBb0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHdGQUF3RixFQUFDLE1BQU0sRUFBQyxtSUFBbUksRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdDQUFnQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsbURBQW1ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDhDQUE4QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLDREQUE0RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsb0ZBQW9GLEVBQUMsTUFBTSxFQUFDLDJIQUEySCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyx1REFBdUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsb0VBQW9FLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyx3RkFBd0YsRUFBQyxNQUFNLEVBQUMsbUlBQW1JLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxtREFBbUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxFQUFDLHNFQUFzRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMseUZBQXlGLEVBQUMsTUFBTSxFQUFDLHFJQUFxSSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaURBQWlELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLEVBQUMsa0VBQWtFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyx1RkFBdUYsRUFBQyxNQUFNLEVBQUMsaUlBQWlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLG9EQUFvRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyw4REFBOEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDhGQUE4RixFQUFDLE1BQU0sRUFBQyxzSUFBc0ksRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMsc0VBQXNFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyx5RkFBeUYsRUFBQyxNQUFNLEVBQUMscUlBQXFJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHVEQUF1RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvRUFBb0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLCsyQkFBKzJCLEVBQUMsTUFBTSxFQUFDLDA1QkFBMDVCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5Q0FBeUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDREQUE0RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUNBQXlDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx1REFBdUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHlDQUF5QyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSxFQUFDLDhFQUE4RSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUNBQXlDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsbUVBQW1FLEVBQUMsTUFBTSxFQUFDLG1IQUFtSCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMENBQTBDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsb0RBQW9ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywrQ0FBK0MsRUFBQyxNQUFNLEVBQUMsa0ZBQWtGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3Q0FBd0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDJEQUEyRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsd0NBQXdDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHdDQUF3QyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSxFQUFDLDRFQUE0RSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsd0NBQXdDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsZ0RBQWdELEVBQUMsTUFBTSxFQUFDLCtGQUErRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsdUNBQXVDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVDQUF1QyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1Q0FBdUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sRUFBQywwRUFBMEUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVDQUF1QyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLCtDQUErQyxFQUFDLE1BQU0sRUFBQyw2RkFBNkYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsc0RBQXNELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGlEQUFpRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxFQUFDLGtFQUFrRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsZ0RBQWdELEVBQUMsTUFBTSxFQUFDLDBGQUEwRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxxREFBcUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsZ0RBQWdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsZ0VBQWdFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywrQ0FBK0MsRUFBQyxNQUFNLEVBQUMsd0ZBQXdGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3Q0FBd0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDJEQUEyRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsd0NBQXdDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHdDQUF3QyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSxFQUFDLDRFQUE0RSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsd0NBQXdDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsK0NBQStDLEVBQUMsTUFBTSxFQUFDLDhGQUE4RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtCQUErQixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsNkNBQTZDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsMERBQTBELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxpREFBaUQsRUFBQyxNQUFNLEVBQUMsdUZBQXVGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHVEQUF1RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvRUFBb0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLG11QkFBbXVCLEVBQUMsTUFBTSxFQUFDLDh3QkFBOHdCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLG9EQUFvRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyw4REFBOEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGl4QkFBaXhCLEVBQUMsTUFBTSxFQUFDLHl6QkFBeXpCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyw4Q0FBOEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdDQUFnQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyw0REFBNEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdDQUFnQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHdiQUF3YixFQUFDLE1BQU0sRUFBQywrZEFBK2QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDhCQUE4QixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsaURBQWlELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw4QkFBOEIsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDRDQUE0QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsOEJBQThCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsOEJBQThCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsMERBQTBELEVBQUMsTUFBTSxFQUFDLCtGQUErRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMEJBQTBCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyw2Q0FBNkMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBCQUEwQixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsd0NBQXdDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQkFBMEIsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsZ0RBQWdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQkFBMEIsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywyQkFBMkIsRUFBQyxNQUFNLEVBQUMsNERBQTRELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQkFBMkIsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDhDQUE4QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkJBQTJCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5Q0FBeUMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJCQUEyQixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJCQUEyQixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDJGQUEyRixFQUFDLE1BQU0sRUFBQyw2SEFBNkgsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtCQUErQixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDZDQUE2QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsOEZBQThGLEVBQUMsTUFBTSxFQUFDLG9JQUFvSSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxtREFBbUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdDQUFnQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsOENBQThDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsNERBQTRELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxpaUJBQWlpQixFQUFDLE1BQU0sRUFBQyx3a0JBQXdrQixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMENBQTBDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsb0RBQW9ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywyQ0FBMkMsRUFBQyxNQUFNLEVBQUMsOEVBQThFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHVEQUF1RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvRUFBb0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGtDQUFrQyxFQUFDLE1BQU0sRUFBQyw2RUFBNkUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsZ0RBQWdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2QkFBNkIsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDJDQUEyQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkJBQTZCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHNEQUFzRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkJBQTZCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsMkJBQTJCLEVBQUMsTUFBTSxFQUFDLCtEQUErRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyx1REFBdUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsb0VBQW9FLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywyR0FBMkcsRUFBQyxNQUFNLEVBQUMsc0pBQXNKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLG9EQUFvRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyw4REFBOEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGdIQUFnSCxFQUFDLE1BQU0sRUFBQyx3SkFBd0osRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9DQUFvQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsdURBQXVELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGtEQUFrRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLG9FQUFvRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsb0NBQW9DLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMscUhBQXFILEVBQUMsTUFBTSxFQUFDLGdLQUFnSyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvREFBb0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsK0NBQStDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUMsOERBQThELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxtREFBbUQsRUFBQyxNQUFNLEVBQUMsMkZBQTJGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2QkFBNkIsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLGdEQUFnRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkJBQTZCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywyQ0FBMkMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLCtDQUErQyxFQUFDLE1BQU0sRUFBQyxtRkFBbUYsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsK0NBQStDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDBDQUEwQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFDLG9EQUFvRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsOERBQThELEVBQUMsTUFBTSxFQUFDLGlHQUFpRyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywrQ0FBK0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMENBQTBDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsb0RBQW9ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyw4REFBOEQsRUFBQyxNQUFNLEVBQUMsaUdBQWlHLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0QkFBNEIsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLCtDQUErQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywwQ0FBMEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxvREFBb0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRCQUE0QixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDhEQUE4RCxFQUFDLE1BQU0sRUFBQyxpR0FBaUcsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHlCQUF5QixFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsNENBQTRDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5QkFBeUIsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHVDQUF1QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUJBQXlCLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLDhDQUE4QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUJBQXlCLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsd0RBQXdELEVBQUMsTUFBTSxFQUFDLHdGQUF3RixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkJBQTZCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxnREFBZ0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMkNBQTJDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2QkFBNkIsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsc0RBQXNELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2QkFBNkIsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyw2RkFBNkYsRUFBQyxNQUFNLEVBQUMsaUlBQWlJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0Q0FBNEMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLCtEQUErRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNENBQTRDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRDQUE0QyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSxFQUFDLG9GQUFvRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNENBQTRDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsMkhBQTJILEVBQUMsTUFBTSxFQUFDLDhLQUE4SyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyx3REFBd0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsbURBQW1ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sRUFBQyxzRUFBc0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHNIQUFzSCxFQUFDLE1BQU0sRUFBQyxrS0FBa0ssRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDRDQUE0QyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsK0RBQStELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0Q0FBNEMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDBEQUEwRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNENBQTRDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyx1QkFBdUIsRUFBQyxNQUFNLEVBQUMsb0ZBQW9GLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw0Q0FBNEMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxzSUFBc0ksRUFBQyxNQUFNLEVBQUMseUxBQXlMLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxnREFBZ0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sRUFBQyxnRUFBZ0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGtIQUFrSCxFQUFDLE1BQU0sRUFBQywySkFBMkosRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGdEQUFnRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxFQUFDLGdFQUFnRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsa0hBQWtILEVBQUMsTUFBTSxFQUFDLDJKQUEySixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMENBQTBDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyw2REFBNkQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLHFCQUFxQixFQUFDLE1BQU0sRUFBQyxnRkFBZ0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGtJQUFrSSxFQUFDLE1BQU0sRUFBQyxtTEFBbUwsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMseURBQXlELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLG9EQUFvRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsc0NBQXNDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLEVBQUMsd0VBQXdFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxzQ0FBc0MsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxrSEFBa0gsRUFBQyxNQUFNLEVBQUMsK0pBQStKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxtREFBbUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxFQUFDLHNFQUFzRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsd0hBQXdILEVBQUMsTUFBTSxFQUFDLG9LQUFvSyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsdUNBQXVDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVDQUF1QyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMscURBQXFELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1Q0FBdUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sRUFBQywwRUFBMEUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVDQUF1QyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHNIQUFzSCxFQUFDLE1BQU0sRUFBQyxvS0FBb0ssRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsc0RBQXNELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGlEQUFpRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxFQUFDLGtFQUFrRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsOEdBQThHLEVBQUMsTUFBTSxFQUFDLHdKQUF3SixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkNBQTJDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyw4REFBOEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJDQUEyQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMseURBQXlELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQ0FBMkMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLHNCQUFzQixFQUFDLE1BQU0sRUFBQyxrRkFBa0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJDQUEyQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDhIQUE4SCxFQUFDLE1BQU0sRUFBQyxnTEFBZ0wsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsNkRBQTZELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMENBQTBDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLEVBQUMsZ0ZBQWdGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxvSEFBb0gsRUFBQyxNQUFNLEVBQUMscUtBQXFLLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrREFBa0QsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHFFQUFxRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0RBQWtELEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxnRUFBZ0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtEQUFrRCxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsNkJBQTZCLEVBQUMsTUFBTSxFQUFDLGdHQUFnRyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0RBQWtELEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsb0lBQW9JLEVBQUMsTUFBTSxFQUFDLDZMQUE2TCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMENBQTBDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyw2REFBNkQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLHFCQUFxQixFQUFDLE1BQU0sRUFBQyxnRkFBZ0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDBIQUEwSCxFQUFDLE1BQU0sRUFBQywyS0FBMkssRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtEQUFrRCxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMscUVBQXFFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrREFBa0QsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGdFQUFnRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0RBQWtELEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyw2QkFBNkIsRUFBQyxNQUFNLEVBQUMsZ0dBQWdHLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrREFBa0QsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywwSUFBMEksRUFBQyxNQUFNLEVBQUMsbU1BQW1NLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxpQ0FBaUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyx1R0FBdUcsRUFBQyxNQUFNLEVBQUMsK0lBQStJLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2QkFBNkIsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLGdEQUFnRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkJBQTZCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywyQ0FBMkMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZCQUE2QixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLDZGQUE2RixFQUFDLE1BQU0sRUFBQyxpSUFBaUksRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMsc0VBQXNFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyw2R0FBNkcsRUFBQyxNQUFNLEVBQUMseUpBQXlKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHNEQUFzRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxpREFBaUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sRUFBQyxrRUFBa0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLG9HQUFvRyxFQUFDLE1BQU0sRUFBQyw4SUFBOEksRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJDQUEyQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsOERBQThELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQ0FBMkMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHlEQUF5RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkNBQTJDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxzQkFBc0IsRUFBQyxNQUFNLEVBQUMsa0ZBQWtGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQ0FBMkMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxvSEFBb0gsRUFBQyxNQUFNLEVBQUMsc0tBQXNLLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrQ0FBa0MsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHFEQUFxRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0NBQWtDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxnREFBZ0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sRUFBQyxnRUFBZ0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGtDQUFrQyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHFKQUFxSixFQUFDLE1BQU0sRUFBQyw4TEFBOEwsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDBDQUEwQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsNkRBQTZELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMENBQTBDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLEVBQUMsZ0ZBQWdGLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywwQ0FBMEMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxpS0FBaUssRUFBQyxNQUFNLEVBQUMsa05BQWtOLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLGtEQUFrRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyw2Q0FBNkMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtCQUErQixFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtCQUErQixFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLHlKQUF5SixFQUFDLE1BQU0sRUFBQywrTEFBK0wsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsd0RBQXdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUMsc0VBQXNFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxpS0FBaUssRUFBQyxNQUFNLEVBQUMsNk1BQTZNLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2Q0FBNkMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLGdFQUFnRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkNBQTZDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQywyREFBMkQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZDQUE2QyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsd0JBQXdCLEVBQUMsTUFBTSxFQUFDLHNGQUFzRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkNBQTZDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsMk9BQTJPLEVBQUMsTUFBTSxFQUFDLCtSQUErUixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsbUNBQW1DLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaURBQWlELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLEVBQUMsa0VBQWtFLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQywrSkFBK0osRUFBQyxNQUFNLEVBQUMseU1BQXlNLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywyQ0FBMkMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLDhEQUE4RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkNBQTJDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyx5REFBeUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDJDQUEyQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsc0JBQXNCLEVBQUMsTUFBTSxFQUFDLGtGQUFrRixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsMkNBQTJDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsdU9BQXVPLEVBQUMsTUFBTSxFQUFDLHlSQUF5UixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtCQUErQixFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsNkNBQTZDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsMERBQTBELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQywrQkFBK0IsRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxxSEFBcUgsRUFBQyxNQUFNLEVBQUMsMkpBQTJKLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQ0FBcUMsRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLHdEQUF3RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxtREFBbUQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLFdBQVcsRUFBQyxtQkFBbUIsRUFBQyxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxFQUFDLHNFQUFzRSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUNBQXFDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsNkxBQTZMLEVBQUMsTUFBTSxFQUFDLHlPQUF5TyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkNBQTZDLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxnRUFBZ0UsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZDQUE2QyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsMkRBQTJELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw2Q0FBNkMsRUFBQyxXQUFXLEVBQUMsbUJBQW1CLEVBQUMsT0FBTyxFQUFDLHdCQUF3QixFQUFDLE1BQU0sRUFBQyxzRkFBc0YsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZDQUE2QyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLCtRQUErUSxFQUFDLE1BQU0sRUFBQyxtVUFBbVUsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdDQUFnQyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUMsbURBQW1ELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLDhDQUE4QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLG1CQUFtQixFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLDREQUE0RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsZ0NBQWdDLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsMEZBQTBGLEVBQUMsTUFBTSxFQUFDLGlJQUFpSSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsc0JBQXNCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsdUJBQXVCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsbUJBQW1CLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLEVBQUMsc0JBQXNCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsa0JBQWtCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsc0JBQXNCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsdUJBQXVCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsc0JBQXNCLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFN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QUksRUFBQyxzQ0FBc0MsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLDZDQUE2QyxFQUFDLENBQUMsRUFBQyxzQkFBc0IsRUFBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLHNDQUFzQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxNQUFNLEVBQUMscUVBQXFFLEVBQUMsRUFBQyxFQUFDLElBQUksRUFBQyxzQ0FBc0MsRUFBQyxRQUFRLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxvREFBb0QsRUFBQyxDQUFDLEVBQUMsYUFBYSxFQUFDLENBQUMsRUFBQyx1QkFBdUIsRUFBQyxXQUFXLEVBQUMscUJBQXFCLEVBQUMsRUFBRSxFQUFDLGlCQUFpQixFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsYUFBYSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxZQUFZLEVBQUMscUJBQXFCLEVBQUMsRUFBRSxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsZUFBZSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxzQ0FBc0MsRUFBQyxpQkFBaUIsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLDZFQUE2RSxFQUFDLEVBQUMsRUFBQyx1QkFBdUIsRUFBQyxzQ0FBc0MsRUFBQyxxQkFBcUIsRUFBQyxXQUFXLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxrREFBa0QsRUFBQyxFQUFDLEVBQUMsdUJBQXVCLEVBQUMsc0NBQXNDLEVBQUMscUJBQXFCLEVBQUMsc0NBQXNDLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyw2RUFBNkUsRUFBQyxFQUFDLEVBQUMsdUJBQXVCLEVBQUMsc0NBQXNDLEVBQUMscUJBQXFCLEVBQUMsc0NBQXNDLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyw2RUFBNkUsRUFBQyxFQUFDLEVBQUMsdUJBQXVCLEVBQUMsc0NBQXNDLEVBQUMscUJBQXFCLEVBQUMsc0NBQXNDLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyw2RUFBNkUsRUFBQyxFQUFDLEVBQUMsdUJBQXVCLEVBQUMsc0NBQXNDLEVBQUMscUJBQXFCLEVBQUMsWUFBWSxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsbURBQW1ELEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLFlBQVksRUFBQyxxQkFBcUIsRUFBQyxFQUFFLEVBQUMsaUJBQWlCLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxjQUFjLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMsRUFBQyxFQUFDLHVCQUF1QixFQUFDLHNDQUFzQyxFQUFDLHFCQUFxQixFQUFDLHNDQUFzQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsNkVBQTZFLEVBQUMs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QUFDLG9DQUFvQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsdURBQXVELEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsMERBQTBELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1REFBdUQsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQywwREFBMEQsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxjQUFjLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsWUFBWSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1QkFBdUIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQywwQkFBMEIsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsYUFBYSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMscUJBQXFCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsd0JBQXdCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw4QkFBOEIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxpQ0FBaUMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHVDQUF1QyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLDBDQUEwQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUJBQXlCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsNEJBQTRCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyw4QkFBOEIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxpQ0FBaUMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsY0FBYyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLGNBQWMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1CQUFtQixFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHNCQUFzQixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsb0NBQW9DLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtQ0FBbUMsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxzQ0FBc0MsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNDQUFzQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHlDQUF5QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsa0JBQWtCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMscUJBQXFCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUJBQXlCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsNEJBQTRCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5Q0FBeUMsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyw0Q0FBNEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGdEQUFnRCxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLG1EQUFtRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0NBQStDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsa0RBQWtELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxtREFBbUQsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHNEQUFzRCxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHlEQUF5RCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNEJBQTRCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsK0JBQStCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxnQ0FBZ0MsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxtQ0FBbUMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG1DQUFtQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHNDQUFzQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsNkNBQTZDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsZ0RBQWdELEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5QkFBeUIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyw0QkFBNEIsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHFDQUFxQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHdDQUF3QyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUNBQXlDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsNENBQTRDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5Q0FBeUMsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyw0Q0FBNEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLCtDQUErQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLGtEQUFrRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsb0NBQW9DLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxvQ0FBb0MsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyx1Q0FBdUMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLDZDQUE2QyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLGdEQUFnRCxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsK0JBQStCLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsa0NBQWtDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsa0JBQWtCLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxxQkFBcUIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyx3QkFBd0IsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGlDQUFpQyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLG9DQUFvQyxFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMseUNBQXlDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsNENBQTRDLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx5QkFBeUIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyw0QkFBNEIsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLG9CQUFvQixFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHVCQUF1QixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLGNBQWMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx1Q0FBdUMsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQywwQ0FBMEMsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLHlCQUF5QixFQUFDLEtBQUssRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLDRCQUE0QixFQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsaUNBQWlDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsb0NBQW9DLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxrREFBa0QsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxzREFBc0QsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyx3QkFBd0IsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyw0QkFBNEIsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLEVBQUUsRUFBQyxlQUFlLEVBQUMsRUFBRSxFQUFDLHFCQUFxQixFQUFDLEVBQUUsRUFBQyxZQUFZLEVBQUMsRUFBRSxFQUFDLHNCQUFzQixFQUFDLEVBQUUsRUFBQyw2QkFBNkIsRUFBQyxFQUFFLEVBQUMsNkJBQTZCLEVBQUMsRUFBRSxFQUFDLGVBQWUsRUFBQyxFQUFFLEVBQUMsZ0JBQWdCLEVBQUMsRUFBRSxFQUFDLHdCQUF3QixFQUFDLEVBQUUsRUFBQyxlQUFlLEVBQUMsRUFBRSxFQUFDLGdCQUFnQixFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsZ0NBQWdDLEVBQUMsUUFBUSxFQUFDLHFHQUFxRyxFQUFDLFVBQVUsRUFBQyxzRUFBc0UsRUFBQyxNQUFNLEVBQUMseU1BQXlNLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQzs7O0FDbmQ5d2hLLG1EQUFtRDtBQUNuRCxJQUFZLFVBQVUsV0FBTSxZQUFZLENBQUMsQ0FBQTtBQUV6QywrQkFBMkIsa0JBQWtCLENBQUMsQ0FBQTtBQUM5QywyQkFBd0QsY0FBYyxDQUFDLENBQUE7QUFDdkUsb0JBQWlFLE9BQU8sQ0FBQyxDQUFBO0FBQ3pFLDRCQUEwQyxlQUFlLENBQUMsQ0FBQTtBQUMxRCxzQkFBc0MsU0FBUyxDQUFDLENBQUE7QUFFaEQsSUFBSyxJQUE2QjtBQUFsQyxXQUFLLElBQUk7SUFBRywrQkFBSSxDQUFBO0lBQUUsbUNBQU0sQ0FBQTtJQUFFLG1DQUFNLENBQUE7QUFBQyxDQUFDLEVBQTdCLElBQUksS0FBSixJQUFJLFFBQXlCO0FBQUEsQ0FBQztBQUNuQyxJQUFLLEtBQTBCO0FBQS9CLFdBQUssS0FBSztJQUFHLGlDQUFJLENBQUE7SUFBRSw2Q0FBVSxDQUFBO0FBQUMsQ0FBQyxFQUExQixLQUFLLEtBQUwsS0FBSyxRQUFxQjtBQUFBLENBQUM7QUFFckIsZUFBTyxHQUlkO0lBQ0YsTUFBTSxFQUFFO1FBQ04sTUFBTSxFQUFFLEVBQUU7S0FDWDtDQUNGLENBQUM7QUFFRiwyREFBMkQ7QUFDM0QsUUFBUTtBQUNSLDJEQUEyRDtBQUUzRCwyREFBMkQ7QUFDM0QsYUFBYTtBQUNiLDJEQUEyRDtBQUMzRCxZQUFTLENBQUMsaUJBQWlCLEVBQUUsVUFBQyxPQUFZLEVBQUUsRUFBNkM7UUFBNUMsTUFBTSxjQUFFLEtBQUs7SUFDeEQsSUFBSSxLQUFLLEdBQUcsZUFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsZUFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxPQUFBLEtBQUssRUFBQyxDQUFDO0lBQ3JGLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBQ0gsWUFBUyxDQUFDLGVBQWUsRUFBRSxVQUFDLE9BQVksRUFBRSxFQUE2QztRQUE1QyxNQUFNLGNBQUUsS0FBSztJQUN0RCxJQUFJLEtBQUssR0FBRyxlQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxlQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFDLE9BQUEsS0FBSyxFQUFDLENBQUM7SUFDckYsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDcEIsS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDdEIsSUFBSSxJQUFJLEdBQUcsWUFBSSxDQUFDLFNBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQztJQUN4RCxJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQztJQUN0QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUN0QixPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQztTQUN0QyxHQUFHLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRXhCLEVBQUUsQ0FBQSxDQUFDLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsRUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztRQUFDLG9CQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsK0JBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbkcsQ0FBQyxDQUFDLENBQUM7QUFDSCxZQUFTLENBQUMsdUJBQXVCLEVBQUUsVUFBQyxPQUFZLEVBQUUsRUFBd0I7UUFBdkIsTUFBTTtJQUN2RCxJQUFJLEtBQUssR0FBRyxlQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxlQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFDLEtBQUssRUFBRSxFQUFFLEVBQUMsQ0FBQztJQUN6RixLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUMzQixDQUFDLENBQUMsQ0FBQztBQUVILFlBQVMsQ0FBQyxpQkFBaUIsRUFBRSxVQUFDLE9BQVksRUFBRSxHQUF5RTtJQUNqSCxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUMsQ0FBQztBQUVILFlBQVMsQ0FBQyxvQkFBb0IsRUFBRSxVQUFDLE9BQVksRUFBRSxHQUFrQztJQUM3RSxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUMsQ0FBQztBQUVILFlBQVMsQ0FBQyxhQUFhLEVBQUUsVUFBQyxPQUFZLEVBQUUsRUFBZ0Q7UUFBL0MsSUFBSSxZQUFFLE9BQU87SUFDbEQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsRUFBQyxNQUFBLElBQUksRUFBQyxDQUFDLENBQUM7SUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsRUFBQyxNQUFBLElBQUksRUFBRSxTQUFBLE9BQU8sRUFBQyxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDLENBQUM7QUFFSCwyREFBMkQ7QUFDM0Qsa0JBQWtCO0FBQ2xCLDJEQUEyRDtBQUMzRDtJQUNFLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNmLEdBQUcsQ0FBQSxDQUFzQixVQUFtQixFQUFuQixLQUFBLFNBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQXhDLGNBQWlCLEVBQWpCLElBQXdDLENBQUM7UUFBekMsSUFBVSxNQUFNLGNBQUM7UUFDbkIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztLQUMxQjtJQUNELE1BQU0sQ0FBQyxFQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFDLENBQUM7QUFDdkQsQ0FBQztBQU5lLFlBQUksT0FNbkIsQ0FBQTtBQUVELGdEQUFnRDtBQUNoRCxJQUFJLFVBQVUsR0FBdUc7SUFDbkgsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUUsVUFBQyxNQUFNLEVBQUUsUUFBUSxJQUFLLE9BQUEsQ0FBQztRQUNsQyxDQUFDLEVBQUUsWUFBWTtRQUNmLE1BQU0sRUFBRSxFQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsRUFBRSxlQUFlLEVBQUMsRUFBRSxXQUFXLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEVBQUM7S0FDdEcsQ0FBQyxFQUhpQyxDQUdqQztJQUNGLEdBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFFLFVBQUMsTUFBTSxFQUFFLFFBQVEsSUFBSyxPQUFBLENBQUM7UUFDcEMsQ0FBQyxFQUFFLFFBQVE7UUFDWCxNQUFNLEVBQUUsRUFBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFO2dCQUM3QyxFQUFDLENBQUMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDO2dCQUN0QyxFQUFDLENBQUMsRUFBRSxtQkFBbUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFDLENBQUMsRUFBRSxpQkFBaUIsRUFBQyxDQUFDLEVBQUM7YUFDN0QsRUFBQztLQUNILENBQUMsRUFObUMsQ0FNbkM7SUFDRixHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRSxVQUFDLE1BQU0sRUFBRSxRQUFRLElBQUssT0FBQSxDQUFDO1FBQ3BDLENBQUMsRUFBRSxRQUFRO1FBQ1gsTUFBTSxFQUFFLEVBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRTtnQkFDN0MsRUFBQyxDQUFDLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQztnQkFDdEMsRUFBQyxDQUFDLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFO3dCQUNqQyxFQUFDLENBQUMsRUFBRSxvQkFBb0IsRUFBQzt3QkFDekIsRUFBQyxDQUFDLEVBQUUsaUJBQWlCLEVBQUM7d0JBQ3RCLEVBQUMsQ0FBQyxFQUFFLGlCQUFpQixFQUFDO3FCQUN2QixFQUFDO2FBQ0gsRUFBQztLQUNILENBQUMsRUFWbUMsQ0FVbkM7O0NBQ0gsQ0FBQztBQUVGLGNBQXFCLE1BQWE7SUFDaEMsK0JBQStCO0lBQy9CLElBQUksS0FBMkMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsSUFBSSxFQUFFLG9CQUF0RixRQUFRLG1CQUFHLFNBQVMscUJBQUUsSUFBSSxtQkFBRyxJQUFJLENBQUMsSUFBSSxLQUFnRCxDQUFDO0lBQzVGLElBQUksVUFBVSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxFQUFFLENBQUEsQ0FBQyxDQUFDLFVBQVUsQ0FBQztRQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXVCLElBQUksV0FBTSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQUcsQ0FBQyxDQUFDO0lBQ2hGLElBQUksS0FBNEIsVUFBVSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsRUFBckQsS0FBSyxTQUFFLE1BQU0sY0FBRSxNQUFNLFlBQWdDLENBQUM7SUFDN0QsSUFBSSxPQUFPLENBQUM7SUFDWixJQUFJLE9BQU8sR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQyxJQUFJLFNBQUcsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDM0csRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDO1FBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxvQkFBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLG9CQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNqSCxJQUFJO1FBQUMsT0FBTyxHQUFHLEVBQUMsSUFBSSxFQUFFLHFCQUFxQixFQUFDLENBQUMsQ0FBQyxzQ0FBc0M7SUFFcEYsTUFBTSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFhLEtBQUssSUFBSSxFQUFFLENBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUFDLENBQUM7QUFDOUUsQ0FBQztBQWJlLFlBQUksT0FhbkIsQ0FBQTtBQUVELGdCQUF1QixNQUFhLEVBQUUsTUFBYTtJQUNqRCxJQUFJLEtBQTZCLG9CQUFjLENBQUMsTUFBTSxDQUFDLEVBQWxELE1BQU0sY0FBRSxJQUFJLFlBQUUsVUFBVSxnQkFBMEIsQ0FBQztJQUN4RCxrQ0FBa0M7SUFDbEMsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLEdBQUcsQ0FBQSxDQUFhLFVBQUksRUFBaEIsZ0JBQVEsRUFBUixJQUFnQixDQUFDO1FBQWpCLElBQUksSUFBSSxHQUFJLElBQUksSUFBUjtRQUNWLElBQUksTUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsU0FBUyxDQUFDO1lBQUMsUUFBUSxDQUFDO1FBQzFHLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUM7WUFBQyxNQUFJLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsRUFBQyxFQUFFLEVBQUUsTUFBSSxFQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEYsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQUksRUFBQyxDQUFDLENBQUM7S0FDakU7SUFFRCw2Q0FBNkM7SUFDN0MsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQSxDQUFhLFVBQUksRUFBaEIsZ0JBQVEsRUFBUixJQUFnQixDQUFDO1FBQWpCLElBQUksSUFBSSxHQUFJLElBQUksSUFBUjtRQUNWLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxLQUFLLENBQUM7WUFBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFN0UsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxTQUFTLENBQUM7WUFBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztLQUMzRTtJQUVELElBQUksT0FBTyxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQ2xDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDN0IsSUFBSSxLQUFLLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUMzQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDaEIsVUFBVSxFQUFFLEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsSUFBSSxVQUFVLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDekcsRUFBRSxDQUFBLENBQUMsU0FBUyxJQUFJLEVBQUUsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBQUMsS0FBSyxDQUFDO1FBQzdDLEVBQUUsQ0FBQSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDO1lBQUMsUUFBUSxDQUFDO1FBRXRELElBQUksS0FBSyxTQUFBLENBQUM7UUFDVixFQUFFLENBQUEsQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFDM0YsSUFBSTtZQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFbkMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsTUFBTSxHQUFHLFVBQVUsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ2xELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QixFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUMsUUFBUSxDQUFDO1lBQ3hCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRSxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzdELEVBQUUsQ0FBQSxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7WUFDL0IsTUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7WUFFcEIsSUFBSSxJQUFJLFNBQUEsRUFBRSxJQUFJLFNBQUEsRUFBRSxJQUFJLFNBQUEsRUFBRSxLQUFLLENBQUM7WUFDNUIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ2pDLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDL0QsSUFBSSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdkIsSUFBSSxHQUFHLFFBQVEsQ0FBQztZQUNsQixDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxJQUFJLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUN0QixJQUFJLEdBQUcsV0FBVyxDQUFDO1lBQ3JCLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMzQixJQUFJLEdBQUcsT0FBTyxDQUFDO1lBQ2pCLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pDLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEMsSUFBSSxHQUFHLE9BQU8sQ0FBQztZQUNqQixDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDdEYsQ0FBQztZQUFDLElBQUk7Z0JBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFcEMsRUFBRSxDQUFBLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQztnQkFBQyxRQUFRLENBQUM7WUFDaEMsSUFBSSxJQUFJLEdBQUcsRUFBQyxFQUFFLEVBQUssTUFBTSxTQUFJLEVBQUUsU0FBSSxNQUFRLEVBQUUsQ0FBQyxFQUFFLFFBQVEsR0FBRyxJQUFJLEVBQUUsTUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUMsRUFBRSxNQUFBLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxHQUFHLFFBQVEsR0FBRyxTQUFTLEVBQUMsQ0FBQztZQUNqSSxFQUFFLENBQUEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztZQUN2RyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUU5RSxFQUFFLENBQUEsQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsZ0NBQWdDO1FBQzdFLENBQUM7SUFDSCxDQUFDO0lBQ0Qsc0lBQXNJO0lBQ3RJLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBSyxNQUFNLFlBQVMsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQ3hGLE1BQU0sQ0FBQyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBQyxFQUFFLEVBQUssTUFBTSxXQUFRLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLENBQUMsR0FBK0IsQ0FBQztBQUM3TCxDQUFDO0FBckVlLGNBQU0sU0FxRXJCLENBQUE7QUFDRCxxQkFBcUIsSUFBZ0IsRUFBRSxJQUFZO0lBQ2pELDZHQUE2RztJQUM3RyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUM7SUFDZixPQUFNLEdBQUcsQ0FBQyxhQUFhO1FBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDakQsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLE9BQU8sS0FBSyxNQUFNLENBQUM7UUFBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUUxRCxJQUFJLEtBQVUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJLE9BQU8sR0FBdUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ25FLEdBQUcsQ0FBQSxDQUFlLFVBQU8sRUFBckIsbUJBQVUsRUFBVixJQUFxQixDQUFDO1FBQXRCLElBQUksTUFBTSxHQUFJLE9BQU8sSUFBWDtRQUNaLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQztRQUM1QixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RCxFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO0tBQy9GO0lBQ0QsR0FBRyxDQUFBLENBQWUsVUFBTyxFQUFyQixtQkFBVSxFQUFWLElBQXFCLENBQUM7UUFBdEIsSUFBSSxNQUFNLEdBQUksT0FBTyxJQUFYO1FBQWEsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUFBO0lBRTVFLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssTUFBTSxDQUFDO1FBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUVELDJEQUEyRDtBQUMzRCxRQUFRO0FBQ1IsMkRBQTJEO0FBQzNELHFCQUFxQixTQUFnQjtJQUNuQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDaEIsRUFBRSxDQUFBLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzdCLEdBQUcsQ0FBQSxDQUFXLFVBQW9CLEVBQXBCLEtBQUEsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBOUIsY0FBTSxFQUFOLElBQThCLENBQUM7UUFBL0IsSUFBSSxFQUFFLFNBQUE7UUFDUixJQUFJLEtBQWUsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBM0IsR0FBRyxVQUFFLEtBQUssUUFBaUIsQ0FBQztRQUNqQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsbUJBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztLQUNoRDtJQUNELE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQUVELGtCQUFrQixJQUFrRCxFQUFFLEtBQVk7SUFDaEYsSUFBSSxLQUF1QixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUF0QyxPQUFPLFVBQUUsU0FBUyxRQUFvQixDQUFDO0lBQzVDLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDMUMsSUFBSSxJQUFJLENBQUM7SUFDVCxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQztJQUMzQixJQUFJLE1BQU0sR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDcEMsSUFBSSxjQUFjLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsRUFBQyxFQUFFLEVBQUUsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUVoRSxzRUFBc0U7SUFDdEUsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixzQkFBc0I7UUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDaEMsSUFBSSxHQUFHLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDVCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFLLFNBQVMsR0FBVyxHQUFHLFlBQVosS0FBSyxHQUFJLEdBQUcsTUFBQSxDQUFDO1lBQzdCLElBQUksT0FBTyxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDekQsRUFBRSxDQUFDLENBQUMsU0FBUyxLQUFLLE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2YsQ0FBQztZQUNELElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFBO1FBRW5ELENBQUM7SUFFSCxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDekIsbUJBQW1CO1FBQ25CLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQztRQUN2QyxJQUFJLEdBQUcsT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLG1CQUFtQjtRQUNuQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QiwwREFBMEQ7UUFDMUQsSUFBSSxXQUFXLEdBQUcsSUFBSSxxQkFBUSxFQUFFLENBQUM7UUFDakMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdFLElBQUksR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDO0lBQzdCLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRztZQUNiLGNBQVEsQ0FBQyxlQUFlLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMzRSxDQUFDLENBQUE7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxtQkFBbUIsSUFBSSxFQUFFLEtBQUs7SUFDNUIsSUFBSSxLQUF1QixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBbkQsT0FBTyxVQUFFLFNBQVMsUUFBaUMsQ0FBQztJQUN6RCxJQUFJLE1BQU0sR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDcEMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxRQUFRLEdBQUcsWUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxRQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN6QixJQUFJLEtBQXFCLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFuRSxTQUFTLFVBQUUsS0FBSyxRQUFtRCxDQUFDO1FBQ3pFLEtBQUssR0FBRyxtQkFBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2xDLElBQUksT0FBTyxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7UUFDekQsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNYLEtBQUssR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3JCLENBQUM7UUFDRCxjQUFRLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxRQUFBLFFBQU0sRUFBRSxXQUFBLFNBQVMsRUFBRSxPQUFBLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNyRixNQUFNLENBQUMsTUFBSSxRQUFNLFdBQU0sU0FBUyxzQkFBaUIsUUFBUSxNQUFHLENBQUM7SUFDL0QsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsb0JBQWMsQ0FBQyxPQUFPLENBQUMsR0FBRywrQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxzQkFBc0IsSUFBSSxFQUFFLEtBQUs7SUFDL0IsSUFBSSxLQUFzQixLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBcEUsTUFBTSxVQUFFLFNBQVMsUUFBbUQsQ0FBQztJQUMxRSxJQUFJLE1BQU0sR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDcEMsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2xDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxTQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFFLFFBQUEsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsY0FBUSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBQSxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzNFLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztJQUNSLENBQUM7QUFDSCxDQUFDO0FBRUQsSUFBSSxVQUFVLEdBQUcsNkJBQVksQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBRWpFLDJEQUEyRDtBQUczRCxnQkFBdUIsUUFBZSxFQUFFLE1BQWE7SUFDbkQsSUFBSSxPQUFPLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNuRSxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xFLGdDQUFnQztJQUNsQywrTEFBK0w7SUFDL0wsK0hBQStIO0lBQzdILE1BQU0sQ0FBQyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUU7WUFDOUMsRUFBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQUEsSUFBSSxFQUFFLFFBQUEsTUFBTSxFQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBQztTQUN6SCxFQUFDLENBQUM7QUFDTCxDQUFDO0FBVGUsY0FBTSxTQVNyQixDQUFBO0FBRUQsb0JBQW9CLElBQUksRUFBRSxPQUFPO0lBQzdCLGNBQVEsQ0FBQyxhQUFhLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxTQUFBLE9BQU8sRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDakUsQ0FBQztBQUVELGtCQUFrQixLQUFLLEVBQUUsSUFBSTtJQUMzQixJQUFLLE1BQU0sR0FBSSxJQUFJLENBQUMsSUFBSSxPQUFBLENBQUM7SUFDekIsY0FBUSxDQUFDLGVBQWUsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNqRSxDQUFDO0FBRUQsMkRBQTJEO0FBQzNELGVBQWU7QUFDZiwyREFBMkQ7QUFDM0QscUJBQTRCLE1BQWEsRUFBRSxLQUFZO0lBQ3JELElBQUksT0FBTyxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUMsRUFBRSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7SUFDdkQsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDO0lBQ2pCLEVBQUUsQ0FBQSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDWCxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUN0QixDQUFDO0lBQ0QsSUFBSSxLQUFLLEdBQUcsZUFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUMsQ0FBQztJQUMzRSxNQUFNLENBQUM7UUFDTCxDQUFDLEVBQUUsK0JBQStCO1FBQ2xDLFFBQVEsRUFBRTtZQUNSLGlCQUFpQixDQUFDO2dCQUNoQixDQUFDLEVBQUUsa0NBQStCLEtBQUssQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFFLEVBQUUsQ0FBRTtnQkFDbEUsUUFBQSxNQUFNO2dCQUNOLEtBQUssRUFBRSxJQUFJO2dCQUNYLEtBQUssRUFBRSxXQUFXO2dCQUNsQixJQUFJLEVBQUUsU0FBUztnQkFDZix3QkFBd0I7Z0JBQ3hCLFNBQVMsRUFBRSxFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUM7YUFDaEMsQ0FBQztZQUNGLEVBQUMsQ0FBQyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUU7b0JBQ3hCLEVBQUMsQ0FBQyxFQUFFLG9CQUFpQixLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxNQUFNLFdBQU8sRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsUUFBQSxNQUFNLEVBQUM7b0JBQ3hGLCtGQUErRjtvQkFDL0YsZ0NBQWdDO29CQUNoQyxFQUFDLENBQUMsRUFBRSw0QkFBNEIsRUFBRSxRQUFBLE1BQU0sRUFBQztpQkFDMUMsRUFBQztTQUNIO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUEzQmUsbUJBQVcsY0EyQjFCLENBQUE7QUFBQSxDQUFDO0FBRUYscUJBQXFCLEtBQUssRUFBRSxJQUFJO0lBQzlCLGNBQVEsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM3QyxDQUFDO0FBQ0QsbUJBQW1CLEtBQUssRUFBRSxJQUFJO0lBQzVCLGNBQVEsQ0FBQyxlQUFlLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEYsQ0FBQztBQUNELHNCQUFzQixLQUFLLEVBQUUsSUFBSTtJQUMvQixjQUFRLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDOUMsQ0FBQztBQUNELDBCQUEwQixLQUFLLEVBQUUsSUFBSTtJQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3hDLGNBQVEsQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNuRCxDQUFDO0FBR0QsZUFBc0IsSUFBaUI7SUFDckMsSUFBSSxLQUFLLEdBQUcsU0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztJQUN6RSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3ZCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNsQixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNiLElBQUksQ0FBQyxRQUFRLEdBQUc7UUFDZCxFQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQUksS0FBSyxDQUFDLE1BQU0sU0FBSSxTQUFTLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQUcsRUFBQztRQUN6SCxFQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLElBQUssT0FBQSxDQUFDLEVBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQUEsS0FBSyxFQUFDLENBQUMsRUFBM0YsQ0FBMkYsQ0FBQyxFQUFDO0tBQ3RJLENBQUM7SUFDRixNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQVZlLGFBQUssUUFVcEIsQ0FBQTtBQUdELGlCQUF3QixJQUFtQjtJQUN6QyxJQUFJLEtBQUssR0FBRyxTQUFHLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ3JFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2IsSUFBSSxDQUFDLENBQUMsR0FBRyx3QkFBd0IsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7SUFDbkQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN2QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFFbEIsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUFDLElBQUksQ0FBQyxRQUFRLEdBQUc7WUFDL0IsRUFBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBSyxJQUFJLENBQUMsUUFBUSxvQkFBaUIsRUFBQztTQUNuRCxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUMsSUFBSSxJQUFLLE9BQUEsQ0FBQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBQSxLQUFLLEVBQUMsQ0FBQyxFQUE5RSxDQUE4RSxDQUFDLENBQUMsQ0FBQztJQUM5RyxJQUFJO1FBQUMsSUFBSSxDQUFDLElBQUksR0FBTSxJQUFJLENBQUMsUUFBUSwyQ0FBd0MsQ0FBQztJQUMxRSxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQVplLGVBQU8sVUFZdEIsQ0FBQTtBQVlBLENBQUM7QUFLRiwyQkFBa0MsSUFBYztJQUM5QyxJQUFJLENBQUMsVUFBVSxHQUFHLG9CQUFvQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN4RCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUhlLHlCQUFpQixvQkFHaEMsQ0FBQTtBQUVELElBQUkseUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQ25DLHVCQUF1QixPQUFzQixFQUFFLElBQWM7SUFDM0QsTUFBTSxDQUFDLFVBQUMsRUFBb0I7UUFDMUIsSUFBSSxHQUFHLEdBQWlCLENBQUMsSUFBSSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNyRCxHQUFHLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixHQUFHLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNuQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JCLENBQUMsQ0FBQTtBQUNILENBQUM7QUFDRCw4QkFBOEIsVUFBeUI7SUFDckQsSUFBSSxHQUFHLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDbEQsRUFBRSxDQUFBLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFBQyxNQUFNLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekUsTUFBTSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQUMsSUFBVyxFQUFFLElBQWM7UUFDbEUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNqQixFQUFFLENBQUEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDUCxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDbkIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFDakMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3hFLENBQUM7WUFDRCxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFO2dCQUM5QixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksS0FBSyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUs7Z0JBQ3hELFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztnQkFDN0IsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksS0FBSztnQkFDeEIsV0FBQSxTQUFTO2FBQ1YsQ0FBQyxDQUFDO1lBQ0gsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2xFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM1RCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDL0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDaEMsQ0FBQztRQUVELEVBQUUsQ0FBQSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLEVBQUUsQ0FBQSxDQUFDLFVBQVUsQ0FBQztZQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFBO0FBQ0gsQ0FBQztBQUVELDBJQUEwSTtBQUMxSSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDOzs7O0FDdmN6QixzQkFBeUMsU0FBUyxDQUFDLENBQUE7QUFFbkQsd0JBQTZCLFdBQVcsQ0FBQyxDQUFBO0FBRXpDLGlCQUFpQixLQUFLLEVBQUUsSUFBSTtJQUMxQixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7SUFDZCxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsQ0FBRyxLQUFLLFVBQUssS0FBSyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0MsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNkLENBQUM7QUFDRCxrQkFBa0IsS0FBSyxFQUFFLElBQUk7SUFDM0IsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2QsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUM7UUFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVELHFCQUFxQixTQUFTLEVBQUUsS0FBSyxFQUFFLElBQUk7SUFDekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNwRCxDQUFDO0FBQ0Qsd0JBQXdCLFNBQVMsRUFBRSxLQUFLLEVBQUUsSUFBSTtJQUM1QyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELENBQUM7QUFDRCx1QkFBdUIsSUFBWSxFQUFFLEtBQUssRUFBRSxLQUFLO0lBQy9DLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNqQixHQUFHLENBQUEsQ0FBYSxVQUF1QyxFQUF2QyxLQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBbkQsY0FBUSxFQUFSLElBQW1ELENBQUM7UUFBcEQsSUFBSSxJQUFJLFNBQUE7UUFBNkMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7S0FBQTtJQUM3RixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7SUFDZCxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7UUFBQyxJQUFJLENBQUMsT0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzVFLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQUVEO0lBa0NFLFlBQW1CLEVBQUU7UUFBRixPQUFFLEdBQUYsRUFBRSxDQUFBO1FBL0JYLGNBQVMsR0FBUSxFQUFFLENBQUM7UUFDcEIsZ0JBQVcsR0FBTSxFQUFFLENBQUM7UUFDcEIsWUFBTyxHQUFNLEVBQUUsQ0FBQztJQStCMUIsQ0FBQztJQTNCTSxTQUFNLEdBQWIsVUFBYyxRQUFlLEVBQUUsSUFBWTtRQUN6QyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDNUIsY0FBYyxDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDckQsY0FBYyxDQUFDLFNBQVMsRUFBRSxxQkFBcUIsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUM3RCxJQUFJLFFBQVEsR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFFLHFCQUFxQixFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ3RFLEdBQUcsQ0FBQSxDQUFnQixVQUFRLEVBQXZCLG9CQUFXLEVBQVgsSUFBdUIsQ0FBQztZQUF4QixJQUFJLE9BQU8sR0FBSSxRQUFRLElBQVo7WUFBYyxTQUFTLENBQUMsS0FBSyxDQUFDLGVBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQUE7UUFDbEYsY0FBYyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDbEQsSUFBSSxNQUFNLEdBQUcsYUFBYSxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDekQsR0FBRyxDQUFBLENBQWMsVUFBTSxFQUFuQixrQkFBUyxFQUFULElBQW1CLENBQUM7WUFBcEIsSUFBSSxLQUFLLEdBQUksTUFBTSxJQUFWO1lBQ1gsY0FBYyxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQztZQUM1RSxjQUFjLENBQUMsU0FBUyxFQUFFLHdCQUF3QixFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO1NBQ3JGO1FBQ0QsY0FBYyxDQUFDLFNBQVMsRUFBRSxjQUFjLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDdEQsY0FBYyxDQUFDLFNBQVMsRUFBRSxzQkFBc0IsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUM5RCxjQUFjLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLE1BQU0sR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUN6RCxHQUFHLENBQUEsQ0FBYyxVQUFNLEVBQW5CLGtCQUFTLEVBQVQsSUFBbUIsQ0FBQztZQUFwQixJQUFJLE9BQUssR0FBSSxNQUFNLElBQVY7WUFDWCxjQUFjLENBQUMsU0FBUyxFQUFFLGdCQUFnQixFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO1lBQzVFLGNBQWMsQ0FBQyxTQUFTLEVBQUUsd0JBQXdCLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBSyxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7U0FDckY7UUFFRCxHQUFHLENBQUEsQ0FBYyxVQUFzRCxFQUF0RCxLQUFBLGFBQWEsQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxDQUFDLEVBQW5FLGNBQVMsRUFBVCxJQUFtRSxDQUFDO1lBQXBFLElBQUksS0FBSyxTQUFBO1lBQTRELFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7U0FBQTtRQUMxSCxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFLRCxpQkFBSSxHQUFKO1FBQ0UsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0Qsc0JBQVMsR0FBVCxVQUFVLElBQVk7UUFDcEIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRTVCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ25GLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsRUFBRSxDQUFBLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQztZQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDakYsRUFBRSxDQUFBLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxTQUFTLENBQUM7WUFBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQzFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBRS9CLFdBQVcsQ0FBQyxTQUFTLEVBQUUsYUFBYSxFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsUUFBQSxNQUFNLEVBQUUsSUFBQSxFQUFFLEVBQUMsQ0FBQyxDQUFDO1FBQ3ZFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDO2dCQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLGdCQUFjLElBQUksQ0FBQyxFQUFJLENBQUM7WUFDekcsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQy9DLFdBQVcsQ0FBQyxTQUFTLEVBQUUscUJBQXFCLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ2xHLENBQUM7UUFDRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUNsQixJQUFJLEtBQUssR0FBRyxZQUFJLEVBQUUsQ0FBQztZQUNuQixXQUFXLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFDLE9BQUEsS0FBSyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLElBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUEsRUFBRSxFQUFDLENBQUMsQ0FBQztZQUN6RyxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQyxFQUFFLENBQUEsQ0FBQyxLQUFLLFlBQVksS0FBSyxDQUFDO29CQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsd0JBQXdCLEVBQUUsRUFBQyxPQUFBLEtBQUssRUFBRSxLQUFBLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUM3SCxJQUFJO29CQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsRUFBQyxPQUFBLEtBQUssRUFBRSxLQUFBLEdBQUcsRUFBRSxPQUFBLEtBQUssRUFBQyxDQUFDLENBQUM7WUFDckUsQ0FBQztRQUNILENBQUM7UUFFRCxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsRUFBRSxDQUFBLENBQUMsS0FBSyxZQUFZLEtBQUssQ0FBQztnQkFBQyxXQUFXLENBQUMsU0FBUyxFQUFFLHNCQUFzQixFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsVUFBQSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztZQUM1SSxJQUFJO2dCQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsY0FBYyxFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsVUFBQSxRQUFRLEVBQUUsT0FBQSxLQUFLLEVBQUMsQ0FBQyxDQUFDO1FBQ3BGLENBQUM7UUFFRCxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQzlCLFdBQVcsQ0FBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsT0FBQSxPQUFLLEVBQUMsQ0FBQyxDQUFDO1lBQy9ELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7WUFDaEMsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZCLEVBQUUsQ0FBQSxDQUFDLEtBQUssWUFBWSxLQUFLLENBQUM7b0JBQ3hCLFdBQVcsQ0FBQyxTQUFTLEVBQUUsd0JBQXdCLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxPQUFBLE9BQUssRUFBRSxLQUFBLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUN2SCxJQUFJO29CQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxPQUFBLE9BQUssRUFBRSxLQUFBLEdBQUcsRUFBRSxPQUFBLEtBQUssRUFBQyxDQUFDLENBQUM7WUFDeEYsQ0FBQztRQUNILENBQUM7UUFFRCxHQUFHLENBQUEsQ0FBYyxVQUFjLEVBQWQsS0FBQSxJQUFJLENBQUMsU0FBUyxFQUEzQixjQUFTLEVBQVQsSUFBMkIsQ0FBQztZQUE1QixJQUFJLEtBQUssU0FBQTtZQUFvQixTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUFBO1FBRXhFLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUNELGlCQUFJLEdBQUosVUFBSyxRQUFlLEVBQUUsSUFBWSxFQUFFLE1BQVU7UUFDNUMsSUFBSSxJQUFJLEdBQUcsYUFBYSxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3RCLEVBQUUsQ0FBQSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hFLElBQUksT0FBTyxHQUFHLGFBQWEsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEUsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDO1lBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksZUFBSyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFELElBQUksS0FBSyxHQUFHLGFBQWEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RyxFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1QsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ2YsR0FBRyxDQUFBLENBQWEsVUFBMkQsRUFBM0QsS0FBQSxhQUFhLENBQUMsSUFBSSxFQUFFLGdCQUFnQixFQUFFLEVBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxFQUF2RSxjQUFRLEVBQVIsSUFBdUUsQ0FBQztnQkFBeEUsSUFBSSxJQUFJLFNBQUE7Z0JBQWlFLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQzthQUFBO1lBQzFHLEdBQUcsQ0FBQSxDQUFhLFVBQW1FLEVBQW5FLEtBQUEsYUFBYSxDQUFDLElBQUksRUFBRSx3QkFBd0IsRUFBRSxFQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFDLENBQUMsRUFBL0UsY0FBUSxFQUFSLElBQStFLENBQUM7Z0JBQWhGLElBQUksSUFBSSxTQUFBO2dCQUF5RSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFBQTtZQUNqSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BCLENBQUM7UUFFRCxHQUFHLENBQUEsQ0FBYSxVQUErQyxFQUEvQyxLQUFBLGFBQWEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUMsQ0FBQyxFQUEzRCxjQUFRLEVBQVIsSUFBMkQsQ0FBQztZQUE1RCxJQUFJLElBQUksU0FBQTtZQUFxRCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQUE7UUFDM0csR0FBRyxDQUFBLENBQWEsVUFBdUQsRUFBdkQsS0FBQSxhQUFhLENBQUMsSUFBSSxFQUFFLHNCQUFzQixFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUMsQ0FBQyxFQUFuRSxjQUFRLEVBQVIsSUFBbUUsQ0FBQztZQUFwRSxJQUFJLElBQUksU0FBQTtZQUE2RCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQUE7UUFFbEksR0FBRyxDQUFBLENBQWMsVUFBMkMsRUFBM0MsS0FBQSxhQUFhLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFDLFVBQUEsUUFBUSxFQUFDLENBQUMsRUFBeEQsY0FBUyxFQUFULElBQXdELENBQUM7WUFBekQsSUFBSSxPQUFLLFNBQUE7WUFDWCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDZixHQUFHLENBQUEsQ0FBYSxVQUFxRSxFQUFyRSxLQUFBLGFBQWEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsRUFBQyxVQUFBLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBSyxDQUFDLEtBQUssRUFBQyxDQUFDLEVBQWpGLGNBQVEsRUFBUixJQUFpRixDQUFDO2dCQUFsRixJQUFJLElBQUksU0FBQTtnQkFBMkUsS0FBSyxDQUFDLE9BQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFLLENBQUMsS0FBSyxDQUFDO2FBQUE7WUFDdEgsR0FBRyxDQUFBLENBQWEsVUFBNkUsRUFBN0UsS0FBQSxhQUFhLENBQUMsSUFBSSxFQUFFLHdCQUF3QixFQUFFLEVBQUMsVUFBQSxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxFQUF6RixjQUFRLEVBQVIsSUFBeUYsQ0FBQztnQkFBMUYsSUFBSSxJQUFJLFNBQUE7Z0JBQW1GLEtBQUssQ0FBQyxPQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFLLENBQUMsTUFBTSxFQUFFLE9BQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTthQUFBO1lBQzdJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztTQUNoQztRQUVELEdBQUcsQ0FBQSxDQUFjLFVBQXNELEVBQXRELEtBQUEsYUFBYSxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFBbkUsY0FBUyxFQUFULElBQW1FLENBQUM7WUFBcEUsSUFBSSxLQUFLLFNBQUE7WUFDWCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7U0FBQTtRQUV4RSxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELHFCQUFRLEdBQVIsVUFBUyxJQUFVLEVBQUUsTUFBYztRQUFkLHNCQUFjLEdBQWQsY0FBYztRQUNqQyxFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQSxDQUFjLFVBQUksRUFBakIsZ0JBQVMsRUFBVCxJQUFpQixDQUFDO1lBQWxCLElBQUksS0FBSyxHQUFJLElBQUksSUFBUjtZQUNYLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMxQixNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM3QjtRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFDRCxrQkFBSyxHQUFMLFVBQU0sS0FBUSxFQUFFLEVBQVcsRUFBRSxLQUFTO1FBQ3BDLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDckIsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDckIsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDO1lBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QixFQUFFLENBQUEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUk7WUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0Qsd0JBQVcsR0FBWCxVQUFZLEVBQVU7UUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsdUJBQVUsR0FBVixVQUFXLFVBQWUsRUFBRSxLQUFhO1FBQWIscUJBQWEsR0FBYixhQUFhO1FBQ3ZDLEVBQUUsQ0FBQSxDQUFDLENBQUMsVUFBVSxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDeEMsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1YsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUFDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRSxDQUFDO1FBQ0QsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxVQUFVLENBQUM7WUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0RSxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELHNCQUFTLEdBQVQsVUFBVSxRQUFnQixFQUFFLEtBQVc7UUFDckMsRUFBRSxDQUFBLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0QsNEJBQWUsR0FBZixVQUFnQixRQUFnQjtRQUM5QixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxtQkFBTSxHQUFOLFVBQU8sTUFBVyxFQUFFLEtBQWE7UUFBYixxQkFBYSxHQUFiLGFBQWE7UUFDL0IsRUFBRSxDQUFBLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUNoQyxFQUFFLENBQUEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDVixHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQUssQ0FBQyxDQUFDO1FBQzVELENBQUM7UUFDRCxHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsT0FBSyxJQUFJLE1BQU0sQ0FBQztZQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLE9BQUssQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0Qsa0JBQUssR0FBTCxVQUFNLEtBQWEsRUFBRSxLQUFXO1FBQzlCLEVBQUUsQ0FBQSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELHdCQUFXLEdBQVgsVUFBWSxLQUFhO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGtCQUFLLEdBQUwsVUFBTSxLQUFxQjtRQUFyQixxQkFBcUIsR0FBckIsVUFBcUI7UUFDekIsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNkLENBQUM7UUFDRCxFQUFFLENBQUEsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDO1lBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGlCQUFJLEdBQUosVUFBSyxPQUFhO1FBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0gsU0FBQztBQUFELENBbk1BLEFBbU1DLElBQUE7QUFuTVksVUFBRSxLQW1NZCxDQUFBO0FBT0QsZ0NBQWdDO0FBQ2hDLDJDQUEyQztBQUMzQztJQUtFLG9CQUFtQixJQUFZO1FBQVosU0FBSSxHQUFKLElBQUksQ0FBUTtRQUp4QixhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ1Ysa0JBQWEsR0FBMkMsRUFBRSxDQUFDO1FBQzNELGNBQVMsR0FBb0IsRUFBRSxDQUFDO0lBRVIsQ0FBQztJQUVuQyw0QkFBTyxHQUFQLFVBQVEsS0FBd0I7UUFDOUIsRUFBRSxDQUFBLENBQUMsYUFBSyxDQUFDLFFBQVEsQ0FBQztZQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDL0MsSUFBSSxhQUFhLEdBQWEsRUFBRSxDQUFDO1FBQ2pDLEdBQUcsQ0FBQSxDQUFhLFVBQUssRUFBakIsaUJBQVEsRUFBUixJQUFpQixDQUFDO1lBQWxCLElBQUksSUFBSSxHQUFJLEtBQUssSUFBVDtZQUNWLDJDQUEyQztZQUMzQyxFQUFFLENBQUEsQ0FBQyxPQUFPLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzdELGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0MsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUMsdUJBQXVCLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztnQkFDN0UsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQUMsUUFBUSxDQUFDO2dCQUNuQixJQUFJLFFBQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztnQkFDekMsRUFBRSxDQUFBLENBQUMsUUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDVixHQUFHLENBQUEsQ0FBYSxVQUFLLEVBQWpCLGlCQUFRLEVBQVIsSUFBaUIsQ0FBQzt3QkFBbEIsSUFBSSxJQUFJLEdBQUksS0FBSyxJQUFUO3dCQUFXLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBTSxDQUFDO3FCQUFBO2dCQUM5QyxDQUFDO1lBQ0gsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUM7Z0JBQzVDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0IsQ0FBQztTQUNGO1FBQ0QsRUFBRSxDQUFBLENBQUMsYUFBSyxDQUFDLFFBQVEsQ0FBQztZQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN0QyxNQUFNLENBQUMsYUFBYSxDQUFDO0lBQ3ZCLENBQUM7SUFFUyxvQ0FBZSxHQUF6QixVQUEwQixRQUFlLEVBQUUsTUFBYyxFQUFFLFdBQW1CLEVBQUUsWUFBdUIsRUFBRSxLQUFnQjtRQUE5RCwyQkFBbUIsR0FBbkIsZ0JBQW1CO1FBQUUsNEJBQXVCLEdBQXZCLGlCQUF1QjtRQUFFLHFCQUFnQixHQUFoQixTQUFnQjtRQUN2SCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxFQUFDLCtCQUErQixFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDcEcsRUFBRSxDQUFBLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ1osSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQy9ELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzNCLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1lBQ3pELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3hELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNYLEdBQUcsQ0FBQSxDQUFhLFVBQUssRUFBakIsaUJBQVEsRUFBUixJQUFpQixDQUFDO2dCQUFsQixJQUFJLElBQUksR0FBSSxLQUFLLElBQVQ7Z0JBQ1YsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUMvRCxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ25CLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQztvQkFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzNCO1FBQ0gsQ0FBQztRQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFYLENBQVcsQ0FBQyxDQUFDO1FBQ2xDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN2QixHQUFHLENBQUEsQ0FBYSxVQUFLLEVBQWpCLGlCQUFRLEVBQVIsSUFBaUIsQ0FBQztZQUFsQixJQUFJLElBQUksR0FBSSxLQUFLLElBQVQ7WUFDVixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQzlDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssTUFBTSxDQUFDO2dCQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNqQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztTQUNsQjtRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRVMsb0NBQWUsR0FBekIsVUFBMEIsUUFBZSxFQUFFLFlBQWtCLEVBQUUsS0FBWTtRQUN6RSxFQUFFLENBQUEsQ0FBQyxhQUFLLENBQUMsUUFBUSxDQUFDO1lBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM1RSxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztRQUNoRixJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7UUFDeEUsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7UUFDaEYsSUFBSSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQztRQUN2RyxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7UUFDakYsSUFBSSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLGdDQUFnQyxDQUFDLENBQUMsQ0FBQztRQUN4RyxJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFDLHVCQUF1QixFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDakYsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ1QsT0FBTyxDQUFDLElBQUksQ0FBQyxpQkFBZSxRQUFRLCtCQUE0QixDQUFDLENBQUM7WUFDbEUsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBRUQsSUFBSSxLQUFLLEdBQUcsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLElBQUksVUFBVSxHQUFHLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELElBQUksTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV2Qyx5QkFBeUI7UUFDekIsSUFBSSxJQUFJLEdBQVcsRUFBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBQyxDQUFDO1FBRXRFLDJCQUEyQjtRQUMzQixFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1QsR0FBRyxDQUFBLENBQXFFLFVBQUssRUFBekUsaUJBQWdFLEVBQWhFLElBQXlFLENBQUM7Z0JBQTFFLFNBQW9FLEtBQUssTUFBMUMsSUFBSSxpQ0FBeUIsR0FBRyw0QkFBQztnQkFBVyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQUE7UUFDbEcsQ0FBQztRQUVELDBCQUEwQjtRQUMxQixFQUFFLENBQUEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ2QsK0JBQStCO1lBQy9CLEdBQUcsQ0FBQSxDQUErSCxVQUFVLEVBQXhJLHNCQUEwSCxFQUExSCxJQUF3SSxDQUFDO2dCQUF6SSxTQUE4SCxVQUFVLE1BQWpHLElBQUkseUNBQWtDLE1BQU0sdUNBQWlDLEtBQUssb0NBQUM7Z0JBQzVILElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFBQTtRQUNqRSxDQUFDO1FBRUQsd0JBQXdCO1FBQ3hCLEVBQUUsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDVixHQUFHLENBQUEsQ0FBbUMsVUFBTSxFQUF4QyxrQkFBOEIsRUFBOUIsSUFBd0MsQ0FBQztnQkFBekMsSUFBd0IsT0FBSyxHQUFLLE1BQU0sdUJBQVY7Z0JBQVksSUFBSSxDQUFDLE9BQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsT0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO2FBQUE7UUFDbkgsQ0FBQztRQUVELG1CQUFtQjtRQUNuQixJQUFJLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDakQsSUFBSSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM3QyxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ25CLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRSxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLE9BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxNQUFNLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDM0QsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM5QixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzVCLElBQUksR0FBRyxTQUFBLEVBQUUsV0FBVyxHQUFHLEVBQUUsRUFBRSxpQkFBaUIsR0FBRyxZQUFZLENBQUM7Z0JBQzVELEVBQUUsQ0FBQSxDQUFDLENBQUMsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsRUFBRSxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMzQyxHQUFHLEdBQUcsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsdUJBQXVCLENBQUMsQ0FBQztvQkFDbkQseUNBQXlDO29CQUN6QyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFakQsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDTixHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQztvQkFDOUMsR0FBRyxDQUFBLENBQWMsVUFBNEMsRUFBNUMsS0FBQSxZQUFZLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxFQUFFLEVBQXpELGNBQVMsRUFBVCxJQUF5RCxDQUFDO3dCQUExRCxJQUFJLEtBQUssU0FBQTt3QkFDWCxXQUFXLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztxQkFBQTtvQkFFN0UsR0FBRyxDQUFBLENBQWMsVUFBbUQsRUFBbkQsS0FBQSxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBaEUsY0FBUyxFQUFULElBQWdFLENBQUM7d0JBQWpFLElBQUksS0FBSyxTQUFBO3dCQUNYLGdDQUFnQzt3QkFDaEMsSUFBb0MsR0FBRyxHQUFzRixLQUFLLGlDQUF2RCxNQUFNLEdBQTRDLEtBQUssb0NBQWQsS0FBSyxHQUFJLEtBQUssaUNBQUEsQ0FBQzt3QkFDbkksV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztxQkFDcEU7b0JBQ0QsaUJBQWlCLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDcEMsQ0FBQztnQkFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEksQ0FBQztRQUNILENBQUM7UUFFRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDO2dCQUNILElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLENBQUU7WUFBQSxLQUFLLENBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNaLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0NBQWdDLFFBQVEsa0JBQWEsR0FBRyx1QkFBa0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBRyxDQUFDLENBQUM7Z0JBQ2hILElBQUksQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1lBQ3RCLENBQUM7UUFDSCxDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFUyxrQ0FBYSxHQUF2QixVQUF3QixLQUFLLEVBQUUsV0FBVztRQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFDUyxrQ0FBYSxHQUF2QixVQUF3QixZQUFrQjtRQUN4QyxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixHQUFHLENBQUEsQ0FBYSxVQUFZLEVBQXhCLHdCQUFRLEVBQVIsSUFBd0IsQ0FBQztZQUF6QixJQUFJLElBQUksR0FBSSxZQUFZLElBQWhCO1lBQ1YsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUM7Z0JBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuRDtRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsK0JBQStCO0lBQ3JCLGtDQUFhLEdBQXZCLFVBQXdCLE1BQWEsRUFBRSxLQUFZLEVBQUUsWUFBa0I7UUFDckUsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDcEQsSUFBSSxJQUFJLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzVCLEVBQUUsQ0FBQSxDQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkQsQ0FBQztJQUNILENBQUM7SUFDUyx5Q0FBb0IsR0FBOUIsVUFBK0IsSUFBWSxFQUFFLEtBQVksRUFBRSxZQUFrQjtRQUMzRSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakMsSUFBSSxPQUFPLEdBQU0sUUFBUSxVQUFLLEtBQU8sQ0FBQztRQUN0QyxJQUFJLE9BQU8sR0FBTSxLQUFLLFlBQVMsQ0FBQztRQUNoQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ2xFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUzRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFBLENBQUMsS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLFVBQUMsR0FBUyxFQUFFLElBQVk7Z0JBQ2hELElBQUksS0FBSyxHQUFPLEVBQUUsQ0FBQztnQkFDbkIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxVQUFVLENBQUM7b0JBQUMsS0FBSyxDQUFDLEtBQUssR0FBd0MsR0FBRyxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQzVJLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDO29CQUFDLEtBQUssQ0FBQyxLQUFLLEdBQXNCLEdBQUcsQ0FBQyxNQUFPLENBQUMsT0FBTyxDQUFDO2dCQUNsRixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN0RCxDQUFDLENBQUM7UUFDSixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLFVBQUMsR0FBUyxFQUFFLElBQVk7Z0JBQ2hELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ25ELENBQUMsQ0FBQTtRQUNILENBQUM7UUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQ1MsZ0NBQVcsR0FBckIsVUFBc0IsUUFBZSxFQUFFLFNBQWdCLEVBQUUsS0FBVyxFQUFFLElBQVksRUFBRSxVQUFhO1FBQy9GLElBQUksT0FBTyxHQUFNLFNBQVMsWUFBUyxDQUFDO1FBQ3BDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLE9BQU8sR0FBRyxPQUFTLFlBQ2pCLEVBQVMsc0VBRWtCLEVBQU8sNENBQ0gsRUFBUSxvQ0FDaEIsRUFBUywyQkFHckMscU5BUmEsYUFBSyxDQUFDLENBQUMsQ0FBQyxLQUNoQixTQUFTLEVBRWtCLElBQUksQ0FBQyxFQUFFLEVBQ0gsUUFBUSxFQUNoQixTQUFTLEVBR3JDLENBQUM7UUFDRixFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUMvQixPQUFPLElBQU8sSUFBSSxXQUFNLElBQUksVUFBSyxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQUssQ0FBQztRQUM3RSxDQUFDO1FBQ0QsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUM7Z0JBQUMsUUFBUSxDQUFDO1lBQ2hDLE9BQU8sSUFBTyxJQUFJLFdBQU0sSUFBSSxVQUFLLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBSyxDQUFBO1FBQ25ELENBQUM7UUFFRCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pDLElBQUksR0FBRyxHQUFHLFlBQUksRUFBRSxDQUFDO1FBQ2pCLElBQUksTUFBTSxHQUFNLFNBQVMsZUFBVSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUM7UUFDcEQsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFFLFNBQUEsT0FBTyxFQUFDLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztJQUN0QixDQUFDO0lBRVMsa0NBQWEsR0FBdkIsVUFBd0IsUUFBZSxFQUFFLEtBQVksRUFBRSxZQUFrQjtRQUN2RSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLDBCQUEwQixFQUFFLFFBQVEsRUFBRSx1QkFBdUIsRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDO1FBQzNILEdBQUcsQ0FBQSxDQUFtRSxVQUFXLEVBQTdFLHVCQUE4RCxFQUE5RCxJQUE2RSxDQUFDO1lBQTlFLFNBQWtFLFdBQVcsTUFBakQsR0FBRyw4QkFBMkIsR0FBRyw4QkFBQztZQUFpQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQUE7UUFFcEcsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsd0JBQXdCLEVBQUUsRUFBQyxrQ0FBa0MsRUFBRSxRQUFRLEVBQUUsK0JBQStCLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztRQUNsSixHQUFHLENBQUEsQ0FBK0gsVUFBVSxFQUF4SSxzQkFBMEgsRUFBMUgsSUFBd0ksQ0FBQztZQUF6SSxTQUE4SCxVQUFVLE1BQXBHLEdBQUcsc0NBQW9DLE1BQU0seUNBQW1DLEtBQUssc0NBQUM7WUFDNUgsRUFBRSxDQUFBLENBQUMsTUFBTSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUMxQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO1lBQy9ELENBQUM7U0FDRjtRQUVELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQXBPQSxBQW9PQyxJQUFBO0FBcE9ZLGtCQUFVLGFBb090QixDQUFBO0FBR0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxPQUFPLENBQUM7OztBQ2xkL0MscUJBQTBCLGdCQUFnQixDQUFDLENBQUE7QUFDaEMsWUFBSSxHQUFHLFNBQUssQ0FBQztBQUViLFdBQUcsR0FBRyxTQUFTLENBQUM7QUFDM0IsSUFBSSxDQUFDO0lBQ0gsTUFBTSxDQUFBO0FBQ1IsQ0FBRTtBQUFBLEtBQUssQ0FBQSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDWixXQUFHLEdBQUcsTUFBTSxDQUFDO0FBQ2YsQ0FBQztBQUVVLGFBQUssR0FBTyxFQUV0QixDQUFDO0FBRUYsRUFBRSxDQUFBLENBQUMsV0FBRyxLQUFLLFNBQVMsQ0FBQztJQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxhQUFLLENBQUM7QUFPbkMsYUFBSyxHQUFjLFVBQVMsTUFBTTtJQUMzQyxFQUFFLENBQUEsQ0FBQyxhQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQUMsTUFBTSxDQUFDLGFBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakQsTUFBTSxDQUFDLGFBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsVUFBUyxPQUFPO1FBQUUsZ0JBQVM7YUFBVCxXQUFTLENBQVQsc0JBQVMsQ0FBVCxJQUFTO1lBQVQsK0JBQVM7O1FBQ3JELEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUFDLE1BQU0sQ0FBQztRQUMzQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUEsQ0FBWSxVQUFPLEVBQWxCLG1CQUFPLEVBQVAsSUFBa0IsQ0FBQztZQUFuQixJQUFJLEdBQUcsR0FBSSxPQUFPLElBQVg7WUFBYSxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7U0FBQTtRQUU5RSxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDO1lBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsT0FBTSxJQUFJLEVBQUUsQ0FBQztZQUNYLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQztZQUN4RCxNQUFNLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUFDLEtBQUssQ0FBQztRQUNwQixDQUFDO1FBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUNYLENBQUMsQ0FBQTtBQUNILENBQUMsQ0FBQztBQUNGLGFBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBRWhCLGdCQUF1QixHQUFVLEVBQUUsTUFBYTtJQUM5QyxJQUFJLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUM5QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsRUFBRTtRQUFHLEdBQUcsSUFBSSxHQUFHLENBQUM7SUFDNUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDNUQsQ0FBQztBQUxlLGNBQU0sU0FLckIsQ0FBQTtBQUNELG1CQUEwQixPQUFPLEVBQUUsTUFBTTtJQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDOUQsQ0FBQztBQUZlLGlCQUFTLFlBRXhCLENBQUE7QUFFRCxvQkFBMkIsSUFBVztJQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUMsQ0FBQztBQUZlLGtCQUFVLGFBRXpCLENBQUE7QUFFRCxtQkFBMEIsSUFBVztJQUNuQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFGZSxpQkFBUyxZQUV4QixDQUFBO0FBRVUsY0FBTSxHQUFHO0lBQ2xCLE9BQUEsYUFBSztJQUNMLFFBQUEsTUFBTTtJQUNOLFdBQUEsU0FBUztJQUNULFlBQUEsVUFBVTtJQUNWLFdBQUEsU0FBUztDQUNWLENBQUM7QUFFRixjQUFxQixHQUFHO0lBQ3RCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM3QixDQUFDO0FBRmUsWUFBSSxPQUVuQixDQUFBO0FBRVUsYUFBSyxHQUFHO0lBQ2pCLE1BQUEsSUFBSTtDQUNMLENBQUM7QUFFRixxQkFBNEIsS0FBSztJQUMvQiwyQ0FBMkM7SUFDM0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNsQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLE1BQU0sQ0FBQztRQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDdkMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUM7UUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDZixDQUFDO0FBTmUsbUJBQVcsY0FNMUIsQ0FBQTtBQUVELGlDQUFpQztBQUNqQyxjQUFxQixHQUFHO0lBQ3RCLEVBQUUsQ0FBQSxDQUFDLENBQUMsR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsQ0FBQztRQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDL0MsRUFBRSxDQUFBLENBQUMsR0FBRyxZQUFZLEtBQUssQ0FBQztRQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2IsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUM7UUFBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDYixDQUFDO0FBTmUsWUFBSSxPQU1uQixDQUFBOzs7QUMxRkQsWUFBWSxDQUFBO0FBQ1osdUJBQTBELGtCQUFrQixDQUFDLENBQUE7QUFFN0UsSUFBWSxPQUFPLFdBQU0sV0FBVyxDQUFDLENBQUE7QUFDckMsNEJBQWlFLGVBQWUsQ0FBQyxDQUFBO0FBQ2pGLG9CQUFrQixPQUFPLENBQUMsQ0FBQTtBQUMxQixJQUFZLEdBQUcsV0FBTSxPQUFPLENBQUMsQ0FBQTtBQUM3QixJQUFZLFVBQVUsV0FBTSxjQUFjLENBQUMsQ0FBQTtBQUMzQyxJQUFZLEtBQUssV0FBTSxTQUFTLENBQUMsQ0FBQTtBQUNqQyxJQUFZLEVBQUUsV0FBTSxNQUFNLENBQUMsQ0FBQTtBQU0zQixJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXRDLDJEQUEyRDtBQUMzRCxTQUFTO0FBQ1QsMkRBQTJEO0FBRWhELG1CQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQztBQUUzQyxJQUFJLE1BQU0sR0FBRyxhQUFhLENBQUM7QUFDM0IsSUFBSSxLQUFLLEdBQUc7SUFDVixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxXQUFXO0lBQ2hCLEdBQUcsRUFBRSxZQUFZO0lBQ2pCLEdBQUcsRUFBRSxZQUFZO0lBQ2pCLElBQUksRUFBRSxNQUFNO0NBQ2IsQ0FBQTtBQUNELGtCQUFrQixNQUFNO0lBQ3RCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNiLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNYLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDeEIsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLElBQUksR0FBRyxHQUFHLEVBQUMsSUFBQSxFQUFFLEVBQUUsTUFBQSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFDLENBQUM7SUFDN0MsR0FBRyxDQUFBLENBQUMsRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDckIsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3BCLEVBQUUsQ0FBQSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNyQixFQUFFLENBQUEsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDbkIsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNsQixPQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssSUFBSSxFQUFFLENBQUM7b0JBQ3hCLEVBQUUsQ0FBQSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUM7d0JBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ3ZCLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO29CQUNmLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDcEIsQ0FBQztnQkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQixFQUFFLEVBQUUsQ0FBQztnQkFDTCxHQUFHLEdBQUcsRUFBQyxFQUFFLEVBQUUsRUFBRSxHQUFDLENBQUMsRUFBRSxNQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUMsQ0FBQztnQkFDL0MsUUFBUSxDQUFDO1lBQ1gsQ0FBQztZQUNELEVBQUUsQ0FBQSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUM7Z0JBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkIsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxFQUFFLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLENBQUM7WUFDRCxFQUFFLENBQUEsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDZixHQUFHLEdBQUcsRUFBQyxFQUFFLEVBQUUsRUFBRSxHQUFDLENBQUMsRUFBRSxNQUFBLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUMsQ0FBQztnQkFDL0MsUUFBUSxDQUFDO1lBQ1gsQ0FBQztZQUNELEdBQUcsR0FBRyxFQUFDLElBQUEsRUFBRSxFQUFFLE1BQUEsSUFBSSxFQUFFLE1BQUEsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUMsQ0FBQztZQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0IsQ0FBQztZQUNELEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixzRUFBc0U7Z0JBQ3RFLGVBQWU7Z0JBQ2YsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUM7b0JBQUMsRUFBRSxFQUFFLENBQUM7WUFDaEMsQ0FBQztZQUNELEdBQUcsR0FBRyxFQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUMsQ0FBQyxFQUFFLE1BQUEsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBQyxDQUFDO1FBQ2pELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2pCLENBQUM7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqQixNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxlQUFlLE1BQU07SUFDbkIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2YsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2QsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLElBQUksS0FBSyxHQUFPLEVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO0lBQzVCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNmLElBQUksSUFBSSxDQUFDO0lBQ1QsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEIsR0FBRyxDQUFBLENBQWMsVUFBTSxFQUFuQixrQkFBUyxFQUFULElBQW1CLENBQUM7UUFBcEIsSUFBSSxLQUFLLEdBQUksTUFBTSxJQUFWO1FBQ1gsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLGlDQUFpQztZQUNqQyxPQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzFCLElBQUksR0FBRyxFQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO2dCQUNsRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQixNQUFNLEVBQUUsQ0FBQztZQUNYLENBQUM7UUFDSCxDQUFDO1FBQ0QsSUFBSyxJQUFJLEdBQUksS0FBSyxLQUFBLENBQUM7UUFDbkIsTUFBTSxDQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNaLEtBQUssUUFBUTtnQkFDWCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDbkIsS0FBSyxDQUFDO1lBQ1IsS0FBSyxXQUFXO2dCQUNkLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2dCQUN2QixLQUFLLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3hCLEtBQUssQ0FBQztZQUNSLEtBQUssWUFBWTtnQkFDZixLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDeEIsS0FBSyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7Z0JBQ3BCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQztvQkFDL0IsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLFNBQVMsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDO3dCQUM5QixLQUFLLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQzt3QkFDMUIsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO29CQUMzQixDQUFDO29CQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNOLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO29CQUNyQixDQUFDO29CQUNELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ25CLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ04sS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7b0JBQ25CLEtBQUssQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUM7b0JBQ3ZDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztvQkFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbkIsQ0FBQztnQkFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdkIsS0FBSyxHQUFHLEVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO2dCQUNwQixLQUFLLENBQUM7WUFDUixLQUFLLFlBQVk7Z0JBQ2YsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDcEIsS0FBSyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7b0JBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN2QixLQUFLLENBQUM7Z0JBQ1IsQ0FBQztnQkFDRCxLQUFLLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQztnQkFDMUIsS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUM3QixLQUFLLENBQUM7WUFDUixLQUFLLE1BQU07Z0JBQ1QsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7Z0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDaEMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUMvQixLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUIsQ0FBQztnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO29CQUN0QyxLQUFLLENBQUMsS0FBSyxHQUFHLG1CQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO29CQUM3QyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUIsQ0FBQztnQkFDRCxLQUFLLENBQUM7UUFDVixDQUFDO0tBQ0Y7SUFDRCxNQUFNLENBQUMsRUFBQyxPQUFBLEtBQUssRUFBRSxPQUFBLEtBQUssRUFBRSxhQUFBLFdBQVcsRUFBRSxNQUFBLElBQUksRUFBQyxDQUFDO0FBQzNDLENBQUM7QUFFRCxJQUFJLFVBQVUsQ0FBQztBQUNmLHFCQUFxQixRQUFRLEVBQUUsT0FBTztJQUNwQyxFQUFFLENBQUEsQ0FBQyxDQUFDLFVBQVUsQ0FBQztRQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDaEMsSUFBSSxNQUFNLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUNELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbkIsQ0FBQztBQUVELDJCQUEyQixJQUFJLEVBQUUsSUFBSTtJQUNuQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLEVBQUUsQ0FBQSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNQLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksRUFBRTtZQUN0QyxJQUFJLEVBQUUsS0FBSztZQUNYLFlBQVksRUFBRSxJQUFJO1lBQ2xCLFNBQVMsRUFBRTtnQkFDVCxXQUFXLEVBQUUsVUFBQyxFQUFFO29CQUNkLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDeEMsWUFBWSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDekIsQ0FBQztnQkFDRCxZQUFZLEVBQUUsVUFBQyxFQUFFO29CQUNYLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDeEMsWUFBWSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDL0IsQ0FBQzthQUNKO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDaEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQy9CLENBQUM7UUFDRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNoQixFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFDLEVBQUUsSUFBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hELENBQUM7UUFDRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNiLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQUMsRUFBRSxJQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsQ0FBQztRQUNELEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFDRCxFQUFFLENBQUEsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDaEMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztBQUNILENBQUM7QUFFRCxzQkFBc0IsSUFBSSxFQUFFLElBQUk7SUFDOUIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixFQUFFLENBQUEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDUCxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUU7WUFDdEMsSUFBSSxFQUFFLEtBQUs7WUFDWCxZQUFZLEVBQUUsSUFBSTtZQUNsQixTQUFTLEVBQUU7Z0JBQ1QsV0FBVyxFQUFFLFVBQUMsRUFBRTtvQkFDZCxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3hDLFlBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzNCLENBQUM7Z0JBQ0QsWUFBWSxFQUFFLFVBQUMsRUFBRTtvQkFDYixJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3hDLFlBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzdCLENBQUM7YUFDRjtTQUNGLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLEVBQUUsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUMvQixDQUFDO1FBQ0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDaEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBQyxFQUFFLElBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RCxDQUFDO1FBQ0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDYixFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFDLEVBQUUsSUFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xELENBQUM7UUFDRCxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDWCxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLHVCQUF1QjtRQUN2QixJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO1FBQ2pDLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzVCLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBQ0QsRUFBRSxDQUFBLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7QUFDSCxDQUFDO0FBRUQscUJBQXFCLElBQUksRUFBRSxJQUFJO0lBQzdCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsRUFBRSxDQUFBLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ1AsSUFBSSxLQUFLLEdBQUcsRUFBQyxLQUFLLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFDeEIsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFFO1lBQ3RDLFlBQVksRUFBRSxJQUFJO1lBQ2xCLFNBQVMsRUFBRTtnQkFDVCxPQUFPLEVBQUUsVUFBQyxFQUFFO29CQUNWLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDeEMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDeEYsQ0FBQzthQUNGO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsVUFBQyxFQUFFO1lBQ2pCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMxQixJQUFJLE1BQU0sR0FBRyx1QkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLEdBQUcsQ0FBQSxDQUFhLFVBQVcsRUFBWCxLQUFBLEtBQUssQ0FBQyxLQUFLLEVBQXZCLGNBQVEsRUFBUixJQUF1QixDQUFDO2dCQUF4QixJQUFJLElBQUksU0FBQTtnQkFDVixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDZDtZQUNELEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ2pCLEdBQUcsQ0FBQSxDQUFjLFVBQU0sRUFBbkIsa0JBQVMsRUFBVCxJQUFtQixDQUFDO2dCQUFwQixJQUFJLEtBQUssR0FBSSxNQUFNLElBQVY7Z0JBQ1gsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMxRCxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBQyxTQUFTLEVBQUUsd0JBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUMsQ0FBQyxDQUFDLENBQUM7YUFDL0Y7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFDRCxFQUFFLENBQUEsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDaEMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztBQUNILENBQUM7QUFFRCx1QkFBdUIsUUFBUSxFQUFFLE9BQU87SUFDdEMsSUFBSSxNQUFNLEdBQUcsV0FBVyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM1QyxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDZixHQUFHLENBQUEsQ0FBYSxVQUFZLEVBQVosS0FBQSxNQUFNLENBQUMsS0FBSyxFQUF4QixjQUFRLEVBQVIsSUFBd0IsQ0FBQztRQUF6QixJQUFJLElBQUksU0FBQTtRQUNWLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFDLENBQUMsQ0FBQztLQUMvRjtJQUNELEdBQUcsQ0FBQSxDQUFtQixVQUFrQixFQUFsQixLQUFBLE1BQU0sQ0FBQyxXQUFXLEVBQXBDLGNBQWMsRUFBZCxJQUFvQyxDQUFDO1FBQXJDLElBQUksVUFBVSxTQUFBO1FBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQztLQUN2RTtJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsMkRBQTJEO0FBQzNELE9BQU87QUFDUCwyREFBMkQ7QUFFM0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBRXBCLEdBQUcsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsVUFBQyxNQUFNLEVBQUUsSUFBSTtJQUM1QyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO0FBQ2hFLENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQzNDLEVBQUUsQ0FBQSxDQUFDLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUFDLE1BQU0sQ0FBQztJQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLElBQUssTUFBTSxHQUFXLElBQUksU0FBYixLQUFLLEdBQUksSUFBSSxNQUFBLENBQUM7SUFDM0IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQyxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUFDLE1BQU0sQ0FBQztJQUNuQixJQUFJLE9BQU8sR0FBRyxNQUFNLEdBQUcsdUJBQXVCLENBQUM7SUFDL0MsRUFBRSxDQUFBLENBQUMsQ0FBQyxTQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRCxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFDLENBQUMsQ0FBQztRQUN2RixNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUNsRixNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLG1CQUFtQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQzdGLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsT0FBQSxLQUFLLEVBQUMsQ0FBQyxDQUFDO0FBQzNFLENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsVUFBQyxNQUFNLEVBQUUsSUFBSTtJQUNuQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQzdCLElBQUksTUFBTSxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbkUsRUFBRSxDQUFBLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUM7UUFBQyxNQUFNLENBQUM7SUFFakMsRUFBRSxDQUFBLENBQUMsQ0FBQyxTQUFHLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxJQUFJLEtBQUssR0FBRyxTQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNELElBQUksY0FBYyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRywrQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNqRSxNQUFNLENBQUMsTUFBTSxDQUFDLHNCQUFzQixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDdEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBQyxDQUFDLENBQUM7QUFDN0UsQ0FBQyxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQ3RDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDN0IsSUFBSSxNQUFNLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuRSxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQzFFLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztRQUM3QixFQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUFDLE1BQU0sQ0FBQztRQUMxRCxNQUFNLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDNUUsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwQyxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN2QixRQUFRLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQztRQUM3QixDQUFDO1FBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQztBQUNILENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsVUFBQyxNQUFNLEVBQUUsSUFBSTtJQUN0QyxJQUFJLEVBQUUsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUNoQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQztJQUMvQixHQUFHLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxHQUFHLCtCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25ELE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxJQUFBLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFDLENBQUMsQ0FBQztJQUNqRixNQUFNLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLEVBQUMsSUFBQSxFQUFFLEVBQUUsUUFBQSxNQUFNLEVBQUMsQ0FBQyxDQUFDO0FBQ25ELENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQzVDLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDO0lBQ2hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO0lBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxJQUFBLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFDLENBQUMsQ0FBQztJQUN4RixNQUFNLENBQUMsR0FBRyxDQUFDLDRCQUE0QixFQUFFLEVBQUMsSUFBQSxFQUFFLEVBQUUsTUFBQSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ3ZELENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsVUFBQyxNQUFNLEVBQUUsSUFBSTtJQUN0QyxJQUFLLFFBQVEsR0FBSSxJQUFJLFNBQUEsQ0FBQztJQUN0QixFQUFFLENBQUEsQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUFDLE1BQU0sQ0FBQztJQUNyQixNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sQ0FBQyxNQUFNLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUN2RCxNQUFNLENBQUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDNUQsR0FBRyxDQUFBLENBQWEsVUFBc0QsRUFBdEQsS0FBQSxTQUFHLENBQUMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLEVBQWxFLGNBQVEsRUFBUixJQUFrRSxDQUFDO1FBQW5FLElBQUksSUFBSSxTQUFBO1FBQ1YsSUFBSSxNQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQUksQ0FBQyxDQUFDO0tBQ3BCO0lBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQzVELE1BQU0sQ0FBQyxNQUFNLENBQUMsNkJBQTZCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUM3RCxHQUFHLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUN0QyxDQUFDLENBQUMsQ0FBQztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEVBQUUsVUFBQyxNQUFNLEVBQUUsSUFBSTtJQUMzQyxNQUFNLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO0FBQ3hFLENBQUMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDakMsQ0FBQyxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQ3RDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN2QixNQUFNLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQ3ZDLElBQUssUUFBUSxHQUFVLElBQUksV0FBWixDQUFDLEdBQU8sSUFBSSxJQUFULENBQUMsR0FBSSxJQUFJLEVBQUEsQ0FBQztJQUM1QixJQUFJLEdBQUcsR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ2hELEVBQUUsQ0FBQSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNSLEdBQUcsR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLHVCQUF1QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUNELFFBQVEsR0FBRyxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQVUsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sSUFBSSxZQUFZLEVBQUMsQ0FBQztBQUNuSCxDQUFDLENBQUMsQ0FBQztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLFVBQUMsTUFBTSxFQUFFLElBQUk7SUFDdEMsUUFBUSxHQUFHLElBQUksQ0FBQztBQUNsQixDQUFDLENBQUMsQ0FBQztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLFVBQUMsTUFBTSxFQUFFLElBQUk7SUFDcEMsSUFBSyxRQUFRLEdBQVUsSUFBSSxXQUFaLENBQUMsR0FBTyxJQUFJLElBQVQsQ0FBQyxHQUFJLElBQUksRUFBQSxDQUFDO0lBQzVCLEVBQUUsQ0FBQSxDQUFDLFNBQUcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO0lBQzNHLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxNQUFNLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUN2RCxNQUFNLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztJQUNsSCxDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxVQUFDLE1BQU0sRUFBRSxJQUFJO0lBQ3RDLElBQUssUUFBUSxHQUFVLElBQUksV0FBWixDQUFDLEdBQU8sSUFBSSxJQUFULENBQUMsR0FBSSxJQUFJLEVBQUEsQ0FBQztJQUM1QixJQUFJLElBQUksR0FBRyxxQkFBcUIsQ0FBQztJQUNqQyxJQUFJLEdBQUcsR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDeEQsRUFBRSxDQUFBLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1IsR0FBRyxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ3JELElBQUksTUFBTSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUM3QixJQUFJLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFDN0IsRUFBRSxDQUFBLENBQUMsS0FBSyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDaEIsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUNkLENBQUM7SUFDRCxFQUFFLENBQUEsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNqQixNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUNELE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFBLEtBQUssRUFBRSxRQUFBLE1BQU0sRUFBQyxDQUFDLENBQUM7QUFDbEQsQ0FBQyxDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLFVBQUMsTUFBTSxFQUFFLElBQUk7SUFDeEMsRUFBRSxDQUFBLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BELE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQztBQUVIO0lBQ0UsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QyxJQUFJO1FBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3hCLENBQUM7QUFKZSxZQUFJLE9BSW5CLENBQUE7QUFFRDtJQUNFLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNuQixHQUFHLENBQUEsQ0FBZSxVQUFrQixFQUFsQixLQUFBLFNBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQWhDLGNBQVUsRUFBVixJQUFnQyxDQUFDO1FBQWpDLElBQUksTUFBTSxTQUFBO1FBQ1osU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM3QztJQUNELEdBQUcsQ0FBQSxDQUFlLFVBQWlDLEVBQWpDLEtBQUEsU0FBRyxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxFQUEvQyxjQUFVLEVBQVYsSUFBK0MsQ0FBQztRQUFoRCxJQUFJLE1BQU0sU0FBQTtRQUNaLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQ3pDO0lBQ0QsTUFBTSxDQUFDLEVBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFO1lBQ25FLHlCQUF5QjtZQUNyQixFQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUMsWUFBWSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUM7U0FDL0UsRUFBQyxDQUFDO0FBQ0wsQ0FBQztBQVplLGVBQU8sVUFZdEIsQ0FBQTtBQUVELG1CQUFtQixDQUFDLEVBQUUsSUFBSTtJQUN4QixFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ1osR0FBRyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVGLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNyQixDQUFDO0FBQ0gsQ0FBQztBQUVELHNCQUFzQixDQUFDLEVBQUUsSUFBSTtJQUMzQixFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ2QsR0FBRyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxFQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNqRixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxFQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMzRSxDQUFDO1FBQ0QsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7QUFDSCxDQUFDO0FBRUQsZ0NBQWdDLElBQWdCLEVBQUUsSUFBWTtJQUM1RCxJQUFJLFFBQVEsR0FBc0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDbEYsR0FBRyxDQUFBLENBQWMsVUFBUSxFQUFyQixvQkFBUyxFQUFULElBQXFCLENBQUM7UUFBdEIsSUFBSSxLQUFLLEdBQUksUUFBUSxJQUFaO1FBQ1gsSUFBSSxNQUFNLFNBQUEsRUFBRSxRQUFRLFNBQUEsRUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQzlFLEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDakMsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDOUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztnQkFDZCxLQUFLLENBQUM7WUFDUixDQUFDO1FBQ0gsQ0FBQztRQUNELEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQztZQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxDQUFDO1lBQ0osUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDO1lBQ2xCLE1BQU0sR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHLCtCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hFLENBQUM7UUFDRCxxQ0FBcUM7UUFDckMsSUFBSSxXQUFXLEdBQUcsSUFBSSxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUMsSUFBSSxRQUFRLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbEUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxNQUFJLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztRQUMvQixFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNqQixLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5QixJQUFJLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3JELE9BQU0sTUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDekIsZUFBZSxDQUFDLFdBQVcsQ0FBQyxNQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakQsQ0FBQztZQUNELE1BQUksR0FBRyxlQUFlLENBQUM7UUFDM0IsQ0FBQztRQUNELEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBSSxDQUFDLENBQUM7S0FDekI7QUFDSCxDQUFDO0FBRUQsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLGlCQUFjLEVBQUUsQ0FBQztBQUNoRCxvQkFBb0IsQ0FBQyxPQUFPLEdBQUcsVUFBUyxJQUFXLEVBQUUsS0FBYTtJQUNoRSxNQUFNLENBQUMsT0FBSyxLQUFLLFNBQUksSUFBSSxXQUFNLEtBQUssTUFBRyxDQUFDLENBQUMsZ0RBQWdEO0FBQzNGLENBQUMsQ0FBQztBQUNGLHNCQUFzQixRQUFlLEVBQUUsUUFBZSxFQUFFLE9BQWMsRUFBRSxXQUFzQjtJQUM1RixJQUFJLEVBQUUsR0FBRyxjQUFNLENBQUMsT0FBTyxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsb0JBQW9CLEVBQUMsQ0FBQyxDQUFDO0lBQ3pFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNmLE9BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDaEIsRUFBRSxDQUFBLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4QyxFQUFFLEVBQUUsQ0FBQztRQUVQLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQztZQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMxQixJQUFJLFNBQU8sR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDeEMsSUFBSSxPQUFPLEdBQUcsU0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVuQyxJQUFJLEtBQUssR0FBRyxDQUFDLE9BQU8sS0FBSyxDQUFDLENBQUMsR0FBRyxTQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxTQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMzRSxJQUFJLFdBQVcsU0FBQSxDQUFDO1lBQ2hCLElBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQztZQUN2QixFQUFFLENBQUEsQ0FBQyxTQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxFQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUMsQ0FBQyxDQUFDO2dCQUFDLElBQUksR0FBRyxZQUFZLENBQUM7WUFDckYsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFNBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBQyxDQUFDLENBQUM7Z0JBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztZQUM5RSxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsV0FBVyxJQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQztZQUMvRSxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUFDLElBQUksR0FBRyxPQUFPLENBQUM7WUFFdkMsRUFBRSxDQUFBLENBQUMsSUFBSSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLElBQUksSUFBSSxHQUFHLFNBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUM1QyxXQUFXLEdBQUcsZ0RBQTJDLElBQUksV0FBSyxLQUFLLFlBQVMsQ0FBQztZQUVuRixDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixJQUFJLElBQUksR0FBRyxTQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxPQUFPLEtBQUssQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUN6RSxJQUFJLE9BQU8sR0FBRyx3Q0FBc0MsS0FBSyxzQkFBaUIsUUFBUSxrQkFBZSxDQUFDO2dCQUNsRyxXQUFXLEdBQUcseURBQW9ELElBQUkscUJBQWMsT0FBTyxXQUFLLEtBQUssU0FBTSxDQUFDO1lBRTlHLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLElBQUksSUFBSSxHQUFHLFNBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE9BQU8sS0FBSyxDQUFDLENBQUMsR0FBRyxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3pFLElBQUksT0FBTyxHQUFHLHdDQUFzQyxLQUFLLHNCQUFpQixRQUFRLGtCQUFlLENBQUM7Z0JBQ2xHLFdBQVcsR0FBRyw2REFBd0QsSUFBSSxxQkFBYyxPQUFPLFdBQUssS0FBSyxTQUFNLENBQUM7WUFFbEgsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsMkRBQTJEO2dCQUMzRCwySkFBMko7Z0JBQzNKLElBQUksV0FBVyxHQUFNLFFBQVEsU0FBSSxTQUFPLFNBQUksVUFBVSxFQUFJLENBQUM7Z0JBQzNELFdBQVcsR0FBRyx3REFBbUQsV0FBVyxrQ0FBMkIsU0FBTyxlQUFXLENBQUM7WUFDNUgsQ0FBQztZQUVELEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxhQUFhLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUcsV0FBVyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxFQUFFLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxTQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNoRCxDQUFDO1FBRUgsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBeUIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxtQkFBYyxFQUFJLENBQUMsQ0FBQztRQUNyRSxDQUFDO1FBRUQsNEVBQTRFO1FBQzVFLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekMsRUFBRSxDQUFBLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQztRQUN2QyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQUMsRUFBRSxHQUFHLFdBQVcsQ0FBQztRQUM1QyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztZQUFDLEVBQUUsR0FBRyxXQUFXLENBQUM7UUFDbkQsSUFBSTtZQUFDLEVBQUUsR0FBRyxVQUFVLENBQUM7SUFDdkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxFQUFFLENBQUM7QUFDWixDQUFDO0FBRUQsa0JBQWtCLFFBQVEsRUFBRSxRQUEyQixFQUFFLFFBQVE7SUFBckMsd0JBQTJCLEdBQTNCLGFBQTJCO0lBQ3JELElBQUksWUFBWSxHQUFHLFNBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUNsRSxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDckIsR0FBRyxDQUFBLENBQWMsVUFBWSxFQUF6Qix3QkFBUyxFQUFULElBQXlCLENBQUM7UUFBMUIsSUFBSSxLQUFLLEdBQUksWUFBWSxJQUFoQjtRQUNYLElBQUksUUFBUSxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUN2RyxJQUFJLFVBQVUsU0FBQSxDQUFDO1FBQ2YsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNaLEVBQUUsQ0FBQSxDQUFDLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLFVBQVUsR0FBRztvQkFDYixFQUFFLEVBQUUsS0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQVU7b0JBQy9CLENBQUMsRUFBRSxRQUFRO29CQUNYLFVBQUEsUUFBUTtvQkFDUixNQUFNLEVBQUUsUUFBUTtvQkFDaEIsdUJBQXVCLEVBQUUsWUFBWSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQztvQkFDeEUsVUFBVSxFQUFFLHNCQUFzQjtvQkFDbEMsUUFBUSxFQUFFLFVBQVU7aUJBQ3JCLENBQUM7WUFDRixDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sVUFBVSxHQUFHLEVBQUMsRUFBRSxFQUFFLEtBQUcsS0FBSyxDQUFDLEtBQUssR0FBRyxRQUFRLFlBQVMsRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsVUFBQSxRQUFRLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUMsQ0FBQztZQUNqTCxDQUFDO1lBQ0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLE1BQU0sR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUMxRixrQkFBa0I7WUFDbEIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztZQUM1QixPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFFbkQsSUFBSSxRQUFRLEdBQWEsQ0FBQyxFQUFDLHVCQUF1QixFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFDLENBQUMsQ0FBQztZQUNoRyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztZQUNwRyxVQUFVLEdBQUcsRUFBQyxFQUFFLEVBQUUsS0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQVUsRUFBRSxDQUFDLEVBQUUsa0JBQWtCLEVBQUUsVUFBQSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxVQUFBLFFBQVEsRUFBQyxDQUFDO1lBQzVHLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0IsQ0FBQztLQUNGO0lBQ0QsRUFBRSxDQUFBLENBQUMsV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLEVBQUUsQ0FBQSxDQUFDLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFDLEVBQUUsRUFBRSxLQUFHLFFBQVEsR0FBRyxRQUFVLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxVQUFBLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDO1FBQzdLLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLEVBQUUsS0FBRyxRQUFRLEdBQUcsUUFBUSxZQUFTLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFVBQUEsUUFBUSxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUMsQ0FBQyxDQUFDO1FBQ3hLLENBQUM7SUFDSCxDQUFDO0lBQ0QsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLEdBQUcsQ0FBQSxDQUFpQixVQUEwQyxFQUExQyxLQUFBLFNBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBQyxDQUFDLEVBQTFELGNBQVksRUFBWixJQUEwRCxDQUFDO1FBQTNELElBQUksUUFBUSxTQUFBO1FBQ2QsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUM7WUFBQyxRQUFRLENBQUM7UUFDMUMsRUFBRSxDQUFBLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUMsQ0FBQyxDQUFDO1lBQUMsUUFBUSxDQUFDO1FBQzlHLEVBQUUsQ0FBQSxDQUFDLFNBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztZQUFDLFFBQVEsQ0FBQztRQUN2RyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFVBQUEsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztLQUNySDtJQUNELEVBQUUsQ0FBQSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUUscUJBQXFCLEVBQUUsUUFBUSxFQUFFO2dCQUNwRCxFQUFDLElBQUksRUFBRSxpQkFBaUIsRUFBQztnQkFDekIsRUFBQyxDQUFDLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUM7YUFDM0MsRUFBQyxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsTUFBTSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGtCQUFrQixFQUFFLFFBQVEsRUFBRTtZQUN2QyxFQUFDLENBQUMsRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBQztTQUM1QyxFQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsMkJBQTJCLE1BQU0sRUFBRSxJQUFJO0lBQ3JDLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUN0QixHQUFHLENBQUEsQ0FBYSxVQUFJLEVBQWhCLGdCQUFRLEVBQVIsSUFBZ0IsQ0FBQztRQUFqQixJQUFJLElBQUksR0FBSSxJQUFJLElBQVI7UUFDVixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztZQUN2RCxJQUFJLElBQUksR0FBRyxVQUFVLENBQUE7WUFDckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwQyxDQUFDO1lBQ0QsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsWUFBVSxJQUFJLFNBQUksT0FBUyxFQUFDLENBQUMsQ0FBQztRQUMvRSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzNDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsZ0JBQWMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFHLEVBQUMsQ0FBQyxDQUFDO1lBQ25GLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsbUJBQWlCLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBRyxFQUFDLENBQUMsQ0FBQztZQUN0RixDQUFDO1FBQ0gsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN4QyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxZQUFVLElBQUksQ0FBQyxPQUFTLEVBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdEMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLFVBQVEsSUFBSSxDQUFDLE9BQVMsRUFBQyxDQUFDLENBQUM7UUFDdEUsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUNoRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDbkIsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGdDQUE4QixJQUFJLENBQUMsT0FBUyxFQUFDLENBQUMsQ0FBQztZQUM1RixDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGdCQUFjLElBQUksQ0FBQyxPQUFTLEVBQUMsQ0FBQyxDQUFDO1lBQzVFLENBQUM7UUFDSCxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLHFCQUFtQixJQUFJLENBQUMsT0FBUyxFQUFDLENBQUMsQ0FBQztRQUNwRixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBQyxDQUFDLENBQUM7UUFDOUQsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN2QyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxZQUFZLEVBQUMsQ0FBQyxDQUFDO1FBQy9ELENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDdkMsSUFBSSxLQUFLLFNBQUEsQ0FBQztZQUNWLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsS0FBSyxHQUFHLFFBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLGFBQVUsQ0FBQztZQUM3QyxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sS0FBSyxHQUFHLFFBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLHFCQUFrQixDQUFDO1lBQ3RELENBQUM7WUFDRCxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxXQUFTLEtBQU8sRUFBQyxDQUFDLENBQUM7UUFDbkUsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUMzQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxlQUFhLElBQUksQ0FBQyxJQUFNLEVBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDM0MsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsS0FBRyxJQUFJLENBQUMsT0FBUyxFQUFDLENBQUMsQ0FBQztRQUNwRSxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUssSUFBSSxDQUFDLElBQUksT0FBSSxFQUFDLENBQUMsQ0FBQztRQUN6RCxDQUFDO0tBQ0Y7SUFDRCxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDdkIsTUFBTSxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRTtZQUNyQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBQztZQUN4QyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBQztTQUMzQyxFQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsd0JBQStCLE1BQWEsRUFBRSxRQUFlLEVBQUUsTUFBTTtJQUNuRSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3ZCLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNkLE1BQU0sQ0FBQyxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsS0FBSyxFQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLENBQUMsRUFBQyxDQUFDO0lBRXJKLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDckIsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0YsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDaEgsQ0FBQztJQUFDLElBQUk7UUFBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBRXpCLGdGQUFnRjtJQUNoRixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzNGLElBQUksU0FBTyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdkMsSUFBSSxJQUFJLENBQUM7UUFDVCxFQUFFLENBQUEsQ0FBQyxDQUFDLFNBQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLEdBQUcsT0FBSyxNQUFNLENBQUMsV0FBVyxxQkFBa0IsQ0FBQztRQUNyRCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLEdBQUcsU0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsQ0FBQztRQUNELE1BQU0sQ0FBQyxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsTUFBQSxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQztRQUFDLE1BQU0sQ0FBQyxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUMsQ0FBQztJQUN2QyxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDckIsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFDLENBQUMsQ0FBQztJQUNqRSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsa0NBQWtDO0lBQ2xDLEdBQUcsQ0FBQSxDQUFhLFVBQUksRUFBaEIsZ0JBQVEsRUFBUixJQUFnQixDQUFDO1FBQWpCLElBQUksSUFBSSxHQUFJLElBQUksSUFBUjtRQUNWLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQztZQUFDLFFBQVEsQ0FBQztRQUN2RixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQztZQUFDLFFBQVEsQ0FBQztRQUM3QixPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0tBQ2pDO0lBRUQsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLDZDQUE2QztJQUM3QyxHQUFHLENBQUEsQ0FBYSxVQUFJLEVBQWhCLGdCQUFRLEVBQVIsSUFBZ0IsQ0FBQztRQUFqQixJQUFJLElBQUksR0FBSSxJQUFJLElBQVI7UUFDVixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNoQyxhQUFhLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDOUMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUMzQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNsQyxDQUFDO0tBQ0Y7SUFFRCxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3ZDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7SUFDbEMsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM3QixJQUFJLFNBQVMsR0FBRyxVQUFVLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQztJQUM1RCxHQUFHLEVBQUUsR0FBRyxDQUFBLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEVBQUUsR0FBRyxHQUFHLEVBQUUsRUFBRSxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDekcsRUFBRSxDQUFBLENBQUMsU0FBUyxJQUFJLEVBQUUsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBQUMsS0FBSyxDQUFDO1FBQzdDLEVBQUUsQ0FBQSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDO1lBQUMsUUFBUSxDQUFDO1FBRXRELGlDQUFpQztRQUNqQyxJQUFJLFVBQVUsU0FBQSxDQUFDO1FBQ2YsRUFBRSxDQUFBLENBQUMsU0FBUyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUFDLFVBQVUsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQztZQUFDLFVBQVUsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUN2RixJQUFJLENBQUMsQ0FBQztZQUNKLFVBQVUsR0FBRyxFQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBQyxDQUFDO1lBQ3ZDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0IsQ0FBQztRQUVELElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNuQixHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsVUFBVSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbEQsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzVCLElBQUksSUFBSSxTQUFBLEVBQUUsRUFBRSxHQUFNLFFBQVEsU0FBSSxFQUFFLFNBQUksTUFBUSxDQUFDO1lBQzdDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsR0FBRyxVQUFVLEdBQUcsUUFBUSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDMUUsRUFBRSxDQUFBLENBQUMsQ0FBQyxVQUFVLENBQUM7b0JBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztnQkFDN0IsSUFBSSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUM7Z0JBQzdCLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUNyQyxJQUFJLEdBQUcsRUFBQyxJQUFBLEVBQUUsRUFBRSxDQUFDLEVBQUssU0FBUyxnQkFBYSxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUMsQ0FBQztnQkFDN0ksQ0FBQztnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7b0JBQzVDLElBQUksR0FBRyxFQUFDLElBQUEsRUFBRSxFQUFFLENBQUMsRUFBSyxTQUFTLGVBQVksRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFDLENBQUM7Z0JBQ3RFLENBQUM7Z0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO29CQUMvQyxJQUFJLEdBQUcsRUFBQyxJQUFBLEVBQUUsRUFBRSxDQUFDLEVBQUssU0FBUyxXQUFRLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztnQkFDeEUsQ0FBQztnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLGNBQWMsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFFOUYsQ0FBQztnQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQy9DLElBQUksR0FBRyxFQUFDLElBQUEsRUFBRSxFQUFFLENBQUMsRUFBSyxTQUFTLFdBQVEsRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFDLENBQUM7Z0JBQ25FLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ04sSUFBSSxHQUFHLEVBQUMsSUFBQSxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDO2dCQUM5RCxDQUFDO2dCQUNELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ1IsRUFBRSxDQUFBLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNoRSxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDO29CQUNuRSxDQUFDO29CQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDeEUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztvQkFDbkUsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDeEMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNsRCxDQUFDO29CQUNELEVBQUUsQ0FBQSxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUM7d0JBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxlQUFlLENBQUM7Z0JBQ3RELENBQUM7Z0JBQ0QsVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDOUIsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFDLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUU5RCxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUM7QUFDM0IsQ0FBQztBQW5HZSxzQkFBYyxpQkFtRzdCLENBQUE7QUFFRCwwQkFBaUMsUUFBUTtJQUN2QyxJQUFJLEtBQWMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFBbEQsR0FBRyxXQUFFLElBQUksVUFBeUMsQ0FBQztJQUN4RCxJQUFJLE1BQU0sR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25FLElBQUksS0FBNkIsR0FBRyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsRUFBeEQsTUFBTSxjQUFFLElBQUksWUFBRSxVQUFVLGdCQUFnQyxDQUFDO0lBQzlELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUNyQixJQUFJLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDdkIsRUFBRSxDQUFBLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RGLDZDQUE2QztRQUM3QyxHQUFHLENBQUEsQ0FBYSxVQUFJLEVBQWhCLGdCQUFRLEVBQVIsSUFBZ0IsQ0FBQztZQUFqQixJQUFJLElBQUksR0FBSSxJQUFJLElBQVI7WUFDVixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDaEMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQzlDLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQ2xDLENBQUM7U0FDRjtRQUVELElBQUksT0FBTyxHQUFHLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDN0IsR0FBRyxFQUFFLEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFLEVBQUUsSUFBSSxVQUFVLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDbEcsRUFBRSxDQUFBLENBQUMsU0FBUyxJQUFJLEVBQUUsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO2dCQUFDLEtBQUssQ0FBQztZQUM3QyxFQUFFLENBQUEsQ0FBQyxTQUFTLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLFNBQVMsQ0FBQztnQkFBQyxRQUFRLENBQUM7WUFDdEQsSUFBSSxVQUFVLFNBQUEsQ0FBQztZQUNmLEVBQUUsQ0FBQSxDQUFDLFNBQVMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVDLFVBQVUsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUMsQ0FBQztZQUN0RSxDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDckIsVUFBVSxHQUFHLEVBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFDLENBQUM7Z0JBQ3ZDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDL0IsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLFVBQVUsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDMUMsQ0FBQztZQUNELElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztZQUNuQixHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsVUFBVSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQ2xELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDNUIsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7b0JBQ2pCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRSxHQUFHLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMxRSxFQUFFLENBQUEsQ0FBQyxDQUFDLFVBQVUsQ0FBQzt3QkFBQyxRQUFRLENBQUMsR0FBRyxDQUFDO29CQUM3QixJQUFJLElBQUksU0FBQSxFQUFFLEtBQUssU0FBQSxFQUFFLEtBQUssU0FBQSxFQUFFLElBQUksU0FBQSxDQUFDO29CQUM3QixFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzt3QkFDckMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDNUIsS0FBSyxHQUFHLFFBQVEsQ0FBQzt3QkFDakIsS0FBSyxHQUFHLFVBQVUsQ0FBQzt3QkFDbkIsSUFBSSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDOUIsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7d0JBQzVDLElBQUksR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7d0JBQzNCLEtBQUssR0FBRyxXQUFXLENBQUM7b0JBQ3RCLENBQUM7b0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO3dCQUMvQyxJQUFJLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDcEMsS0FBSyxHQUFHLE9BQU8sQ0FBQztvQkFDbEIsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLGNBQWMsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFFOUYsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7d0JBQy9DLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDekMsS0FBSyxHQUFHLE9BQU8sQ0FBQztvQkFDbEIsQ0FBQztvQkFBQyxJQUFJLENBQUMsQ0FBQzt3QkFDTixJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDcEMsQ0FBQztvQkFDRCxFQUFFLENBQUEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQzt3QkFDdEIsS0FBSyxJQUFJLFVBQVUsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLGlCQUFpQixDQUFDO3dCQUNyRCxJQUFJLElBQUksR0FBRyxFQUFDLEVBQUUsRUFBSyxRQUFRLFNBQUksRUFBRSxTQUFJLE1BQVEsRUFBRSxDQUFDLEVBQUUsS0FBRyxLQUFPLEVBQUUsTUFBQSxJQUFJLEVBQUUsT0FBQSxLQUFLLEVBQUUsVUFBQSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3dCQUNyRyxFQUFFLENBQUEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ2hFLFVBQVUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUM7d0JBQ25FLENBQUM7d0JBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN4RSxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDO3dCQUNuRSxDQUFDO3dCQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN4QyxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ2xELENBQUM7d0JBQ0QsRUFBRSxDQUFBLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3BCLFVBQVUsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDO3dCQUNqQyxDQUFDO29CQUNILENBQUM7b0JBQ0QsVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUM7Z0JBQzlCLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFDRCxJQUFJLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDdkIsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztJQUNsRyxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUNuRyxJQUFJLElBQUksR0FBRyxrQkFBZ0IsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxvQkFBaUIsQ0FBQztRQUMzRixFQUFFLENBQUEsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsSUFBSSxHQUFHLFdBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDLFNBQUksV0FBVyxDQUFDLE1BQU0sU0FBSSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQUcsQ0FBQztRQUNsSSxDQUFDO1FBQ0QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsTUFBQSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQzlDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDdkcsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFBO1FBQ2hCLGtDQUFrQztRQUNsQyxFQUFFLENBQUEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDZCxHQUFHLENBQUEsQ0FBYSxVQUFJLEVBQWhCLGdCQUFRLEVBQVIsSUFBZ0IsQ0FBQztnQkFBakIsSUFBSSxJQUFJLEdBQUksSUFBSSxJQUFSO2dCQUNWLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssc0JBQVEsQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxzQkFBUSxDQUFDLFNBQVMsQ0FBQztvQkFBQyxRQUFRLENBQUM7Z0JBQ3ZGLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDO29CQUFDLFFBQVEsQ0FBQztnQkFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQzthQUNqQztRQUNILENBQUM7UUFDRCxXQUFXLENBQUMsT0FBTyxDQUFDLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsR0FBRyxDQUFBLENBQWtCLFVBQTBDLEVBQTFDLEtBQUEsU0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxFQUEzRCxjQUFhLEVBQWIsSUFBMkQsQ0FBQztRQUE1RCxJQUFJLFNBQVMsU0FBQTtRQUNmLElBQUssUUFBUSxHQUFZLFNBQVMsV0FBbkIsTUFBTSxHQUFJLFNBQVMsT0FBQSxDQUFDO1FBQ25DLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFO2dCQUMzQyxFQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsdUJBQXVCLEVBQUUsWUFBWSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUM7Z0JBQzNILEVBQUMsQ0FBQyxFQUFFLDBCQUEwQixFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLE1BQU0sRUFBQzthQUNwRyxFQUFDLENBQUMsQ0FBQTtLQUNKO0lBRUQsSUFBSSxlQUFlLENBQUM7SUFDcEIsSUFBSSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7SUFDM0IsSUFBSSxNQUFNLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUM5RCxFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ1YsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLGlCQUFpQixDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxpQkFBaUIsRUFBRSxRQUFRLEVBQUU7b0JBQ3RELEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLFVBQUEsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBQztvQkFDdEUsRUFBQyxDQUFDLEVBQUUsUUFBUSxFQUFDO29CQUNiLDhEQUE4RDtvQkFDOUQsRUFBQyxDQUFDLEVBQUUseUJBQXlCLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFDO2lCQUN4RCxFQUFDLENBQUMsQ0FBQztRQUNOLENBQUM7SUFDSCxDQUFDO0lBQ0QsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLHNCQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqRCxJQUFJLElBQUksR0FBRyxZQUFZLENBQUM7UUFDeEIsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxHQUFHLGtCQUFrQixDQUFBO1FBQzNCLENBQUM7UUFDRCxlQUFlLEdBQUcsRUFBQyxDQUFDLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFO2dCQUNuRCxFQUFDLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUU7d0JBQzlCLEVBQUMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBQSxRQUFRLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFDO3FCQUd4RixFQUFDO2dCQUNGLE9BQU8sQ0FBQyxNQUFNLEdBQUcsRUFBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUMsR0FBRyxTQUFTO2FBQy9ELEVBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLHFCQUFxQixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDOUQsSUFBSSxLQUFLLEVBQUUsTUFBTSxDQUFDO0lBQ2xCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDUixLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNuQixNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxVQUFVLEdBQUcsUUFBUSxJQUFJLFFBQVEsQ0FBQyxFQUFFLEtBQUssUUFBUSxHQUFHLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDeEUsSUFBSSxRQUFRLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBQ3pHLE1BQU0sQ0FBQyxFQUFDLEVBQUUsRUFBSyxRQUFRLGVBQVksRUFBRSxDQUFDLEVBQUUsZ0NBQThCLFVBQVksRUFBRSxLQUFBLEdBQUcsRUFBRSxNQUFBLElBQUksRUFBRSxPQUFBLEtBQUssRUFBRSxRQUFBLE1BQU0sRUFBRSxRQUFRLEVBQUU7WUFDdEgsRUFBQyxDQUFDLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxVQUFBLFFBQVEsRUFBRSxRQUFRLEVBQUU7b0JBQ3ZGLEVBQUMsQ0FBQyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsVUFBQSxRQUFRLEVBQUM7b0JBQ25FLEVBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBQztvQkFDYixFQUFDLENBQUMsRUFBRSxvQkFBaUIsUUFBUSxHQUFHLElBQUksR0FBRyxNQUFNLFdBQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLFVBQUEsUUFBUSxFQUFDO29CQUN0RixFQUFDLENBQUMsRUFBRSx5QkFBeUIsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFVBQUEsUUFBUSxFQUFDO2lCQUM5RCxFQUFDO1lBQ0YsRUFBQyxDQUFDLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFO29CQUMvQixRQUFRO29CQUNSLEVBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUM7b0JBQzlDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsRUFBQyxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBQyxHQUFHLEVBQUU7b0JBQ3RFLGVBQWU7b0JBQ2YsRUFBQyxDQUFDLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxpQkFBaUIsRUFBQztpQkFDakQsRUFBQztZQUNGLEVBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBQSxRQUFRLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBQztTQUNqRyxFQUFDLENBQUM7QUFDTCxDQUFDO0FBcktlLHdCQUFnQixtQkFxSy9CLENBQUE7QUFFRCxzQkFBc0IsQ0FBQyxFQUFFLElBQUk7SUFDM0IsR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDMUYsQ0FBQztBQUVELHdCQUF3QixDQUFDLEVBQUUsSUFBSTtJQUM3QixHQUFHLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3JFLENBQUM7QUFFRCx1QkFBdUIsQ0FBQyxFQUFFLElBQUk7SUFDNUIsRUFBRSxDQUFBLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUNoQyxHQUFHLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxFQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNySCxDQUFDO0FBQ0gsQ0FBQztBQUVELHNCQUFzQixDQUFDLEVBQUUsSUFBSTtJQUMzQixFQUFFLENBQUEsQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUFDLE1BQU0sQ0FBQztJQUNyQixHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM1QyxDQUFDO0FBRUQsc0JBQXNCLENBQUMsRUFBRSxJQUFJO0lBQzNCLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ25FLENBQUM7QUFFRCwyQkFBMkIsQ0FBQyxFQUFFLElBQUk7SUFDaEMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMvRixDQUFDO0FBRUQsMEJBQTBCLENBQUMsRUFBRSxJQUFJO0lBQy9CLEdBQUcsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEQsQ0FBQztBQUVELHNCQUFzQixDQUFDLEVBQUUsSUFBSTtJQUMzQixJQUFJLE1BQU0sR0FBTyxFQUFDLElBQUksRUFBRSxTQUFHLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUMxQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDO0lBQzNDLEVBQUUsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN6QixFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNkLE1BQU0sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2pDLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUMvRSxNQUFNLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN0QyxDQUFDO0lBQ0gsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxRQUFNLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUM7UUFDeEMsR0FBRyxDQUFBLENBQWMsVUFBaUIsRUFBakIsS0FBQSxRQUFNLENBQUMsVUFBVSxFQUE5QixjQUFTLEVBQVQsSUFBOEIsQ0FBQztZQUEvQixJQUFJLEtBQUssU0FBQTtZQUNYLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3hDLENBQUM7U0FDRjtJQUNILENBQUM7SUFDRCxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUM7U0FDL0IsUUFBUSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQztTQUNoQyxNQUFNLEVBQUUsQ0FBQztBQUNoQixDQUFDO0FBRUQsc0JBQXNCLEVBQUUsRUFBRSxJQUFJO0lBQzVCLEdBQUcsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNuSCxDQUFDO0FBRUQsb0JBQW9CLENBQUMsRUFBRSxJQUFJO0lBQ3pCLEdBQUcsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDNUYsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3JCLENBQUM7QUFFRCxvQkFBb0IsQ0FBQyxFQUFFLElBQUk7SUFDekIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDdEYsQ0FBQztBQUVELG9CQUFvQixJQUFJLEVBQUUsS0FBSztJQUM3QixFQUFFLENBQUEsQ0FBQyxDQUFDLFNBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksTUFBSSxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxNQUFJLENBQUM7SUFDZCxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixNQUFNLENBQUMsU0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3BCLENBQUM7QUFDSCxDQUFDO0FBRUQsK0JBQStCLElBQUksRUFBRSxLQUFLLEVBQUUsVUFBVTtJQUNwRCxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEIsZ0JBQWdCO0lBQ2hCLElBQUksTUFBTSxHQUFNLElBQUksU0FBSSxLQUFLLFNBQUksVUFBWSxDQUFDO0lBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQUEsTUFBTSxFQUFFLE9BQUEsS0FBSyxFQUFFLFlBQUEsVUFBVSxFQUFDLENBQUMsQ0FBQztJQUMzRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxFQUFDLElBQUksRUFBRSxtQkFBbUIsRUFBRSxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDO0lBQzlFLFdBQVc7SUFDWCxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQ3pELFlBQVk7SUFDWixJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDO0lBQzdGLElBQUksQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsRUFBQyxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUMsQ0FBQyxDQUFDO0lBQ3JGLElBQUksQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsRUFBQyxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQ2hGLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQscUNBQXFDLE1BQU07SUFDekMsSUFBSSxJQUFJLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUMxRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1IsSUFBSSxNQUFJLEdBQUcscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6RSxNQUFNLENBQUMsTUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxTQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEIsQ0FBQztBQUNILENBQUM7QUFFRCxzQkFBNkIsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsS0FBSztJQUN6RCxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEIsZ0JBQWdCO0lBQ2hCLElBQUksTUFBTSxHQUFNLElBQUksU0FBSSxNQUFNLFNBQUksU0FBUyxTQUFJLEtBQU8sQ0FBQztJQUN2RCxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFBLE1BQU0sRUFBRSxRQUFBLE1BQU0sRUFBRSxXQUFBLFNBQVMsRUFBRSxPQUFBLEtBQUssR0FBRSxDQUFDLENBQUM7SUFDNUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsRUFBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLFFBQUEsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDdkUsV0FBVztJQUNYLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7SUFDekQsWUFBWTtJQUNaLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUM7SUFDOUYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztJQUM1RixJQUFJLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQztJQUNuRixJQUFJLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztJQUNoRixNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQWRlLG9CQUFZLGVBYzNCLENBQUE7QUFFRCw0QkFBNEIsTUFBTTtJQUNoQyxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQ25ELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDUixJQUFJLE1BQUksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVFLE1BQU0sQ0FBQyxNQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sTUFBTSxDQUFDLFNBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0FBQ0gsQ0FBQztBQUVELHNCQUE2QixJQUFJLEVBQUUsUUFBUTtJQUN6QyxnREFBZ0Q7SUFDaEQsSUFBSSxJQUFJLEdBQUcsU0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3RCLGdCQUFnQjtJQUNoQixJQUFJLFVBQVUsR0FBTSxJQUFJLFNBQU0sQ0FBQztJQUMvQixJQUFJLE1BQU0sR0FBTSxJQUFJLFNBQUksUUFBVSxDQUFDO0lBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQUEsTUFBTSxFQUFFLFVBQUEsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUM3RCxpREFBaUQ7SUFDL0MsSUFBSSxRQUFRLEdBQUcsU0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7U0FDbkIsTUFBTSxDQUFDLGdCQUFnQixFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxFQUFFLFFBQVEsQ0FBQztTQUNoRCxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUM7U0FDekIsU0FBUyxDQUFDLGNBQWMsRUFBRSxFQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQUEsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUMsRUFBRSxRQUFRLENBQUM7U0FDM0gsT0FBTyxDQUFDLEVBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUMsQ0FBQyxDQUFDO0lBQ3pILElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUN4QyxzQ0FBc0M7SUFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsRUFBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLFFBQUEsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDMUUsV0FBVztJQUNYLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBQyxDQUFDLENBQUM7SUFDL0QsWUFBWTtJQUNaLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDaEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFDLENBQUMsQ0FBQztJQUN0RyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsUUFBQSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQzlGLElBQUksQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsRUFBQyxRQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0lBQ2hGLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBeEJlLG9CQUFZLGVBd0IzQixDQUFBO0FBRUQsNEJBQTRCLE1BQU07SUFDaEMsSUFBSSxJQUFJLEdBQUcsU0FBRyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFFBQUEsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUNuRCxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1IsSUFBSSxNQUFJLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxNQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sTUFBTSxDQUFDLFNBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0FBQ0gsQ0FBQztBQUVELG9CQUEyQixJQUFJO0lBQzdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsU0FBRyxDQUFDLENBQUM7QUFDekMsQ0FBQztBQUZlLGtCQUFVLGFBRXpCLENBQUE7QUFFRDtJQUNFLElBQUksSUFBSSxHQUFHLFNBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQVplLGtCQUFVLGFBWXpCLENBQUE7QUFFRCwyREFBMkQ7QUFDM0QsZ0JBQWdCO0FBQ2hCLDJEQUEyRDtBQUUzRCxHQUFHLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLFVBQUMsTUFBTSxFQUFFLElBQUk7SUFDekMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUM3QixJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLDRCQUE0QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0UsRUFBRSxDQUFBLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7UUFBQyxNQUFNLENBQUM7SUFFOUIsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN0QyxJQUFJLE9BQU8sR0FBRyxjQUFjLENBQUM7SUFDN0IsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sR0FBRyxzQkFBbUIsUUFBUSxZQUFNLE9BQU8sTUFBRyxDQUFDO0lBQ3hELENBQUM7SUFDRCxxQkFBcUI7SUFDckIsR0FBRyxDQUFBLENBQWEsVUFBc0QsRUFBdEQsS0FBQSxTQUFHLENBQUMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLEVBQWxFLGNBQVEsRUFBUixJQUFrRSxDQUFDO1FBQW5FLElBQUksSUFBSSxTQUFBO1FBQ1YsSUFBSSxNQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQUksQ0FBQyxDQUFDO0tBQ3BCO0lBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQzVELE1BQU0sQ0FBQyxNQUFNLENBQUMsNkJBQTZCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztJQUU3RCxJQUFJLENBQUM7UUFDSCxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2hELEdBQUcsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBQSxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBRTtJQUFBLEtBQUssQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVixNQUFNLENBQUMsR0FBRyxDQUFDLDZCQUE2QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFDLENBQUMsQ0FBQTtJQUNoRixDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO0lBQzVELE1BQU0sQ0FBQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUMsQ0FBQyxDQUFDO0FBQ2pGLENBQUMsQ0FBQyxDQUFDO0FBR0gsd0JBQXdCLElBQUksRUFBRSxJQUFJO0lBQ2hDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsRUFBRSxDQUFBLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ1AsSUFBSSxLQUFLLEdBQUcsRUFBQyxLQUFLLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFDeEIsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFFO1lBQ3RDLElBQUksRUFBRSxTQUFTO1lBQ2YsWUFBWSxFQUFFLElBQUk7WUFDbEIsU0FBUyxFQUFFO2dCQUNULFlBQVksRUFBRSxVQUFDLEVBQUU7b0JBQ2YsR0FBRyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUMxRixDQUFDO2dCQUNELFdBQVcsRUFBRSxVQUFDLEVBQUU7b0JBQ2QsR0FBRyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxFQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUMxRixDQUFDO2FBQ0Y7U0FDRixDQUFDLENBQUM7UUFDSCxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFDLEVBQUU7WUFDdkIsbUNBQW1DO1lBQ25DLDZDQUE2QztZQUM3Qyx1Q0FBdUM7WUFDdkMsd0JBQXdCO1lBQ3hCLFVBQVU7WUFDViwwQkFBMEI7WUFDMUIsbUNBQW1DO1lBQ25DLGtEQUFrRDtZQUNsRCxxRUFBcUU7WUFDckUsK0VBQStFO1lBQy9FLFVBQVU7UUFDTixDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFDRCxFQUFFLENBQUEsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDaEMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztBQUNILENBQUM7QUFFRCxzQkFBc0IsUUFBUTtJQUM1QixJQUFJLEtBQWMsU0FBRyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRSxFQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxFQUFqRSxHQUFHLFdBQUUsSUFBSSxVQUF3RCxDQUFDO0lBQ3ZFLElBQUksSUFBSSxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsNEJBQTRCLEVBQUUsRUFBQyxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RSxJQUFJLFVBQVUsR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLEVBQUUsS0FBSyxRQUFRLEdBQUcsVUFBVSxHQUFHLEVBQUUsQ0FBQztJQUN4RSxJQUFJLEtBQUssR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLDZCQUE2QixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDdkUsSUFBSSxRQUFRLENBQUM7SUFDYixFQUFFLENBQUEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDVixJQUFJLE9BQU8sR0FBRyxTQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pDLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEtBQUssSUFBSyxPQUFBLEtBQUssS0FBSyxNQUFNLEVBQWhCLENBQWdCLENBQUMsQ0FBQztRQUMvRSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsR0FBRyxDQUFBLENBQWMsVUFBTSxFQUFuQixrQkFBUyxFQUFULElBQW1CLENBQUM7WUFBcEIsSUFBSSxLQUFLLEdBQUksTUFBTSxJQUFWO1lBQ1gsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7U0FDMUM7UUFDRCxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDckIsR0FBRyxDQUFBLENBQWUsVUFBTyxFQUFyQixtQkFBVSxFQUFWLElBQXFCLENBQUM7WUFBdEIsSUFBSSxNQUFNLEdBQUksT0FBTyxJQUFYO1lBQ1osSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1lBQ3BCLEdBQUcsQ0FBQSxDQUFjLFVBQU0sRUFBbkIsa0JBQVMsRUFBVCxJQUFtQixDQUFDO2dCQUFwQixJQUFJLEtBQUssR0FBSSxNQUFNLElBQVY7Z0JBQ1gsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUM7YUFDcEQ7WUFDRCxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQztTQUNwRDtRQUNELFFBQVEsR0FBRyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFO2dCQUNsQyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBQztnQkFDakMsRUFBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUM7YUFDbkMsRUFBQyxDQUFDO0lBQ0wsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sUUFBUSxHQUFHLEVBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsT0FBTyxDQUFDLHFCQUFxQixFQUFFLEVBQUMsRUFBRSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7SUFDOUQsSUFBSSxLQUFLLEVBQUUsTUFBTSxDQUFDO0lBQ2xCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDUixLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNuQixNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBQ0QsTUFBTSxDQUFDLEVBQUMsRUFBRSxFQUFLLFFBQVEsZUFBWSxFQUFFLENBQUMsRUFBRSxnQ0FBOEIsVUFBVSxtQkFBZ0IsRUFBRSxLQUFBLEdBQUcsRUFBRSxNQUFBLElBQUksRUFBRSxPQUFBLEtBQUssRUFBRSxRQUFBLE1BQU0sRUFBRSxRQUFRLEVBQUU7WUFDcEksRUFBQyxDQUFDLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsVUFBQSxRQUFRLEVBQUUsUUFBUSxFQUFFO29CQUNoRSxFQUFDLENBQUMsRUFBRSwwQkFBMEIsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsVUFBQSxRQUFRLEVBQUM7b0JBQ2xGLEVBQUMsQ0FBQyxFQUFFLHlCQUF5QixFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBQSxRQUFRLEVBQUM7aUJBQzlELEVBQUM7WUFDRixRQUFRO1lBQ1IsRUFBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsVUFBQSxRQUFRLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBQztTQUMxRSxFQUFDLENBQUM7QUFDTCxDQUFDO0FBR0QsMkRBQTJEO0FBQzNELG1CQUFtQjtBQUNuQiwyREFBMkQ7QUFFM0Qsc0NBQXNDO0FBQ3RDLDZHQUE2RztBQUM3RyxxQ0FBcUM7QUFDckMsb0RBQW9EO0FBQ3BELCtDQUErQztBQUUvQyxJQUFJLGdCQUFnQixHQUFHO0lBQ3JCLElBQUksRUFBRTtRQUNKLEdBQUcsQ0FBQSxDQUFhLFVBQWdCLEVBQWhCLEtBQUEsU0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBNUIsY0FBUSxFQUFSLElBQTRCLENBQUM7WUFBN0IsSUFBSSxJQUFJLFNBQUE7WUFDVixFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQztnQkFBQyxRQUFRLENBQUM7WUFDbkMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFNBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsU0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQjtRQUNELE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDWixDQUFDO0NBQ0YsQ0FBQTtBQUVELFNBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDdkMsU0FBRyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3pELFNBQUcsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUM7QUFDekQsU0FBRyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDNUUsU0FBRyxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNyRSxTQUFHLENBQUMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDeEYsU0FBRyxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUV4RSxTQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztBQUMzRCxTQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztBQUM3RCxTQUFHLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztBQUNwRSxTQUFHLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLGdCQUFnQixDQUFDO0FBQ3JFLFNBQUcsQ0FBQyxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEdBQUcsZ0JBQWdCLENBQUM7QUFDOUUsU0FBRyxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztBQUM1RSxTQUFHLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLGdCQUFnQixDQUFDO0FBRTNFLDJCQUEyQixLQUFtQjtJQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFHLENBQUMsQ0FBQztBQUM5QixDQUFDO0FBQ0Qsd0VBQXdFO0FBQ3hFLFdBQVc7QUFDWCxJQUFJLElBQUksR0FBRyxTQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO0FBQ3pELFNBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFHcEIsaUJBQXdCLElBQUksRUFBRSxNQUFNO0lBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUM7SUFDaEQsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1QsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBcUIsTUFBTSxNQUFHLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBQ0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQ2xELEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsVUFBUSxNQUFNLHFCQUFrQixDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNELHFCQUFxQjtJQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBWCxDQUFXLENBQUMsQ0FBQztJQUNwQyxHQUFHLENBQUEsQ0FBZSxVQUFPLEVBQXJCLG1CQUFVLEVBQVYsSUFBcUIsQ0FBQztRQUF0QixJQUFJLE1BQU0sR0FBSSxPQUFPLElBQVg7UUFDWixJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzdCLEVBQUUsQ0FBQSxDQUFDLFVBQVUsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQzFCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztZQUNmLEdBQUcsQ0FBQSxDQUFxQixVQUEwRCxFQUExRCxLQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQTlFLGNBQWdCLEVBQWhCLElBQThFLENBQUM7Z0JBQS9FLElBQUksWUFBWSxTQUFBO2dCQUNsQixLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQzNEO1lBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLFVBQVUsS0FBSyxNQUFNLElBQUksVUFBVSxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDMUQsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1lBQ2hCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7WUFDM0UsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQVgsQ0FBVyxDQUFDLENBQUM7WUFDckMsR0FBRyxDQUFBLENBQWdCLFVBQVEsRUFBdkIsb0JBQVcsRUFBWCxJQUF1QixDQUFDO2dCQUF4QixJQUFJLE9BQU8sR0FBSSxRQUFRLElBQVo7Z0JBQ2IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMxRTtZQUNELEVBQUUsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0IsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLE1BQU0sSUFBSSxLQUFLLENBQUksVUFBVSwrQkFBMEIsTUFBTSxDQUFDLE1BQVEsQ0FBQyxDQUFBO1lBQ3pFLENBQUM7UUFDSCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1lBQ3BFLElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQztZQUN2QixHQUFHLENBQUEsQ0FBZ0IsVUFBUSxFQUF2QixvQkFBVyxFQUFYLElBQXVCLENBQUM7Z0JBQXhCLElBQUksT0FBTyxHQUFJLFFBQVEsSUFBWjtnQkFDYixJQUFJLFFBQU0sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ2xDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDaEMsRUFBRSxDQUFBLENBQUMsVUFBVSxLQUFLLE9BQU8sSUFBSSxVQUFVLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDdEQsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN4QyxDQUFDO2dCQUFDLElBQUksQ0FBQyxDQUFDO29CQUNOLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2hELENBQUM7YUFDRjtZQUNELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7WUFDOUUsR0FBRyxDQUFBLENBQWlCLFVBQVMsRUFBekIscUJBQVksRUFBWixJQUF5QixDQUFDO2dCQUExQixJQUFJLFFBQVEsR0FBSSxTQUFTLElBQWI7Z0JBQ2QsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO2FBQy9DO1lBQ0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsRUFBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7WUFDcEUsRUFBRSxDQUFBLENBQUMsQ0FBQyxNQUFNLElBQUksVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQUksVUFBVSxxQ0FBZ0MsTUFBTSxNQUFHLENBQUMsQ0FBQztZQUMxRSxDQUFDO1lBQ0QsRUFBRSxDQUFBLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUUsYUFBYSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1RSxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3RDLENBQUM7UUFDSCxDQUFDO0tBQ0Y7SUFDRCxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUE1RGUsZUFBTyxVQTREdEIsQ0FBQTtBQUVELDJEQUEyRDtBQUMzRCxnQkFBZ0I7QUFDaEIsMkRBQTJEO0FBRTNELE9BQU8sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFDLEVBQUUsVUFBUyxNQUFNLEVBQUUsSUFBSTtJQUNwRSxNQUFNLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNyQyxDQUFDLENBQUMsQ0FBQztBQUVILE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBQyxFQUFFLFVBQVMsTUFBTSxFQUFFLElBQUk7SUFDL0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ3hDLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFDLEVBQUUsVUFBUyxHQUFHLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNO0lBQ2hGLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUN2QixHQUFHLENBQUEsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksTUFBTSxDQUFDLE1BQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyw2QkFBNkIsRUFBRSxNQUFNLENBQUMsTUFBRyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9HLENBQUM7SUFDRCxJQUFJLE1BQU0sQ0FBQztJQUNYLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEMsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNWLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMzRCxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixNQUFNLEdBQU0sSUFBSSxTQUFJLEdBQUcsQ0FBQyxJQUFNLENBQUM7SUFDakMsQ0FBQztJQUNELElBQUksT0FBTyxHQUFNLE1BQU0sU0FBSSxHQUFHLENBQUMsSUFBTSxDQUFDO0lBQ3RDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUM7UUFDNUQsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFDO1FBQ2hFLEVBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUM7UUFDdkQsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7QUFDL0QsQ0FBQyxDQUFDLENBQUM7QUFFSCxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxVQUFTLFVBQVU7SUFDMUQsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLE9BQUssU0FBUyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUcsRUFBQyxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDO0FBR0gsMkRBQTJEO0FBQzNELFVBQVU7QUFDViwyREFBMkQ7QUFFM0Qsd0RBQXdEO0FBQ3hELGtFQUFrRTtBQUVsRSxpQ0FBaUM7QUFDakMsb0ZBQW9GO0FBQ3BGLG9GQUFvRjtBQUNwRiw0RkFBNEY7QUFDNUYsc0dBQXNHO0FBRXRHLGdEQUFnRDtBQUNoRCxtREFBbUQ7QUFDbkQsMEVBQTBFO0FBQzFFLHlGQUF5RjtBQUV6RixzQ0FBc0M7QUFDdEMsOENBQThDO0FBQzlDLDhHQUE4RztBQUM5Ryx5SEFBeUg7QUFFekgsc0NBQXNDO0FBQ3RDLDBHQUEwRztBQUMxRyxzR0FBc0c7QUFDdEcscUdBQXFHO0FBQ3JHLDZGQUE2RjtBQUM3Rix1R0FBdUc7QUFFdkcsMENBQTBDO0FBQzFDLG9FQUFvRTtBQUNwRSx3RkFBd0Y7QUFFeEYsc0dBQXNHO0FBQ3RHLG1GQUFtRjtBQUNuRix5Q0FBeUM7QUFDekMsa0RBQWtEO0FBQ2xELDJFQUEyRTtBQUMzRSxxSEFBcUg7QUFFckgsdUNBQXVDO0FBQ3ZDLHFEQUFxRDtBQUNyRCx3RUFBd0U7QUFDeEUsZ0hBQWdIO0FBRWhILDhDQUE4QztBQUM5Qyw2RUFBNkU7QUFDN0UsK0VBQStFO0FBRS9FLDhDQUE4QztBQUM5QywwREFBMEQ7QUFDMUQsMEZBQTBGO0FBQzFGLCtHQUErRztBQUMvRyx3RkFBd0Y7QUFDeEYsOEZBQThGO0FBRTlGLHFDQUFxQztBQUNyQyxnRUFBZ0U7QUFDaEUsc0RBQXNEO0FBQ3RELCtDQUErQztBQUMvQyxpR0FBaUc7QUFFakcsd0RBQXdEO0FBQ3hELGtEQUFrRDtBQUNsRCw2RUFBNkU7QUFDN0Usa0dBQWtHO0FBQ2xHLDhGQUE4RjtBQUU5RiwyREFBMkQ7QUFDM0QsS0FBSztBQUNMLDJEQUEyRDtBQUUzRDtJQUNFLEdBQUcsQ0FBQSxDQUFlLFVBQTBCLEVBQTFCLEtBQUEsU0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUF4QyxjQUFVLEVBQVYsSUFBd0MsQ0FBQztRQUF6QyxJQUFJLE1BQU0sU0FBQTtRQUNaLElBQUksS0FBSyxHQUFHLFNBQUcsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0UsR0FBRyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsK0JBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDMUQ7SUFDRCxHQUFHLENBQUEsQ0FBYSxVQUFtQixFQUFuQixLQUFBLFNBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQS9CLGNBQVEsRUFBUixJQUErQixDQUFDO1FBQWhDLElBQUksSUFBSSxTQUFBO1FBQ1YsRUFBRSxDQUFBLENBQUMsU0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUM7WUFBQyxRQUFRLENBQUM7UUFDNUQsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsK0JBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ3RFO0FBQ0gsQ0FBQztBQUVELGlCQUFpQjtBQUNqQixRQUFPLGFBQWEsQ0FBQyxDQUFBO0FBRXJCO0lBQ0UsSUFBSSxNQUFNLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2xELEVBQUUsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNYLElBQUksSUFBSSxHQUFHLFNBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN0QixJQUFJLEVBQUUsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsSUFBQSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLEVBQUMsSUFBQSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7UUFDdEQsU0FBRyxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDRCxZQUFZLEVBQUUsQ0FBQztBQUNqQixDQUFDO0FBRUQsR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDL0IsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDZixRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDO0lBQzlELEdBQUcsQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDLENBQUM7QUFHSCxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDOzs7QUM1K0N6Qjs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4vLyBUaGlzIGlzIENvZGVNaXJyb3IgKGh0dHA6Ly9jb2RlbWlycm9yLm5ldCksIGEgY29kZSBlZGl0b3Jcbi8vIGltcGxlbWVudGVkIGluIEphdmFTY3JpcHQgb24gdG9wIG9mIHRoZSBicm93c2VyJ3MgRE9NLlxuLy9cbi8vIFlvdSBjYW4gZmluZCBzb21lIHRlY2huaWNhbCBiYWNrZ3JvdW5kIGZvciBzb21lIG9mIHRoZSBjb2RlIGJlbG93XG4vLyBhdCBodHRwOi8vbWFyaWpuaGF2ZXJiZWtlLm5sL2Jsb2cvI2NtLWludGVybmFscyAuXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gbW9kKCk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIHJldHVybiBkZWZpbmUoW10sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICB0aGlzLkNvZGVNaXJyb3IgPSBtb2QoKTtcbn0pKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBCUk9XU0VSIFNOSUZGSU5HXG5cbiAgLy8gS2x1ZGdlcyBmb3IgYnVncyBhbmQgYmVoYXZpb3IgZGlmZmVyZW5jZXMgdGhhdCBjYW4ndCBiZSBmZWF0dXJlXG4gIC8vIGRldGVjdGVkIGFyZSBlbmFibGVkIGJhc2VkIG9uIHVzZXJBZ2VudCBldGMgc25pZmZpbmcuXG4gIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICB2YXIgcGxhdGZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm07XG5cbiAgdmFyIGdlY2tvID0gL2dlY2tvXFwvXFxkL2kudGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgaWVfdXB0bzEwID0gL01TSUUgXFxkLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBpZV8xMXVwID0gL1RyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKHVzZXJBZ2VudCk7XG4gIHZhciBpZSA9IGllX3VwdG8xMCB8fCBpZV8xMXVwO1xuICB2YXIgaWVfdmVyc2lvbiA9IGllICYmIChpZV91cHRvMTAgPyBkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgNiA6IGllXzExdXBbMV0pO1xuICB2YXIgd2Via2l0ID0gL1dlYktpdFxcLy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgcXR3ZWJraXQgPSB3ZWJraXQgJiYgL1F0XFwvXFxkK1xcLlxcZCsvLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIGNocm9tZSA9IC9DaHJvbWVcXC8vLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIHByZXN0byA9IC9PcGVyYVxcLy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgc2FmYXJpID0gL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xuICB2YXIgbWFjX2dlTW91bnRhaW5MaW9uID0gL01hYyBPUyBYIDFcXGRcXEQoWzgtOV18XFxkXFxkKVxcRC8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgcGhhbnRvbSA9IC9QaGFudG9tSlMvLnRlc3QodXNlckFnZW50KTtcblxuICB2YXIgaW9zID0gL0FwcGxlV2ViS2l0Ly50ZXN0KHVzZXJBZ2VudCkgJiYgL01vYmlsZVxcL1xcdysvLnRlc3QodXNlckFnZW50KTtcbiAgLy8gVGhpcyBpcyB3b2VmdWxseSBpbmNvbXBsZXRlLiBTdWdnZXN0aW9ucyBmb3IgYWx0ZXJuYXRpdmUgbWV0aG9kcyB3ZWxjb21lLlxuICB2YXIgbW9iaWxlID0gaW9zIHx8IC9BbmRyb2lkfHdlYk9TfEJsYWNrQmVycnl8T3BlcmEgTWluaXxPcGVyYSBNb2JpfElFTW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgbWFjID0gaW9zIHx8IC9NYWMvLnRlc3QocGxhdGZvcm0pO1xuICB2YXIgd2luZG93cyA9IC93aW4vaS50ZXN0KHBsYXRmb3JtKTtcblxuICB2YXIgcHJlc3RvX3ZlcnNpb24gPSBwcmVzdG8gJiYgdXNlckFnZW50Lm1hdGNoKC9WZXJzaW9uXFwvKFxcZCpcXC5cXGQqKS8pO1xuICBpZiAocHJlc3RvX3ZlcnNpb24pIHByZXN0b192ZXJzaW9uID0gTnVtYmVyKHByZXN0b192ZXJzaW9uWzFdKTtcbiAgaWYgKHByZXN0b192ZXJzaW9uICYmIHByZXN0b192ZXJzaW9uID49IDE1KSB7IHByZXN0byA9IGZhbHNlOyB3ZWJraXQgPSB0cnVlOyB9XG4gIC8vIFNvbWUgYnJvd3NlcnMgdXNlIHRoZSB3cm9uZyBldmVudCBwcm9wZXJ0aWVzIHRvIHNpZ25hbCBjbWQvY3RybCBvbiBPUyBYXG4gIHZhciBmbGlwQ3RybENtZCA9IG1hYyAmJiAocXR3ZWJraXQgfHwgcHJlc3RvICYmIChwcmVzdG9fdmVyc2lvbiA9PSBudWxsIHx8IHByZXN0b192ZXJzaW9uIDwgMTIuMTEpKTtcbiAgdmFyIGNhcHR1cmVSaWdodENsaWNrID0gZ2Vja28gfHwgKGllICYmIGllX3ZlcnNpb24gPj0gOSk7XG5cbiAgLy8gT3B0aW1pemUgc29tZSBjb2RlIHdoZW4gdGhlc2UgZmVhdHVyZXMgYXJlIG5vdCB1c2VkLlxuICB2YXIgc2F3UmVhZE9ubHlTcGFucyA9IGZhbHNlLCBzYXdDb2xsYXBzZWRTcGFucyA9IGZhbHNlO1xuXG4gIC8vIEVESVRPUiBDT05TVFJVQ1RPUlxuXG4gIC8vIEEgQ29kZU1pcnJvciBpbnN0YW5jZSByZXByZXNlbnRzIGFuIGVkaXRvci4gVGhpcyBpcyB0aGUgb2JqZWN0XG4gIC8vIHRoYXQgdXNlciBjb2RlIGlzIHVzdWFsbHkgZGVhbGluZyB3aXRoLlxuXG4gIGZ1bmN0aW9uIENvZGVNaXJyb3IocGxhY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29kZU1pcnJvcikpIHJldHVybiBuZXcgQ29kZU1pcnJvcihwbGFjZSwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fTtcbiAgICAvLyBEZXRlcm1pbmUgZWZmZWN0aXZlIG9wdGlvbnMgYmFzZWQgb24gZ2l2ZW4gdmFsdWVzIGFuZCBkZWZhdWx0cy5cbiAgICBjb3B5T2JqKGRlZmF1bHRzLCBvcHRpb25zLCBmYWxzZSk7XG4gICAgc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKG9wdGlvbnMpO1xuXG4gICAgdmFyIGRvYyA9IG9wdGlvbnMudmFsdWU7XG4gICAgaWYgKHR5cGVvZiBkb2MgPT0gXCJzdHJpbmdcIikgZG9jID0gbmV3IERvYyhkb2MsIG9wdGlvbnMubW9kZSwgbnVsbCwgb3B0aW9ucy5saW5lU2VwYXJhdG9yKTtcbiAgICB0aGlzLmRvYyA9IGRvYztcblxuICAgIHZhciBpbnB1dCA9IG5ldyBDb2RlTWlycm9yLmlucHV0U3R5bGVzW29wdGlvbnMuaW5wdXRTdHlsZV0odGhpcyk7XG4gICAgdmFyIGRpc3BsYXkgPSB0aGlzLmRpc3BsYXkgPSBuZXcgRGlzcGxheShwbGFjZSwgZG9jLCBpbnB1dCk7XG4gICAgZGlzcGxheS53cmFwcGVyLkNvZGVNaXJyb3IgPSB0aGlzO1xuICAgIHVwZGF0ZUd1dHRlcnModGhpcyk7XG4gICAgdGhlbWVDaGFuZ2VkKHRoaXMpO1xuICAgIGlmIChvcHRpb25zLmxpbmVXcmFwcGluZylcbiAgICAgIHRoaXMuZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZSArPSBcIiBDb2RlTWlycm9yLXdyYXBcIjtcbiAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgJiYgIW1vYmlsZSkgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgIGluaXRTY3JvbGxiYXJzKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGtleU1hcHM6IFtdLCAgLy8gc3RvcmVzIG1hcHMgYWRkZWQgYnkgYWRkS2V5TWFwXG4gICAgICBvdmVybGF5czogW10sIC8vIGhpZ2hsaWdodGluZyBvdmVybGF5cywgYXMgYWRkZWQgYnkgYWRkT3ZlcmxheVxuICAgICAgbW9kZUdlbjogMCwgICAvLyBidW1wZWQgd2hlbiBtb2RlL292ZXJsYXkgY2hhbmdlcywgdXNlZCB0byBpbnZhbGlkYXRlIGhpZ2hsaWdodGluZyBpbmZvXG4gICAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgICAgZGVsYXlpbmdCbHVyRXZlbnQ6IGZhbHNlLFxuICAgICAgZm9jdXNlZDogZmFsc2UsXG4gICAgICBzdXBwcmVzc0VkaXRzOiBmYWxzZSwgLy8gdXNlZCB0byBkaXNhYmxlIGVkaXRpbmcgZHVyaW5nIGtleSBoYW5kbGVycyB3aGVuIGluIHJlYWRPbmx5IG1vZGVcbiAgICAgIHBhc3RlSW5jb21pbmc6IGZhbHNlLCBjdXRJbmNvbWluZzogZmFsc2UsIC8vIGhlbHAgcmVjb2duaXplIHBhc3RlL2N1dCBlZGl0cyBpbiBpbnB1dC5wb2xsXG4gICAgICBzZWxlY3RpbmdUZXh0OiBmYWxzZSxcbiAgICAgIGRyYWdnaW5nVGV4dDogZmFsc2UsXG4gICAgICBoaWdobGlnaHQ6IG5ldyBEZWxheWVkKCksIC8vIHN0b3JlcyBoaWdobGlnaHQgd29ya2VyIHRpbWVvdXRcbiAgICAgIGtleVNlcTogbnVsbCwgIC8vIFVuZmluaXNoZWQga2V5IHNlcXVlbmNlXG4gICAgICBzcGVjaWFsQ2hhcnM6IG51bGxcbiAgICB9O1xuXG4gICAgdmFyIGNtID0gdGhpcztcblxuICAgIC8vIE92ZXJyaWRlIG1hZ2ljIHRleHRhcmVhIGNvbnRlbnQgcmVzdG9yZSB0aGF0IElFIHNvbWV0aW1lcyBkb2VzXG4gICAgLy8gb24gb3VyIGhpZGRlbiB0ZXh0YXJlYSBvbiByZWxvYWRcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KHRydWUpOyB9LCAyMCk7XG5cbiAgICByZWdpc3RlckV2ZW50SGFuZGxlcnModGhpcyk7XG4gICAgZW5zdXJlR2xvYmFsSGFuZGxlcnMoKTtcblxuICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpO1xuICAgIHRoaXMuY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgIGF0dGFjaERvYyh0aGlzLCBkb2MpO1xuXG4gICAgaWYgKChvcHRpb25zLmF1dG9mb2N1cyAmJiAhbW9iaWxlKSB8fCBjbS5oYXNGb2N1cygpKVxuICAgICAgc2V0VGltZW91dChiaW5kKG9uRm9jdXMsIHRoaXMpLCAyMCk7XG4gICAgZWxzZVxuICAgICAgb25CbHVyKHRoaXMpO1xuXG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbkhhbmRsZXJzKSBpZiAob3B0aW9uSGFuZGxlcnMuaGFzT3duUHJvcGVydHkob3B0KSlcbiAgICAgIG9wdGlvbkhhbmRsZXJzW29wdF0odGhpcywgb3B0aW9uc1tvcHRdLCBJbml0KTtcbiAgICBtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aCh0aGlzKTtcbiAgICBpZiAob3B0aW9ucy5maW5pc2hJbml0KSBvcHRpb25zLmZpbmlzaEluaXQodGhpcyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0SG9va3MubGVuZ3RoOyArK2kpIGluaXRIb29rc1tpXSh0aGlzKTtcbiAgICBlbmRPcGVyYXRpb24odGhpcyk7XG4gICAgLy8gU3VwcHJlc3Mgb3B0aW1pemVsZWdpYmlsaXR5IGluIFdlYmtpdCwgc2luY2UgaXQgYnJlYWtzIHRleHRcbiAgICAvLyBtZWFzdXJpbmcgb24gbGluZSB3cmFwcGluZyBib3VuZGFyaWVzLlxuICAgIGlmICh3ZWJraXQgJiYgb3B0aW9ucy5saW5lV3JhcHBpbmcgJiZcbiAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShkaXNwbGF5LmxpbmVEaXYpLnRleHRSZW5kZXJpbmcgPT0gXCJvcHRpbWl6ZWxlZ2liaWxpdHlcIilcbiAgICAgIGRpc3BsYXkubGluZURpdi5zdHlsZS50ZXh0UmVuZGVyaW5nID0gXCJhdXRvXCI7XG4gIH1cblxuICAvLyBESVNQTEFZIENPTlNUUlVDVE9SXG5cbiAgLy8gVGhlIGRpc3BsYXkgaGFuZGxlcyB0aGUgRE9NIGludGVncmF0aW9uLCBib3RoIGZvciBpbnB1dCByZWFkaW5nXG4gIC8vIGFuZCBjb250ZW50IGRyYXdpbmcuIEl0IGhvbGRzIHJlZmVyZW5jZXMgdG8gRE9NIG5vZGVzIGFuZFxuICAvLyBkaXNwbGF5LXJlbGF0ZWQgc3RhdGUuXG5cbiAgZnVuY3Rpb24gRGlzcGxheShwbGFjZSwgZG9jLCBpbnB1dCkge1xuICAgIHZhciBkID0gdGhpcztcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG5cbiAgICAvLyBDb3ZlcnMgYm90dG9tLXJpZ2h0IHNxdWFyZSB3aGVuIGJvdGggc2Nyb2xsYmFycyBhcmUgcHJlc2VudC5cbiAgICBkLnNjcm9sbGJhckZpbGxlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlclwiKTtcbiAgICBkLnNjcm9sbGJhckZpbGxlci5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLCBcInRydWVcIik7XG4gICAgLy8gQ292ZXJzIGJvdHRvbSBvZiBndXR0ZXIgd2hlbiBjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciBpcyBvblxuICAgIC8vIGFuZCBoIHNjcm9sbGJhciBpcyBwcmVzZW50LlxuICAgIGQuZ3V0dGVyRmlsbGVyID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyXCIpO1xuICAgIGQuZ3V0dGVyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsIFwidHJ1ZVwiKTtcbiAgICAvLyBXaWxsIGNvbnRhaW4gdGhlIGFjdHVhbCBjb2RlLCBwb3NpdGlvbmVkIHRvIGNvdmVyIHRoZSB2aWV3cG9ydC5cbiAgICBkLmxpbmVEaXYgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWNvZGVcIik7XG4gICAgLy8gRWxlbWVudHMgYXJlIGFkZGVkIHRvIHRoZXNlIHRvIHJlcHJlc2VudCBzZWxlY3Rpb24gYW5kIGN1cnNvcnMuXG4gICAgZC5zZWxlY3Rpb25EaXYgPSBlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDFcIik7XG4gICAgZC5jdXJzb3JEaXYgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWN1cnNvcnNcIik7XG4gICAgLy8gQSB2aXNpYmlsaXR5OiBoaWRkZW4gZWxlbWVudCB1c2VkIHRvIGZpbmQgdGhlIHNpemUgb2YgdGhpbmdzLlxuICAgIGQubWVhc3VyZSA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItbWVhc3VyZVwiKTtcbiAgICAvLyBXaGVuIGxpbmVzIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0IGFyZSBtZWFzdXJlZCwgdGhleSBhcmUgZHJhd24gaW4gdGhpcy5cbiAgICBkLmxpbmVNZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpO1xuICAgIC8vIFdyYXBzIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBleGlzdCBpbnNpZGUgdGhlIHZlcnRpY2FsbHktcGFkZGVkIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgZC5saW5lU3BhY2UgPSBlbHQoXCJkaXZcIiwgW2QubWVhc3VyZSwgZC5saW5lTWVhc3VyZSwgZC5zZWxlY3Rpb25EaXYsIGQuY3Vyc29yRGl2LCBkLmxpbmVEaXZdLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlOyBvdXRsaW5lOiBub25lXCIpO1xuICAgIC8vIE1vdmVkIGFyb3VuZCBpdHMgcGFyZW50IHRvIGNvdmVyIHZpc2libGUgdmlldy5cbiAgICBkLm1vdmVyID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgW2QubGluZVNwYWNlXSwgXCJDb2RlTWlycm9yLWxpbmVzXCIpXSwgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmVcIik7XG4gICAgLy8gU2V0IHRvIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50LCBhbGxvd2luZyBzY3JvbGxpbmcuXG4gICAgZC5zaXplciA9IGVsdChcImRpdlwiLCBbZC5tb3Zlcl0sIFwiQ29kZU1pcnJvci1zaXplclwiKTtcbiAgICBkLnNpemVyV2lkdGggPSBudWxsO1xuICAgIC8vIEJlaGF2aW9yIG9mIGVsdHMgd2l0aCBvdmVyZmxvdzogYXV0byBhbmQgcGFkZGluZyBpc1xuICAgIC8vIGluY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhlXG4gICAgLy8gc2Nyb2xsYWJsZSBhcmVhIGlzIGJpZyBlbm91Z2guXG4gICAgZC5oZWlnaHRGb3JjZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogXCIgKyBzY3JvbGxlckdhcCArIFwicHg7IHdpZHRoOiAxcHg7XCIpO1xuICAgIC8vIFdpbGwgY29udGFpbiB0aGUgZ3V0dGVycywgaWYgYW55LlxuICAgIGQuZ3V0dGVycyA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyc1wiKTtcbiAgICBkLmxpbmVHdXR0ZXIgPSBudWxsO1xuICAgIC8vIEFjdHVhbCBzY3JvbGxhYmxlIGVsZW1lbnQuXG4gICAgZC5zY3JvbGxlciA9IGVsdChcImRpdlwiLCBbZC5zaXplciwgZC5oZWlnaHRGb3JjZXIsIGQuZ3V0dGVyc10sIFwiQ29kZU1pcnJvci1zY3JvbGxcIik7XG4gICAgZC5zY3JvbGxlci5zZXRBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiLCBcIi0xXCIpO1xuICAgIC8vIFRoZSBlbGVtZW50IGluIHdoaWNoIHRoZSBlZGl0b3IgbGl2ZXMuXG4gICAgZC53cmFwcGVyID0gZWx0KFwiZGl2XCIsIFtkLnNjcm9sbGJhckZpbGxlciwgZC5ndXR0ZXJGaWxsZXIsIGQuc2Nyb2xsZXJdLCBcIkNvZGVNaXJyb3JcIik7XG5cbiAgICAvLyBXb3JrIGFyb3VuZCBJRTcgei1pbmRleCBidWcgKG5vdCBwZXJmZWN0LCBoZW5jZSBJRTcgbm90IHJlYWxseSBiZWluZyBzdXBwb3J0ZWQpXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7IGQuZ3V0dGVycy5zdHlsZS56SW5kZXggPSAtMTsgZC5zY3JvbGxlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSAwOyB9XG4gICAgaWYgKCF3ZWJraXQgJiYgIShnZWNrbyAmJiBtb2JpbGUpKSBkLnNjcm9sbGVyLmRyYWdnYWJsZSA9IHRydWU7XG5cbiAgICBpZiAocGxhY2UpIHtcbiAgICAgIGlmIChwbGFjZS5hcHBlbmRDaGlsZCkgcGxhY2UuYXBwZW5kQ2hpbGQoZC53cmFwcGVyKTtcbiAgICAgIGVsc2UgcGxhY2UoZC53cmFwcGVyKTtcbiAgICB9XG5cbiAgICAvLyBDdXJyZW50IHJlbmRlcmVkIHJhbmdlIChtYXkgYmUgYmlnZ2VyIHRoYW4gdGhlIHZpZXcgd2luZG93KS5cbiAgICBkLnZpZXdGcm9tID0gZC52aWV3VG8gPSBkb2MuZmlyc3Q7XG4gICAgZC5yZXBvcnRlZFZpZXdGcm9tID0gZC5yZXBvcnRlZFZpZXdUbyA9IGRvYy5maXJzdDtcbiAgICAvLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVuZGVyZWQgbGluZXMuXG4gICAgZC52aWV3ID0gW107XG4gICAgZC5yZW5kZXJlZFZpZXcgPSBudWxsO1xuICAgIC8vIEhvbGRzIGluZm8gYWJvdXQgYSBzaW5nbGUgcmVuZGVyZWQgbGluZSB3aGVuIGl0IHdhcyByZW5kZXJlZFxuICAgIC8vIGZvciBtZWFzdXJlbWVudCwgd2hpbGUgbm90IGluIHZpZXcuXG4gICAgZC5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcbiAgICAvLyBFbXB0eSBzcGFjZSAoaW4gcGl4ZWxzKSBhYm92ZSB0aGUgdmlld1xuICAgIGQudmlld09mZnNldCA9IDA7XG4gICAgZC5sYXN0V3JhcEhlaWdodCA9IGQubGFzdFdyYXBXaWR0aCA9IDA7XG4gICAgZC51cGRhdGVMaW5lTnVtYmVycyA9IG51bGw7XG5cbiAgICBkLm5hdGl2ZUJhcldpZHRoID0gZC5iYXJIZWlnaHQgPSBkLmJhcldpZHRoID0gMDtcbiAgICBkLnNjcm9sbGJhcnNDbGlwcGVkID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIHRvIG9ubHkgcmVzaXplIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgd2hlbiBuZWNlc3NhcnkgKHdoZW5cbiAgICAvLyB0aGUgYW1vdW50IG9mIGxpbmVzIGNyb3NzZXMgYSBib3VuZGFyeSB0aGF0IG1ha2VzIGl0cyB3aWR0aCBjaGFuZ2UpXG4gICAgZC5saW5lTnVtV2lkdGggPSBkLmxpbmVOdW1Jbm5lcldpZHRoID0gZC5saW5lTnVtQ2hhcnMgPSBudWxsO1xuICAgIC8vIFNldCB0byB0cnVlIHdoZW4gYSBub24taG9yaXpvbnRhbC1zY3JvbGxpbmcgbGluZSB3aWRnZXQgaXNcbiAgICAvLyBhZGRlZC4gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lIHdpZGdldCBhbGlnbmluZyBpcyBza2lwcGVkIHdoZW5cbiAgICAvLyB0aGlzIGlzIGZhbHNlLlxuICAgIGQuYWxpZ25XaWRnZXRzID0gZmFsc2U7XG5cbiAgICBkLmNhY2hlZENoYXJXaWR0aCA9IGQuY2FjaGVkVGV4dEhlaWdodCA9IGQuY2FjaGVkUGFkZGluZ0ggPSBudWxsO1xuXG4gICAgLy8gVHJhY2tzIHRoZSBtYXhpbXVtIGxpbmUgbGVuZ3RoIHNvIHRoYXQgdGhlIGhvcml6b250YWwgc2Nyb2xsYmFyXG4gICAgLy8gY2FuIGJlIGtlcHQgc3RhdGljIHdoZW4gc2Nyb2xsaW5nLlxuICAgIGQubWF4TGluZSA9IG51bGw7XG4gICAgZC5tYXhMaW5lTGVuZ3RoID0gMDtcbiAgICBkLm1heExpbmVDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIGZvciBtZWFzdXJpbmcgd2hlZWwgc2Nyb2xsaW5nIGdyYW51bGFyaXR5XG4gICAgZC53aGVlbERYID0gZC53aGVlbERZID0gZC53aGVlbFN0YXJ0WCA9IGQud2hlZWxTdGFydFkgPSBudWxsO1xuXG4gICAgLy8gVHJ1ZSB3aGVuIHNoaWZ0IGlzIGhlbGQgZG93bi5cbiAgICBkLnNoaWZ0ID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55dGhpbmcgaGFwcGVuZWQgc2luY2UgdGhlIGNvbnRleHQgbWVudVxuICAgIC8vIHdhcyBvcGVuZWQuXG4gICAgZC5zZWxGb3JDb250ZXh0TWVudSA9IG51bGw7XG5cbiAgICBkLmFjdGl2ZVRvdWNoID0gbnVsbDtcblxuICAgIGlucHV0LmluaXQoZCk7XG4gIH1cblxuICAvLyBTVEFURSBVUERBVEVTXG5cbiAgLy8gVXNlZCB0byBnZXQgdGhlIGVkaXRvciBpbnRvIGEgY29uc2lzdGVudCBzdGF0ZSBhZ2FpbiB3aGVuIG9wdGlvbnMgY2hhbmdlLlxuXG4gIGZ1bmN0aW9uIGxvYWRNb2RlKGNtKSB7XG4gICAgY20uZG9jLm1vZGUgPSBDb2RlTWlycm9yLmdldE1vZGUoY20ub3B0aW9ucywgY20uZG9jLm1vZGVPcHRpb24pO1xuICAgIHJlc2V0TW9kZVN0YXRlKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0TW9kZVN0YXRlKGNtKSB7XG4gICAgY20uZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICAgIGlmIChsaW5lLnN0eWxlcykgbGluZS5zdHlsZXMgPSBudWxsO1xuICAgIH0pO1xuICAgIGNtLmRvYy5mcm9udGllciA9IGNtLmRvYy5maXJzdDtcbiAgICBzdGFydFdvcmtlcihjbSwgMTAwKTtcbiAgICBjbS5zdGF0ZS5tb2RlR2VuKys7XG4gICAgaWYgKGNtLmN1ck9wKSByZWdDaGFuZ2UoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcHBpbmdDaGFuZ2VkKGNtKSB7XG4gICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIFwiQ29kZU1pcnJvci13cmFwXCIpO1xuICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9IFwiXCI7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyV2lkdGggPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLXdyYXBcIik7XG4gICAgICBmaW5kTWF4TGluZShjbSk7XG4gICAgfVxuICAgIGVzdGltYXRlTGluZUhlaWdodHMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1cGRhdGVTY3JvbGxiYXJzKGNtKTt9LCAxMDApO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgZXN0aW1hdGVzIHRoZSBoZWlnaHQgb2YgYSBsaW5lLCB0byB1c2UgYXNcbiAgLy8gZmlyc3QgYXBwcm94aW1hdGlvbiB1bnRpbCB0aGUgbGluZSBiZWNvbWVzIHZpc2libGUgKGFuZCBpcyB0aHVzXG4gIC8vIHByb3Blcmx5IG1lYXN1cmFibGUpLlxuICBmdW5jdGlvbiBlc3RpbWF0ZUhlaWdodChjbSkge1xuICAgIHZhciB0aCA9IHRleHRIZWlnaHQoY20uZGlzcGxheSksIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgdmFyIHBlckxpbmUgPSB3cmFwcGluZyAmJiBNYXRoLm1heCg1LCBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpIC0gMyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lSXNIaWRkZW4oY20uZG9jLCBsaW5lKSkgcmV0dXJuIDA7XG5cbiAgICAgIHZhciB3aWRnZXRzSGVpZ2h0ID0gMDtcbiAgICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsaW5lLndpZGdldHNbaV0uaGVpZ2h0KSB3aWRnZXRzSGVpZ2h0ICs9IGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh3cmFwcGluZylcbiAgICAgICAgcmV0dXJuIHdpZGdldHNIZWlnaHQgKyAoTWF0aC5jZWlsKGxpbmUudGV4dC5sZW5ndGggLyBwZXJMaW5lKSB8fCAxKSAqIHRoO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gd2lkZ2V0c0hlaWdodCArIHRoO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgZXN0ID0gZXN0aW1hdGVIZWlnaHQoY20pO1xuICAgIGRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBlc3RIZWlnaHQgPSBlc3QobGluZSk7XG4gICAgICBpZiAoZXN0SGVpZ2h0ICE9IGxpbmUuaGVpZ2h0KSB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGVzdEhlaWdodCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aGVtZUNoYW5nZWQoY20pIHtcbiAgICBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lID0gY20uZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqY20tcy1cXFMrL2csIFwiXCIpICtcbiAgICAgIGNtLm9wdGlvbnMudGhlbWUucmVwbGFjZSgvKF58XFxzKVxccyovZywgXCIgY20tcy1cIik7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ3V0dGVyc0NoYW5nZWQoY20pIHtcbiAgICB1cGRhdGVHdXR0ZXJzKGNtKTtcbiAgICByZWdDaGFuZ2UoY20pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXthbGlnbkhvcml6b250YWxseShjbSk7fSwgMjApO1xuICB9XG5cbiAgLy8gUmVidWlsZCB0aGUgZ3V0dGVyIGVsZW1lbnRzLCBlbnN1cmUgdGhlIG1hcmdpbiB0byB0aGUgbGVmdCBvZiB0aGVcbiAgLy8gY29kZSBtYXRjaGVzIHRoZWlyIHdpZHRoLlxuICBmdW5jdGlvbiB1cGRhdGVHdXR0ZXJzKGNtKSB7XG4gICAgdmFyIGd1dHRlcnMgPSBjbS5kaXNwbGF5Lmd1dHRlcnMsIHNwZWNzID0gY20ub3B0aW9ucy5ndXR0ZXJzO1xuICAgIHJlbW92ZUNoaWxkcmVuKGd1dHRlcnMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BlY3MubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBndXR0ZXJDbGFzcyA9IHNwZWNzW2ldO1xuICAgICAgdmFyIGdFbHQgPSBndXR0ZXJzLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyIFwiICsgZ3V0dGVyQ2xhc3MpKTtcbiAgICAgIGlmIChndXR0ZXJDbGFzcyA9PSBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIikge1xuICAgICAgICBjbS5kaXNwbGF5LmxpbmVHdXR0ZXIgPSBnRWx0O1xuICAgICAgICBnRWx0LnN0eWxlLndpZHRoID0gKGNtLmRpc3BsYXkubGluZU51bVdpZHRoIHx8IDEpICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cbiAgICBndXR0ZXJzLnN0eWxlLmRpc3BsYXkgPSBpID8gXCJcIiA6IFwibm9uZVwiO1xuICAgIHVwZGF0ZUd1dHRlclNwYWNlKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUd1dHRlclNwYWNlKGNtKSB7XG4gICAgdmFyIHdpZHRoID0gY20uZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoO1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWFyZ2luTGVmdCA9IHdpZHRoICsgXCJweFwiO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUgY2hhcmFjdGVyIGxlbmd0aCBvZiBhIGxpbmUsIHRha2luZyBpbnRvIGFjY291bnRcbiAgLy8gY29sbGFwc2VkIHJhbmdlcyAoc2VlIG1hcmtUZXh0KSB0aGF0IG1pZ2h0IGhpZGUgcGFydHMsIGFuZCBqb2luXG4gIC8vIG90aGVyIGxpbmVzIG9udG8gaXQuXG4gIGZ1bmN0aW9uIGxpbmVMZW5ndGgobGluZSkge1xuICAgIGlmIChsaW5lLmhlaWdodCA9PSAwKSByZXR1cm4gMDtcbiAgICB2YXIgbGVuID0gbGluZS50ZXh0Lmxlbmd0aCwgbWVyZ2VkLCBjdXIgPSBsaW5lO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRTdGFydChjdXIpKSB7XG4gICAgICB2YXIgZm91bmQgPSBtZXJnZWQuZmluZCgwLCB0cnVlKTtcbiAgICAgIGN1ciA9IGZvdW5kLmZyb20ubGluZTtcbiAgICAgIGxlbiArPSBmb3VuZC5mcm9tLmNoIC0gZm91bmQudG8uY2g7XG4gICAgfVxuICAgIGN1ciA9IGxpbmU7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChjdXIpKSB7XG4gICAgICB2YXIgZm91bmQgPSBtZXJnZWQuZmluZCgwLCB0cnVlKTtcbiAgICAgIGxlbiAtPSBjdXIudGV4dC5sZW5ndGggLSBmb3VuZC5mcm9tLmNoO1xuICAgICAgY3VyID0gZm91bmQudG8ubGluZTtcbiAgICAgIGxlbiArPSBjdXIudGV4dC5sZW5ndGggLSBmb3VuZC50by5jaDtcbiAgICB9XG4gICAgcmV0dXJuIGxlbjtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIGxvbmdlc3QgbGluZSBpbiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRNYXhMaW5lKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG4gICAgZC5tYXhMaW5lID0gZ2V0TGluZShkb2MsIGRvYy5maXJzdCk7XG4gICAgZC5tYXhMaW5lTGVuZ3RoID0gbGluZUxlbmd0aChkLm1heExpbmUpO1xuICAgIGQubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgIGRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpO1xuICAgICAgaWYgKGxlbiA+IGQubWF4TGluZUxlbmd0aCkge1xuICAgICAgICBkLm1heExpbmVMZW5ndGggPSBsZW47XG4gICAgICAgIGQubWF4TGluZSA9IGxpbmU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgdGhlIGd1dHRlcnMgb3B0aW9ucyBjb250YWlucyB0aGUgZWxlbWVudFxuICAvLyBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIiB3aGVuIHRoZSBsaW5lTnVtYmVycyBvcHRpb24gaXMgdHJ1ZS5cbiAgZnVuY3Rpb24gc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQgPSBpbmRleE9mKG9wdGlvbnMuZ3V0dGVycywgXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIpO1xuICAgIGlmIChmb3VuZCA9PSAtMSAmJiBvcHRpb25zLmxpbmVOdW1iZXJzKSB7XG4gICAgICBvcHRpb25zLmd1dHRlcnMgPSBvcHRpb25zLmd1dHRlcnMuY29uY2F0KFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0pO1xuICAgIH0gZWxzZSBpZiAoZm91bmQgPiAtMSAmJiAhb3B0aW9ucy5saW5lTnVtYmVycykge1xuICAgICAgb3B0aW9ucy5ndXR0ZXJzID0gb3B0aW9ucy5ndXR0ZXJzLnNsaWNlKDApO1xuICAgICAgb3B0aW9ucy5ndXR0ZXJzLnNwbGljZShmb3VuZCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU0NST0xMQkFSU1xuXG4gIC8vIFByZXBhcmUgRE9NIHJlYWRzIG5lZWRlZCB0byB1cGRhdGUgdGhlIHNjcm9sbGJhcnMuIERvbmUgaW4gb25lXG4gIC8vIHNob3QgdG8gbWluaW1pemUgdXBkYXRlL21lYXN1cmUgcm91bmR0cmlwcy5cbiAgZnVuY3Rpb24gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pIHtcbiAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGd1dHRlclcgPSBkLmd1dHRlcnMub2Zmc2V0V2lkdGg7XG4gICAgdmFyIGRvY0ggPSBNYXRoLnJvdW5kKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudEhlaWdodDogZC5zY3JvbGxlci5jbGllbnRIZWlnaHQsXG4gICAgICB2aWV3SGVpZ2h0OiBkLndyYXBwZXIuY2xpZW50SGVpZ2h0LFxuICAgICAgc2Nyb2xsV2lkdGg6IGQuc2Nyb2xsZXIuc2Nyb2xsV2lkdGgsIGNsaWVudFdpZHRoOiBkLnNjcm9sbGVyLmNsaWVudFdpZHRoLFxuICAgICAgdmlld1dpZHRoOiBkLndyYXBwZXIuY2xpZW50V2lkdGgsXG4gICAgICBiYXJMZWZ0OiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZ3V0dGVyVyA6IDAsXG4gICAgICBkb2NIZWlnaHQ6IGRvY0gsXG4gICAgICBzY3JvbGxIZWlnaHQ6IGRvY0ggKyBzY3JvbGxHYXAoY20pICsgZC5iYXJIZWlnaHQsXG4gICAgICBuYXRpdmVCYXJXaWR0aDogZC5uYXRpdmVCYXJXaWR0aCxcbiAgICAgIGd1dHRlcldpZHRoOiBndXR0ZXJXXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIE5hdGl2ZVNjcm9sbGJhcnMocGxhY2UsIHNjcm9sbCwgY20pIHtcbiAgICB0aGlzLmNtID0gY207XG4gICAgdmFyIHZlcnQgPSB0aGlzLnZlcnQgPSBlbHQoXCJkaXZcIiwgW2VsdChcImRpdlwiLCBudWxsLCBudWxsLCBcIm1pbi13aWR0aDogMXB4XCIpXSwgXCJDb2RlTWlycm9yLXZzY3JvbGxiYXJcIik7XG4gICAgdmFyIGhvcml6ID0gdGhpcy5ob3JpeiA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwiaGVpZ2h0OiAxMDAlOyBtaW4taGVpZ2h0OiAxcHhcIildLCBcIkNvZGVNaXJyb3ItaHNjcm9sbGJhclwiKTtcbiAgICBwbGFjZSh2ZXJ0KTsgcGxhY2UoaG9yaXopO1xuXG4gICAgb24odmVydCwgXCJzY3JvbGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodmVydC5jbGllbnRIZWlnaHQpIHNjcm9sbCh2ZXJ0LnNjcm9sbFRvcCwgXCJ2ZXJ0aWNhbFwiKTtcbiAgICB9KTtcbiAgICBvbihob3JpeiwgXCJzY3JvbGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaG9yaXouY2xpZW50V2lkdGgpIHNjcm9sbChob3Jpei5zY3JvbGxMZWZ0LCBcImhvcml6b250YWxcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNoZWNrZWRPdmVybGF5ID0gZmFsc2U7XG4gICAgLy8gTmVlZCB0byBzZXQgYSBtaW5pbXVtIHdpZHRoIHRvIHNlZSB0aGUgc2Nyb2xsYmFyIG9uIElFNyAoYnV0IG11c3Qgbm90IHNldCBpdCBvbiBJRTgpLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkgdGhpcy5ob3Jpei5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnZlcnQuc3R5bGUubWluV2lkdGggPSBcIjE4cHhcIjtcbiAgfVxuXG4gIE5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgdXBkYXRlOiBmdW5jdGlvbihtZWFzdXJlKSB7XG4gICAgICB2YXIgbmVlZHNIID0gbWVhc3VyZS5zY3JvbGxXaWR0aCA+IG1lYXN1cmUuY2xpZW50V2lkdGggKyAxO1xuICAgICAgdmFyIG5lZWRzViA9IG1lYXN1cmUuc2Nyb2xsSGVpZ2h0ID4gbWVhc3VyZS5jbGllbnRIZWlnaHQgKyAxO1xuICAgICAgdmFyIHNXaWR0aCA9IG1lYXN1cmUubmF0aXZlQmFyV2lkdGg7XG5cbiAgICAgIGlmIChuZWVkc1YpIHtcbiAgICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHRoaXMudmVydC5zdHlsZS5ib3R0b20gPSBuZWVkc0ggPyBzV2lkdGggKyBcInB4XCIgOiBcIjBcIjtcbiAgICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gbWVhc3VyZS52aWV3SGVpZ2h0IC0gKG5lZWRzSCA/IHNXaWR0aCA6IDApO1xuICAgICAgICAvLyBBIGJ1ZyBpbiBJRTggY2FuIGNhdXNlIHRoaXMgdmFsdWUgdG8gYmUgbmVnYXRpdmUsIHNvIGd1YXJkIGl0LlxuICAgICAgICB0aGlzLnZlcnQuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQgPVxuICAgICAgICAgIE1hdGgubWF4KDAsIG1lYXN1cmUuc2Nyb2xsSGVpZ2h0IC0gbWVhc3VyZS5jbGllbnRIZWlnaHQgKyB0b3RhbEhlaWdodCkgKyBcInB4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZlcnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9IFwiMFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZHNIKSB7XG4gICAgICAgIHRoaXMuaG9yaXouc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5yaWdodCA9IG5lZWRzViA/IHNXaWR0aCArIFwicHhcIiA6IFwiMFwiO1xuICAgICAgICB0aGlzLmhvcml6LnN0eWxlLmxlZnQgPSBtZWFzdXJlLmJhckxlZnQgKyBcInB4XCI7XG4gICAgICAgIHZhciB0b3RhbFdpZHRoID0gbWVhc3VyZS52aWV3V2lkdGggLSBtZWFzdXJlLmJhckxlZnQgLSAobmVlZHNWID8gc1dpZHRoIDogMCk7XG4gICAgICAgIHRoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgKG1lYXN1cmUuc2Nyb2xsV2lkdGggLSBtZWFzdXJlLmNsaWVudFdpZHRoICsgdG90YWxXaWR0aCkgKyBcInB4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmNoZWNrZWRPdmVybGF5ICYmIG1lYXN1cmUuY2xpZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICBpZiAoc1dpZHRoID09IDApIHRoaXMub3ZlcmxheUhhY2soKTtcbiAgICAgICAgdGhpcy5jaGVja2VkT3ZlcmxheSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7cmlnaHQ6IG5lZWRzViA/IHNXaWR0aCA6IDAsIGJvdHRvbTogbmVlZHNIID8gc1dpZHRoIDogMH07XG4gICAgfSxcbiAgICBzZXRTY3JvbGxMZWZ0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIGlmICh0aGlzLmhvcml6LnNjcm9sbExlZnQgIT0gcG9zKSB0aGlzLmhvcml6LnNjcm9sbExlZnQgPSBwb3M7XG4gICAgfSxcbiAgICBzZXRTY3JvbGxUb3A6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgaWYgKHRoaXMudmVydC5zY3JvbGxUb3AgIT0gcG9zKSB0aGlzLnZlcnQuc2Nyb2xsVG9wID0gcG9zO1xuICAgIH0sXG4gICAgb3ZlcmxheUhhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHcgPSBtYWMgJiYgIW1hY19nZU1vdW50YWluTGlvbiA/IFwiMTJweFwiIDogXCIxOHB4XCI7XG4gICAgICB0aGlzLmhvcml6LnN0eWxlLm1pbkhlaWdodCA9IHRoaXMudmVydC5zdHlsZS5taW5XaWR0aCA9IHc7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYmFyTW91c2VEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZV90YXJnZXQoZSkgIT0gc2VsZi52ZXJ0ICYmIGVfdGFyZ2V0KGUpICE9IHNlbGYuaG9yaXopXG4gICAgICAgICAgb3BlcmF0aW9uKHNlbGYuY20sIG9uTW91c2VEb3duKShlKTtcbiAgICAgIH07XG4gICAgICBvbih0aGlzLnZlcnQsIFwibW91c2Vkb3duXCIsIGJhck1vdXNlRG93bik7XG4gICAgICBvbih0aGlzLmhvcml6LCBcIm1vdXNlZG93blwiLCBiYXJNb3VzZURvd24pO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXMuaG9yaXoucGFyZW50Tm9kZTtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmhvcml6KTtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnZlcnQpO1xuICAgIH1cbiAgfSwgTmF0aXZlU2Nyb2xsYmFycy5wcm90b3R5cGUpO1xuXG4gIGZ1bmN0aW9uIE51bGxTY3JvbGxiYXJzKCkge31cblxuICBOdWxsU2Nyb2xsYmFycy5wcm90b3R5cGUgPSBjb3B5T2JqKHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4ge2JvdHRvbTogMCwgcmlnaHQ6IDB9OyB9LFxuICAgIHNldFNjcm9sbExlZnQ6IGZ1bmN0aW9uKCkge30sXG4gICAgc2V0U2Nyb2xsVG9wOiBmdW5jdGlvbigpIHt9LFxuICAgIGNsZWFyOiBmdW5jdGlvbigpIHt9XG4gIH0sIE51bGxTY3JvbGxiYXJzLnByb3RvdHlwZSk7XG5cbiAgQ29kZU1pcnJvci5zY3JvbGxiYXJNb2RlbCA9IHtcIm5hdGl2ZVwiOiBOYXRpdmVTY3JvbGxiYXJzLCBcIm51bGxcIjogTnVsbFNjcm9sbGJhcnN9O1xuXG4gIGZ1bmN0aW9uIGluaXRTY3JvbGxiYXJzKGNtKSB7XG4gICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsYmFycykge1xuICAgICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLmNsZWFyKCk7XG4gICAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKVxuICAgICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKTtcbiAgICB9XG5cbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMgPSBuZXcgQ29kZU1pcnJvci5zY3JvbGxiYXJNb2RlbFtjbS5vcHRpb25zLnNjcm9sbGJhclN0eWxlXShmdW5jdGlvbihub2RlKSB7XG4gICAgICBjbS5kaXNwbGF5LndyYXBwZXIuaW5zZXJ0QmVmb3JlKG5vZGUsIGNtLmRpc3BsYXkuc2Nyb2xsYmFyRmlsbGVyKTtcbiAgICAgIC8vIFByZXZlbnQgY2xpY2tzIGluIHRoZSBzY3JvbGxiYXJzIGZyb20ga2lsbGluZyBmb2N1c1xuICAgICAgb24obm9kZSwgXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7IH0sIDApO1xuICAgICAgfSk7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsIFwidHJ1ZVwiKTtcbiAgICB9LCBmdW5jdGlvbihwb3MsIGF4aXMpIHtcbiAgICAgIGlmIChheGlzID09IFwiaG9yaXpvbnRhbFwiKSBzZXRTY3JvbGxMZWZ0KGNtLCBwb3MpO1xuICAgICAgZWxzZSBzZXRTY3JvbGxUb3AoY20sIHBvcyk7XG4gICAgfSwgY20pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpXG4gICAgICBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxiYXJzKGNtLCBtZWFzdXJlKSB7XG4gICAgaWYgKCFtZWFzdXJlKSBtZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuICAgIHZhciBzdGFydFdpZHRoID0gY20uZGlzcGxheS5iYXJXaWR0aCwgc3RhcnRIZWlnaHQgPSBjbS5kaXNwbGF5LmJhckhlaWdodDtcbiAgICB1cGRhdGVTY3JvbGxiYXJzSW5uZXIoY20sIG1lYXN1cmUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNCAmJiBzdGFydFdpZHRoICE9IGNtLmRpc3BsYXkuYmFyV2lkdGggfHwgc3RhcnRIZWlnaHQgIT0gY20uZGlzcGxheS5iYXJIZWlnaHQ7IGkrKykge1xuICAgICAgaWYgKHN0YXJ0V2lkdGggIT0gY20uZGlzcGxheS5iYXJXaWR0aCAmJiBjbS5vcHRpb25zLmxpbmVXcmFwcGluZylcbiAgICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkpO1xuICAgICAgc3RhcnRXaWR0aCA9IGNtLmRpc3BsYXkuYmFyV2lkdGg7IHN0YXJ0SGVpZ2h0ID0gY20uZGlzcGxheS5iYXJIZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gUmUtc3luY2hyb25pemUgdGhlIGZha2Ugc2Nyb2xsYmFycyB3aXRoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGVcbiAgLy8gY29udGVudC5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBzaXplcyA9IGQuc2Nyb2xsYmFycy51cGRhdGUobWVhc3VyZSk7XG5cbiAgICBkLnNpemVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IChkLmJhcldpZHRoID0gc2l6ZXMucmlnaHQpICsgXCJweFwiO1xuICAgIGQuc2l6ZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9IChkLmJhckhlaWdodCA9IHNpemVzLmJvdHRvbSkgKyBcInB4XCI7XG5cbiAgICBpZiAoc2l6ZXMucmlnaHQgJiYgc2l6ZXMuYm90dG9tKSB7XG4gICAgICBkLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuaGVpZ2h0ID0gc2l6ZXMuYm90dG9tICsgXCJweFwiO1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUud2lkdGggPSBzaXplcy5yaWdodCArIFwicHhcIjtcbiAgICB9IGVsc2UgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgaWYgKHNpemVzLmJvdHRvbSAmJiBjbS5vcHRpb25zLmNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyICYmIGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIpIHtcbiAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS5oZWlnaHQgPSBzaXplcy5ib3R0b20gKyBcInB4XCI7XG4gICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS53aWR0aCA9IG1lYXN1cmUuZ3V0dGVyV2lkdGggKyBcInB4XCI7XG4gICAgfSBlbHNlIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUgbGluZXMgdGhhdCBhcmUgdmlzaWJsZSBpbiBhIGdpdmVuIHZpZXdwb3J0IChkZWZhdWx0c1xuICAvLyB0aGUgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uKS4gdmlld3BvcnQgbWF5IGNvbnRhaW4gdG9wLFxuICAvLyBoZWlnaHQsIGFuZCBlbnN1cmUgKHNlZSBvcC5zY3JvbGxUb1BvcykgcHJvcGVydGllcy5cbiAgZnVuY3Rpb24gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYywgdmlld3BvcnQpIHtcbiAgICB2YXIgdG9wID0gdmlld3BvcnQgJiYgdmlld3BvcnQudG9wICE9IG51bGwgPyBNYXRoLm1heCgwLCB2aWV3cG9ydC50b3ApIDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgdG9wID0gTWF0aC5mbG9vcih0b3AgLSBwYWRkaW5nVG9wKGRpc3BsYXkpKTtcbiAgICB2YXIgYm90dG9tID0gdmlld3BvcnQgJiYgdmlld3BvcnQuYm90dG9tICE9IG51bGwgPyB2aWV3cG9ydC5ib3R0b20gOiB0b3AgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgdmFyIGZyb20gPSBsaW5lQXRIZWlnaHQoZG9jLCB0b3ApLCB0byA9IGxpbmVBdEhlaWdodChkb2MsIGJvdHRvbSk7XG4gICAgLy8gRW5zdXJlIGlzIGEge2Zyb206IHtsaW5lLCBjaH0sIHRvOiB7bGluZSwgY2h9fSBvYmplY3QsIGFuZFxuICAgIC8vIGZvcmNlcyB0aG9zZSBsaW5lcyBpbnRvIHRoZSB2aWV3cG9ydCAoaWYgcG9zc2libGUpLlxuICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC5lbnN1cmUpIHtcbiAgICAgIHZhciBlbnN1cmVGcm9tID0gdmlld3BvcnQuZW5zdXJlLmZyb20ubGluZSwgZW5zdXJlVG8gPSB2aWV3cG9ydC5lbnN1cmUudG8ubGluZTtcbiAgICAgIGlmIChlbnN1cmVGcm9tIDwgZnJvbSkge1xuICAgICAgICBmcm9tID0gZW5zdXJlRnJvbTtcbiAgICAgICAgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZUZyb20pKSArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQpO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLm1pbihlbnN1cmVUbywgZG9jLmxhc3RMaW5lKCkpID49IHRvKSB7XG4gICAgICAgIGZyb20gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZVRvKSkgLSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgdG8gPSBlbnN1cmVUbztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogTWF0aC5tYXgodG8sIGZyb20gKyAxKX07XG4gIH1cblxuICAvLyBMSU5FIE5VTUJFUlNcblxuICAvLyBSZS1hbGlnbiBsaW5lIG51bWJlcnMgYW5kIGd1dHRlciBtYXJrcyB0byBjb21wZW5zYXRlIGZvclxuICAvLyBob3Jpem9udGFsIHNjcm9sbGluZy5cbiAgZnVuY3Rpb24gYWxpZ25Ib3Jpem9udGFsbHkoY20pIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHZpZXcgPSBkaXNwbGF5LnZpZXc7XG4gICAgaWYgKCFkaXNwbGF5LmFsaWduV2lkZ2V0cyAmJiAoIWRpc3BsYXkuZ3V0dGVycy5maXJzdENoaWxkIHx8ICFjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSkgcmV0dXJuO1xuICAgIHZhciBjb21wID0gY29tcGVuc2F0ZUZvckhTY3JvbGwoZGlzcGxheSkgLSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgKyBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICB2YXIgZ3V0dGVyVyA9IGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCwgbGVmdCA9IGNvbXAgKyBcInB4XCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSBpZiAoIXZpZXdbaV0uaGlkZGVuKSB7XG4gICAgICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlciAmJiB2aWV3W2ldLmd1dHRlcilcbiAgICAgICAgdmlld1tpXS5ndXR0ZXIuc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICB2YXIgYWxpZ24gPSB2aWV3W2ldLmFsaWduYWJsZTtcbiAgICAgIGlmIChhbGlnbikgZm9yICh2YXIgaiA9IDA7IGogPCBhbGlnbi5sZW5ndGg7IGorKylcbiAgICAgICAgYWxpZ25bal0uc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgfVxuICAgIGlmIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyKVxuICAgICAgZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSAoY29tcCArIGd1dHRlclcpICsgXCJweFwiO1xuICB9XG5cbiAgLy8gVXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgbGluZSBudW1iZXIgZ3V0dGVyIGlzIHN0aWxsIHRoZSByaWdodFxuICAvLyBzaXplIGZvciB0aGUgY3VycmVudCBkb2N1bWVudCBzaXplLiBSZXR1cm5zIHRydWUgd2hlbiBhbiB1cGRhdGVcbiAgLy8gaXMgbmVlZGVkLlxuICBmdW5jdGlvbiBtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkge1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lTnVtYmVycykgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGxhc3QgPSBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSksIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChsYXN0Lmxlbmd0aCAhPSBkaXNwbGF5LmxpbmVOdW1DaGFycykge1xuICAgICAgdmFyIHRlc3QgPSBkaXNwbGF5Lm1lYXN1cmUuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbGFzdCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiKSk7XG4gICAgICB2YXIgaW5uZXJXID0gdGVzdC5maXJzdENoaWxkLm9mZnNldFdpZHRoLCBwYWRkaW5nID0gdGVzdC5vZmZzZXRXaWR0aCAtIGlubmVyVztcbiAgICAgIGRpc3BsYXkubGluZUd1dHRlci5zdHlsZS53aWR0aCA9IFwiXCI7XG4gICAgICBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoID0gTWF0aC5tYXgoaW5uZXJXLCBkaXNwbGF5LmxpbmVHdXR0ZXIub2Zmc2V0V2lkdGggLSBwYWRkaW5nKSArIDE7XG4gICAgICBkaXNwbGF5LmxpbmVOdW1XaWR0aCA9IGRpc3BsYXkubGluZU51bUlubmVyV2lkdGggKyBwYWRkaW5nO1xuICAgICAgZGlzcGxheS5saW5lTnVtQ2hhcnMgPSBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoID8gbGFzdC5sZW5ndGggOiAtMTtcbiAgICAgIGRpc3BsYXkubGluZUd1dHRlci5zdHlsZS53aWR0aCA9IGRpc3BsYXkubGluZU51bVdpZHRoICsgXCJweFwiO1xuICAgICAgdXBkYXRlR3V0dGVyU3BhY2UoY20pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpbmVOdW1iZXJGb3Iob3B0aW9ucywgaSkge1xuICAgIHJldHVybiBTdHJpbmcob3B0aW9ucy5saW5lTnVtYmVyRm9ybWF0dGVyKGkgKyBvcHRpb25zLmZpcnN0TGluZU51bWJlcikpO1xuICB9XG5cbiAgLy8gQ29tcHV0ZXMgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuICAvLyBidXQgdXNpbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHRvIGdldCBhIHN1Yi1waXhlbC1hY2N1cmF0ZVxuICAvLyByZXN1bHQuXG4gIGZ1bmN0aW9uIGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIHtcbiAgICByZXR1cm4gZGlzcGxheS5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICB9XG5cbiAgLy8gRElTUExBWSBEUkFXSU5HXG5cbiAgZnVuY3Rpb24gRGlzcGxheVVwZGF0ZShjbSwgdmlld3BvcnQsIGZvcmNlKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuXG4gICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgIC8vIFN0b3JlIHNvbWUgdmFsdWVzIHRoYXQgd2UnbGwgbmVlZCBsYXRlciAoYnV0IGRvbid0IHdhbnQgdG8gZm9yY2UgYSByZWxheW91dCBmb3IpXG4gICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGNtLmRvYywgdmlld3BvcnQpO1xuICAgIHRoaXMuZWRpdG9ySXNIaWRkZW4gPSAhZGlzcGxheS53cmFwcGVyLm9mZnNldFdpZHRoO1xuICAgIHRoaXMud3JhcHBlckhlaWdodCA9IGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQ7XG4gICAgdGhpcy53cmFwcGVyV2lkdGggPSBkaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgdGhpcy5vbGREaXNwbGF5V2lkdGggPSBkaXNwbGF5V2lkdGgoY20pO1xuICAgIHRoaXMuZm9yY2UgPSBmb3JjZTtcbiAgICB0aGlzLmRpbXMgPSBnZXREaW1lbnNpb25zKGNtKTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICB9XG5cbiAgRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuc2lnbmFsID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICAgIGlmIChoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpKVxuICAgICAgdGhpcy5ldmVudHMucHVzaChhcmd1bWVudHMpO1xuICB9O1xuICBEaXNwbGF5VXBkYXRlLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgc2lnbmFsLmFwcGx5KG51bGwsIHRoaXMuZXZlbnRzW2ldKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZUNsaXBTY3JvbGxiYXJzKGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmICghZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCAmJiBkaXNwbGF5LnNjcm9sbGVyLm9mZnNldFdpZHRoKSB7XG4gICAgICBkaXNwbGF5Lm5hdGl2ZUJhcldpZHRoID0gZGlzcGxheS5zY3JvbGxlci5vZmZzZXRXaWR0aCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGg7XG4gICAgICBkaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS5oZWlnaHQgPSBzY3JvbGxHYXAoY20pICsgXCJweFwiO1xuICAgICAgZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAtZGlzcGxheS5uYXRpdmVCYXJXaWR0aCArIFwicHhcIjtcbiAgICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCA9IHNjcm9sbEdhcChjbSkgKyBcInB4XCI7XG4gICAgICBkaXNwbGF5LnNjcm9sbGJhcnNDbGlwcGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBEb2VzIHRoZSBhY3R1YWwgdXBkYXRpbmcgb2YgdGhlIGxpbmUgZGlzcGxheS4gQmFpbHMgb3V0XG4gIC8vIChyZXR1cm5pbmcgZmFsc2UpIHdoZW4gdGhlcmUgaXMgbm90aGluZyB0byBiZSBkb25lIGFuZCBmb3JjZWQgaXNcbiAgLy8gZmFsc2UuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG5cbiAgICBpZiAodXBkYXRlLmVkaXRvcklzSGlkZGVuKSB7XG4gICAgICByZXNldFZpZXcoY20pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEJhaWwgb3V0IGlmIHRoZSB2aXNpYmxlIGFyZWEgaXMgYWxyZWFkeSByZW5kZXJlZCBhbmQgbm90aGluZyBjaGFuZ2VkLlxuICAgIGlmICghdXBkYXRlLmZvcmNlICYmXG4gICAgICAgIHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBkaXNwbGF5LnZpZXdUbyAmJlxuICAgICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPj0gZGlzcGxheS52aWV3VG8pICYmXG4gICAgICAgIGRpc3BsYXkucmVuZGVyZWRWaWV3ID09IGRpc3BsYXkudmlldyAmJiBjb3VudERpcnR5VmlldyhjbSkgPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkpIHtcbiAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB1cGRhdGUuZGltcyA9IGdldERpbWVuc2lvbnMoY20pO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgYSBzdWl0YWJsZSBuZXcgdmlld3BvcnQgKGZyb20gJiB0bylcbiAgICB2YXIgZW5kID0gZG9jLmZpcnN0ICsgZG9jLnNpemU7XG4gICAgdmFyIGZyb20gPSBNYXRoLm1heCh1cGRhdGUudmlzaWJsZS5mcm9tIC0gY20ub3B0aW9ucy52aWV3cG9ydE1hcmdpbiwgZG9jLmZpcnN0KTtcbiAgICB2YXIgdG8gPSBNYXRoLm1pbihlbmQsIHVwZGF0ZS52aXNpYmxlLnRvICsgY20ub3B0aW9ucy52aWV3cG9ydE1hcmdpbik7XG4gICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPCBmcm9tICYmIGZyb20gLSBkaXNwbGF5LnZpZXdGcm9tIDwgMjApIGZyb20gPSBNYXRoLm1heChkb2MuZmlyc3QsIGRpc3BsYXkudmlld0Zyb20pO1xuICAgIGlmIChkaXNwbGF5LnZpZXdUbyA+IHRvICYmIGRpc3BsYXkudmlld1RvIC0gdG8gPCAyMCkgdG8gPSBNYXRoLm1pbihlbmQsIGRpc3BsYXkudmlld1RvKTtcbiAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMpIHtcbiAgICAgIGZyb20gPSB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKTtcbiAgICAgIHRvID0gdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8pO1xuICAgIH1cblxuICAgIHZhciBkaWZmZXJlbnQgPSBmcm9tICE9IGRpc3BsYXkudmlld0Zyb20gfHwgdG8gIT0gZGlzcGxheS52aWV3VG8gfHxcbiAgICAgIGRpc3BsYXkubGFzdFdyYXBIZWlnaHQgIT0gdXBkYXRlLndyYXBwZXJIZWlnaHQgfHwgZGlzcGxheS5sYXN0V3JhcFdpZHRoICE9IHVwZGF0ZS53cmFwcGVyV2lkdGg7XG4gICAgYWRqdXN0VmlldyhjbSwgZnJvbSwgdG8pO1xuXG4gICAgZGlzcGxheS52aWV3T2Zmc2V0ID0gaGVpZ2h0QXRMaW5lKGdldExpbmUoY20uZG9jLCBkaXNwbGF5LnZpZXdGcm9tKSk7XG4gICAgLy8gUG9zaXRpb24gdGhlIG1vdmVyIGRpdiB0byBhbGlnbiB3aXRoIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvblxuICAgIGNtLmRpc3BsYXkubW92ZXIuc3R5bGUudG9wID0gZGlzcGxheS52aWV3T2Zmc2V0ICsgXCJweFwiO1xuXG4gICAgdmFyIHRvVXBkYXRlID0gY291bnREaXJ0eVZpZXcoY20pO1xuICAgIGlmICghZGlmZmVyZW50ICYmIHRvVXBkYXRlID09IDAgJiYgIXVwZGF0ZS5mb3JjZSAmJiBkaXNwbGF5LnJlbmRlcmVkVmlldyA9PSBkaXNwbGF5LnZpZXcgJiZcbiAgICAgICAgKGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPT0gbnVsbCB8fCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID49IGRpc3BsYXkudmlld1RvKSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIC8vIEZvciBiaWcgY2hhbmdlcywgd2UgaGlkZSB0aGUgZW5jbG9zaW5nIGVsZW1lbnQgZHVyaW5nIHRoZVxuICAgIC8vIHVwZGF0ZSwgc2luY2UgdGhhdCBzcGVlZHMgdXAgdGhlIG9wZXJhdGlvbnMgb24gbW9zdCBicm93c2Vycy5cbiAgICB2YXIgZm9jdXNlZCA9IGFjdGl2ZUVsdCgpO1xuICAgIGlmICh0b1VwZGF0ZSA+IDQpIGRpc3BsYXkubGluZURpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgcGF0Y2hEaXNwbGF5KGNtLCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzLCB1cGRhdGUuZGltcyk7XG4gICAgaWYgKHRvVXBkYXRlID4gNCkgZGlzcGxheS5saW5lRGl2LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGRpc3BsYXkucmVuZGVyZWRWaWV3ID0gZGlzcGxheS52aWV3O1xuICAgIC8vIFRoZXJlIG1pZ2h0IGhhdmUgYmVlbiBhIHdpZGdldCB3aXRoIGEgZm9jdXNlZCBlbGVtZW50IHRoYXQgZ290XG4gICAgLy8gaGlkZGVuIG9yIHVwZGF0ZWQsIGlmIHNvIHJlLWZvY3VzIGl0LlxuICAgIGlmIChmb2N1c2VkICYmIGFjdGl2ZUVsdCgpICE9IGZvY3VzZWQgJiYgZm9jdXNlZC5vZmZzZXRIZWlnaHQpIGZvY3VzZWQuZm9jdXMoKTtcblxuICAgIC8vIFByZXZlbnQgc2VsZWN0aW9uIGFuZCBjdXJzb3JzIGZyb20gaW50ZXJmZXJpbmcgd2l0aCB0aGUgc2Nyb2xsXG4gICAgLy8gd2lkdGggYW5kIGhlaWdodC5cbiAgICByZW1vdmVDaGlsZHJlbihkaXNwbGF5LmN1cnNvckRpdik7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5zZWxlY3Rpb25EaXYpO1xuICAgIGRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQgPSBkaXNwbGF5LnNpemVyLnN0eWxlLm1pbkhlaWdodCA9IDA7XG5cbiAgICBpZiAoZGlmZmVyZW50KSB7XG4gICAgICBkaXNwbGF5Lmxhc3RXcmFwSGVpZ2h0ID0gdXBkYXRlLndyYXBwZXJIZWlnaHQ7XG4gICAgICBkaXNwbGF5Lmxhc3RXcmFwV2lkdGggPSB1cGRhdGUud3JhcHBlcldpZHRoO1xuICAgICAgc3RhcnRXb3JrZXIoY20sIDQwMCk7XG4gICAgfVxuXG4gICAgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IG51bGw7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RVcGRhdGVEaXNwbGF5KGNtLCB1cGRhdGUpIHtcbiAgICB2YXIgdmlld3BvcnQgPSB1cGRhdGUudmlld3BvcnQ7XG4gICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgaWYgKCFmaXJzdCB8fCAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgfHwgdXBkYXRlLm9sZERpc3BsYXlXaWR0aCA9PSBkaXNwbGF5V2lkdGgoY20pKSB7XG4gICAgICAgIC8vIENsaXAgZm9yY2VkIHZpZXdwb3J0IHRvIGFjdHVhbCBzY3JvbGxhYmxlIGFyZWEuXG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbClcbiAgICAgICAgICB2aWV3cG9ydCA9IHt0b3A6IE1hdGgubWluKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSAtIGRpc3BsYXlIZWlnaHQoY20pLCB2aWV3cG9ydC50b3ApfTtcbiAgICAgICAgLy8gVXBkYXRlZCBsaW5lIGhlaWdodHMgbWlnaHQgcmVzdWx0IGluIHRoZSBkcmF3biBhcmVhIG5vdFxuICAgICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLlxuICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHZpc2libGVMaW5lcyhjbS5kaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlRGlzcGxheUlmTmVlZGVkKGNtLCB1cGRhdGUpKSBicmVhaztcbiAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcbiAgICAgIHZhciBiYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuICAgICAgdXBkYXRlU2VsZWN0aW9uKGNtKTtcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpO1xuICAgIH1cblxuICAgIHVwZGF0ZS5zaWduYWwoY20sIFwidXBkYXRlXCIsIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS52aWV3RnJvbSAhPSBjbS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20gfHwgY20uZGlzcGxheS52aWV3VG8gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbykge1xuICAgICAgdXBkYXRlLnNpZ25hbChjbSwgXCJ2aWV3cG9ydENoYW5nZVwiLCBjbSwgY20uZGlzcGxheS52aWV3RnJvbSwgY20uZGlzcGxheS52aWV3VG8pO1xuICAgICAgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tID0gY20uZGlzcGxheS52aWV3RnJvbTsgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbyA9IGNtLmRpc3BsYXkudmlld1RvO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCk7XG4gICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkge1xuICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgcG9zdFVwZGF0ZURpc3BsYXkoY20sIHVwZGF0ZSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZS5maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXREb2N1bWVudEhlaWdodChjbSwgbWVhc3VyZSkge1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgdmFyIHRvdGFsID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBjbS5kaXNwbGF5LmJhckhlaWdodDtcbiAgICBjbS5kaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS50b3AgPSB0b3RhbCArIFwicHhcIjtcbiAgICBjbS5kaXNwbGF5Lmd1dHRlcnMuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgodG90YWwgKyBzY3JvbGxHYXAoY20pLCBtZWFzdXJlLmNsaWVudEhlaWdodCkgKyBcInB4XCI7XG4gIH1cblxuICAvLyBSZWFkIHRoZSBhY3R1YWwgaGVpZ2h0cyBvZiB0aGUgcmVuZGVyZWQgbGluZXMsIGFuZCB1cGRhdGUgdGhlaXJcbiAgLy8gc3RvcmVkIGhlaWdodHMgdG8gbWF0Y2guXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBwcmV2Qm90dG9tID0gZGlzcGxheS5saW5lRGl2Lm9mZnNldFRvcDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IGRpc3BsYXkudmlld1tpXSwgaGVpZ2h0O1xuICAgICAgaWYgKGN1ci5oaWRkZW4pIGNvbnRpbnVlO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7XG4gICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IGJvdCAtIHByZXZCb3R0b207XG4gICAgICAgIHByZXZCb3R0b20gPSBib3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgfVxuICAgICAgdmFyIGRpZmYgPSBjdXIubGluZS5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0IDwgMikgaGVpZ2h0ID0gdGV4dEhlaWdodChkaXNwbGF5KTtcbiAgICAgIGlmIChkaWZmID4gLjAwMSB8fCBkaWZmIDwgLS4wMDEpIHtcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChjdXIubGluZSwgaGVpZ2h0KTtcbiAgICAgICAgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5saW5lKTtcbiAgICAgICAgaWYgKGN1ci5yZXN0KSBmb3IgKHZhciBqID0gMDsgaiA8IGN1ci5yZXN0Lmxlbmd0aDsgaisrKVxuICAgICAgICAgIHVwZGF0ZVdpZGdldEhlaWdodChjdXIucmVzdFtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVhZCBhbmQgc3RvcmUgdGhlIGhlaWdodCBvZiBsaW5lIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAvLyBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiB1cGRhdGVXaWRnZXRIZWlnaHQobGluZSkge1xuICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgKytpKVxuICAgICAgbGluZS53aWRnZXRzW2ldLmhlaWdodCA9IGxpbmUud2lkZ2V0c1tpXS5ub2RlLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIC8vIERvIGEgYnVsay1yZWFkIG9mIHRoZSBET00gcG9zaXRpb25zIGFuZCBzaXplcyBuZWVkZWQgdG8gZHJhdyB0aGVcbiAgLy8gdmlldywgc28gdGhhdCB3ZSBkb24ndCBpbnRlcmxlYXZlIHJlYWRpbmcgYW5kIHdyaXRpbmcgdG8gdGhlIERPTS5cbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9ucyhjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgbGVmdCA9IHt9LCB3aWR0aCA9IHt9O1xuICAgIHZhciBndXR0ZXJMZWZ0ID0gZC5ndXR0ZXJzLmNsaWVudExlZnQ7XG4gICAgZm9yICh2YXIgbiA9IGQuZ3V0dGVycy5maXJzdENoaWxkLCBpID0gMDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcsICsraSkge1xuICAgICAgbGVmdFtjbS5vcHRpb25zLmd1dHRlcnNbaV1dID0gbi5vZmZzZXRMZWZ0ICsgbi5jbGllbnRMZWZ0ICsgZ3V0dGVyTGVmdDtcbiAgICAgIHdpZHRoW2NtLm9wdGlvbnMuZ3V0dGVyc1tpXV0gPSBuLmNsaWVudFdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4ge2ZpeGVkUG9zOiBjb21wZW5zYXRlRm9ySFNjcm9sbChkKSxcbiAgICAgICAgICAgIGd1dHRlclRvdGFsV2lkdGg6IGQuZ3V0dGVycy5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGd1dHRlckxlZnQ6IGxlZnQsXG4gICAgICAgICAgICBndXR0ZXJXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICB3cmFwcGVyV2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aH07XG4gIH1cblxuICAvLyBTeW5jIHRoZSBhY3R1YWwgZGlzcGxheSBET00gc3RydWN0dXJlIHdpdGggZGlzcGxheS52aWV3LCByZW1vdmluZ1xuICAvLyBub2RlcyBmb3IgbGluZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHZpZXcsIGFuZCBjcmVhdGluZyB0aGUgb25lc1xuICAvLyB0aGF0IGFyZSBub3QgdGhlcmUgeWV0LCBhbmQgdXBkYXRpbmcgdGhlIG9uZXMgdGhhdCBhcmUgb3V0IG9mXG4gIC8vIGRhdGUuXG4gIGZ1bmN0aW9uIHBhdGNoRGlzcGxheShjbSwgdXBkYXRlTnVtYmVyc0Zyb20sIGRpbXMpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGxpbmVOdW1iZXJzID0gY20ub3B0aW9ucy5saW5lTnVtYmVycztcbiAgICB2YXIgY29udGFpbmVyID0gZGlzcGxheS5saW5lRGl2LCBjdXIgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgIGZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIC8vIFdvcmtzIGFyb3VuZCBhIHRocm93LXNjcm9sbCBidWcgaW4gT1MgWCBXZWJraXRcbiAgICAgIGlmICh3ZWJraXQgJiYgbWFjICYmIGNtLmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0ID09IG5vZGUpXG4gICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZWxzZVxuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG5cbiAgICB2YXIgdmlldyA9IGRpc3BsYXkudmlldywgbGluZU4gPSBkaXNwbGF5LnZpZXdGcm9tO1xuICAgIC8vIExvb3Agb3ZlciB0aGUgZWxlbWVudHMgaW4gdGhlIHZpZXcsIHN5bmNpbmcgY3VyICh0aGUgRE9NIG5vZGVzXG4gICAgLy8gaW4gZGlzcGxheS5saW5lRGl2KSB3aXRoIHRoZSB2aWV3IGFzIHdlIGdvLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmVWaWV3ID0gdmlld1tpXTtcbiAgICAgIGlmIChsaW5lVmlldy5oaWRkZW4pIHtcbiAgICAgIH0gZWxzZSBpZiAoIWxpbmVWaWV3Lm5vZGUgfHwgbGluZVZpZXcubm9kZS5wYXJlbnROb2RlICE9IGNvbnRhaW5lcikgeyAvLyBOb3QgZHJhd24geWV0XG4gICAgICAgIHZhciBub2RlID0gYnVpbGRMaW5lRWxlbWVudChjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShub2RlLCBjdXIpO1xuICAgICAgfSBlbHNlIHsgLy8gQWxyZWFkeSBkcmF3blxuICAgICAgICB3aGlsZSAoY3VyICE9IGxpbmVWaWV3Lm5vZGUpIGN1ciA9IHJtKGN1cik7XG4gICAgICAgIHZhciB1cGRhdGVOdW1iZXIgPSBsaW5lTnVtYmVycyAmJiB1cGRhdGVOdW1iZXJzRnJvbSAhPSBudWxsICYmXG4gICAgICAgICAgdXBkYXRlTnVtYmVyc0Zyb20gPD0gbGluZU4gJiYgbGluZVZpZXcubGluZU51bWJlcjtcbiAgICAgICAgaWYgKGxpbmVWaWV3LmNoYW5nZXMpIHtcbiAgICAgICAgICBpZiAoaW5kZXhPZihsaW5lVmlldy5jaGFuZ2VzLCBcImd1dHRlclwiKSA+IC0xKSB1cGRhdGVOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlTnVtYmVyKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obGluZVZpZXcubGluZU51bWJlcik7XG4gICAgICAgICAgbGluZVZpZXcubGluZU51bWJlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGxpbmVOKSkpO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IGxpbmVWaWV3Lm5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICBsaW5lTiArPSBsaW5lVmlldy5zaXplO1xuICAgIH1cbiAgICB3aGlsZSAoY3VyKSBjdXIgPSBybShjdXIpO1xuICB9XG5cbiAgLy8gV2hlbiBhbiBhc3BlY3Qgb2YgYSBsaW5lIGNoYW5nZXMsIGEgc3RyaW5nIGlzIGFkZGVkIHRvXG4gIC8vIGxpbmVWaWV3LmNoYW5nZXMuIFRoaXMgdXBkYXRlcyB0aGUgcmVsZXZhbnQgcGFydCBvZiB0aGUgbGluZSdzXG4gIC8vIERPTSBzdHJ1Y3R1cmUuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmVWaWV3LmNoYW5nZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciB0eXBlID0gbGluZVZpZXcuY2hhbmdlc1tqXTtcbiAgICAgIGlmICh0eXBlID09IFwidGV4dFwiKSB1cGRhdGVMaW5lVGV4dChjbSwgbGluZVZpZXcpO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImd1dHRlclwiKSB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImNsYXNzXCIpIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJ3aWRnZXRcIikgdXBkYXRlTGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKTtcbiAgICB9XG4gICAgbGluZVZpZXcuY2hhbmdlcyA9IG51bGw7XG4gIH1cblxuICAvLyBMaW5lcyB3aXRoIGd1dHRlciBlbGVtZW50cywgd2lkZ2V0cyBvciBhIGJhY2tncm91bmQgY2xhc3MgbmVlZCB0b1xuICAvLyBiZSB3cmFwcGVkLCBhbmQgaGF2ZSB0aGUgZXh0cmEgZWxlbWVudHMgYWRkZWQgdG8gdGhlIHdyYXBwZXIgZGl2XG4gIGZ1bmN0aW9uIGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KSB7XG4gICAgaWYgKGxpbmVWaWV3Lm5vZGUgPT0gbGluZVZpZXcudGV4dCkge1xuICAgICAgbGluZVZpZXcubm9kZSA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiKTtcbiAgICAgIGlmIChsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUpXG4gICAgICAgIGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluZVZpZXcubm9kZSwgbGluZVZpZXcudGV4dCk7XG4gICAgICBsaW5lVmlldy5ub2RlLmFwcGVuZENoaWxkKGxpbmVWaWV3LnRleHQpO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSBsaW5lVmlldy5ub2RlLnN0eWxlLnpJbmRleCA9IDI7XG4gICAgfVxuICAgIHJldHVybiBsaW5lVmlldy5ub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUJhY2tncm91bmQobGluZVZpZXcpIHtcbiAgICB2YXIgY2xzID0gbGluZVZpZXcuYmdDbGFzcyA/IGxpbmVWaWV3LmJnQ2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLmJnQ2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLmJnQ2xhc3M7XG4gICAgaWYgKGNscykgY2xzICs9IFwiIENvZGVNaXJyb3ItbGluZWJhY2tncm91bmRcIjtcbiAgICBpZiAobGluZVZpZXcuYmFja2dyb3VuZCkge1xuICAgICAgaWYgKGNscykgbGluZVZpZXcuYmFja2dyb3VuZC5jbGFzc05hbWUgPSBjbHM7XG4gICAgICBlbHNlIHsgbGluZVZpZXcuYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3LmJhY2tncm91bmQpOyBsaW5lVmlldy5iYWNrZ3JvdW5kID0gbnVsbDsgfVxuICAgIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgICB2YXIgd3JhcCA9IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KTtcbiAgICAgIGxpbmVWaWV3LmJhY2tncm91bmQgPSB3cmFwLmluc2VydEJlZm9yZShlbHQoXCJkaXZcIiwgbnVsbCwgY2xzKSwgd3JhcC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cblxuICAvLyBXcmFwcGVyIGFyb3VuZCBidWlsZExpbmVDb250ZW50IHdoaWNoIHdpbGwgcmV1c2UgdGhlIHN0cnVjdHVyZVxuICAvLyBpbiBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgd2hlbiBwb3NzaWJsZS5cbiAgZnVuY3Rpb24gZ2V0TGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gICAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0ICYmIGV4dC5saW5lID09IGxpbmVWaWV3LmxpbmUpIHtcbiAgICAgIGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGw7XG4gICAgICBsaW5lVmlldy5tZWFzdXJlID0gZXh0Lm1lYXN1cmU7XG4gICAgICByZXR1cm4gZXh0LmJ1aWx0O1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICB9XG5cbiAgLy8gUmVkcmF3IHRoZSBsaW5lJ3MgdGV4dC4gSW50ZXJhY3RzIHdpdGggdGhlIGJhY2tncm91bmQgYW5kIHRleHRcbiAgLy8gY2xhc3NlcyBiZWNhdXNlIHRoZSBtb2RlIG1heSBvdXRwdXQgdG9rZW5zIHRoYXQgaW5mbHVlbmNlIHRoZXNlXG4gIC8vIGNsYXNzZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldykge1xuICAgIHZhciBjbHMgPSBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZTtcbiAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICAgIGlmIChsaW5lVmlldy50ZXh0ID09IGxpbmVWaWV3Lm5vZGUpIGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmU7XG4gICAgbGluZVZpZXcudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidWlsdC5wcmUsIGxpbmVWaWV3LnRleHQpO1xuICAgIGxpbmVWaWV3LnRleHQgPSBidWlsdC5wcmU7XG4gICAgaWYgKGJ1aWx0LmJnQ2xhc3MgIT0gbGluZVZpZXcuYmdDbGFzcyB8fCBidWlsdC50ZXh0Q2xhc3MgIT0gbGluZVZpZXcudGV4dENsYXNzKSB7XG4gICAgICBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcztcbiAgICAgIGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzcztcbiAgICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KTtcbiAgICB9IGVsc2UgaWYgKGNscykge1xuICAgICAgbGluZVZpZXcudGV4dC5jbGFzc05hbWUgPSBjbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpIHtcbiAgICB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldyk7XG4gICAgaWYgKGxpbmVWaWV3LmxpbmUud3JhcENsYXNzKVxuICAgICAgZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpLmNsYXNzTmFtZSA9IGxpbmVWaWV3LmxpbmUud3JhcENsYXNzO1xuICAgIGVsc2UgaWYgKGxpbmVWaWV3Lm5vZGUgIT0gbGluZVZpZXcudGV4dClcbiAgICAgIGxpbmVWaWV3Lm5vZGUuY2xhc3NOYW1lID0gXCJcIjtcbiAgICB2YXIgdGV4dENsYXNzID0gbGluZVZpZXcudGV4dENsYXNzID8gbGluZVZpZXcudGV4dENsYXNzICsgXCIgXCIgKyAobGluZVZpZXcubGluZS50ZXh0Q2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLnRleHRDbGFzcztcbiAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IHRleHRDbGFzcyB8fCBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKSB7XG4gICAgaWYgKGxpbmVWaWV3Lmd1dHRlcikge1xuICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXIpO1xuICAgICAgbGluZVZpZXcuZ3V0dGVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQpIHtcbiAgICAgIGxpbmVWaWV3Lm5vZGUucmVtb3ZlQ2hpbGQobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCk7XG4gICAgICBsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3MpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgbGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLWJhY2tncm91bmQgXCIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxlZnQ6IFwiICsgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBkaW1zLmZpeGVkUG9zIDogLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInB4OyB3aWR0aDogXCIgKyBkaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCIpO1xuICAgICAgd3JhcC5pbnNlcnRCZWZvcmUobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCwgbGluZVZpZXcudGV4dCk7XG4gICAgfVxuICAgIHZhciBtYXJrZXJzID0gbGluZVZpZXcubGluZS5ndXR0ZXJNYXJrZXJzO1xuICAgIGlmIChjbS5vcHRpb25zLmxpbmVOdW1iZXJzIHx8IG1hcmtlcnMpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgdmFyIGd1dHRlcldyYXAgPSBsaW5lVmlldy5ndXR0ZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci13cmFwcGVyXCIsIFwibGVmdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBkaW1zLmZpeGVkUG9zIDogLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCkgKyBcInB4XCIpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGd1dHRlcldyYXApO1xuICAgICAgd3JhcC5pbnNlcnRCZWZvcmUoZ3V0dGVyV3JhcCwgbGluZVZpZXcudGV4dCk7XG4gICAgICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcylcbiAgICAgICAgZ3V0dGVyV3JhcC5jbGFzc05hbWUgKz0gXCIgXCIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzO1xuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZU51bWJlcnMgJiYgKCFtYXJrZXJzIHx8ICFtYXJrZXJzW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSkpXG4gICAgICAgIGxpbmVWaWV3LmxpbmVOdW1iZXIgPSBndXR0ZXJXcmFwLmFwcGVuZENoaWxkKFxuICAgICAgICAgIGVsdChcImRpdlwiLCBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGxpbmVOKSxcbiAgICAgICAgICAgICAgXCJDb2RlTWlycm9yLWxpbmVudW1iZXIgQ29kZU1pcnJvci1ndXR0ZXItZWx0XCIsXG4gICAgICAgICAgICAgIFwibGVmdDogXCIgKyBkaW1zLmd1dHRlckxlZnRbXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdICsgXCJweDsgd2lkdGg6IFwiXG4gICAgICAgICAgICAgICsgY20uZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCArIFwicHhcIikpO1xuICAgICAgaWYgKG1hcmtlcnMpIGZvciAodmFyIGsgPSAwOyBrIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytrKSB7XG4gICAgICAgIHZhciBpZCA9IGNtLm9wdGlvbnMuZ3V0dGVyc1trXSwgZm91bmQgPSBtYXJrZXJzLmhhc093blByb3BlcnR5KGlkKSAmJiBtYXJrZXJzW2lkXTtcbiAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgIGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFtmb3VuZF0sIFwiQ29kZU1pcnJvci1ndXR0ZXItZWx0XCIsIFwibGVmdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuZ3V0dGVyTGVmdFtpZF0gKyBcInB4OyB3aWR0aDogXCIgKyBkaW1zLmd1dHRlcldpZHRoW2lkXSArIFwicHhcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykge1xuICAgIGlmIChsaW5lVmlldy5hbGlnbmFibGUpIGxpbmVWaWV3LmFsaWduYWJsZSA9IG51bGw7XG4gICAgZm9yICh2YXIgbm9kZSA9IGxpbmVWaWV3Lm5vZGUuZmlyc3RDaGlsZCwgbmV4dDsgbm9kZTsgbm9kZSA9IG5leHQpIHtcbiAgICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIGlmIChub2RlLmNsYXNzTmFtZSA9PSBcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiKVxuICAgICAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgICBpbnNlcnRMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpO1xuICB9XG5cbiAgLy8gQnVpbGQgYSBsaW5lJ3MgRE9NIHJlcHJlc2VudGF0aW9uIGZyb20gc2NyYXRjaFxuICBmdW5jdGlvbiBidWlsZExpbmVFbGVtZW50KGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICAgIGxpbmVWaWV3LnRleHQgPSBsaW5lVmlldy5ub2RlID0gYnVpbHQucHJlO1xuICAgIGlmIChidWlsdC5iZ0NsYXNzKSBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcztcbiAgICBpZiAoYnVpbHQudGV4dENsYXNzKSBsaW5lVmlldy50ZXh0Q2xhc3MgPSBidWlsdC50ZXh0Q2xhc3M7XG5cbiAgICB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldyk7XG4gICAgdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICBpbnNlcnRMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpO1xuICAgIHJldHVybiBsaW5lVmlldy5ub2RlO1xuICB9XG5cbiAgLy8gQSBsaW5lVmlldyBtYXkgY29udGFpbiBtdWx0aXBsZSBsb2dpY2FsIGxpbmVzICh3aGVuIG1lcmdlZCBieVxuICAvLyBjb2xsYXBzZWQgc3BhbnMpLiBUaGUgd2lkZ2V0cyBmb3IgYWxsIG9mIHRoZW0gbmVlZCB0byBiZSBkcmF3bi5cbiAgZnVuY3Rpb24gaW5zZXJ0TGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKSB7XG4gICAgaW5zZXJ0TGluZVdpZGdldHNGb3IoY20sIGxpbmVWaWV3LmxpbmUsIGxpbmVWaWV3LCBkaW1zLCB0cnVlKTtcbiAgICBpZiAobGluZVZpZXcucmVzdCkgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgaW5zZXJ0TGluZVdpZGdldHNGb3IoY20sIGxpbmVWaWV3LnJlc3RbaV0sIGxpbmVWaWV3LCBkaW1zLCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZSwgbGluZVZpZXcsIGRpbXMsIGFsbG93QWJvdmUpIHtcbiAgICBpZiAoIWxpbmUud2lkZ2V0cykgcmV0dXJuO1xuICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgIGZvciAodmFyIGkgPSAwLCB3cyA9IGxpbmUud2lkZ2V0czsgaSA8IHdzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgd2lkZ2V0ID0gd3NbaV0sIG5vZGUgPSBlbHQoXCJkaXZcIiwgW3dpZGdldC5ub2RlXSwgXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIik7XG4gICAgICBpZiAoIXdpZGdldC5oYW5kbGVNb3VzZUV2ZW50cykgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHBvc2l0aW9uTGluZVdpZGdldCh3aWRnZXQsIG5vZGUsIGxpbmVWaWV3LCBkaW1zKTtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShub2RlKTtcbiAgICAgIGlmIChhbGxvd0Fib3ZlICYmIHdpZGdldC5hYm92ZSlcbiAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUobm9kZSwgbGluZVZpZXcuZ3V0dGVyIHx8IGxpbmVWaWV3LnRleHQpO1xuICAgICAgZWxzZVxuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgc2lnbmFsTGF0ZXIod2lkZ2V0LCBcInJlZHJhd1wiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwb3NpdGlvbkxpbmVXaWRnZXQod2lkZ2V0LCBub2RlLCBsaW5lVmlldywgZGltcykge1xuICAgIGlmICh3aWRnZXQubm9IU2Nyb2xsKSB7XG4gICAgICAobGluZVZpZXcuYWxpZ25hYmxlIHx8IChsaW5lVmlldy5hbGlnbmFibGUgPSBbXSkpLnB1c2gobm9kZSk7XG4gICAgICB2YXIgd2lkdGggPSBkaW1zLndyYXBwZXJXaWR0aDtcbiAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGRpbXMuZml4ZWRQb3MgKyBcInB4XCI7XG4gICAgICBpZiAoIXdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgICB3aWR0aCAtPSBkaW1zLmd1dHRlclRvdGFsV2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUucGFkZGluZ0xlZnQgPSBkaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfVxuICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpIHtcbiAgICAgIG5vZGUuc3R5bGUuekluZGV4ID0gNTtcbiAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICBpZiAoIXdpZGdldC5ub0hTY3JvbGwpIG5vZGUuc3R5bGUubWFyZ2luTGVmdCA9IC1kaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCI7XG4gICAgfVxuICB9XG5cbiAgLy8gUE9TSVRJT04gT0JKRUNUXG5cbiAgLy8gQSBQb3MgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHBvc2l0aW9uIHdpdGhpbiB0aGUgdGV4dC5cbiAgdmFyIFBvcyA9IENvZGVNaXJyb3IuUG9zID0gZnVuY3Rpb24obGluZSwgY2gpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG9zKSkgcmV0dXJuIG5ldyBQb3MobGluZSwgY2gpO1xuICAgIHRoaXMubGluZSA9IGxpbmU7IHRoaXMuY2ggPSBjaDtcbiAgfTtcblxuICAvLyBDb21wYXJlIHR3byBwb3NpdGlvbnMsIHJldHVybiAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCBhIG5lZ2F0aXZlXG4gIC8vIG51bWJlciB3aGVuIGEgaXMgbGVzcywgYW5kIGEgcG9zaXRpdmUgbnVtYmVyIG90aGVyd2lzZS5cbiAgdmFyIGNtcCA9IENvZGVNaXJyb3IuY21wUG9zID0gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS5saW5lIC0gYi5saW5lIHx8IGEuY2ggLSBiLmNoOyB9O1xuXG4gIGZ1bmN0aW9uIGNvcHlQb3MoeCkge3JldHVybiBQb3MoeC5saW5lLCB4LmNoKTt9XG4gIGZ1bmN0aW9uIG1heFBvcyhhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPCAwID8gYiA6IGE7IH1cbiAgZnVuY3Rpb24gbWluUG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYjsgfVxuXG4gIC8vIElOUFVUIEhBTkRMSU5HXG5cbiAgZnVuY3Rpb24gZW5zdXJlRm9jdXMoY20pIHtcbiAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyBvbkZvY3VzKGNtKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNSZWFkT25seShjbSkge1xuICAgIHJldHVybiBjbS5vcHRpb25zLnJlYWRPbmx5IHx8IGNtLmRvYy5jYW50RWRpdDtcbiAgfVxuXG4gIC8vIFRoaXMgd2lsbCBiZSBzZXQgdG8gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGVuIGNvcHlpbmcsIHNvIHRoYXQsXG4gIC8vIHdoZW4gcGFzdGluZywgd2Uga25vdyB3aGF0IGtpbmQgb2Ygc2VsZWN0aW9ucyB0aGUgY29waWVkIHRleHRcbiAgLy8gd2FzIG1hZGUgb3V0IG9mLlxuICB2YXIgbGFzdENvcGllZCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gYXBwbHlUZXh0SW5wdXQoY20sIGluc2VydGVkLCBkZWxldGVkLCBzZWwsIG9yaWdpbikge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlO1xuICAgIGlmICghc2VsKSBzZWwgPSBkb2Muc2VsO1xuXG4gICAgdmFyIHBhc3RlID0gY20uc3RhdGUucGFzdGVJbmNvbWluZyB8fCBvcmlnaW4gPT0gXCJwYXN0ZVwiO1xuICAgIHZhciB0ZXh0TGluZXMgPSBkb2Muc3BsaXRMaW5lcyhpbnNlcnRlZCksIG11bHRpUGFzdGUgPSBudWxsO1xuICAgIC8vIFdoZW4gcGFzaW5nIE4gbGluZXMgaW50byBOIHNlbGVjdGlvbnMsIGluc2VydCBvbmUgbGluZSBwZXIgc2VsZWN0aW9uXG4gICAgaWYgKHBhc3RlICYmIHNlbC5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKGxhc3RDb3BpZWQgJiYgbGFzdENvcGllZC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKSB7XG4gICAgICAgIGlmIChzZWwucmFuZ2VzLmxlbmd0aCAlIGxhc3RDb3BpZWQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICBtdWx0aVBhc3RlID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0Q29waWVkLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWRbaV0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0ZXh0TGluZXMubGVuZ3RoID09IHNlbC5yYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIG11bHRpUGFzdGUgPSBtYXAodGV4dExpbmVzLCBmdW5jdGlvbihsKSB7IHJldHVybiBbbF07IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vcm1hbCBiZWhhdmlvciBpcyB0byBpbnNlcnQgdGhlIG5ldyB0ZXh0IGludG8gZXZlcnkgc2VsZWN0aW9uXG4gICAgZm9yICh2YXIgaSA9IHNlbC5yYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKSwgdG8gPSByYW5nZS50bygpO1xuICAgICAgaWYgKHJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgaWYgKGRlbGV0ZWQgJiYgZGVsZXRlZCA+IDApIC8vIEhhbmRsZSBkZWxldGlvblxuICAgICAgICAgIGZyb20gPSBQb3MoZnJvbS5saW5lLCBmcm9tLmNoIC0gZGVsZXRlZCk7XG4gICAgICAgIGVsc2UgaWYgKGNtLnN0YXRlLm92ZXJ3cml0ZSAmJiAhcGFzdGUpIC8vIEhhbmRsZSBvdmVyd3JpdGVcbiAgICAgICAgICB0byA9IFBvcyh0by5saW5lLCBNYXRoLm1pbihnZXRMaW5lKGRvYywgdG8ubGluZSkudGV4dC5sZW5ndGgsIHRvLmNoICsgbHN0KHRleHRMaW5lcykubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgICB2YXIgdXBkYXRlSW5wdXQgPSBjbS5jdXJPcC51cGRhdGVJbnB1dDtcbiAgICAgIHZhciBjaGFuZ2VFdmVudCA9IHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IG11bHRpUGFzdGUgPyBtdWx0aVBhc3RlW2kgJSBtdWx0aVBhc3RlLmxlbmd0aF0gOiB0ZXh0TGluZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBvcmlnaW4gfHwgKHBhc3RlID8gXCJwYXN0ZVwiIDogY20uc3RhdGUuY3V0SW5jb21pbmcgPyBcImN1dFwiIDogXCIraW5wdXRcIil9O1xuICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZUV2ZW50KTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcImlucHV0UmVhZFwiLCBjbSwgY2hhbmdlRXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWQgJiYgIXBhc3RlKVxuICAgICAgdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCk7XG5cbiAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICBjbS5jdXJPcC51cGRhdGVJbnB1dCA9IHVwZGF0ZUlucHV0O1xuICAgIGNtLmN1ck9wLnR5cGluZyA9IHRydWU7XG4gICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IGNtLnN0YXRlLmN1dEluY29taW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQYXN0ZShlLCBjbSkge1xuICAgIHZhciBwYXN0ZWQgPSBlLmNsaXBib2FyZERhdGEgJiYgZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgIGlmIChwYXN0ZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghaXNSZWFkT25seShjbSkgJiYgIWNtLm9wdGlvbnMuZGlzYWJsZUlucHV0KVxuICAgICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHsgYXBwbHlUZXh0SW5wdXQoY20sIHBhc3RlZCwgMCwgbnVsbCwgXCJwYXN0ZVwiKTsgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cmlnZ2VyRWxlY3RyaWMoY20sIGluc2VydGVkKSB7XG4gICAgLy8gV2hlbiBhbiAnZWxlY3RyaWMnIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgaW1tZWRpYXRlbHkgdHJpZ2dlciBhIHJlaW5kZW50XG4gICAgaWYgKCFjbS5vcHRpb25zLmVsZWN0cmljQ2hhcnMgfHwgIWNtLm9wdGlvbnMuc21hcnRJbmRlbnQpIHJldHVybjtcbiAgICB2YXIgc2VsID0gY20uZG9jLnNlbDtcblxuICAgIGZvciAodmFyIGkgPSBzZWwucmFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldO1xuICAgICAgaWYgKHJhbmdlLmhlYWQuY2ggPiAxMDAgfHwgKGkgJiYgc2VsLnJhbmdlc1tpIC0gMV0uaGVhZC5saW5lID09IHJhbmdlLmhlYWQubGluZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIG1vZGUgPSBjbS5nZXRNb2RlQXQocmFuZ2UuaGVhZCk7XG4gICAgICB2YXIgaW5kZW50ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChtb2RlLmVsZWN0cmljQ2hhcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb2RlLmVsZWN0cmljQ2hhcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgaWYgKGluc2VydGVkLmluZGV4T2YobW9kZS5lbGVjdHJpY0NoYXJzLmNoYXJBdChqKSkgPiAtMSkge1xuICAgICAgICAgICAgaW5kZW50ZWQgPSBpbmRlbnRMaW5lKGNtLCByYW5nZS5oZWFkLmxpbmUsIFwic21hcnRcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1vZGUuZWxlY3RyaWNJbnB1dCkge1xuICAgICAgICBpZiAobW9kZS5lbGVjdHJpY0lucHV0LnRlc3QoZ2V0TGluZShjbS5kb2MsIHJhbmdlLmhlYWQubGluZSkudGV4dC5zbGljZSgwLCByYW5nZS5oZWFkLmNoKSkpXG4gICAgICAgICAgaW5kZW50ZWQgPSBpbmRlbnRMaW5lKGNtLCByYW5nZS5oZWFkLmxpbmUsIFwic21hcnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZW50ZWQpIHNpZ25hbExhdGVyKGNtLCBcImVsZWN0cmljSW5wdXRcIiwgY20sIHJhbmdlLmhlYWQubGluZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29weWFibGVSYW5nZXMoY20pIHtcbiAgICB2YXIgdGV4dCA9IFtdLCByYW5nZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZSA9IGNtLmRvYy5zZWwucmFuZ2VzW2ldLmhlYWQubGluZTtcbiAgICAgIHZhciBsaW5lUmFuZ2UgPSB7YW5jaG9yOiBQb3MobGluZSwgMCksIGhlYWQ6IFBvcyhsaW5lICsgMSwgMCl9O1xuICAgICAgcmFuZ2VzLnB1c2gobGluZVJhbmdlKTtcbiAgICAgIHRleHQucHVzaChjbS5nZXRSYW5nZShsaW5lUmFuZ2UuYW5jaG9yLCBsaW5lUmFuZ2UuaGVhZCkpO1xuICAgIH1cbiAgICByZXR1cm4ge3RleHQ6IHRleHQsIHJhbmdlczogcmFuZ2VzfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc2FibGVCcm93c2VyTWFnaWMoZmllbGQpIHtcbiAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLCBcIm9mZlwiKTtcbiAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJhdXRvY2FwaXRhbGl6ZVwiLCBcIm9mZlwiKTtcbiAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsIFwiZmFsc2VcIik7XG4gIH1cblxuICAvLyBURVhUQVJFQSBJTlBVVCBTVFlMRVxuXG4gIGZ1bmN0aW9uIFRleHRhcmVhSW5wdXQoY20pIHtcbiAgICB0aGlzLmNtID0gY207XG4gICAgLy8gU2VlIGlucHV0LnBvbGwgYW5kIGlucHV0LnJlc2V0XG4gICAgdGhpcy5wcmV2SW5wdXQgPSBcIlwiO1xuXG4gICAgLy8gRmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHdlIGV4cGVjdCBpbnB1dCB0byBhcHBlYXIgcmVhbCBzb29uXG4gICAgLy8gbm93IChhZnRlciBzb21lIGV2ZW50IGxpa2UgJ2tleXByZXNzJyBvciAnaW5wdXQnKSBhbmQgYXJlXG4gICAgLy8gcG9sbGluZyBpbnRlbnNpdmVseS5cbiAgICB0aGlzLnBvbGxpbmdGYXN0ID0gZmFsc2U7XG4gICAgLy8gU2VsZi1yZXNldHRpbmcgdGltZW91dCBmb3IgdGhlIHBvbGxlclxuICAgIHRoaXMucG9sbGluZyA9IG5ldyBEZWxheWVkKCk7XG4gICAgLy8gVHJhY2tzIHdoZW4gaW5wdXQucmVzZXQgaGFzIHB1bnRlZCB0byBqdXN0IHB1dHRpbmcgYSBzaG9ydFxuICAgIC8vIHN0cmluZyBpbnRvIHRoZSB0ZXh0YXJlYSBpbnN0ZWFkIG9mIHRoZSBmdWxsIHNlbGVjdGlvbi5cbiAgICB0aGlzLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAvLyBVc2VkIHRvIHdvcmsgYXJvdW5kIElFIGlzc3VlIHdpdGggc2VsZWN0aW9uIGJlaW5nIGZvcmdvdHRlbiB3aGVuIGZvY3VzIG1vdmVzIGF3YXkgZnJvbSB0ZXh0YXJlYVxuICAgIHRoaXMuaGFzU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgdGhpcy5jb21wb3NpbmcgPSBudWxsO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGhpZGRlblRleHRhcmVhKCkge1xuICAgIHZhciB0ZSA9IGVsdChcInRleHRhcmVhXCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgb3V0bGluZTogbm9uZVwiKTtcbiAgICB2YXIgZGl2ID0gZWx0KFwiZGl2XCIsIFt0ZV0sIG51bGwsIFwib3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogM3B4OyBoZWlnaHQ6IDBweDtcIik7XG4gICAgLy8gVGhlIHRleHRhcmVhIGlzIGtlcHQgcG9zaXRpb25lZCBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCB0aGVcbiAgICAvLyBmYWN0IHRoYXQgaXQnbGwgYmUgc2Nyb2xsZWQgaW50byB2aWV3IG9uIGlucHV0IGZyb20gc2Nyb2xsaW5nXG4gICAgLy8gb3VyIGZha2UgY3Vyc29yIG91dCBvZiB2aWV3LiBPbiB3ZWJraXQsIHdoZW4gd3JhcD1vZmYsIHBhc3RlIGlzXG4gICAgLy8gdmVyeSBzbG93LiBTbyBtYWtlIHRoZSBhcmVhIHdpZGUgaW5zdGVhZC5cbiAgICBpZiAod2Via2l0KSB0ZS5zdHlsZS53aWR0aCA9IFwiMTAwMHB4XCI7XG4gICAgZWxzZSB0ZS5zZXRBdHRyaWJ1dGUoXCJ3cmFwXCIsIFwib2ZmXCIpO1xuICAgIC8vIElmIGJvcmRlcjogMDsgLS0gaU9TIGZhaWxzIHRvIG9wZW4ga2V5Ym9hcmQgKGlzc3VlICMxMjg3KVxuICAgIGlmIChpb3MpIHRlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG4gICAgZGlzYWJsZUJyb3dzZXJNYWdpYyh0ZSk7XG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgaW5pdDogZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSB0aGlzLmNtO1xuXG4gICAgICAvLyBXcmFwcyBhbmQgaGlkZXMgaW5wdXQgdGV4dGFyZWFcbiAgICAgIHZhciBkaXYgPSB0aGlzLndyYXBwZXIgPSBoaWRkZW5UZXh0YXJlYSgpO1xuICAgICAgLy8gVGhlIHNlbWloaWRkZW4gdGV4dGFyZWEgdGhhdCBpcyBmb2N1c2VkIHdoZW4gdGhlIGVkaXRvciBpc1xuICAgICAgLy8gZm9jdXNlZCwgYW5kIHJlY2VpdmVzIGlucHV0LlxuICAgICAgdmFyIHRlID0gdGhpcy50ZXh0YXJlYSA9IGRpdi5maXJzdENoaWxkO1xuICAgICAgZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShkaXYsIGRpc3BsYXkud3JhcHBlci5maXJzdENoaWxkKTtcblxuICAgICAgLy8gTmVlZGVkIHRvIGhpZGUgYmlnIGJsdWUgYmxpbmtpbmcgY3Vyc29yIG9uIE1vYmlsZSBTYWZhcmkgKGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGluIGlPUyA4IGFueW1vcmUpXG4gICAgICBpZiAoaW9zKSB0ZS5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG5cbiAgICAgIG9uKHRlLCBcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5ICYmIGlucHV0Lmhhc1NlbGVjdGlvbikgaW5wdXQuaGFzU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaW5wdXQucG9sbCgpO1xuICAgICAgfSk7XG5cbiAgICAgIG9uKHRlLCBcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGhhbmRsZVBhc3RlKGUsIGNtKSkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IHRydWU7XG4gICAgICAgIGlucHV0LmZhc3RQb2xsKCk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcHJlcGFyZUNvcHlDdXQoZSkge1xuICAgICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgICAgIGxhc3RDb3BpZWQgPSBjbS5nZXRTZWxlY3Rpb25zKCk7XG4gICAgICAgICAgaWYgKGlucHV0LmluYWNjdXJhdGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgICAgICBpbnB1dC5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0ZS52YWx1ZSA9IGxhc3RDb3BpZWQuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgIHNlbGVjdElucHV0KHRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWNtLm9wdGlvbnMubGluZVdpc2VDb3B5Q3V0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByYW5nZXMgPSBjb3B5YWJsZVJhbmdlcyhjbSk7XG4gICAgICAgICAgbGFzdENvcGllZCA9IHJhbmdlcy50ZXh0O1xuICAgICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikge1xuICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCBudWxsLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgICAgICB0ZS52YWx1ZSA9IHJhbmdlcy50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dCh0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikgY20uc3RhdGUuY3V0SW5jb21pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb24odGUsIFwiY3V0XCIsIHByZXBhcmVDb3B5Q3V0KTtcbiAgICAgIG9uKHRlLCBcImNvcHlcIiwgcHJlcGFyZUNvcHlDdXQpO1xuXG4gICAgICBvbihkaXNwbGF5LnNjcm9sbGVyLCBcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIHJldHVybjtcbiAgICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IHRydWU7XG4gICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJldmVudCBub3JtYWwgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgKHdlIGhhbmRsZSBvdXIgb3duKVxuICAgICAgb24oZGlzcGxheS5saW5lU3BhY2UsIFwic2VsZWN0c3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICB9KTtcblxuICAgICAgb24odGUsIFwiY29tcG9zaXRpb25zdGFydFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKTtcbiAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykgaW5wdXQuY29tcG9zaW5nLnJhbmdlLmNsZWFyKClcbiAgICAgICAgaW5wdXQuY29tcG9zaW5nID0ge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICByYW5nZTogY20ubWFya1RleHQoc3RhcnQsIGNtLmdldEN1cnNvcihcInRvXCIpLCB7Y2xhc3NOYW1lOiBcIkNvZGVNaXJyb3ItY29tcG9zaW5nXCJ9KVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBvbih0ZSwgXCJjb21wb3NpdGlvbmVuZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykge1xuICAgICAgICAgIGlucHV0LnBvbGwoKTtcbiAgICAgICAgICBpbnB1dC5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKTtcbiAgICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcHJlcGFyZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBSZWRyYXcgdGhlIHNlbGVjdGlvbiBhbmQvb3IgY3Vyc29yXG4gICAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24oY20pO1xuXG4gICAgICAvLyBNb3ZlIHRoZSBoaWRkZW4gdGV4dGFyZWEgbmVhciB0aGUgY3Vyc29yIHRvIHByZXZlbnQgc2Nyb2xsaW5nIGFydGlmYWN0c1xuICAgICAgaWYgKGNtLm9wdGlvbnMubW92ZUlucHV0V2l0aEN1cnNvcikge1xuICAgICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3JkcyhjbSwgZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCwgXCJkaXZcIik7XG4gICAgICAgIHZhciB3cmFwT2ZmID0gZGlzcGxheS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBsaW5lT2ZmID0gZGlzcGxheS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXN1bHQudGVUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0IC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRQb3MudG9wICsgbGluZU9mZi50b3AgLSB3cmFwT2ZmLnRvcCkpO1xuICAgICAgICByZXN1bHQudGVMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoIC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLmxlZnQgKyBsaW5lT2ZmLmxlZnQgLSB3cmFwT2ZmLmxlZnQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc2hvd1NlbGVjdGlvbjogZnVuY3Rpb24oZHJhd24pIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5jdXJzb3JEaXYsIGRyYXduLmN1cnNvcnMpO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5zZWxlY3Rpb25EaXYsIGRyYXduLnNlbGVjdGlvbik7XG4gICAgICBpZiAoZHJhd24udGVUb3AgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gZHJhd24udGVUb3AgKyBcInB4XCI7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gZHJhd24udGVMZWZ0ICsgXCJweFwiO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBSZXNldCB0aGUgaW5wdXQgdG8gY29ycmVzcG9uZCB0byB0aGUgc2VsZWN0aW9uIChvciB0byBiZSBlbXB0eSxcbiAgICAvLyB3aGVuIG5vdCB0eXBpbmcgYW5kIG5vdGhpbmcgaXMgc2VsZWN0ZWQpXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHR5cGluZykge1xuICAgICAgaWYgKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nKSByZXR1cm47XG4gICAgICB2YXIgbWluaW1hbCwgc2VsZWN0ZWQsIGNtID0gdGhpcy5jbSwgZG9jID0gY20uZG9jO1xuICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgICAgdGhpcy5wcmV2SW5wdXQgPSBcIlwiO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgICAgbWluaW1hbCA9IGhhc0NvcHlFdmVudCAmJlxuICAgICAgICAgIChyYW5nZS50bygpLmxpbmUgLSByYW5nZS5mcm9tKCkubGluZSA+IDEwMCB8fCAoc2VsZWN0ZWQgPSBjbS5nZXRTZWxlY3Rpb24oKSkubGVuZ3RoID4gMTAwMCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gbWluaW1hbCA/IFwiLVwiIDogc2VsZWN0ZWQgfHwgY20uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMudGV4dGFyZWEudmFsdWUgPSBjb250ZW50O1xuICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgc2VsZWN0SW5wdXQodGhpcy50ZXh0YXJlYSk7XG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHRoaXMuaGFzU2VsZWN0aW9uID0gY29udGVudDtcbiAgICAgIH0gZWxzZSBpZiAoIXR5cGluZykge1xuICAgICAgICB0aGlzLnByZXZJbnB1dCA9IHRoaXMudGV4dGFyZWEudmFsdWUgPSBcIlwiO1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB0aGlzLmhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBtaW5pbWFsO1xuICAgIH0sXG5cbiAgICBnZXRGaWVsZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnRleHRhcmVhOyB9LFxuXG4gICAgc3VwcG9ydHNUb3VjaDogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcblxuICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiICYmICghbW9iaWxlIHx8IGFjdGl2ZUVsdCgpICE9IHRoaXMudGV4dGFyZWEpKSB7XG4gICAgICAgIHRyeSB7IHRoaXMudGV4dGFyZWEuZm9jdXMoKTsgfVxuICAgICAgICBjYXRjaCAoZSkge30gLy8gSUU4IHdpbGwgdGhyb3cgaWYgdGhlIHRleHRhcmVhIGlzIGRpc3BsYXk6IG5vbmUgb3Igbm90IGluIERPTVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBibHVyOiBmdW5jdGlvbigpIHsgdGhpcy50ZXh0YXJlYS5ibHVyKCk7IH0sXG5cbiAgICByZXNldFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMud3JhcHBlci5zdHlsZS50b3AgPSB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IDA7XG4gICAgfSxcblxuICAgIHJlY2VpdmVkRm9jdXM6IGZ1bmN0aW9uKCkgeyB0aGlzLnNsb3dQb2xsKCk7IH0sXG5cbiAgICAvLyBQb2xsIGZvciBpbnB1dCBjaGFuZ2VzLCB1c2luZyB0aGUgbm9ybWFsIHJhdGUgb2YgcG9sbGluZy4gVGhpc1xuICAgIC8vIHJ1bnMgYXMgbG9uZyBhcyB0aGUgZWRpdG9yIGlzIGZvY3VzZWQuXG4gICAgc2xvd1BvbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcztcbiAgICAgIGlmIChpbnB1dC5wb2xsaW5nRmFzdCkgcmV0dXJuO1xuICAgICAgaW5wdXQucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnBvbGwoKTtcbiAgICAgICAgaWYgKGlucHV0LmNtLnN0YXRlLmZvY3VzZWQpIGlucHV0LnNsb3dQb2xsKCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gV2hlbiBhbiBldmVudCBoYXMganVzdCBjb21lIGluIHRoYXQgaXMgbGlrZWx5IHRvIGFkZCBvciBjaGFuZ2VcbiAgICAvLyBzb21ldGhpbmcgaW4gdGhlIGlucHV0IHRleHRhcmVhLCB3ZSBwb2xsIGZhc3RlciwgdG8gZW5zdXJlIHRoYXRcbiAgICAvLyB0aGUgY2hhbmdlIGFwcGVhcnMgb24gdGhlIHNjcmVlbiBxdWlja2x5LlxuICAgIGZhc3RQb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtaXNzZWQgPSBmYWxzZSwgaW5wdXQgPSB0aGlzO1xuICAgICAgaW5wdXQucG9sbGluZ0Zhc3QgPSB0cnVlO1xuICAgICAgZnVuY3Rpb24gcCgpIHtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBpbnB1dC5wb2xsKCk7XG4gICAgICAgIGlmICghY2hhbmdlZCAmJiAhbWlzc2VkKSB7bWlzc2VkID0gdHJ1ZTsgaW5wdXQucG9sbGluZy5zZXQoNjAsIHApO31cbiAgICAgICAgZWxzZSB7aW5wdXQucG9sbGluZ0Zhc3QgPSBmYWxzZTsgaW5wdXQuc2xvd1BvbGwoKTt9XG4gICAgICB9XG4gICAgICBpbnB1dC5wb2xsaW5nLnNldCgyMCwgcCk7XG4gICAgfSxcblxuICAgIC8vIFJlYWQgaW5wdXQgZnJvbSB0aGUgdGV4dGFyZWEsIGFuZCB1cGRhdGUgdGhlIGRvY3VtZW50IHRvIG1hdGNoLlxuICAgIC8vIFdoZW4gc29tZXRoaW5nIGlzIHNlbGVjdGVkLCBpdCBpcyBwcmVzZW50IGluIHRoZSB0ZXh0YXJlYSwgYW5kXG4gICAgLy8gc2VsZWN0ZWQgKHVubGVzcyBpdCBpcyBodWdlLCBpbiB3aGljaCBjYXNlIGEgcGxhY2Vob2xkZXIgaXNcbiAgICAvLyB1c2VkKS4gV2hlbiBub3RoaW5nIGlzIHNlbGVjdGVkLCB0aGUgY3Vyc29yIHNpdHMgYWZ0ZXIgcHJldmlvdXNseVxuICAgIC8vIHNlZW4gdGV4dCAoY2FuIGJlIGVtcHR5KSwgd2hpY2ggaXMgc3RvcmVkIGluIHByZXZJbnB1dCAod2UgbXVzdFxuICAgIC8vIG5vdCByZXNldCB0aGUgdGV4dGFyZWEgd2hlbiB0eXBpbmcsIGJlY2F1c2UgdGhhdCBicmVha3MgSU1FKS5cbiAgICBwb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGlucHV0ID0gdGhpcy50ZXh0YXJlYSwgcHJldklucHV0ID0gdGhpcy5wcmV2SW5wdXQ7XG4gICAgICAvLyBTaW5jZSB0aGlzIGlzIGNhbGxlZCBhICpsb3QqLCB0cnkgdG8gYmFpbCBvdXQgYXMgY2hlYXBseSBhc1xuICAgICAgLy8gcG9zc2libGUgd2hlbiBpdCBpcyBjbGVhciB0aGF0IG5vdGhpbmcgaGFwcGVuZWQuIGhhc1NlbGVjdGlvblxuICAgICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLFxuICAgICAgLy8gaW4gd2hpY2ggY2FzZSByZWFkaW5nIGl0cyB2YWx1ZSB3b3VsZCBiZSBleHBlbnNpdmUuXG4gICAgICBpZiAodGhpcy5jb250ZXh0TWVudVBlbmRpbmcgfHwgIWNtLnN0YXRlLmZvY3VzZWQgfHxcbiAgICAgICAgICAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0ICYmICF0aGlzLmNvbXBvc2luZykgfHxcbiAgICAgICAgICBpc1JlYWRPbmx5KGNtKSB8fCBjbS5vcHRpb25zLmRpc2FibGVJbnB1dCB8fCBjbS5zdGF0ZS5rZXlTZXEpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgdmFyIHRleHQgPSBpbnB1dC52YWx1ZTtcbiAgICAgIC8vIElmIG5vdGhpbmcgY2hhbmdlZCwgYmFpbC5cbiAgICAgIGlmICh0ZXh0ID09IHByZXZJbnB1dCAmJiAhY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gV29yayBhcm91bmQgbm9uc2Vuc2ljYWwgc2VsZWN0aW9uIHJlc2V0dGluZyBpbiBJRTkvMTAsIGFuZFxuICAgICAgLy8gaW5leHBsaWNhYmxlIGFwcGVhcmFuY2Ugb2YgcHJpdmF0ZSBhcmVhIHVuaWNvZGUgY2hhcmFjdGVycyBvblxuICAgICAgLy8gc29tZSBrZXkgY29tYm9zIGluIE1hYyAoIzI2ODkpLlxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiB0aGlzLmhhc1NlbGVjdGlvbiA9PT0gdGV4dCB8fFxuICAgICAgICAgIG1hYyAmJiAvW1xcdWY3MDAtXFx1ZjdmZl0vLnRlc3QodGV4dCkpIHtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChjbS5kb2Muc2VsID09IGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUpIHtcbiAgICAgICAgdmFyIGZpcnN0ID0gdGV4dC5jaGFyQ29kZUF0KDApO1xuICAgICAgICBpZiAoZmlyc3QgPT0gMHgyMDBiICYmICFwcmV2SW5wdXQpIHByZXZJbnB1dCA9IFwiXFx1MjAwYlwiO1xuICAgICAgICBpZiAoZmlyc3QgPT0gMHgyMWRhKSB7IHRoaXMucmVzZXQoKTsgcmV0dXJuIHRoaXMuY20uZXhlY0NvbW1hbmQoXCJ1bmRvXCIpOyB9XG4gICAgICB9XG4gICAgICAvLyBGaW5kIHRoZSBwYXJ0IG9mIHRoZSBpbnB1dCB0aGF0IGlzIGFjdHVhbGx5IG5ld1xuICAgICAgdmFyIHNhbWUgPSAwLCBsID0gTWF0aC5taW4ocHJldklucHV0Lmxlbmd0aCwgdGV4dC5sZW5ndGgpO1xuICAgICAgd2hpbGUgKHNhbWUgPCBsICYmIHByZXZJbnB1dC5jaGFyQ29kZUF0KHNhbWUpID09IHRleHQuY2hhckNvZGVBdChzYW1lKSkgKytzYW1lO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYXBwbHlUZXh0SW5wdXQoY20sIHRleHQuc2xpY2Uoc2FtZSksIHByZXZJbnB1dC5sZW5ndGggLSBzYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBzZWxmLmNvbXBvc2luZyA/IFwiKmNvbXBvc2VcIiA6IG51bGwpO1xuXG4gICAgICAgIC8vIERvbid0IGxlYXZlIGxvbmcgdGV4dCBpbiB0aGUgdGV4dGFyZWEsIHNpbmNlIGl0IG1ha2VzIGZ1cnRoZXIgcG9sbGluZyBzbG93XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDEwMDAgfHwgdGV4dC5pbmRleE9mKFwiXFxuXCIpID4gLTEpIGlucHV0LnZhbHVlID0gc2VsZi5wcmV2SW5wdXQgPSBcIlwiO1xuICAgICAgICBlbHNlIHNlbGYucHJldklucHV0ID0gdGV4dDtcblxuICAgICAgICBpZiAoc2VsZi5jb21wb3NpbmcpIHtcbiAgICAgICAgICBzZWxmLmNvbXBvc2luZy5yYW5nZS5jbGVhcigpO1xuICAgICAgICAgIHNlbGYuY29tcG9zaW5nLnJhbmdlID0gY20ubWFya1RleHQoc2VsZi5jb21wb3Npbmcuc3RhcnQsIGNtLmdldEN1cnNvcihcInRvXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NsYXNzTmFtZTogXCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGVuc3VyZVBvbGxlZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5wb2xsaW5nRmFzdCAmJiB0aGlzLnBvbGwoKSkgdGhpcy5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBvbktleVByZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHRoaXMuaGFzU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgIHRoaXMuZmFzdFBvbGwoKTtcbiAgICB9LFxuXG4gICAgb25Db250ZXh0TWVudTogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHRlID0gaW5wdXQudGV4dGFyZWE7XG4gICAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKSwgc2Nyb2xsUG9zID0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgICBpZiAoIXBvcyB8fCBwcmVzdG8pIHJldHVybjsgLy8gT3BlcmEgaXMgZGlmZmljdWx0LlxuXG4gICAgICAvLyBSZXNldCB0aGUgY3VycmVudCB0ZXh0IHNlbGVjdGlvbiBvbmx5IGlmIHRoZSBjbGljayBpcyBkb25lIG91dHNpZGUgb2YgdGhlIHNlbGVjdGlvblxuICAgICAgLy8gYW5kICdyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnUnIG9wdGlvbiBpcyB0cnVlLlxuICAgICAgdmFyIHJlc2V0ID0gY20ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnU7XG4gICAgICBpZiAocmVzZXQgJiYgY20uZG9jLnNlbC5jb250YWlucyhwb3MpID09IC0xKVxuICAgICAgICBvcGVyYXRpb24oY20sIHNldFNlbGVjdGlvbikoY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zKSwgc2VsX2RvbnRTY3JvbGwpO1xuXG4gICAgICB2YXIgb2xkQ1NTID0gdGUuc3R5bGUuY3NzVGV4dDtcbiAgICAgIGlucHV0LndyYXBwZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICB0ZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7IHRvcDogXCIgKyAoZS5jbGllbnRZIC0gNSkgK1xuICAgICAgICBcInB4OyBsZWZ0OiBcIiArIChlLmNsaWVudFggLSA1KSArIFwicHg7IHotaW5kZXg6IDEwMDA7IGJhY2tncm91bmQ6IFwiICtcbiAgICAgICAgKGllID8gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIC4wNSlcIiA6IFwidHJhbnNwYXJlbnRcIikgK1xuICAgICAgICBcIjsgb3V0bGluZTogbm9uZTsgYm9yZGVyLXdpZHRoOiAwOyBvdXRsaW5lOiBub25lOyBvdmVyZmxvdzogaGlkZGVuOyBvcGFjaXR5OiAuMDU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01KTtcIjtcbiAgICAgIGlmICh3ZWJraXQpIHZhciBvbGRTY3JvbGxZID0gd2luZG93LnNjcm9sbFk7IC8vIFdvcmsgYXJvdW5kIENocm9tZSBpc3N1ZSAoIzI3MTIpXG4gICAgICBkaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgICBpZiAod2Via2l0KSB3aW5kb3cuc2Nyb2xsVG8obnVsbCwgb2xkU2Nyb2xsWSk7XG4gICAgICBkaXNwbGF5LmlucHV0LnJlc2V0KCk7XG4gICAgICAvLyBBZGRzIFwiU2VsZWN0IGFsbFwiIHRvIGNvbnRleHQgbWVudSBpbiBGRlxuICAgICAgaWYgKCFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB0ZS52YWx1ZSA9IGlucHV0LnByZXZJbnB1dCA9IFwiIFwiO1xuICAgICAgaW5wdXQuY29udGV4dE1lbnVQZW5kaW5nID0gdHJ1ZTtcbiAgICAgIGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBjbS5kb2Muc2VsO1xuICAgICAgY2xlYXJUaW1lb3V0KGRpc3BsYXkuZGV0ZWN0aW5nU2VsZWN0QWxsKTtcblxuICAgICAgLy8gU2VsZWN0LWFsbCB3aWxsIGJlIGdyZXllZCBvdXQgaWYgdGhlcmUncyBub3RoaW5nIHRvIHNlbGVjdCwgc29cbiAgICAgIC8vIHRoaXMgYWRkcyBhIHplcm8td2lkdGggc3BhY2Ugc28gdGhhdCB3ZSBjYW4gbGF0ZXIgY2hlY2sgd2hldGhlclxuICAgICAgLy8gaXQgZ290IHNlbGVjdGVkLlxuICAgICAgZnVuY3Rpb24gcHJlcGFyZVNlbGVjdEFsbEhhY2soKSB7XG4gICAgICAgIGlmICh0ZS5zZWxlY3Rpb25TdGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gY20uc29tZXRoaW5nU2VsZWN0ZWQoKTtcbiAgICAgICAgICB2YXIgZXh0dmFsID0gXCJcXHUyMDBiXCIgKyAoc2VsZWN0ZWQgPyB0ZS52YWx1ZSA6IFwiXCIpO1xuICAgICAgICAgIHRlLnZhbHVlID0gXCJcXHUyMWRhXCI7IC8vIFVzZWQgdG8gY2F0Y2ggY29udGV4dC1tZW51IHVuZG9cbiAgICAgICAgICB0ZS52YWx1ZSA9IGV4dHZhbDtcbiAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBzZWxlY3RlZCA/IFwiXCIgOiBcIlxcdTIwMGJcIjtcbiAgICAgICAgICB0ZS5zZWxlY3Rpb25TdGFydCA9IDE7IHRlLnNlbGVjdGlvbkVuZCA9IGV4dHZhbC5sZW5ndGg7XG4gICAgICAgICAgLy8gUmUtc2V0IHRoaXMsIGluIGNhc2Ugc29tZSBvdGhlciBoYW5kbGVyIHRvdWNoZWQgdGhlXG4gICAgICAgICAgLy8gc2VsZWN0aW9uIGluIHRoZSBtZWFudGltZS5cbiAgICAgICAgICBkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID0gY20uZG9jLnNlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVoaWRlKCkge1xuICAgICAgICBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgaW5wdXQud3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgdGUuc3R5bGUuY3NzVGV4dCA9IG9sZENTUztcbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gc2Nyb2xsUG9zKTtcblxuICAgICAgICAvLyBUcnkgdG8gZGV0ZWN0IHRoZSB1c2VyIGNob29zaW5nIHNlbGVjdC1hbGxcbiAgICAgICAgaWYgKHRlLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoIWllIHx8IChpZSAmJiBpZV92ZXJzaW9uIDwgOSkpIHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7XG4gICAgICAgICAgdmFyIGkgPSAwLCBwb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9PSBjbS5kb2Muc2VsICYmIHRlLnNlbGVjdGlvblN0YXJ0ID09IDAgJiZcbiAgICAgICAgICAgICAgICB0ZS5zZWxlY3Rpb25FbmQgPiAwICYmIGlucHV0LnByZXZJbnB1dCA9PSBcIlxcdTIwMGJcIilcbiAgICAgICAgICAgICAgb3BlcmF0aW9uKGNtLCBjb21tYW5kcy5zZWxlY3RBbGwpKGNtKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGkrKyA8IDEwKSBkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCA9IHNldFRpbWVvdXQocG9sbCwgNTAwKTtcbiAgICAgICAgICAgIGVsc2UgZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgcHJlcGFyZVNlbGVjdEFsbEhhY2soKTtcbiAgICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykge1xuICAgICAgICBlX3N0b3AoZSk7XG4gICAgICAgIHZhciBtb3VzZXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgb2ZmKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApO1xuICAgICAgICAgIHNldFRpbWVvdXQocmVoaWRlLCAyMCk7XG4gICAgICAgIH07XG4gICAgICAgIG9uKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChyZWhpZGUsIDUwKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVhZE9ubHlDaGFuZ2VkOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICghdmFsKSB0aGlzLnJlc2V0KCk7XG4gICAgfSxcblxuICAgIHNldFVuZWRpdGFibGU6IG5vdGhpbmcsXG5cbiAgICBuZWVkc0NvbnRlbnRBdHRyaWJ1dGU6IGZhbHNlXG4gIH0sIFRleHRhcmVhSW5wdXQucHJvdG90eXBlKTtcblxuICAvLyBDT05URU5URURJVEFCTEUgSU5QVVQgU1RZTEVcblxuICBmdW5jdGlvbiBDb250ZW50RWRpdGFibGVJbnB1dChjbSkge1xuICAgIHRoaXMuY20gPSBjbTtcbiAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gdGhpcy5sYXN0Rm9jdXNOb2RlID0gdGhpcy5sYXN0Rm9jdXNPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMucG9sbGluZyA9IG5ldyBEZWxheWVkKCk7XG4gICAgdGhpcy5ncmFjZVBlcmlvZCA9IGZhbHNlO1xuICB9XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgaW5pdDogZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbTtcbiAgICAgIHZhciBkaXYgPSBpbnB1dC5kaXYgPSBkaXNwbGF5LmxpbmVEaXY7XG4gICAgICBkaXNhYmxlQnJvd3Nlck1hZ2ljKGRpdik7XG5cbiAgICAgIG9uKGRpdiwgXCJwYXN0ZVwiLCBmdW5jdGlvbihlKSB7IGhhbmRsZVBhc3RlKGUsIGNtKTsgfSlcblxuICAgICAgb24oZGl2LCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgaW5wdXQuY29tcG9zaW5nID0ge3NlbDogY20uZG9jLnNlbCwgZGF0YTogZGF0YSwgc3RhcnREYXRhOiBkYXRhfTtcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICAgIHZhciBwcmltID0gY20uZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICAgIHZhciBsaW5lID0gY20uZ2V0TGluZShwcmltLmhlYWQubGluZSk7XG4gICAgICAgIHZhciBmb3VuZCA9IGxpbmUuaW5kZXhPZihkYXRhLCBNYXRoLm1heCgwLCBwcmltLmhlYWQuY2ggLSBkYXRhLmxlbmd0aCkpO1xuICAgICAgICBpZiAoZm91bmQgPiAtMSAmJiBmb3VuZCA8PSBwcmltLmhlYWQuY2gpXG4gICAgICAgICAgaW5wdXQuY29tcG9zaW5nLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihQb3MocHJpbS5oZWFkLmxpbmUsIGZvdW5kKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhwcmltLmhlYWQubGluZSwgZm91bmQgKyBkYXRhLmxlbmd0aCkpO1xuICAgICAgfSk7XG4gICAgICBvbihkaXYsIFwiY29tcG9zaXRpb251cGRhdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpbnB1dC5jb21wb3NpbmcuZGF0YSA9IGUuZGF0YTtcbiAgICAgIH0pO1xuICAgICAgb24oZGl2LCBcImNvbXBvc2l0aW9uZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG91cnMgPSBpbnB1dC5jb21wb3Npbmc7XG4gICAgICAgIGlmICghb3VycykgcmV0dXJuO1xuICAgICAgICBpZiAoZS5kYXRhICE9IG91cnMuc3RhcnREYXRhICYmICEvXFx1MjAwYi8udGVzdChlLmRhdGEpKVxuICAgICAgICAgIG91cnMuZGF0YSA9IGUuZGF0YTtcbiAgICAgICAgLy8gTmVlZCBhIHNtYWxsIGRlbGF5IHRvIHByZXZlbnQgb3RoZXIgY29kZSAoaW5wdXQgZXZlbnQsXG4gICAgICAgIC8vIHNlbGVjdGlvbiBwb2xsaW5nKSBmcm9tIGRvaW5nIGRhbWFnZSB3aGVuIGZpcmVkIHJpZ2h0IGFmdGVyXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uZW5kLlxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghb3Vycy5oYW5kbGVkKVxuICAgICAgICAgICAgaW5wdXQuYXBwbHlDb21wb3NpdGlvbihvdXJzKTtcbiAgICAgICAgICBpZiAoaW5wdXQuY29tcG9zaW5nID09IG91cnMpXG4gICAgICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9KTtcblxuICAgICAgb24oZGl2LCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LmZvcmNlQ29tcG9zaXRpb25FbmQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBvbihkaXYsIFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIHJldHVybjtcbiAgICAgICAgaWYgKGlzUmVhZE9ubHkoY20pIHx8ICFpbnB1dC5wb2xsQ29udGVudCgpKVxuICAgICAgICAgIHJ1bkluT3AoaW5wdXQuY20sIGZ1bmN0aW9uKCkge3JlZ0NoYW5nZShjbSk7fSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Db3B5Q3V0KGUpIHtcbiAgICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgICAgICBsYXN0Q29waWVkID0gY20uZ2V0U2VsZWN0aW9ucygpO1xuICAgICAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghY20ub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJhbmdlcyA9IGNvcHlhYmxlUmFuZ2VzKGNtKTtcbiAgICAgICAgICBsYXN0Q29waWVkID0gcmFuZ2VzLnRleHQ7XG4gICAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLnJhbmdlcywgMCwgc2VsX2RvbnRTY3JvbGwpO1xuICAgICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiY3V0XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlPUyBleHBvc2VzIHRoZSBjbGlwYm9hcmQgQVBJLCBidXQgc2VlbXMgdG8gZGlzY2FyZCBjb250ZW50IGluc2VydGVkIGludG8gaXRcbiAgICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YSAmJiAhaW9zKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5jbGVhckRhdGEoKTtcbiAgICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgbGFzdENvcGllZC5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbGQtZmFzaGlvbmVkIGJyaWVmbHktZm9jdXMtYS10ZXh0YXJlYSBoYWNrXG4gICAgICAgICAgdmFyIGtsdWRnZSA9IGhpZGRlblRleHRhcmVhKCksIHRlID0ga2x1ZGdlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UuaW5zZXJ0QmVmb3JlKGtsdWRnZSwgY20uZGlzcGxheS5saW5lU3BhY2UuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgdGUudmFsdWUgPSBsYXN0Q29waWVkLmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgdmFyIGhhZEZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICBzZWxlY3RJbnB1dCh0ZSk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGtsdWRnZSk7XG4gICAgICAgICAgICBoYWRGb2N1cy5mb2N1cygpO1xuICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb24oZGl2LCBcImNvcHlcIiwgb25Db3B5Q3V0KTtcbiAgICAgIG9uKGRpdiwgXCJjdXRcIiwgb25Db3B5Q3V0KTtcbiAgICB9LFxuXG4gICAgcHJlcGFyZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcHJlcGFyZVNlbGVjdGlvbih0aGlzLmNtLCBmYWxzZSk7XG4gICAgICByZXN1bHQuZm9jdXMgPSB0aGlzLmNtLnN0YXRlLmZvY3VzZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBzaG93U2VsZWN0aW9uOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgICBpZiAoIWluZm8gfHwgIXRoaXMuY20uZGlzcGxheS52aWV3Lmxlbmd0aCkgcmV0dXJuO1xuICAgICAgaWYgKGluZm8uZm9jdXMpIHRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKTtcbiAgICAgIHRoaXMuc2hvd011bHRpcGxlU2VsZWN0aW9ucyhpbmZvKTtcbiAgICB9LFxuXG4gICAgc2hvd1ByaW1hcnlTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgcHJpbSA9IHRoaXMuY20uZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICB2YXIgY3VyQW5jaG9yID0gZG9tVG9Qb3ModGhpcy5jbSwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgdmFyIGN1ckZvY3VzID0gZG9tVG9Qb3ModGhpcy5jbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgIGlmIChjdXJBbmNob3IgJiYgIWN1ckFuY2hvci5iYWQgJiYgY3VyRm9jdXMgJiYgIWN1ckZvY3VzLmJhZCAmJlxuICAgICAgICAgIGNtcChtaW5Qb3MoY3VyQW5jaG9yLCBjdXJGb2N1cyksIHByaW0uZnJvbSgpKSA9PSAwICYmXG4gICAgICAgICAgY21wKG1heFBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgcHJpbS50bygpKSA9PSAwKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIHZhciBzdGFydCA9IHBvc1RvRE9NKHRoaXMuY20sIHByaW0uZnJvbSgpKTtcbiAgICAgIHZhciBlbmQgPSBwb3NUb0RPTSh0aGlzLmNtLCBwcmltLnRvKCkpO1xuICAgICAgaWYgKCFzdGFydCAmJiAhZW5kKSByZXR1cm47XG5cbiAgICAgIHZhciB2aWV3ID0gdGhpcy5jbS5kaXNwbGF5LnZpZXc7XG4gICAgICB2YXIgb2xkID0gc2VsLnJhbmdlQ291bnQgJiYgc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0ge25vZGU6IHZpZXdbMF0ubWVhc3VyZS5tYXBbMl0sIG9mZnNldDogMH07XG4gICAgICB9IGVsc2UgaWYgKCFlbmQpIHsgLy8gRklYTUUgZGFuZ2Vyb3VzbHkgaGFja3lcbiAgICAgICAgdmFyIG1lYXN1cmUgPSB2aWV3W3ZpZXcubGVuZ3RoIC0gMV0ubWVhc3VyZTtcbiAgICAgICAgdmFyIG1hcCA9IG1lYXN1cmUubWFwcyA/IG1lYXN1cmUubWFwc1ttZWFzdXJlLm1hcHMubGVuZ3RoIC0gMV0gOiBtZWFzdXJlLm1hcDtcbiAgICAgICAgZW5kID0ge25vZGU6IG1hcFttYXAubGVuZ3RoIC0gMV0sIG9mZnNldDogbWFwW21hcC5sZW5ndGggLSAyXSAtIG1hcFttYXAubGVuZ3RoIC0gM119O1xuICAgICAgfVxuXG4gICAgICB0cnkgeyB2YXIgcm5nID0gcmFuZ2Uoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0LCBlbmQub2Zmc2V0LCBlbmQubm9kZSk7IH1cbiAgICAgIGNhdGNoKGUpIHt9IC8vIE91ciBtb2RlbCBvZiB0aGUgRE9NIG1pZ2h0IGJlIG91dGRhdGVkLCBpbiB3aGljaCBjYXNlIHRoZSByYW5nZSB3ZSB0cnkgdG8gc2V0IGNhbiBiZSBpbXBvc3NpYmxlXG4gICAgICBpZiAocm5nKSB7XG4gICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsLmFkZFJhbmdlKHJuZyk7XG4gICAgICAgIGlmIChvbGQgJiYgc2VsLmFuY2hvck5vZGUgPT0gbnVsbCkgc2VsLmFkZFJhbmdlKG9sZCk7XG4gICAgICAgIGVsc2UgaWYgKGdlY2tvKSB0aGlzLnN0YXJ0R3JhY2VQZXJpb2QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtZW1iZXJTZWxlY3Rpb24oKTtcbiAgICB9LFxuXG4gICAgc3RhcnRHcmFjZVBlcmlvZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZ3JhY2VQZXJpb2QpO1xuICAgICAgdGhpcy5ncmFjZVBlcmlvZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LmdyYWNlUGVyaW9kID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnB1dC5zZWxlY3Rpb25DaGFuZ2VkKCkpXG4gICAgICAgICAgaW5wdXQuY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkgeyBpbnB1dC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTsgfSk7XG4gICAgICB9LCAyMCk7XG4gICAgfSxcblxuICAgIHNob3dNdWx0aXBsZVNlbGVjdGlvbnM6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKHRoaXMuY20uZGlzcGxheS5jdXJzb3JEaXYsIGluZm8uY3Vyc29ycyk7XG4gICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LCBpbmZvLnNlbGVjdGlvbik7XG4gICAgfSxcblxuICAgIHJlbWVtYmVyU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gc2VsLmFuY2hvck5vZGU7IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHNlbC5hbmNob3JPZmZzZXQ7XG4gICAgICB0aGlzLmxhc3RGb2N1c05vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmxhc3RGb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldDtcbiAgICB9LFxuXG4gICAgc2VsZWN0aW9uSW5FZGl0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIGlmICghc2VsLnJhbmdlQ291bnQpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBub2RlID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgICByZXR1cm4gY29udGFpbnModGhpcy5kaXYsIG5vZGUpO1xuICAgIH0sXG5cbiAgICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5ICE9IFwibm9jdXJzb3JcIikgdGhpcy5kaXYuZm9jdXMoKTtcbiAgICB9LFxuICAgIGJsdXI6IGZ1bmN0aW9uKCkgeyB0aGlzLmRpdi5ibHVyKCk7IH0sXG4gICAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXY7IH0sXG5cbiAgICBzdXBwb3J0c1RvdWNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXG5cbiAgICByZWNlaXZlZEZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKVxuICAgICAgICB0aGlzLnBvbGxTZWxlY3Rpb24oKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcnVuSW5PcCh0aGlzLmNtLCBmdW5jdGlvbigpIHsgaW5wdXQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7IH0pO1xuXG4gICAgICBmdW5jdGlvbiBwb2xsKCkge1xuICAgICAgICBpZiAoaW5wdXQuY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgICAgIGlucHV0LnBvbGxTZWxlY3Rpb24oKTtcbiAgICAgICAgICBpbnB1dC5wb2xsaW5nLnNldChpbnB1dC5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gICAgfSxcblxuICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSAhPSB0aGlzLmxhc3RBbmNob3JOb2RlIHx8IHNlbC5hbmNob3JPZmZzZXQgIT0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0IHx8XG4gICAgICAgIHNlbC5mb2N1c05vZGUgIT0gdGhpcy5sYXN0Rm9jdXNOb2RlIHx8IHNlbC5mb2N1c09mZnNldCAhPSB0aGlzLmxhc3RGb2N1c09mZnNldDtcbiAgICB9LFxuXG4gICAgcG9sbFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuY29tcG9zaW5nICYmICF0aGlzLmdyYWNlUGVyaW9kICYmIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpKSB7XG4gICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIGNtID0gdGhpcy5jbTtcbiAgICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgYW5jaG9yID0gZG9tVG9Qb3MoY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgdmFyIGhlYWQgPSBkb21Ub1BvcyhjbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgaWYgKGFuY2hvciAmJiBoZWFkKSBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSwgc2VsX2RvbnRTY3JvbGwpO1xuICAgICAgICAgIGlmIChhbmNob3IuYmFkIHx8IGhlYWQuYmFkKSBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHBvbGxDb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzZWwgPSBjbS5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIHZhciBmcm9tID0gc2VsLmZyb20oKSwgdG8gPSBzZWwudG8oKTtcbiAgICAgIGlmIChmcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvLmxpbmUgPiBkaXNwbGF5LnZpZXdUbyAtIDEpIHJldHVybiBmYWxzZTtcblxuICAgICAgdmFyIGZyb21JbmRleDtcbiAgICAgIGlmIChmcm9tLmxpbmUgPT0gZGlzcGxheS52aWV3RnJvbSB8fCAoZnJvbUluZGV4ID0gZmluZFZpZXdJbmRleChjbSwgZnJvbS5saW5lKSkgPT0gMCkge1xuICAgICAgICB2YXIgZnJvbUxpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3WzBdLmxpbmUpO1xuICAgICAgICB2YXIgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbMF0ubm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmcm9tTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbZnJvbUluZGV4XS5saW5lKTtcbiAgICAgICAgdmFyIGZyb21Ob2RlID0gZGlzcGxheS52aWV3W2Zyb21JbmRleCAtIDFdLm5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgdG9JbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIHRvLmxpbmUpO1xuICAgICAgaWYgKHRvSW5kZXggPT0gZGlzcGxheS52aWV3Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdmFyIHRvTGluZSA9IGRpc3BsYXkudmlld1RvIC0gMTtcbiAgICAgICAgdmFyIHRvTm9kZSA9IGRpc3BsYXkubGluZURpdi5sYXN0Q2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG9MaW5lID0gbGluZU5vKGRpc3BsYXkudmlld1t0b0luZGV4ICsgMV0ubGluZSkgLSAxO1xuICAgICAgICB2YXIgdG9Ob2RlID0gZGlzcGxheS52aWV3W3RvSW5kZXggKyAxXS5ub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld1RleHQgPSBjbS5kb2Muc3BsaXRMaW5lcyhkb21UZXh0QmV0d2VlbihjbSwgZnJvbU5vZGUsIHRvTm9kZSwgZnJvbUxpbmUsIHRvTGluZSkpO1xuICAgICAgdmFyIG9sZFRleHQgPSBnZXRCZXR3ZWVuKGNtLmRvYywgUG9zKGZyb21MaW5lLCAwKSwgUG9zKHRvTGluZSwgZ2V0TGluZShjbS5kb2MsIHRvTGluZSkudGV4dC5sZW5ndGgpKTtcbiAgICAgIHdoaWxlIChuZXdUZXh0Lmxlbmd0aCA+IDEgJiYgb2xkVGV4dC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmIChsc3QobmV3VGV4dCkgPT0gbHN0KG9sZFRleHQpKSB7IG5ld1RleHQucG9wKCk7IG9sZFRleHQucG9wKCk7IHRvTGluZS0tOyB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1RleHRbMF0gPT0gb2xkVGV4dFswXSkgeyBuZXdUZXh0LnNoaWZ0KCk7IG9sZFRleHQuc2hpZnQoKTsgZnJvbUxpbmUrKzsgfVxuICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3V0RnJvbnQgPSAwLCBjdXRFbmQgPSAwO1xuICAgICAgdmFyIG5ld1RvcCA9IG5ld1RleHRbMF0sIG9sZFRvcCA9IG9sZFRleHRbMF0sIG1heEN1dEZyb250ID0gTWF0aC5taW4obmV3VG9wLmxlbmd0aCwgb2xkVG9wLmxlbmd0aCk7XG4gICAgICB3aGlsZSAoY3V0RnJvbnQgPCBtYXhDdXRGcm9udCAmJiBuZXdUb3AuY2hhckNvZGVBdChjdXRGcm9udCkgPT0gb2xkVG9wLmNoYXJDb2RlQXQoY3V0RnJvbnQpKVxuICAgICAgICArK2N1dEZyb250O1xuICAgICAgdmFyIG5ld0JvdCA9IGxzdChuZXdUZXh0KSwgb2xkQm90ID0gbHN0KG9sZFRleHQpO1xuICAgICAgdmFyIG1heEN1dEVuZCA9IE1hdGgubWluKG5ld0JvdC5sZW5ndGggLSAobmV3VGV4dC5sZW5ndGggPT0gMSA/IGN1dEZyb250IDogMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkQm90Lmxlbmd0aCAtIChvbGRUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSk7XG4gICAgICB3aGlsZSAoY3V0RW5kIDwgbWF4Q3V0RW5kICYmXG4gICAgICAgICAgICAgbmV3Qm90LmNoYXJDb2RlQXQobmV3Qm90Lmxlbmd0aCAtIGN1dEVuZCAtIDEpID09IG9sZEJvdC5jaGFyQ29kZUF0KG9sZEJvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSlcbiAgICAgICAgKytjdXRFbmQ7XG5cbiAgICAgIG5ld1RleHRbbmV3VGV4dC5sZW5ndGggLSAxXSA9IG5ld0JvdC5zbGljZSgwLCBuZXdCb3QubGVuZ3RoIC0gY3V0RW5kKTtcbiAgICAgIG5ld1RleHRbMF0gPSBuZXdUZXh0WzBdLnNsaWNlKGN1dEZyb250KTtcblxuICAgICAgdmFyIGNoRnJvbSA9IFBvcyhmcm9tTGluZSwgY3V0RnJvbnQpO1xuICAgICAgdmFyIGNoVG8gPSBQb3ModG9MaW5lLCBvbGRUZXh0Lmxlbmd0aCA/IGxzdChvbGRUZXh0KS5sZW5ndGggLSBjdXRFbmQgOiAwKTtcbiAgICAgIGlmIChuZXdUZXh0Lmxlbmd0aCA+IDEgfHwgbmV3VGV4dFswXSB8fCBjbXAoY2hGcm9tLCBjaFRvKSkge1xuICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBuZXdUZXh0LCBjaEZyb20sIGNoVG8sIFwiK2lucHV0XCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpO1xuICAgIH0sXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCk7XG4gICAgfSxcbiAgICBmb3JjZUNvbXBvc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5jb21wb3NpbmcgfHwgdGhpcy5jb21wb3NpbmcuaGFuZGxlZCkgcmV0dXJuO1xuICAgICAgdGhpcy5hcHBseUNvbXBvc2l0aW9uKHRoaXMuY29tcG9zaW5nKTtcbiAgICAgIHRoaXMuY29tcG9zaW5nLmhhbmRsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5kaXYuYmx1cigpO1xuICAgICAgdGhpcy5kaXYuZm9jdXMoKTtcbiAgICB9LFxuICAgIGFwcGx5Q29tcG9zaXRpb246IGZ1bmN0aW9uKGNvbXBvc2luZykge1xuICAgICAgaWYgKGlzUmVhZE9ubHkodGhpcy5jbSkpXG4gICAgICAgIG9wZXJhdGlvbih0aGlzLmNtLCByZWdDaGFuZ2UpKHRoaXMuY20pXG4gICAgICBlbHNlIGlmIChjb21wb3NpbmcuZGF0YSAmJiBjb21wb3NpbmcuZGF0YSAhPSBjb21wb3Npbmcuc3RhcnREYXRhKVxuICAgICAgICBvcGVyYXRpb24odGhpcy5jbSwgYXBwbHlUZXh0SW5wdXQpKHRoaXMuY20sIGNvbXBvc2luZy5kYXRhLCAwLCBjb21wb3Npbmcuc2VsKTtcbiAgICB9LFxuXG4gICAgc2V0VW5lZGl0YWJsZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgbm9kZS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCJcbiAgICB9LFxuXG4gICAgb25LZXlQcmVzczogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCFpc1JlYWRPbmx5KHRoaXMuY20pKVxuICAgICAgICBvcGVyYXRpb24odGhpcy5jbSwgYXBwbHlUZXh0SW5wdXQpKHRoaXMuY20sIFN0cmluZy5mcm9tQ2hhckNvZGUoZS5jaGFyQ29kZSA9PSBudWxsID8gZS5rZXlDb2RlIDogZS5jaGFyQ29kZSksIDApO1xuICAgIH0sXG5cbiAgICByZWFkT25seUNoYW5nZWQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdGhpcy5kaXYuY29udGVudEVkaXRhYmxlID0gU3RyaW5nKHZhbCAhPSBcIm5vY3Vyc29yXCIpXG4gICAgfSxcblxuICAgIG9uQ29udGV4dE1lbnU6IG5vdGhpbmcsXG4gICAgcmVzZXRQb3NpdGlvbjogbm90aGluZyxcblxuICAgIG5lZWRzQ29udGVudEF0dHJpYnV0ZTogdHJ1ZVxuICB9LCBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUpO1xuXG4gIGZ1bmN0aW9uIHBvc1RvRE9NKGNtLCBwb3MpIHtcbiAgICB2YXIgdmlldyA9IGZpbmRWaWV3Rm9yTGluZShjbSwgcG9zLmxpbmUpO1xuICAgIGlmICghdmlldyB8fCB2aWV3LmhpZGRlbikgcmV0dXJuIG51bGw7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIHZhciBpbmZvID0gbWFwRnJvbUxpbmVWaWV3KHZpZXcsIGxpbmUsIHBvcy5saW5lKTtcblxuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpLCBzaWRlID0gXCJsZWZ0XCI7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICB2YXIgcGFydFBvcyA9IGdldEJpZGlQYXJ0QXQob3JkZXIsIHBvcy5jaCk7XG4gICAgICBzaWRlID0gcGFydFBvcyAlIDIgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IG5vZGVBbmRPZmZzZXRJbkxpbmVNYXAoaW5mby5tYXAsIHBvcy5jaCwgc2lkZSk7XG4gICAgcmVzdWx0Lm9mZnNldCA9IHJlc3VsdC5jb2xsYXBzZSA9PSBcInJpZ2h0XCIgPyByZXN1bHQuZW5kIDogcmVzdWx0LnN0YXJ0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBiYWRQb3MocG9zLCBiYWQpIHsgaWYgKGJhZCkgcG9zLmJhZCA9IHRydWU7IHJldHVybiBwb3M7IH1cblxuICBmdW5jdGlvbiBkb21Ub1BvcyhjbSwgbm9kZSwgb2Zmc2V0KSB7XG4gICAgdmFyIGxpbmVOb2RlO1xuICAgIGlmIChub2RlID09IGNtLmRpc3BsYXkubGluZURpdikge1xuICAgICAgbGluZU5vZGUgPSBjbS5kaXNwbGF5LmxpbmVEaXYuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgaWYgKCFsaW5lTm9kZSkgcmV0dXJuIGJhZFBvcyhjbS5jbGlwUG9zKFBvcyhjbS5kaXNwbGF5LnZpZXdUbyAtIDEpKSwgdHJ1ZSk7XG4gICAgICBub2RlID0gbnVsbDsgb2Zmc2V0ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsaW5lTm9kZSA9IG5vZGU7OyBsaW5lTm9kZSA9IGxpbmVOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKCFsaW5lTm9kZSB8fCBsaW5lTm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAobGluZU5vZGUucGFyZW50Tm9kZSAmJiBsaW5lTm9kZS5wYXJlbnROb2RlID09IGNtLmRpc3BsYXkubGluZURpdikgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20uZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSBjbS5kaXNwbGF5LnZpZXdbaV07XG4gICAgICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lTm9kZSlcbiAgICAgICAgcmV0dXJuIGxvY2F0ZU5vZGVJbkxpbmVWaWV3KGxpbmVWaWV3LCBub2RlLCBvZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2F0ZU5vZGVJbkxpbmVWaWV3KGxpbmVWaWV3LCBub2RlLCBvZmZzZXQpIHtcbiAgICB2YXIgd3JhcHBlciA9IGxpbmVWaWV3LnRleHQuZmlyc3RDaGlsZCwgYmFkID0gZmFsc2U7XG4gICAgaWYgKCFub2RlIHx8ICFjb250YWlucyh3cmFwcGVyLCBub2RlKSkgcmV0dXJuIGJhZFBvcyhQb3MobGluZU5vKGxpbmVWaWV3LmxpbmUpLCAwKSwgdHJ1ZSk7XG4gICAgaWYgKG5vZGUgPT0gd3JhcHBlcikge1xuICAgICAgYmFkID0gdHJ1ZTtcbiAgICAgIG5vZGUgPSB3cmFwcGVyLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBsaW5lVmlldy5yZXN0ID8gbHN0KGxpbmVWaWV3LnJlc3QpIDogbGluZVZpZXcubGluZTtcbiAgICAgICAgcmV0dXJuIGJhZFBvcyhQb3MobGluZU5vKGxpbmUpLCBsaW5lLnRleHQubGVuZ3RoKSwgYmFkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdGV4dE5vZGUgPSBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlIDogbnVsbCwgdG9wTm9kZSA9IG5vZGU7XG4gICAgaWYgKCF0ZXh0Tm9kZSAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoID09IDEgJiYgbm9kZS5maXJzdENoaWxkLm5vZGVUeXBlID09IDMpIHtcbiAgICAgIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKG9mZnNldCkgb2Zmc2V0ID0gdGV4dE5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICB9XG4gICAgd2hpbGUgKHRvcE5vZGUucGFyZW50Tm9kZSAhPSB3cmFwcGVyKSB0b3BOb2RlID0gdG9wTm9kZS5wYXJlbnROb2RlO1xuICAgIHZhciBtZWFzdXJlID0gbGluZVZpZXcubWVhc3VyZSwgbWFwcyA9IG1lYXN1cmUubWFwcztcblxuICAgIGZ1bmN0aW9uIGZpbmQodGV4dE5vZGUsIHRvcE5vZGUsIG9mZnNldCkge1xuICAgICAgZm9yICh2YXIgaSA9IC0xOyBpIDwgKG1hcHMgPyBtYXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcCA9IGkgPCAwID8gbWVhc3VyZS5tYXAgOiBtYXBzW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcC5sZW5ndGg7IGogKz0gMykge1xuICAgICAgICAgIHZhciBjdXJOb2RlID0gbWFwW2ogKyAyXTtcbiAgICAgICAgICBpZiAoY3VyTm9kZSA9PSB0ZXh0Tm9kZSB8fCBjdXJOb2RlID09IHRvcE5vZGUpIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gbGluZU5vKGkgPCAwID8gbGluZVZpZXcubGluZSA6IGxpbmVWaWV3LnJlc3RbaV0pO1xuICAgICAgICAgICAgdmFyIGNoID0gbWFwW2pdICsgb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgY3VyTm9kZSAhPSB0ZXh0Tm9kZSkgY2ggPSBtYXBbaiArIChvZmZzZXQgPyAxIDogMCldO1xuICAgICAgICAgICAgcmV0dXJuIFBvcyhsaW5lLCBjaCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBmb3VuZCA9IGZpbmQodGV4dE5vZGUsIHRvcE5vZGUsIG9mZnNldCk7XG4gICAgaWYgKGZvdW5kKSByZXR1cm4gYmFkUG9zKGZvdW5kLCBiYWQpO1xuXG4gICAgLy8gRklYTUUgdGhpcyBpcyBhbGwgcmVhbGx5IHNoYWt5LiBtaWdodCBoYW5kbGUgdGhlIGZldyBjYXNlcyBpdCBuZWVkcyB0byBoYW5kbGUsIGJ1dCBsaWtlbHkgdG8gY2F1c2UgcHJvYmxlbXNcbiAgICBmb3IgKHZhciBhZnRlciA9IHRvcE5vZGUubmV4dFNpYmxpbmcsIGRpc3QgPSB0ZXh0Tm9kZSA/IHRleHROb2RlLm5vZGVWYWx1ZS5sZW5ndGggLSBvZmZzZXQgOiAwOyBhZnRlcjsgYWZ0ZXIgPSBhZnRlci5uZXh0U2libGluZykge1xuICAgICAgZm91bmQgPSBmaW5kKGFmdGVyLCBhZnRlci5maXJzdENoaWxkLCAwKTtcbiAgICAgIGlmIChmb3VuZClcbiAgICAgICAgcmV0dXJuIGJhZFBvcyhQb3MoZm91bmQubGluZSwgZm91bmQuY2ggLSBkaXN0KSwgYmFkKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGlzdCArPSBhZnRlci50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgfVxuICAgIGZvciAodmFyIGJlZm9yZSA9IHRvcE5vZGUucHJldmlvdXNTaWJsaW5nLCBkaXN0ID0gb2Zmc2V0OyBiZWZvcmU7IGJlZm9yZSA9IGJlZm9yZS5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgIGZvdW5kID0gZmluZChiZWZvcmUsIGJlZm9yZS5maXJzdENoaWxkLCAtMSk7XG4gICAgICBpZiAoZm91bmQpXG4gICAgICAgIHJldHVybiBiYWRQb3MoUG9zKGZvdW5kLmxpbmUsIGZvdW5kLmNoICsgZGlzdCksIGJhZCk7XG4gICAgICBlbHNlXG4gICAgICAgIGRpc3QgKz0gYWZ0ZXIudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbVRleHRCZXR3ZWVuKGNtLCBmcm9tLCB0bywgZnJvbUxpbmUsIHRvTGluZSkge1xuICAgIHZhciB0ZXh0ID0gXCJcIiwgY2xvc2luZyA9IGZhbHNlLCBsaW5lU2VwID0gY20uZG9jLmxpbmVTZXBhcmF0b3IoKTtcbiAgICBmdW5jdGlvbiByZWNvZ25pemVNYXJrZXIoaWQpIHsgcmV0dXJuIGZ1bmN0aW9uKG1hcmtlcikgeyByZXR1cm4gbWFya2VyLmlkID09IGlkOyB9OyB9XG4gICAgZnVuY3Rpb24gd2Fsayhub2RlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIHZhciBjbVRleHQgPSBub2RlLmdldEF0dHJpYnV0ZShcImNtLXRleHRcIik7XG4gICAgICAgIGlmIChjbVRleHQgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChjbVRleHQgPT0gXCJcIikgY21UZXh0ID0gbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHUyMDBiL2csIFwiXCIpO1xuICAgICAgICAgIHRleHQgKz0gY21UZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFya2VySUQgPSBub2RlLmdldEF0dHJpYnV0ZShcImNtLW1hcmtlclwiKSwgcmFuZ2U7XG4gICAgICAgIGlmIChtYXJrZXJJRCkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGNtLmZpbmRNYXJrcyhQb3MoZnJvbUxpbmUsIDApLCBQb3ModG9MaW5lICsgMSwgMCksIHJlY29nbml6ZU1hcmtlcigrbWFya2VySUQpKTtcbiAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoICYmIChyYW5nZSA9IGZvdW5kWzBdLmZpbmQoKSkpXG4gICAgICAgICAgICB0ZXh0ICs9IGdldEJldHdlZW4oY20uZG9jLCByYW5nZS5mcm9tLCByYW5nZS50bykuam9pbihsaW5lU2VwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpID09IFwiZmFsc2VcIikgcmV0dXJuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICB3YWxrKG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgIGlmICgvXihwcmV8ZGl2fHApJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSkpXG4gICAgICAgICAgY2xvc2luZyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICB2YXIgdmFsID0gbm9kZS5ub2RlVmFsdWU7XG4gICAgICAgIGlmICghdmFsKSByZXR1cm47XG4gICAgICAgIGlmIChjbG9zaW5nKSB7XG4gICAgICAgICAgdGV4dCArPSBsaW5lU2VwO1xuICAgICAgICAgIGNsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICg7Oykge1xuICAgICAgd2Fsayhmcm9tKTtcbiAgICAgIGlmIChmcm9tID09IHRvKSBicmVhaztcbiAgICAgIGZyb20gPSBmcm9tLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIENvZGVNaXJyb3IuaW5wdXRTdHlsZXMgPSB7XCJ0ZXh0YXJlYVwiOiBUZXh0YXJlYUlucHV0LCBcImNvbnRlbnRlZGl0YWJsZVwiOiBDb250ZW50RWRpdGFibGVJbnB1dH07XG5cbiAgLy8gU0VMRUNUSU9OIC8gQ1VSU09SXG5cbiAgLy8gU2VsZWN0aW9uIG9iamVjdHMgYXJlIGltbXV0YWJsZS4gQSBuZXcgb25lIGlzIGNyZWF0ZWQgZXZlcnkgdGltZVxuICAvLyB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuIEEgc2VsZWN0aW9uIGlzIG9uZSBvciBtb3JlIG5vbi1vdmVybGFwcGluZ1xuICAvLyAoYW5kIG5vbi10b3VjaGluZykgcmFuZ2VzLCBzb3J0ZWQsIGFuZCBhbiBpbnRlZ2VyIHRoYXQgaW5kaWNhdGVzXG4gIC8vIHdoaWNoIG9uZSBpcyB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gKHRoZSBvbmUgdGhhdCdzIHNjcm9sbGVkIGludG9cbiAgLy8gdmlldywgdGhhdCBnZXRDdXJzb3IgcmV0dXJucywgZXRjKS5cbiAgZnVuY3Rpb24gU2VsZWN0aW9uKHJhbmdlcywgcHJpbUluZGV4KSB7XG4gICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgdGhpcy5wcmltSW5kZXggPSBwcmltSW5kZXg7XG4gIH1cblxuICBTZWxlY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIHByaW1hcnk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5wcmltSW5kZXhdOyB9LFxuICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIGlmIChvdGhlciA9PSB0aGlzKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChvdGhlci5wcmltSW5kZXggIT0gdGhpcy5wcmltSW5kZXggfHwgb3RoZXIucmFuZ2VzLmxlbmd0aCAhPSB0aGlzLnJhbmdlcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGhlcmUgPSB0aGlzLnJhbmdlc1tpXSwgdGhlcmUgPSBvdGhlci5yYW5nZXNbaV07XG4gICAgICAgIGlmIChjbXAoaGVyZS5hbmNob3IsIHRoZXJlLmFuY2hvcikgIT0gMCB8fCBjbXAoaGVyZS5oZWFkLCB0aGVyZS5oZWFkKSAhPSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlZXBDb3B5OiBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIG91dCA9IFtdLCBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoY29weVBvcyh0aGlzLnJhbmdlc1tpXS5hbmNob3IpLCBjb3B5UG9zKHRoaXMucmFuZ2VzW2ldLmhlYWQpKTtcbiAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKG91dCwgdGhpcy5wcmltSW5kZXgpO1xuICAgIH0sXG4gICAgc29tZXRoaW5nU2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCF0aGlzLnJhbmdlc1tpXS5lbXB0eSgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihwb3MsIGVuZCkge1xuICAgICAgaWYgKCFlbmQpIGVuZCA9IHBvcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5yYW5nZXNbaV07XG4gICAgICAgIGlmIChjbXAoZW5kLCByYW5nZS5mcm9tKCkpID49IDAgJiYgY21wKHBvcywgcmFuZ2UudG8oKSkgPD0gMClcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gUmFuZ2UoYW5jaG9yLCBoZWFkKSB7XG4gICAgdGhpcy5hbmNob3IgPSBhbmNob3I7IHRoaXMuaGVhZCA9IGhlYWQ7XG4gIH1cblxuICBSYW5nZS5wcm90b3R5cGUgPSB7XG4gICAgZnJvbTogZnVuY3Rpb24oKSB7IHJldHVybiBtaW5Qb3ModGhpcy5hbmNob3IsIHRoaXMuaGVhZCk7IH0sXG4gICAgdG86IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWF4UG9zKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpOyB9LFxuICAgIGVtcHR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlYWQubGluZSA9PSB0aGlzLmFuY2hvci5saW5lICYmIHRoaXMuaGVhZC5jaCA9PSB0aGlzLmFuY2hvci5jaDtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGFrZSBhbiB1bnNvcnRlZCwgcG90ZW50aWFsbHkgb3ZlcmxhcHBpbmcgc2V0IG9mIHJhbmdlcywgYW5kXG4gIC8vIGJ1aWxkIGEgc2VsZWN0aW9uIG91dCBvZiBpdC4gJ0NvbnN1bWVzJyByYW5nZXMgYXJyYXkgKG1vZGlmeWluZ1xuICAvLyBpdCkuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleCkge1xuICAgIHZhciBwcmltID0gcmFuZ2VzW3ByaW1JbmRleF07XG4gICAgcmFuZ2VzLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gY21wKGEuZnJvbSgpLCBiLmZyb20oKSk7IH0pO1xuICAgIHByaW1JbmRleCA9IGluZGV4T2YocmFuZ2VzLCBwcmltKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IHJhbmdlc1tpXSwgcHJldiA9IHJhbmdlc1tpIC0gMV07XG4gICAgICBpZiAoY21wKHByZXYudG8oKSwgY3VyLmZyb20oKSkgPj0gMCkge1xuICAgICAgICB2YXIgZnJvbSA9IG1pblBvcyhwcmV2LmZyb20oKSwgY3VyLmZyb20oKSksIHRvID0gbWF4UG9zKHByZXYudG8oKSwgY3VyLnRvKCkpO1xuICAgICAgICB2YXIgaW52ID0gcHJldi5lbXB0eSgpID8gY3VyLmZyb20oKSA9PSBjdXIuaGVhZCA6IHByZXYuZnJvbSgpID09IHByZXYuaGVhZDtcbiAgICAgICAgaWYgKGkgPD0gcHJpbUluZGV4KSAtLXByaW1JbmRleDtcbiAgICAgICAgcmFuZ2VzLnNwbGljZSgtLWksIDIsIG5ldyBSYW5nZShpbnYgPyB0byA6IGZyb20sIGludiA/IGZyb20gOiB0bykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSB7XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW25ldyBSYW5nZShhbmNob3IsIGhlYWQgfHwgYW5jaG9yKV0sIDApO1xuICB9XG5cbiAgLy8gTW9zdCBvZiB0aGUgZXh0ZXJuYWwgQVBJIGNsaXBzIGdpdmVuIHBvc2l0aW9ucyB0byBtYWtlIHN1cmUgdGhleVxuICAvLyBhY3R1YWxseSBleGlzdCB3aXRoaW4gdGhlIGRvY3VtZW50LlxuICBmdW5jdGlvbiBjbGlwTGluZShkb2MsIG4pIHtyZXR1cm4gTWF0aC5tYXgoZG9jLmZpcnN0LCBNYXRoLm1pbihuLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpKTt9XG4gIGZ1bmN0aW9uIGNsaXBQb3MoZG9jLCBwb3MpIHtcbiAgICBpZiAocG9zLmxpbmUgPCBkb2MuZmlyc3QpIHJldHVybiBQb3MoZG9jLmZpcnN0LCAwKTtcbiAgICB2YXIgbGFzdCA9IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMTtcbiAgICBpZiAocG9zLmxpbmUgPiBsYXN0KSByZXR1cm4gUG9zKGxhc3QsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIGNsaXBUb0xlbihwb3MsIGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dC5sZW5ndGgpO1xuICB9XG4gIGZ1bmN0aW9uIGNsaXBUb0xlbihwb3MsIGxpbmVsZW4pIHtcbiAgICB2YXIgY2ggPSBwb3MuY2g7XG4gICAgaWYgKGNoID09IG51bGwgfHwgY2ggPiBsaW5lbGVuKSByZXR1cm4gUG9zKHBvcy5saW5lLCBsaW5lbGVuKTtcbiAgICBlbHNlIGlmIChjaCA8IDApIHJldHVybiBQb3MocG9zLmxpbmUsIDApO1xuICAgIGVsc2UgcmV0dXJuIHBvcztcbiAgfVxuICBmdW5jdGlvbiBpc0xpbmUoZG9jLCBsKSB7cmV0dXJuIGwgPj0gZG9jLmZpcnN0ICYmIGwgPCBkb2MuZmlyc3QgKyBkb2Muc2l6ZTt9XG4gIGZ1bmN0aW9uIGNsaXBQb3NBcnJheShkb2MsIGFycmF5KSB7XG4gICAgZm9yICh2YXIgb3V0ID0gW10sIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIG91dFtpXSA9IGNsaXBQb3MoZG9jLCBhcnJheVtpXSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8vIFNFTEVDVElPTiBVUERBVEVTXG5cbiAgLy8gVGhlICdzY3JvbGwnIHBhcmFtZXRlciBnaXZlbiB0byBtYW55IG9mIHRoZXNlIGluZGljYXRlZCB3aGV0aGVyXG4gIC8vIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uIHNob3VsZCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgYWZ0ZXJcbiAgLy8gbW9kaWZ5aW5nIHRoZSBzZWxlY3Rpb24uXG5cbiAgLy8gSWYgc2hpZnQgaXMgaGVsZCBvciB0aGUgZXh0ZW5kIGZsYWcgaXMgc2V0LCBleHRlbmRzIGEgcmFuZ2UgdG9cbiAgLy8gaW5jbHVkZSBhIGdpdmVuIHBvc2l0aW9uIChhbmQgb3B0aW9uYWxseSBhIHNlY29uZCBwb3NpdGlvbikuXG4gIC8vIE90aGVyd2lzZSwgc2ltcGx5IHJldHVybnMgdGhlIHJhbmdlIGJldHdlZW4gdGhlIGdpdmVuIHBvc2l0aW9ucy5cbiAgLy8gVXNlZCBmb3IgY3Vyc29yIG1vdGlvbiBhbmQgc3VjaC5cbiAgZnVuY3Rpb24gZXh0ZW5kUmFuZ2UoZG9jLCByYW5nZSwgaGVhZCwgb3RoZXIpIHtcbiAgICBpZiAoZG9jLmNtICYmIGRvYy5jbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpIHtcbiAgICAgIHZhciBhbmNob3IgPSByYW5nZS5hbmNob3I7XG4gICAgICBpZiAob3RoZXIpIHtcbiAgICAgICAgdmFyIHBvc0JlZm9yZSA9IGNtcChoZWFkLCBhbmNob3IpIDwgMDtcbiAgICAgICAgaWYgKHBvc0JlZm9yZSAhPSAoY21wKG90aGVyLCBhbmNob3IpIDwgMCkpIHtcbiAgICAgICAgICBhbmNob3IgPSBoZWFkO1xuICAgICAgICAgIGhlYWQgPSBvdGhlcjtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NCZWZvcmUgIT0gKGNtcChoZWFkLCBvdGhlcikgPCAwKSkge1xuICAgICAgICAgIGhlYWQgPSBvdGhlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZShhbmNob3IsIGhlYWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKG90aGVyIHx8IGhlYWQsIGhlYWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV4dGVuZCB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gcmFuZ2UsIGRpc2NhcmQgdGhlIHJlc3QuXG4gIGZ1bmN0aW9uIGV4dGVuZFNlbGVjdGlvbihkb2MsIGhlYWQsIG90aGVyLCBvcHRpb25zKSB7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgbmV3IFNlbGVjdGlvbihbZXh0ZW5kUmFuZ2UoZG9jLCBkb2Muc2VsLnByaW1hcnkoKSwgaGVhZCwgb3RoZXIpXSwgMCksIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gRXh0ZW5kIGFsbCBzZWxlY3Rpb25zIChwb3MgaXMgYW4gYXJyYXkgb2Ygc2VsZWN0aW9ucyB3aXRoIGxlbmd0aFxuICAvLyBlcXVhbCB0aGUgbnVtYmVyIG9mIHNlbGVjdGlvbnMpXG4gIGZ1bmN0aW9uIGV4dGVuZFNlbGVjdGlvbnMoZG9jLCBoZWFkcywgb3B0aW9ucykge1xuICAgIGZvciAodmFyIG91dCA9IFtdLCBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgb3V0W2ldID0gZXh0ZW5kUmFuZ2UoZG9jLCBkb2Muc2VsLnJhbmdlc1tpXSwgaGVhZHNbaV0sIG51bGwpO1xuICAgIHZhciBuZXdTZWwgPSBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleCk7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgbmV3U2VsLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgYSBzaW5nbGUgcmFuZ2UgaW4gdGhlIHNlbGVjdGlvbi5cbiAgZnVuY3Rpb24gcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIGksIHJhbmdlLCBvcHRpb25zKSB7XG4gICAgdmFyIHJhbmdlcyA9IGRvYy5zZWwucmFuZ2VzLnNsaWNlKDApO1xuICAgIHJhbmdlc1tpXSA9IHJhbmdlO1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIGRvYy5zZWwucHJpbUluZGV4KSwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBSZXNldCB0aGUgc2VsZWN0aW9uIHRvIGEgc2luZ2xlIHJhbmdlLlxuICBmdW5jdGlvbiBzZXRTaW1wbGVTZWxlY3Rpb24oZG9jLCBhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBHaXZlIGJlZm9yZVNlbGVjdGlvbkNoYW5nZSBoYW5kbGVycyBhIGNoYW5nZSB0byBpbmZsdWVuY2UgYVxuICAvLyBzZWxlY3Rpb24gdXBkYXRlLlxuICBmdW5jdGlvbiBmaWx0ZXJTZWxlY3Rpb25DaGFuZ2UoZG9jLCBzZWwpIHtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgcmFuZ2VzOiBzZWwucmFuZ2VzLFxuICAgICAgdXBkYXRlOiBmdW5jdGlvbihyYW5nZXMpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgdGhpcy5yYW5nZXNbaV0gPSBuZXcgUmFuZ2UoY2xpcFBvcyhkb2MsIHJhbmdlc1tpXS5hbmNob3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3MoZG9jLCByYW5nZXNbaV0uaGVhZCkpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2lnbmFsKGRvYywgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIiwgZG9jLCBvYmopO1xuICAgIGlmIChkb2MuY20pIHNpZ25hbChkb2MuY20sIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKTtcbiAgICBpZiAob2JqLnJhbmdlcyAhPSBzZWwucmFuZ2VzKSByZXR1cm4gbm9ybWFsaXplU2VsZWN0aW9uKG9iai5yYW5nZXMsIG9iai5yYW5nZXMubGVuZ3RoIC0gMSk7XG4gICAgZWxzZSByZXR1cm4gc2VsO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkoZG9jLCBzZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgZG9uZSA9IGRvYy5oaXN0b3J5LmRvbmUsIGxhc3QgPSBsc3QoZG9uZSk7XG4gICAgaWYgKGxhc3QgJiYgbGFzdC5yYW5nZXMpIHtcbiAgICAgIGRvbmVbZG9uZS5sZW5ndGggLSAxXSA9IHNlbDtcbiAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIHNlbCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0IGEgbmV3IHNlbGVjdGlvbi5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKTtcbiAgICBhZGRTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLCBkb2Muc2VsLCBkb2MuY20gPyBkb2MuY20uY3VyT3AuaWQgOiBOYU4sIG9wdGlvbnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgaWYgKGhhc0hhbmRsZXIoZG9jLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIpKVxuICAgICAgc2VsID0gZmlsdGVyU2VsZWN0aW9uQ2hhbmdlKGRvYywgc2VsKTtcblxuICAgIHZhciBiaWFzID0gb3B0aW9ucyAmJiBvcHRpb25zLmJpYXMgfHxcbiAgICAgIChjbXAoc2VsLnByaW1hcnkoKS5oZWFkLCBkb2Muc2VsLnByaW1hcnkoKS5oZWFkKSA8IDAgPyAtMSA6IDEpO1xuICAgIHNldFNlbGVjdGlvbklubmVyKGRvYywgc2tpcEF0b21pY0luU2VsZWN0aW9uKGRvYywgc2VsLCBiaWFzLCB0cnVlKSk7XG5cbiAgICBpZiAoIShvcHRpb25zICYmIG9wdGlvbnMuc2Nyb2xsID09PSBmYWxzZSkgJiYgZG9jLmNtKVxuICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShkb2MuY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBzZWwpIHtcbiAgICBpZiAoc2VsLmVxdWFscyhkb2Muc2VsKSkgcmV0dXJuO1xuXG4gICAgZG9jLnNlbCA9IHNlbDtcblxuICAgIGlmIChkb2MuY20pIHtcbiAgICAgIGRvYy5jbS5jdXJPcC51cGRhdGVJbnB1dCA9IGRvYy5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHNpZ25hbEN1cnNvckFjdGl2aXR5KGRvYy5jbSk7XG4gICAgfVxuICAgIHNpZ25hbExhdGVyKGRvYywgXCJjdXJzb3JBY3Rpdml0eVwiLCBkb2MpO1xuICB9XG5cbiAgLy8gVmVyaWZ5IHRoYXQgdGhlIHNlbGVjdGlvbiBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWNcbiAgLy8gbWFya2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gcmVDaGVja1NlbGVjdGlvbihkb2MpIHtcbiAgICBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIGRvYy5zZWwsIG51bGwsIGZhbHNlKSwgc2VsX2RvbnRTY3JvbGwpO1xuICB9XG5cbiAgLy8gUmV0dXJuIGEgc2VsZWN0aW9uIHRoYXQgZG9lcyBub3QgcGFydGlhbGx5IHNlbGVjdCBhbnkgYXRvbWljXG4gIC8vIHJhbmdlcy5cbiAgZnVuY3Rpb24gc2tpcEF0b21pY0luU2VsZWN0aW9uKGRvYywgc2VsLCBiaWFzLCBtYXlDbGVhcikge1xuICAgIHZhciBvdXQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIG5ld0FuY2hvciA9IHNraXBBdG9taWMoZG9jLCByYW5nZS5hbmNob3IsIGJpYXMsIG1heUNsZWFyKTtcbiAgICAgIHZhciBuZXdIZWFkID0gc2tpcEF0b21pYyhkb2MsIHJhbmdlLmhlYWQsIGJpYXMsIG1heUNsZWFyKTtcbiAgICAgIGlmIChvdXQgfHwgbmV3QW5jaG9yICE9IHJhbmdlLmFuY2hvciB8fCBuZXdIZWFkICE9IHJhbmdlLmhlYWQpIHtcbiAgICAgICAgaWYgKCFvdXQpIG91dCA9IHNlbC5yYW5nZXMuc2xpY2UoMCwgaSk7XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShuZXdBbmNob3IsIG5ld0hlYWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0ID8gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgc2VsLnByaW1JbmRleCkgOiBzZWw7XG4gIH1cblxuICAvLyBFbnN1cmUgYSBnaXZlbiBwb3NpdGlvbiBpcyBub3QgaW5zaWRlIGFuIGF0b21pYyByYW5nZS5cbiAgZnVuY3Rpb24gc2tpcEF0b21pYyhkb2MsIHBvcywgYmlhcywgbWF5Q2xlYXIpIHtcbiAgICB2YXIgZmxpcHBlZCA9IGZhbHNlLCBjdXJQb3MgPSBwb3M7XG4gICAgdmFyIGRpciA9IGJpYXMgfHwgMTtcbiAgICBkb2MuY2FudEVkaXQgPSBmYWxzZTtcbiAgICBzZWFyY2g6IGZvciAoOzspIHtcbiAgICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGN1clBvcy5saW5lKTtcbiAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS5tYXJrZWRTcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhciBzcCA9IGxpbmUubWFya2VkU3BhbnNbaV0sIG0gPSBzcC5tYXJrZXI7XG4gICAgICAgICAgaWYgKChzcC5mcm9tID09IG51bGwgfHwgKG0uaW5jbHVzaXZlTGVmdCA/IHNwLmZyb20gPD0gY3VyUG9zLmNoIDogc3AuZnJvbSA8IGN1clBvcy5jaCkpICYmXG4gICAgICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IChtLmluY2x1c2l2ZVJpZ2h0ID8gc3AudG8gPj0gY3VyUG9zLmNoIDogc3AudG8gPiBjdXJQb3MuY2gpKSkge1xuICAgICAgICAgICAgaWYgKG1heUNsZWFyKSB7XG4gICAgICAgICAgICAgIHNpZ25hbChtLCBcImJlZm9yZUN1cnNvckVudGVyXCIpO1xuICAgICAgICAgICAgICBpZiAobS5leHBsaWNpdGx5Q2xlYXJlZCkge1xuICAgICAgICAgICAgICAgIGlmICghbGluZS5tYXJrZWRTcGFucykgYnJlYWs7XG4gICAgICAgICAgICAgICAgZWxzZSB7LS1pOyBjb250aW51ZTt9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbS5hdG9taWMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIG5ld1BvcyA9IG0uZmluZChkaXIgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgICAgIGlmIChjbXAobmV3UG9zLCBjdXJQb3MpID09IDApIHtcbiAgICAgICAgICAgICAgbmV3UG9zLmNoICs9IGRpcjtcbiAgICAgICAgICAgICAgaWYgKG5ld1Bvcy5jaCA8IDApIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3UG9zLmxpbmUgPiBkb2MuZmlyc3QpIG5ld1BvcyA9IGNsaXBQb3MoZG9jLCBQb3MobmV3UG9zLmxpbmUgLSAxKSk7XG4gICAgICAgICAgICAgICAgZWxzZSBuZXdQb3MgPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1Bvcy5jaCA+IGxpbmUudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3UG9zLmxpbmUgPCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpIG5ld1BvcyA9IFBvcyhuZXdQb3MubGluZSArIDEsIDApO1xuICAgICAgICAgICAgICAgIGVsc2UgbmV3UG9zID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIW5ld1Bvcykge1xuICAgICAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAvLyBEcml2ZW4gaW4gYSBjb3JuZXIgLS0gbm8gdmFsaWQgY3Vyc29yIHBvc2l0aW9uIGZvdW5kIGF0IGFsbFxuICAgICAgICAgICAgICAgICAgLy8gLS0gdHJ5IGFnYWluICp3aXRoKiBjbGVhcmluZywgaWYgd2UgZGlkbid0IGFscmVhZHlcbiAgICAgICAgICAgICAgICAgIGlmICghbWF5Q2xlYXIpIHJldHVybiBza2lwQXRvbWljKGRvYywgcG9zLCBiaWFzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdHVybiBvZmYgZWRpdGluZyB1bnRpbCBmdXJ0aGVyIG5vdGljZSwgYW5kIHJldHVybiB0aGUgc3RhcnQgb2YgdGhlIGRvY1xuICAgICAgICAgICAgICAgICAgZG9jLmNhbnRFZGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQb3MoZG9jLmZpcnN0LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmxpcHBlZCA9IHRydWU7IG5ld1BvcyA9IHBvczsgZGlyID0gLWRpcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyUG9zID0gbmV3UG9zO1xuICAgICAgICAgICAgY29udGludWUgc2VhcmNoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGN1clBvcztcbiAgICB9XG4gIH1cblxuICAvLyBTRUxFQ1RJT04gRFJBV0lOR1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbihjbSkge1xuICAgIGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihjbS5kaXNwbGF5LmlucHV0LnByZXBhcmVTZWxlY3Rpb24oKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlU2VsZWN0aW9uKGNtLCBwcmltYXJ5KSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgcmVzdWx0ID0ge307XG4gICAgdmFyIGN1ckZyYWdtZW50ID0gcmVzdWx0LmN1cnNvcnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgdmFyIHNlbEZyYWdtZW50ID0gcmVzdWx0LnNlbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcmltYXJ5ID09PSBmYWxzZSAmJiBpID09IGRvYy5zZWwucHJpbUluZGV4KSBjb250aW51ZTtcbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIGNvbGxhcHNlZCA9IHJhbmdlLmVtcHR5KCk7XG4gICAgICBpZiAoY29sbGFwc2VkIHx8IGNtLm9wdGlvbnMuc2hvd0N1cnNvcldoZW5TZWxlY3RpbmcpXG4gICAgICAgIGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIHJhbmdlLmhlYWQsIGN1ckZyYWdtZW50KTtcbiAgICAgIGlmICghY29sbGFwc2VkKVxuICAgICAgICBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlLCBzZWxGcmFnbWVudCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBEcmF3cyBhIGN1cnNvciBmb3IgdGhlIGdpdmVuIHJhbmdlXG4gIGZ1bmN0aW9uIGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIGhlYWQsIG91dHB1dCkge1xuICAgIHZhciBwb3MgPSBjdXJzb3JDb29yZHMoY20sIGhlYWQsIFwiZGl2XCIsIG51bGwsIG51bGwsICFjbS5vcHRpb25zLnNpbmdsZUN1cnNvckhlaWdodFBlckxpbmUpO1xuXG4gICAgdmFyIGN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgXCJcXHUwMGEwXCIsIFwiQ29kZU1pcnJvci1jdXJzb3JcIikpO1xuICAgIGN1cnNvci5zdHlsZS5sZWZ0ID0gcG9zLmxlZnQgKyBcInB4XCI7XG4gICAgY3Vyc29yLnN0eWxlLnRvcCA9IHBvcy50b3AgKyBcInB4XCI7XG4gICAgY3Vyc29yLnN0eWxlLmhlaWdodCA9IE1hdGgubWF4KDAsIHBvcy5ib3R0b20gLSBwb3MudG9wKSAqIGNtLm9wdGlvbnMuY3Vyc29ySGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgaWYgKHBvcy5vdGhlcikge1xuICAgICAgLy8gU2Vjb25kYXJ5IGN1cnNvciwgc2hvd24gd2hlbiBvbiBhICdqdW1wJyBpbiBiaS1kaXJlY3Rpb25hbCB0ZXh0XG4gICAgICB2YXIgb3RoZXJDdXJzb3IgPSBvdXRwdXQuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFwiXFx1MDBhMFwiLCBcIkNvZGVNaXJyb3ItY3Vyc29yIENvZGVNaXJyb3Itc2Vjb25kYXJ5Y3Vyc29yXCIpKTtcbiAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5vdGhlci5sZWZ0ICsgXCJweFwiO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUudG9wID0gcG9zLm90aGVyLnRvcCArIFwicHhcIjtcbiAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLmhlaWdodCA9IChwb3Mub3RoZXIuYm90dG9tIC0gcG9zLm90aGVyLnRvcCkgKiAuODUgKyBcInB4XCI7XG4gICAgfVxuICB9XG5cbiAgLy8gRHJhd3MgdGhlIGdpdmVuIHJhbmdlIGFzIGEgaGlnaGxpZ2h0ZWQgc2VsZWN0aW9uXG4gIGZ1bmN0aW9uIGRyYXdTZWxlY3Rpb25SYW5nZShjbSwgcmFuZ2UsIG91dHB1dCkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB2YXIgcGFkZGluZyA9IHBhZGRpbmdIKGNtLmRpc3BsYXkpLCBsZWZ0U2lkZSA9IHBhZGRpbmcubGVmdDtcbiAgICB2YXIgcmlnaHRTaWRlID0gTWF0aC5tYXgoZGlzcGxheS5zaXplcldpZHRoLCBkaXNwbGF5V2lkdGgoY20pIC0gZGlzcGxheS5zaXplci5vZmZzZXRMZWZ0KSAtIHBhZGRpbmcucmlnaHQ7XG5cbiAgICBmdW5jdGlvbiBhZGQobGVmdCwgdG9wLCB3aWR0aCwgYm90dG9tKSB7XG4gICAgICBpZiAodG9wIDwgMCkgdG9wID0gMDtcbiAgICAgIHRvcCA9IE1hdGgucm91bmQodG9wKTtcbiAgICAgIGJvdHRvbSA9IE1hdGgucm91bmQoYm90dG9tKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3Itc2VsZWN0ZWRcIiwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IFwiICsgbGVmdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJweDsgdG9wOiBcIiArIHRvcCArIFwicHg7IHdpZHRoOiBcIiArICh3aWR0aCA9PSBudWxsID8gcmlnaHRTaWRlIC0gbGVmdCA6IHdpZHRoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJweDsgaGVpZ2h0OiBcIiArIChib3R0b20gLSB0b3ApICsgXCJweFwiKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhd0ZvckxpbmUobGluZSwgZnJvbUFyZywgdG9BcmcpIHtcbiAgICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGxpbmUpO1xuICAgICAgdmFyIGxpbmVMZW4gPSBsaW5lT2JqLnRleHQubGVuZ3RoO1xuICAgICAgdmFyIHN0YXJ0LCBlbmQ7XG4gICAgICBmdW5jdGlvbiBjb29yZHMoY2gsIGJpYXMpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJDb29yZHMoY20sIFBvcyhsaW5lLCBjaCksIFwiZGl2XCIsIGxpbmVPYmosIGJpYXMpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlQmlkaVNlY3Rpb25zKGdldE9yZGVyKGxpbmVPYmopLCBmcm9tQXJnIHx8IDAsIHRvQXJnID09IG51bGwgPyBsaW5lTGVuIDogdG9BcmcsIGZ1bmN0aW9uKGZyb20sIHRvLCBkaXIpIHtcbiAgICAgICAgdmFyIGxlZnRQb3MgPSBjb29yZHMoZnJvbSwgXCJsZWZ0XCIpLCByaWdodFBvcywgbGVmdCwgcmlnaHQ7XG4gICAgICAgIGlmIChmcm9tID09IHRvKSB7XG4gICAgICAgICAgcmlnaHRQb3MgPSBsZWZ0UG9zO1xuICAgICAgICAgIGxlZnQgPSByaWdodCA9IGxlZnRQb3MubGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByaWdodFBvcyA9IGNvb3Jkcyh0byAtIDEsIFwicmlnaHRcIik7XG4gICAgICAgICAgaWYgKGRpciA9PSBcInJ0bFwiKSB7IHZhciB0bXAgPSBsZWZ0UG9zOyBsZWZ0UG9zID0gcmlnaHRQb3M7IHJpZ2h0UG9zID0gdG1wOyB9XG4gICAgICAgICAgbGVmdCA9IGxlZnRQb3MubGVmdDtcbiAgICAgICAgICByaWdodCA9IHJpZ2h0UG9zLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tQXJnID09IG51bGwgJiYgZnJvbSA9PSAwKSBsZWZ0ID0gbGVmdFNpZGU7XG4gICAgICAgIGlmIChyaWdodFBvcy50b3AgLSBsZWZ0UG9zLnRvcCA+IDMpIHsgLy8gRGlmZmVyZW50IGxpbmVzLCBkcmF3IHRvcCBwYXJ0XG4gICAgICAgICAgYWRkKGxlZnQsIGxlZnRQb3MudG9wLCBudWxsLCBsZWZ0UG9zLmJvdHRvbSk7XG4gICAgICAgICAgbGVmdCA9IGxlZnRTaWRlO1xuICAgICAgICAgIGlmIChsZWZ0UG9zLmJvdHRvbSA8IHJpZ2h0UG9zLnRvcCkgYWRkKGxlZnQsIGxlZnRQb3MuYm90dG9tLCBudWxsLCByaWdodFBvcy50b3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b0FyZyA9PSBudWxsICYmIHRvID09IGxpbmVMZW4pIHJpZ2h0ID0gcmlnaHRTaWRlO1xuICAgICAgICBpZiAoIXN0YXJ0IHx8IGxlZnRQb3MudG9wIDwgc3RhcnQudG9wIHx8IGxlZnRQb3MudG9wID09IHN0YXJ0LnRvcCAmJiBsZWZ0UG9zLmxlZnQgPCBzdGFydC5sZWZ0KVxuICAgICAgICAgIHN0YXJ0ID0gbGVmdFBvcztcbiAgICAgICAgaWYgKCFlbmQgfHwgcmlnaHRQb3MuYm90dG9tID4gZW5kLmJvdHRvbSB8fCByaWdodFBvcy5ib3R0b20gPT0gZW5kLmJvdHRvbSAmJiByaWdodFBvcy5yaWdodCA+IGVuZC5yaWdodClcbiAgICAgICAgICBlbmQgPSByaWdodFBvcztcbiAgICAgICAgaWYgKGxlZnQgPCBsZWZ0U2lkZSArIDEpIGxlZnQgPSBsZWZ0U2lkZTtcbiAgICAgICAgYWRkKGxlZnQsIHJpZ2h0UG9zLnRvcCwgcmlnaHQgLSBsZWZ0LCByaWdodFBvcy5ib3R0b20pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9O1xuICAgIH1cblxuICAgIHZhciBzRnJvbSA9IHJhbmdlLmZyb20oKSwgc1RvID0gcmFuZ2UudG8oKTtcbiAgICBpZiAoc0Zyb20ubGluZSA9PSBzVG8ubGluZSkge1xuICAgICAgZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNUby5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmcm9tTGluZSA9IGdldExpbmUoZG9jLCBzRnJvbS5saW5lKSwgdG9MaW5lID0gZ2V0TGluZShkb2MsIHNUby5saW5lKTtcbiAgICAgIHZhciBzaW5nbGVWTGluZSA9IHZpc3VhbExpbmUoZnJvbUxpbmUpID09IHZpc3VhbExpbmUodG9MaW5lKTtcbiAgICAgIHZhciBsZWZ0RW5kID0gZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNpbmdsZVZMaW5lID8gZnJvbUxpbmUudGV4dC5sZW5ndGggKyAxIDogbnVsbCkuZW5kO1xuICAgICAgdmFyIHJpZ2h0U3RhcnQgPSBkcmF3Rm9yTGluZShzVG8ubGluZSwgc2luZ2xlVkxpbmUgPyAwIDogbnVsbCwgc1RvLmNoKS5zdGFydDtcbiAgICAgIGlmIChzaW5nbGVWTGluZSkge1xuICAgICAgICBpZiAobGVmdEVuZC50b3AgPCByaWdodFN0YXJ0LnRvcCAtIDIpIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIG51bGwsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgICBhZGQobGVmdFNpZGUsIHJpZ2h0U3RhcnQudG9wLCByaWdodFN0YXJ0LmxlZnQsIHJpZ2h0U3RhcnQuYm90dG9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIHJpZ2h0U3RhcnQubGVmdCAtIGxlZnRFbmQucmlnaHQsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxlZnRFbmQuYm90dG9tIDwgcmlnaHRTdGFydC50b3ApXG4gICAgICAgIGFkZChsZWZ0U2lkZSwgbGVmdEVuZC5ib3R0b20sIG51bGwsIHJpZ2h0U3RhcnQudG9wKTtcbiAgICB9XG5cbiAgICBvdXRwdXQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cbiAgLy8gQ3Vyc29yLWJsaW5raW5nXG4gIGZ1bmN0aW9uIHJlc3RhcnRCbGluayhjbSkge1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkgcmV0dXJuO1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBjbGVhckludGVydmFsKGRpc3BsYXkuYmxpbmtlcik7XG4gICAgdmFyIG9uID0gdHJ1ZTtcbiAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJcIjtcbiAgICBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPiAwKVxuICAgICAgZGlzcGxheS5ibGlua2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpc3BsYXkuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHkgPSAob24gPSAhb24pID8gXCJcIiA6IFwiaGlkZGVuXCI7XG4gICAgICB9LCBjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSk7XG4gICAgZWxzZSBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPCAwKVxuICAgICAgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIH1cblxuICAvLyBISUdITElHSFQgV09SS0VSXG5cbiAgZnVuY3Rpb24gc3RhcnRXb3JrZXIoY20sIHRpbWUpIHtcbiAgICBpZiAoY20uZG9jLm1vZGUuc3RhcnRTdGF0ZSAmJiBjbS5kb2MuZnJvbnRpZXIgPCBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgIGNtLnN0YXRlLmhpZ2hsaWdodC5zZXQodGltZSwgYmluZChoaWdobGlnaHRXb3JrZXIsIGNtKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWdobGlnaHRXb3JrZXIoY20pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jO1xuICAgIGlmIChkb2MuZnJvbnRpZXIgPCBkb2MuZmlyc3QpIGRvYy5mcm9udGllciA9IGRvYy5maXJzdDtcbiAgICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld1RvKSByZXR1cm47XG4gICAgdmFyIGVuZCA9ICtuZXcgRGF0ZSArIGNtLm9wdGlvbnMud29ya1RpbWU7XG4gICAgdmFyIHN0YXRlID0gY29weVN0YXRlKGRvYy5tb2RlLCBnZXRTdGF0ZUJlZm9yZShjbSwgZG9jLmZyb250aWVyKSk7XG4gICAgdmFyIGNoYW5nZWRMaW5lcyA9IFtdO1xuXG4gICAgZG9jLml0ZXIoZG9jLmZyb250aWVyLCBNYXRoLm1pbihkb2MuZmlyc3QgKyBkb2Muc2l6ZSwgY20uZGlzcGxheS52aWV3VG8gKyA1MDApLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgLy8gVmlzaWJsZVxuICAgICAgICB2YXIgb2xkU3R5bGVzID0gbGluZS5zdHlsZXMsIHRvb0xvbmcgPSBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGg7XG4gICAgICAgIHZhciBoaWdobGlnaHRlZCA9IGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIHRvb0xvbmcgPyBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSA6IHN0YXRlLCB0cnVlKTtcbiAgICAgICAgbGluZS5zdHlsZXMgPSBoaWdobGlnaHRlZC5zdHlsZXM7XG4gICAgICAgIHZhciBvbGRDbHMgPSBsaW5lLnN0eWxlQ2xhc3NlcywgbmV3Q2xzID0gaGlnaGxpZ2h0ZWQuY2xhc3NlcztcbiAgICAgICAgaWYgKG5ld0NscykgbGluZS5zdHlsZUNsYXNzZXMgPSBuZXdDbHM7XG4gICAgICAgIGVsc2UgaWYgKG9sZENscykgbGluZS5zdHlsZUNsYXNzZXMgPSBudWxsO1xuICAgICAgICB2YXIgaXNjaGFuZ2UgPSAhb2xkU3R5bGVzIHx8IG9sZFN0eWxlcy5sZW5ndGggIT0gbGluZS5zdHlsZXMubGVuZ3RoIHx8XG4gICAgICAgICAgb2xkQ2xzICE9IG5ld0NscyAmJiAoIW9sZENscyB8fCAhbmV3Q2xzIHx8IG9sZENscy5iZ0NsYXNzICE9IG5ld0Nscy5iZ0NsYXNzIHx8IG9sZENscy50ZXh0Q2xhc3MgIT0gbmV3Q2xzLnRleHRDbGFzcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyAhaXNjaGFuZ2UgJiYgaSA8IG9sZFN0eWxlcy5sZW5ndGg7ICsraSkgaXNjaGFuZ2UgPSBvbGRTdHlsZXNbaV0gIT0gbGluZS5zdHlsZXNbaV07XG4gICAgICAgIGlmIChpc2NoYW5nZSkgY2hhbmdlZExpbmVzLnB1c2goZG9jLmZyb250aWVyKTtcbiAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gdG9vTG9uZyA/IHN0YXRlIDogY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobGluZS50ZXh0Lmxlbmd0aCA8PSBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aClcbiAgICAgICAgICBwcm9jZXNzTGluZShjbSwgbGluZS50ZXh0LCBzdGF0ZSk7XG4gICAgICAgIGxpbmUuc3RhdGVBZnRlciA9IGRvYy5mcm9udGllciAlIDUgPT0gMCA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogbnVsbDtcbiAgICAgIH1cbiAgICAgICsrZG9jLmZyb250aWVyO1xuICAgICAgaWYgKCtuZXcgRGF0ZSA+IGVuZCkge1xuICAgICAgICBzdGFydFdvcmtlcihjbSwgY20ub3B0aW9ucy53b3JrRGVsYXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlZExpbmVzLmxlbmd0aCkgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZWRMaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgcmVnTGluZUNoYW5nZShjbSwgY2hhbmdlZExpbmVzW2ldLCBcInRleHRcIik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBGaW5kcyB0aGUgbGluZSB0byBzdGFydCB3aXRoIHdoZW4gc3RhcnRpbmcgYSBwYXJzZS4gVHJpZXMgdG9cbiAgLy8gZmluZCBhIGxpbmUgd2l0aCBhIHN0YXRlQWZ0ZXIsIHNvIHRoYXQgaXQgY2FuIHN0YXJ0IHdpdGggYVxuICAvLyB2YWxpZCBzdGF0ZS4gSWYgdGhhdCBmYWlscywgaXQgcmV0dXJucyB0aGUgbGluZSB3aXRoIHRoZVxuICAvLyBzbWFsbGVzdCBpbmRlbnRhdGlvbiwgd2hpY2ggdGVuZHMgdG8gbmVlZCB0aGUgbGVhc3QgY29udGV4dCB0b1xuICAvLyBwYXJzZSBjb3JyZWN0bHkuXG4gIGZ1bmN0aW9uIGZpbmRTdGFydExpbmUoY20sIG4sIHByZWNpc2UpIHtcbiAgICB2YXIgbWluaW5kZW50LCBtaW5saW5lLCBkb2MgPSBjbS5kb2M7XG4gICAgdmFyIGxpbSA9IHByZWNpc2UgPyAtMSA6IG4gLSAoY20uZG9jLm1vZGUuaW5uZXJNb2RlID8gMTAwMCA6IDEwMCk7XG4gICAgZm9yICh2YXIgc2VhcmNoID0gbjsgc2VhcmNoID4gbGltOyAtLXNlYXJjaCkge1xuICAgICAgaWYgKHNlYXJjaCA8PSBkb2MuZmlyc3QpIHJldHVybiBkb2MuZmlyc3Q7XG4gICAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBzZWFyY2ggLSAxKTtcbiAgICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIgJiYgKCFwcmVjaXNlIHx8IHNlYXJjaCA8PSBkb2MuZnJvbnRpZXIpKSByZXR1cm4gc2VhcmNoO1xuICAgICAgdmFyIGluZGVudGVkID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCBjbS5vcHRpb25zLnRhYlNpemUpO1xuICAgICAgaWYgKG1pbmxpbmUgPT0gbnVsbCB8fCBtaW5pbmRlbnQgPiBpbmRlbnRlZCkge1xuICAgICAgICBtaW5saW5lID0gc2VhcmNoIC0gMTtcbiAgICAgICAgbWluaW5kZW50ID0gaW5kZW50ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW5saW5lO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGVCZWZvcmUoY20sIG4sIHByZWNpc2UpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWRvYy5tb2RlLnN0YXJ0U3RhdGUpIHJldHVybiB0cnVlO1xuICAgIHZhciBwb3MgPSBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSwgc3RhdGUgPSBwb3MgPiBkb2MuZmlyc3QgJiYgZ2V0TGluZShkb2MsIHBvcy0xKS5zdGF0ZUFmdGVyO1xuICAgIGlmICghc3RhdGUpIHN0YXRlID0gc3RhcnRTdGF0ZShkb2MubW9kZSk7XG4gICAgZWxzZSBzdGF0ZSA9IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpO1xuICAgIGRvYy5pdGVyKHBvcywgbiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgc3RhdGUpO1xuICAgICAgdmFyIHNhdmUgPSBwb3MgPT0gbiAtIDEgfHwgcG9zICUgNSA9PSAwIHx8IHBvcyA+PSBkaXNwbGF5LnZpZXdGcm9tICYmIHBvcyA8IGRpc3BsYXkudmlld1RvO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gc2F2ZSA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogbnVsbDtcbiAgICAgICsrcG9zO1xuICAgIH0pO1xuICAgIGlmIChwcmVjaXNlKSBkb2MuZnJvbnRpZXIgPSBwb3M7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLy8gUE9TSVRJT04gTUVBU1VSRU1FTlRcblxuICBmdW5jdGlvbiBwYWRkaW5nVG9wKGRpc3BsYXkpIHtyZXR1cm4gZGlzcGxheS5saW5lU3BhY2Uub2Zmc2V0VG9wO31cbiAgZnVuY3Rpb24gcGFkZGluZ1ZlcnQoZGlzcGxheSkge3JldHVybiBkaXNwbGF5Lm1vdmVyLm9mZnNldEhlaWdodCAtIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldEhlaWdodDt9XG4gIGZ1bmN0aW9uIHBhZGRpbmdIKGRpc3BsYXkpIHtcbiAgICBpZiAoZGlzcGxheS5jYWNoZWRQYWRkaW5nSCkgcmV0dXJuIGRpc3BsYXkuY2FjaGVkUGFkZGluZ0g7XG4gICAgdmFyIGUgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIGVsdChcInByZVwiLCBcInhcIikpO1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkgOiBlLmN1cnJlbnRTdHlsZTtcbiAgICB2YXIgZGF0YSA9IHtsZWZ0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCksIHJpZ2h0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpfTtcbiAgICBpZiAoIWlzTmFOKGRhdGEubGVmdCkgJiYgIWlzTmFOKGRhdGEucmlnaHQpKSBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gZGF0YTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbEdhcChjbSkgeyByZXR1cm4gc2Nyb2xsZXJHYXAgLSBjbS5kaXNwbGF5Lm5hdGl2ZUJhcldpZHRoOyB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlXaWR0aChjbSkge1xuICAgIHJldHVybiBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFyV2lkdGg7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGxheUhlaWdodChjbSkge1xuICAgIHJldHVybiBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCAtIHNjcm9sbEdhcChjbSkgLSBjbS5kaXNwbGF5LmJhckhlaWdodDtcbiAgfVxuXG4gIC8vIEVuc3VyZSB0aGUgbGluZVZpZXcud3JhcHBpbmcuaGVpZ2h0cyBhcnJheSBpcyBwb3B1bGF0ZWQuIFRoaXMgaXNcbiAgLy8gYW4gYXJyYXkgb2YgYm90dG9tIG9mZnNldHMgZm9yIHRoZSBsaW5lcyB0aGF0IG1ha2UgdXAgYSBkcmF3blxuICAvLyBsaW5lLiBXaGVuIGxpbmVXcmFwcGluZyBpcyBvbiwgdGhlcmUgbWlnaHQgYmUgbW9yZSB0aGFuIG9uZVxuICAvLyBoZWlnaHQuXG4gIGZ1bmN0aW9uIGVuc3VyZUxpbmVIZWlnaHRzKGNtLCBsaW5lVmlldywgcmVjdCkge1xuICAgIHZhciB3cmFwcGluZyA9IGNtLm9wdGlvbnMubGluZVdyYXBwaW5nO1xuICAgIHZhciBjdXJXaWR0aCA9IHdyYXBwaW5nICYmIGRpc3BsYXlXaWR0aChjbSk7XG4gICAgaWYgKCFsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgfHwgd3JhcHBpbmcgJiYgbGluZVZpZXcubWVhc3VyZS53aWR0aCAhPSBjdXJXaWR0aCkge1xuICAgICAgdmFyIGhlaWdodHMgPSBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBbXTtcbiAgICAgIGlmICh3cmFwcGluZykge1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLndpZHRoID0gY3VyV2lkdGg7XG4gICAgICAgIHZhciByZWN0cyA9IGxpbmVWaWV3LnRleHQuZmlyc3RDaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgIHZhciBjdXIgPSByZWN0c1tpXSwgbmV4dCA9IHJlY3RzW2kgKyAxXTtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VyLmJvdHRvbSAtIG5leHQuYm90dG9tKSA+IDIpXG4gICAgICAgICAgICBoZWlnaHRzLnB1c2goKGN1ci5ib3R0b20gKyBuZXh0LnRvcCkgLyAyIC0gcmVjdC50b3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBoZWlnaHRzLnB1c2gocmVjdC5ib3R0b20gLSByZWN0LnRvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCBhIGxpbmUgbWFwIChtYXBwaW5nIGNoYXJhY3RlciBvZmZzZXRzIHRvIHRleHQgbm9kZXMpIGFuZCBhXG4gIC8vIG1lYXN1cmVtZW50IGNhY2hlIGZvciB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuIChBIGxpbmUgdmlldyBtaWdodFxuICAvLyBjb250YWluIG11bHRpcGxlIGxpbmVzIHdoZW4gY29sbGFwc2VkIHJhbmdlcyBhcmUgcHJlc2VudC4pXG4gIGZ1bmN0aW9uIG1hcEZyb21MaW5lVmlldyhsaW5lVmlldywgbGluZSwgbGluZU4pIHtcbiAgICBpZiAobGluZVZpZXcubGluZSA9PSBsaW5lKVxuICAgICAgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZX07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGxpbmVWaWV3LnJlc3RbaV0gPT0gbGluZSlcbiAgICAgICAgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpXSwgY2FjaGU6IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICBpZiAobGluZU5vKGxpbmVWaWV3LnJlc3RbaV0pID4gbGluZU4pXG4gICAgICAgIHJldHVybiB7bWFwOiBsaW5lVmlldy5tZWFzdXJlLm1hcHNbaV0sIGNhY2hlOiBsaW5lVmlldy5tZWFzdXJlLmNhY2hlc1tpXSwgYmVmb3JlOiB0cnVlfTtcbiAgfVxuXG4gIC8vIFJlbmRlciBhIGxpbmUgaW50byB0aGUgaGlkZGVuIG5vZGUgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkLiBVc2VkXG4gIC8vIHdoZW4gbWVhc3VyZW1lbnQgaXMgbmVlZGVkIGZvciBhIGxpbmUgdGhhdCdzIG5vdCBpbiB0aGUgdmlld3BvcnQuXG4gIGZ1bmN0aW9uIHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpIHtcbiAgICBsaW5lID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICB2YXIgbGluZU4gPSBsaW5lTm8obGluZSk7XG4gICAgdmFyIHZpZXcgPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBuZXcgTGluZVZpZXcoY20uZG9jLCBsaW5lLCBsaW5lTik7XG4gICAgdmlldy5saW5lTiA9IGxpbmVOO1xuICAgIHZhciBidWlsdCA9IHZpZXcuYnVpbHQgPSBidWlsZExpbmVDb250ZW50KGNtLCB2aWV3KTtcbiAgICB2aWV3LnRleHQgPSBidWlsdC5wcmU7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5saW5lTWVhc3VyZSwgYnVpbHQucHJlKTtcbiAgICByZXR1cm4gdmlldztcbiAgfVxuXG4gIC8vIEdldCBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCAoaW4gbGluZS1sb2NhbCBjb29yZGluYXRlcylcbiAgLy8gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhcihjbSwgbGluZSwgY2gsIGJpYXMpIHtcbiAgICByZXR1cm4gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSwgY2gsIGJpYXMpO1xuICB9XG5cbiAgLy8gRmluZCBhIGxpbmUgdmlldyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci5cbiAgZnVuY3Rpb24gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTikge1xuICAgIGlmIChsaW5lTiA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tICYmIGxpbmVOIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgICByZXR1cm4gY20uZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmVOKV07XG4gICAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0ICYmIGxpbmVOID49IGV4dC5saW5lTiAmJiBsaW5lTiA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgcmV0dXJuIGV4dDtcbiAgfVxuXG4gIC8vIE1lYXN1cmVtZW50IGNhbiBiZSBzcGxpdCBpbiB0d28gc3RlcHMsIHRoZSBzZXQtdXAgd29yayB0aGF0XG4gIC8vIGFwcGxpZXMgdG8gdGhlIHdob2xlIGxpbmUsIGFuZCB0aGUgbWVhc3VyZW1lbnQgb2YgdGhlIGFjdHVhbFxuICAvLyBjaGFyYWN0ZXIuIEZ1bmN0aW9ucyBsaWtlIGNvb3Jkc0NoYXIsIHRoYXQgbmVlZCB0byBkbyBhIGxvdCBvZlxuICAvLyBtZWFzdXJlbWVudHMgaW4gYSByb3csIGNhbiB0aHVzIGVuc3VyZSB0aGF0IHRoZSBzZXQtdXAgd29yayBpc1xuICAvLyBvbmx5IGRvbmUgb25jZS5cbiAgZnVuY3Rpb24gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSB7XG4gICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpO1xuICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTik7XG4gICAgaWYgKHZpZXcgJiYgIXZpZXcudGV4dCkge1xuICAgICAgdmlldyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh2aWV3ICYmIHZpZXcuY2hhbmdlcykge1xuICAgICAgdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIHZpZXcsIGxpbmVOLCBnZXREaW1lbnNpb25zKGNtKSk7XG4gICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICghdmlldylcbiAgICAgIHZpZXcgPSB1cGRhdGVFeHRlcm5hbE1lYXN1cmVtZW50KGNtLCBsaW5lKTtcblxuICAgIHZhciBpbmZvID0gbWFwRnJvbUxpbmVWaWV3KHZpZXcsIGxpbmUsIGxpbmVOKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbGluZSwgdmlldzogdmlldywgcmVjdDogbnVsbCxcbiAgICAgIG1hcDogaW5mby5tYXAsIGNhY2hlOiBpbmZvLmNhY2hlLCBiZWZvcmU6IGluZm8uYmVmb3JlLFxuICAgICAgaGFzSGVpZ2h0czogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLy8gR2l2ZW4gYSBwcmVwYXJlZCBtZWFzdXJlbWVudCBvYmplY3QsIG1lYXN1cmVzIHRoZSBwb3NpdGlvbiBvZiBhblxuICAvLyBhY3R1YWwgY2hhcmFjdGVyIChvciBmZXRjaGVzIGl0IGZyb20gdGhlIGNhY2hlKS5cbiAgZnVuY3Rpb24gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWQsIGNoLCBiaWFzLCB2YXJIZWlnaHQpIHtcbiAgICBpZiAocHJlcGFyZWQuYmVmb3JlKSBjaCA9IC0xO1xuICAgIHZhciBrZXkgPSBjaCArIChiaWFzIHx8IFwiXCIpLCBmb3VuZDtcbiAgICBpZiAocHJlcGFyZWQuY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZm91bmQgPSBwcmVwYXJlZC5jYWNoZVtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXByZXBhcmVkLnJlY3QpXG4gICAgICAgIHByZXBhcmVkLnJlY3QgPSBwcmVwYXJlZC52aWV3LnRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoIXByZXBhcmVkLmhhc0hlaWdodHMpIHtcbiAgICAgICAgZW5zdXJlTGluZUhlaWdodHMoY20sIHByZXBhcmVkLnZpZXcsIHByZXBhcmVkLnJlY3QpO1xuICAgICAgICBwcmVwYXJlZC5oYXNIZWlnaHRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvdW5kID0gbWVhc3VyZUNoYXJJbm5lcihjbSwgcHJlcGFyZWQsIGNoLCBiaWFzKTtcbiAgICAgIGlmICghZm91bmQuYm9ndXMpIHByZXBhcmVkLmNhY2hlW2tleV0gPSBmb3VuZDtcbiAgICB9XG4gICAgcmV0dXJuIHtsZWZ0OiBmb3VuZC5sZWZ0LCByaWdodDogZm91bmQucmlnaHQsXG4gICAgICAgICAgICB0b3A6IHZhckhlaWdodCA/IGZvdW5kLnJ0b3AgOiBmb3VuZC50b3AsXG4gICAgICAgICAgICBib3R0b206IHZhckhlaWdodCA/IGZvdW5kLnJib3R0b20gOiBmb3VuZC5ib3R0b219O1xuICB9XG5cbiAgdmFyIG51bGxSZWN0ID0ge2xlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMH07XG5cbiAgZnVuY3Rpb24gbm9kZUFuZE9mZnNldEluTGluZU1hcChtYXAsIGNoLCBiaWFzKSB7XG4gICAgdmFyIG5vZGUsIHN0YXJ0LCBlbmQsIGNvbGxhcHNlO1xuICAgIC8vIEZpcnN0LCBzZWFyY2ggdGhlIGxpbmUgbWFwIGZvciB0aGUgdGV4dCBub2RlIGNvcnJlc3BvbmRpbmcgdG8sXG4gICAgLy8gb3IgY2xvc2VzdCB0bywgdGhlIHRhcmdldCBjaGFyYWN0ZXIuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIHZhciBtU3RhcnQgPSBtYXBbaV0sIG1FbmQgPSBtYXBbaSArIDFdO1xuICAgICAgaWYgKGNoIDwgbVN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0gMDsgZW5kID0gMTtcbiAgICAgICAgY29sbGFwc2UgPSBcImxlZnRcIjtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPCBtRW5kKSB7XG4gICAgICAgIHN0YXJ0ID0gY2ggLSBtU3RhcnQ7XG4gICAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSBtYXAubGVuZ3RoIC0gMyB8fCBjaCA9PSBtRW5kICYmIG1hcFtpICsgM10gPiBjaCkge1xuICAgICAgICBlbmQgPSBtRW5kIC0gbVN0YXJ0O1xuICAgICAgICBzdGFydCA9IGVuZCAtIDE7XG4gICAgICAgIGlmIChjaCA+PSBtRW5kKSBjb2xsYXBzZSA9IFwicmlnaHRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAhPSBudWxsKSB7XG4gICAgICAgIG5vZGUgPSBtYXBbaSArIDJdO1xuICAgICAgICBpZiAobVN0YXJ0ID09IG1FbmQgJiYgYmlhcyA9PSAobm9kZS5pbnNlcnRMZWZ0ID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIpKVxuICAgICAgICAgIGNvbGxhcHNlID0gYmlhcztcbiAgICAgICAgaWYgKGJpYXMgPT0gXCJsZWZ0XCIgJiYgc3RhcnQgPT0gMClcbiAgICAgICAgICB3aGlsZSAoaSAmJiBtYXBbaSAtIDJdID09IG1hcFtpIC0gM10gJiYgbWFwW2kgLSAxXS5pbnNlcnRMZWZ0KSB7XG4gICAgICAgICAgICBub2RlID0gbWFwWyhpIC09IDMpICsgMl07XG4gICAgICAgICAgICBjb2xsYXBzZSA9IFwibGVmdFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgaWYgKGJpYXMgPT0gXCJyaWdodFwiICYmIHN0YXJ0ID09IG1FbmQgLSBtU3RhcnQpXG4gICAgICAgICAgd2hpbGUgKGkgPCBtYXAubGVuZ3RoIC0gMyAmJiBtYXBbaSArIDNdID09IG1hcFtpICsgNF0gJiYgIW1hcFtpICsgNV0uaW5zZXJ0TGVmdCkge1xuICAgICAgICAgICAgbm9kZSA9IG1hcFsoaSArPSAzKSArIDJdO1xuICAgICAgICAgICAgY29sbGFwc2UgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtub2RlOiBub2RlLCBzdGFydDogc3RhcnQsIGVuZDogZW5kLCBjb2xsYXBzZTogY29sbGFwc2UsIGNvdmVyU3RhcnQ6IG1TdGFydCwgY292ZXJFbmQ6IG1FbmR9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWVhc3VyZUNoYXJJbm5lcihjbSwgcHJlcGFyZWQsIGNoLCBiaWFzKSB7XG4gICAgdmFyIHBsYWNlID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChwcmVwYXJlZC5tYXAsIGNoLCBiaWFzKTtcbiAgICB2YXIgbm9kZSA9IHBsYWNlLm5vZGUsIHN0YXJ0ID0gcGxhY2Uuc3RhcnQsIGVuZCA9IHBsYWNlLmVuZCwgY29sbGFwc2UgPSBwbGFjZS5jb2xsYXBzZTtcblxuICAgIHZhciByZWN0O1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHsgLy8gSWYgaXQgaXMgYSB0ZXh0IG5vZGUsIHVzZSBhIHJhbmdlIHRvIHJldHJpZXZlIHRoZSBjb29yZGluYXRlcy5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7IC8vIFJldHJ5IGEgbWF4aW11bSBvZiA0IHRpbWVzIHdoZW4gbm9uc2Vuc2UgcmVjdGFuZ2xlcyBhcmUgcmV0dXJuZWRcbiAgICAgICAgd2hpbGUgKHN0YXJ0ICYmIGlzRXh0ZW5kaW5nQ2hhcihwcmVwYXJlZC5saW5lLnRleHQuY2hhckF0KHBsYWNlLmNvdmVyU3RhcnQgKyBzdGFydCkpKSAtLXN0YXJ0O1xuICAgICAgICB3aGlsZSAocGxhY2UuY292ZXJTdGFydCArIGVuZCA8IHBsYWNlLmNvdmVyRW5kICYmIGlzRXh0ZW5kaW5nQ2hhcihwcmVwYXJlZC5saW5lLnRleHQuY2hhckF0KHBsYWNlLmNvdmVyU3RhcnQgKyBlbmQpKSkgKytlbmQ7XG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiBzdGFydCA9PSAwICYmIGVuZCA9PSBwbGFjZS5jb3ZlckVuZCAtIHBsYWNlLmNvdmVyU3RhcnQpIHtcbiAgICAgICAgICByZWN0ID0gbm9kZS5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGllICYmIGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgdmFyIHJlY3RzID0gcmFuZ2Uobm9kZSwgc3RhcnQsIGVuZCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmVjdCA9IHJlY3RzW2JpYXMgPT0gXCJyaWdodFwiID8gcmVjdHMubGVuZ3RoIC0gMSA6IDBdO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlY3QgPSBudWxsUmVjdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0ID0gcmFuZ2Uobm9kZSwgc3RhcnQsIGVuZCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwgbnVsbFJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY3QubGVmdCB8fCByZWN0LnJpZ2h0IHx8IHN0YXJ0ID09IDApIGJyZWFrO1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSBzdGFydCAtIDE7XG4gICAgICAgIGNvbGxhcHNlID0gXCJyaWdodFwiO1xuICAgICAgfVxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCAxMSkgcmVjdCA9IG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcoY20uZGlzcGxheS5tZWFzdXJlLCByZWN0KTtcbiAgICB9IGVsc2UgeyAvLyBJZiBpdCBpcyBhIHdpZGdldCwgc2ltcGx5IGdldCB0aGUgYm94IGZvciB0aGUgd2hvbGUgd2lkZ2V0LlxuICAgICAgaWYgKHN0YXJ0ID4gMCkgY29sbGFwc2UgPSBiaWFzID0gXCJyaWdodFwiO1xuICAgICAgdmFyIHJlY3RzO1xuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nICYmIChyZWN0cyA9IG5vZGUuZ2V0Q2xpZW50UmVjdHMoKSkubGVuZ3RoID4gMSlcbiAgICAgICAgcmVjdCA9IHJlY3RzW2JpYXMgPT0gXCJyaWdodFwiID8gcmVjdHMubGVuZ3RoIC0gMSA6IDBdO1xuICAgICAgZWxzZVxuICAgICAgICByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5ICYmICFzdGFydCAmJiAoIXJlY3QgfHwgIXJlY3QubGVmdCAmJiAhcmVjdC5yaWdodCkpIHtcbiAgICAgIHZhciByU3BhbiA9IG5vZGUucGFyZW50Tm9kZS5nZXRDbGllbnRSZWN0cygpWzBdO1xuICAgICAgaWYgKHJTcGFuKVxuICAgICAgICByZWN0ID0ge2xlZnQ6IHJTcGFuLmxlZnQsIHJpZ2h0OiByU3Bhbi5sZWZ0ICsgY2hhcldpZHRoKGNtLmRpc3BsYXkpLCB0b3A6IHJTcGFuLnRvcCwgYm90dG9tOiByU3Bhbi5ib3R0b219O1xuICAgICAgZWxzZVxuICAgICAgICByZWN0ID0gbnVsbFJlY3Q7XG4gICAgfVxuXG4gICAgdmFyIHJ0b3AgPSByZWN0LnRvcCAtIHByZXBhcmVkLnJlY3QudG9wLCByYm90ID0gcmVjdC5ib3R0b20gLSBwcmVwYXJlZC5yZWN0LnRvcDtcbiAgICB2YXIgbWlkID0gKHJ0b3AgKyByYm90KSAvIDI7XG4gICAgdmFyIGhlaWdodHMgPSBwcmVwYXJlZC52aWV3Lm1lYXN1cmUuaGVpZ2h0cztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlaWdodHMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgaWYgKG1pZCA8IGhlaWdodHNbaV0pIGJyZWFrO1xuICAgIHZhciB0b3AgPSBpID8gaGVpZ2h0c1tpIC0gMV0gOiAwLCBib3QgPSBoZWlnaHRzW2ldO1xuICAgIHZhciByZXN1bHQgPSB7bGVmdDogKGNvbGxhcHNlID09IFwicmlnaHRcIiA/IHJlY3QucmlnaHQgOiByZWN0LmxlZnQpIC0gcHJlcGFyZWQucmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgcmlnaHQ6IChjb2xsYXBzZSA9PSBcImxlZnRcIiA/IHJlY3QubGVmdCA6IHJlY3QucmlnaHQpIC0gcHJlcGFyZWQucmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgdG9wOiB0b3AsIGJvdHRvbTogYm90fTtcbiAgICBpZiAoIXJlY3QubGVmdCAmJiAhcmVjdC5yaWdodCkgcmVzdWx0LmJvZ3VzID0gdHJ1ZTtcbiAgICBpZiAoIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSkgeyByZXN1bHQucnRvcCA9IHJ0b3A7IHJlc3VsdC5yYm90dG9tID0gcmJvdDsgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIFdvcmsgYXJvdW5kIHByb2JsZW0gd2l0aCBib3VuZGluZyBjbGllbnQgcmVjdHMgb24gcmFuZ2VzIGJlaW5nXG4gIC8vIHJldHVybmVkIGluY29ycmVjdGx5IHdoZW4gem9vbWVkIG9uIElFMTAgYW5kIGJlbG93LlxuICBmdW5jdGlvbiBtYXliZVVwZGF0ZVJlY3RGb3Jab29taW5nKG1lYXN1cmUsIHJlY3QpIHtcbiAgICBpZiAoIXdpbmRvdy5zY3JlZW4gfHwgc2NyZWVuLmxvZ2ljYWxYRFBJID09IG51bGwgfHxcbiAgICAgICAgc2NyZWVuLmxvZ2ljYWxYRFBJID09IHNjcmVlbi5kZXZpY2VYRFBJIHx8ICFoYXNCYWRab29tZWRSZWN0cyhtZWFzdXJlKSlcbiAgICAgIHJldHVybiByZWN0O1xuICAgIHZhciBzY2FsZVggPSBzY3JlZW4ubG9naWNhbFhEUEkgLyBzY3JlZW4uZGV2aWNlWERQSTtcbiAgICB2YXIgc2NhbGVZID0gc2NyZWVuLmxvZ2ljYWxZRFBJIC8gc2NyZWVuLmRldmljZVlEUEk7XG4gICAgcmV0dXJuIHtsZWZ0OiByZWN0LmxlZnQgKiBzY2FsZVgsIHJpZ2h0OiByZWN0LnJpZ2h0ICogc2NhbGVYLFxuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCAqIHNjYWxlWSwgYm90dG9tOiByZWN0LmJvdHRvbSAqIHNjYWxlWX07XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKGxpbmVWaWV3KSB7XG4gICAgaWYgKGxpbmVWaWV3Lm1lYXN1cmUpIHtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGUgPSB7fTtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuaGVpZ2h0cyA9IG51bGw7XG4gICAgICBpZiAobGluZVZpZXcucmVzdCkgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlc1tpXSA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUoY20pIHtcbiAgICBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZSA9IG51bGw7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oY20uZGlzcGxheS5saW5lTWVhc3VyZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kaXNwbGF5LnZpZXcubGVuZ3RoOyBpKyspXG4gICAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKGNtLmRpc3BsYXkudmlld1tpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckNhY2hlcyhjbSkge1xuICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUoY20pO1xuICAgIGNtLmRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoID0gY20uZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ID0gY20uZGlzcGxheS5jYWNoZWRQYWRkaW5nSCA9IG51bGw7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgY20uZGlzcGxheS5saW5lTnVtQ2hhcnMgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFnZVNjcm9sbFgoKSB7IHJldHVybiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0OyB9XG4gIGZ1bmN0aW9uIHBhZ2VTY3JvbGxZKCkgeyByZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wOyB9XG5cbiAgLy8gQ29udmVydHMgYSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0fSBib3ggZnJvbSBsaW5lLWxvY2FsXG4gIC8vIGNvb3JkaW5hdGVzIGludG8gYW5vdGhlciBjb29yZGluYXRlIHN5c3RlbS4gQ29udGV4dCBtYXkgYmUgb25lIG9mXG4gIC8vIFwibGluZVwiLCBcImRpdlwiIChkaXNwbGF5LmxpbmVEaXYpLCBcImxvY2FsXCIvbnVsbCAoZWRpdG9yKSwgXCJ3aW5kb3dcIixcbiAgLy8gb3IgXCJwYWdlXCIuXG4gIGZ1bmN0aW9uIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgcmVjdCwgY29udGV4dCkge1xuICAgIGlmIChsaW5lT2JqLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZU9iai53aWRnZXRzLmxlbmd0aDsgKytpKSBpZiAobGluZU9iai53aWRnZXRzW2ldLmFib3ZlKSB7XG4gICAgICB2YXIgc2l6ZSA9IHdpZGdldEhlaWdodChsaW5lT2JqLndpZGdldHNbaV0pO1xuICAgICAgcmVjdC50b3AgKz0gc2l6ZTsgcmVjdC5ib3R0b20gKz0gc2l6ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQgPT0gXCJsaW5lXCIpIHJldHVybiByZWN0O1xuICAgIGlmICghY29udGV4dCkgY29udGV4dCA9IFwibG9jYWxcIjtcbiAgICB2YXIgeU9mZiA9IGhlaWdodEF0TGluZShsaW5lT2JqKTtcbiAgICBpZiAoY29udGV4dCA9PSBcImxvY2FsXCIpIHlPZmYgKz0gcGFkZGluZ1RvcChjbS5kaXNwbGF5KTtcbiAgICBlbHNlIHlPZmYgLT0gY20uZGlzcGxheS52aWV3T2Zmc2V0O1xuICAgIGlmIChjb250ZXh0ID09IFwicGFnZVwiIHx8IGNvbnRleHQgPT0gXCJ3aW5kb3dcIikge1xuICAgICAgdmFyIGxPZmYgPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHlPZmYgKz0gbE9mZi50b3AgKyAoY29udGV4dCA9PSBcIndpbmRvd1wiID8gMCA6IHBhZ2VTY3JvbGxZKCkpO1xuICAgICAgdmFyIHhPZmYgPSBsT2ZmLmxlZnQgKyAoY29udGV4dCA9PSBcIndpbmRvd1wiID8gMCA6IHBhZ2VTY3JvbGxYKCkpO1xuICAgICAgcmVjdC5sZWZ0ICs9IHhPZmY7IHJlY3QucmlnaHQgKz0geE9mZjtcbiAgICB9XG4gICAgcmVjdC50b3AgKz0geU9mZjsgcmVjdC5ib3R0b20gKz0geU9mZjtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuXG4gIC8vIENvdmVydHMgYSBib3ggZnJvbSBcImRpdlwiIGNvb3JkcyB0byBhbm90aGVyIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAvLyBDb250ZXh0IG1heSBiZSBcIndpbmRvd1wiLCBcInBhZ2VcIiwgXCJkaXZcIiwgb3IgXCJsb2NhbFwiL251bGwuXG4gIGZ1bmN0aW9uIGZyb21Db29yZFN5c3RlbShjbSwgY29vcmRzLCBjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQgPT0gXCJkaXZcIikgcmV0dXJuIGNvb3JkcztcbiAgICB2YXIgbGVmdCA9IGNvb3Jkcy5sZWZ0LCB0b3AgPSBjb29yZHMudG9wO1xuICAgIC8vIEZpcnN0IG1vdmUgaW50byBcInBhZ2VcIiBjb29yZGluYXRlIHN5c3RlbVxuICAgIGlmIChjb250ZXh0ID09IFwicGFnZVwiKSB7XG4gICAgICBsZWZ0IC09IHBhZ2VTY3JvbGxYKCk7XG4gICAgICB0b3AgLT0gcGFnZVNjcm9sbFkoKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQgPT0gXCJsb2NhbFwiIHx8ICFjb250ZXh0KSB7XG4gICAgICB2YXIgbG9jYWxCb3ggPSBjbS5kaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGVmdCArPSBsb2NhbEJveC5sZWZ0O1xuICAgICAgdG9wICs9IGxvY2FsQm94LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgbGluZVNwYWNlQm94ID0gY20uZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtsZWZ0OiBsZWZ0IC0gbGluZVNwYWNlQm94LmxlZnQsIHRvcDogdG9wIC0gbGluZVNwYWNlQm94LnRvcH07XG4gIH1cblxuICBmdW5jdGlvbiBjaGFyQ29vcmRzKGNtLCBwb3MsIGNvbnRleHQsIGxpbmVPYmosIGJpYXMpIHtcbiAgICBpZiAoIWxpbmVPYmopIGxpbmVPYmogPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIG1lYXN1cmVDaGFyKGNtLCBsaW5lT2JqLCBwb3MuY2gsIGJpYXMpLCBjb250ZXh0KTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBib3ggZm9yIGEgZ2l2ZW4gY3Vyc29yIHBvc2l0aW9uLCB3aGljaCBtYXkgaGF2ZSBhblxuICAvLyAnb3RoZXInIHByb3BlcnR5IGNvbnRhaW5pbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmRhcnkgY3Vyc29yXG4gIC8vIG9uIGEgYmlkaSBib3VuZGFyeS5cbiAgZnVuY3Rpb24gY3Vyc29yQ29vcmRzKGNtLCBwb3MsIGNvbnRleHQsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSwgdmFySGVpZ2h0KSB7XG4gICAgbGluZU9iaiA9IGxpbmVPYmogfHwgZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTtcbiAgICBpZiAoIXByZXBhcmVkTWVhc3VyZSkgcHJlcGFyZWRNZWFzdXJlID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKTtcbiAgICBmdW5jdGlvbiBnZXQoY2gsIHJpZ2h0KSB7XG4gICAgICB2YXIgbSA9IG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgY2gsIHJpZ2h0ID8gXCJyaWdodFwiIDogXCJsZWZ0XCIsIHZhckhlaWdodCk7XG4gICAgICBpZiAocmlnaHQpIG0ubGVmdCA9IG0ucmlnaHQ7IGVsc2UgbS5yaWdodCA9IG0ubGVmdDtcbiAgICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIG0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRCaWRpKGNoLCBwYXJ0UG9zKSB7XG4gICAgICB2YXIgcGFydCA9IG9yZGVyW3BhcnRQb3NdLCByaWdodCA9IHBhcnQubGV2ZWwgJSAyO1xuICAgICAgaWYgKGNoID09IGJpZGlMZWZ0KHBhcnQpICYmIHBhcnRQb3MgJiYgcGFydC5sZXZlbCA8IG9yZGVyW3BhcnRQb3MgLSAxXS5sZXZlbCkge1xuICAgICAgICBwYXJ0ID0gb3JkZXJbLS1wYXJ0UG9zXTtcbiAgICAgICAgY2ggPSBiaWRpUmlnaHQocGFydCkgLSAocGFydC5sZXZlbCAlIDIgPyAwIDogMSk7XG4gICAgICAgIHJpZ2h0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT0gYmlkaVJpZ2h0KHBhcnQpICYmIHBhcnRQb3MgPCBvcmRlci5sZW5ndGggLSAxICYmIHBhcnQubGV2ZWwgPCBvcmRlcltwYXJ0UG9zICsgMV0ubGV2ZWwpIHtcbiAgICAgICAgcGFydCA9IG9yZGVyWysrcGFydFBvc107XG4gICAgICAgIGNoID0gYmlkaUxlZnQocGFydCkgLSBwYXJ0LmxldmVsICUgMjtcbiAgICAgICAgcmlnaHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChyaWdodCAmJiBjaCA9PSBwYXJ0LnRvICYmIGNoID4gcGFydC5mcm9tKSByZXR1cm4gZ2V0KGNoIC0gMSk7XG4gICAgICByZXR1cm4gZ2V0KGNoLCByaWdodCk7XG4gICAgfVxuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmVPYmopLCBjaCA9IHBvcy5jaDtcbiAgICBpZiAoIW9yZGVyKSByZXR1cm4gZ2V0KGNoKTtcbiAgICB2YXIgcGFydFBvcyA9IGdldEJpZGlQYXJ0QXQob3JkZXIsIGNoKTtcbiAgICB2YXIgdmFsID0gZ2V0QmlkaShjaCwgcGFydFBvcyk7XG4gICAgaWYgKGJpZGlPdGhlciAhPSBudWxsKSB2YWwub3RoZXIgPSBnZXRCaWRpKGNoLCBiaWRpT3RoZXIpO1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvLyBVc2VkIHRvIGNoZWFwbHkgZXN0aW1hdGUgdGhlIGNvb3JkaW5hdGVzIGZvciBhIHBvc2l0aW9uLiBVc2VkIGZvclxuICAvLyBpbnRlcm1lZGlhdGUgc2Nyb2xsIHVwZGF0ZXMuXG4gIGZ1bmN0aW9uIGVzdGltYXRlQ29vcmRzKGNtLCBwb3MpIHtcbiAgICB2YXIgbGVmdCA9IDAsIHBvcyA9IGNsaXBQb3MoY20uZG9jLCBwb3MpO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGxlZnQgPSBjaGFyV2lkdGgoY20uZGlzcGxheSkgKiBwb3MuY2g7XG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIHZhciB0b3AgPSBoZWlnaHRBdExpbmUobGluZU9iaikgKyBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpO1xuICAgIHJldHVybiB7bGVmdDogbGVmdCwgcmlnaHQ6IGxlZnQsIHRvcDogdG9wLCBib3R0b206IHRvcCArIGxpbmVPYmouaGVpZ2h0fTtcbiAgfVxuXG4gIC8vIFBvc2l0aW9ucyByZXR1cm5lZCBieSBjb29yZHNDaGFyIGNvbnRhaW4gc29tZSBleHRyYSBpbmZvcm1hdGlvbi5cbiAgLy8geFJlbCBpcyB0aGUgcmVsYXRpdmUgeCBwb3NpdGlvbiBvZiB0aGUgaW5wdXQgY29vcmRpbmF0ZXMgY29tcGFyZWRcbiAgLy8gdG8gdGhlIGZvdW5kIHBvc2l0aW9uIChzbyB4UmVsID4gMCBtZWFucyB0aGUgY29vcmRpbmF0ZXMgYXJlIHRvXG4gIC8vIHRoZSByaWdodCBvZiB0aGUgY2hhcmFjdGVyIHBvc2l0aW9uLCBmb3IgZXhhbXBsZSkuIFdoZW4gb3V0c2lkZVxuICAvLyBpcyB0cnVlLCB0aGF0IG1lYW5zIHRoZSBjb29yZGluYXRlcyBsaWUgb3V0c2lkZSB0aGUgbGluZSdzXG4gIC8vIHZlcnRpY2FsIHJhbmdlLlxuICBmdW5jdGlvbiBQb3NXaXRoSW5mbyhsaW5lLCBjaCwgb3V0c2lkZSwgeFJlbCkge1xuICAgIHZhciBwb3MgPSBQb3MobGluZSwgY2gpO1xuICAgIHBvcy54UmVsID0geFJlbDtcbiAgICBpZiAob3V0c2lkZSkgcG9zLm91dHNpZGUgPSB0cnVlO1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24gY2xvc2VzdCB0byB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gIC8vIElucHV0IG11c3QgYmUgbGluZVNwYWNlLWxvY2FsIChcImRpdlwiIGNvb3JkaW5hdGUgc3lzdGVtKS5cbiAgZnVuY3Rpb24gY29vcmRzQ2hhcihjbSwgeCwgeSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgeSArPSBjbS5kaXNwbGF5LnZpZXdPZmZzZXQ7XG4gICAgaWYgKHkgPCAwKSByZXR1cm4gUG9zV2l0aEluZm8oZG9jLmZpcnN0LCAwLCB0cnVlLCAtMSk7XG4gICAgdmFyIGxpbmVOID0gbGluZUF0SGVpZ2h0KGRvYywgeSksIGxhc3QgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDE7XG4gICAgaWYgKGxpbmVOID4gbGFzdClcbiAgICAgIHJldHVybiBQb3NXaXRoSW5mbyhkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCwgdHJ1ZSwgMSk7XG4gICAgaWYgKHggPCAwKSB4ID0gMDtcblxuICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGxpbmVOKTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgZm91bmQgPSBjb29yZHNDaGFySW5uZXIoY20sIGxpbmVPYmosIGxpbmVOLCB4LCB5KTtcbiAgICAgIHZhciBtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZU9iaik7XG4gICAgICB2YXIgbWVyZ2VkUG9zID0gbWVyZ2VkICYmIG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgaWYgKG1lcmdlZCAmJiAoZm91bmQuY2ggPiBtZXJnZWRQb3MuZnJvbS5jaCB8fCBmb3VuZC5jaCA9PSBtZXJnZWRQb3MuZnJvbS5jaCAmJiBmb3VuZC54UmVsID4gMCkpXG4gICAgICAgIGxpbmVOID0gbGluZU5vKGxpbmVPYmogPSBtZXJnZWRQb3MudG8ubGluZSk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb29yZHNDaGFySW5uZXIoY20sIGxpbmVPYmosIGxpbmVObywgeCwgeSkge1xuICAgIHZhciBpbm5lck9mZiA9IHkgLSBoZWlnaHRBdExpbmUobGluZU9iaik7XG4gICAgdmFyIHdyb25nTGluZSA9IGZhbHNlLCBhZGp1c3QgPSAyICogY20uZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgIHZhciBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopO1xuXG4gICAgZnVuY3Rpb24gZ2V0WChjaCkge1xuICAgICAgdmFyIHNwID0gY3Vyc29yQ29vcmRzKGNtLCBQb3MobGluZU5vLCBjaCksIFwibGluZVwiLCBsaW5lT2JqLCBwcmVwYXJlZE1lYXN1cmUpO1xuICAgICAgd3JvbmdMaW5lID0gdHJ1ZTtcbiAgICAgIGlmIChpbm5lck9mZiA+IHNwLmJvdHRvbSkgcmV0dXJuIHNwLmxlZnQgLSBhZGp1c3Q7XG4gICAgICBlbHNlIGlmIChpbm5lck9mZiA8IHNwLnRvcCkgcmV0dXJuIHNwLmxlZnQgKyBhZGp1c3Q7XG4gICAgICBlbHNlIHdyb25nTGluZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHNwLmxlZnQ7XG4gICAgfVxuXG4gICAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lT2JqKSwgZGlzdCA9IGxpbmVPYmoudGV4dC5sZW5ndGg7XG4gICAgdmFyIGZyb20gPSBsaW5lTGVmdChsaW5lT2JqKSwgdG8gPSBsaW5lUmlnaHQobGluZU9iaik7XG4gICAgdmFyIGZyb21YID0gZ2V0WChmcm9tKSwgZnJvbU91dHNpZGUgPSB3cm9uZ0xpbmUsIHRvWCA9IGdldFgodG8pLCB0b091dHNpZGUgPSB3cm9uZ0xpbmU7XG5cbiAgICBpZiAoeCA+IHRvWCkgcmV0dXJuIFBvc1dpdGhJbmZvKGxpbmVObywgdG8sIHRvT3V0c2lkZSwgMSk7XG4gICAgLy8gRG8gYSBiaW5hcnkgc2VhcmNoIGJldHdlZW4gdGhlc2UgYm91bmRzLlxuICAgIGZvciAoOzspIHtcbiAgICAgIGlmIChiaWRpID8gdG8gPT0gZnJvbSB8fCB0byA9PSBtb3ZlVmlzdWFsbHkobGluZU9iaiwgZnJvbSwgMSkgOiB0byAtIGZyb20gPD0gMSkge1xuICAgICAgICB2YXIgY2ggPSB4IDwgZnJvbVggfHwgeCAtIGZyb21YIDw9IHRvWCAtIHggPyBmcm9tIDogdG87XG4gICAgICAgIHZhciB4RGlmZiA9IHggLSAoY2ggPT0gZnJvbSA/IGZyb21YIDogdG9YKTtcbiAgICAgICAgd2hpbGUgKGlzRXh0ZW5kaW5nQ2hhcihsaW5lT2JqLnRleHQuY2hhckF0KGNoKSkpICsrY2g7XG4gICAgICAgIHZhciBwb3MgPSBQb3NXaXRoSW5mbyhsaW5lTm8sIGNoLCBjaCA9PSBmcm9tID8gZnJvbU91dHNpZGUgOiB0b091dHNpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4RGlmZiA8IC0xID8gLTEgOiB4RGlmZiA+IDEgPyAxIDogMCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgICB9XG4gICAgICB2YXIgc3RlcCA9IE1hdGguY2VpbChkaXN0IC8gMiksIG1pZGRsZSA9IGZyb20gKyBzdGVwO1xuICAgICAgaWYgKGJpZGkpIHtcbiAgICAgICAgbWlkZGxlID0gZnJvbTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyArK2kpIG1pZGRsZSA9IG1vdmVWaXN1YWxseShsaW5lT2JqLCBtaWRkbGUsIDEpO1xuICAgICAgfVxuICAgICAgdmFyIG1pZGRsZVggPSBnZXRYKG1pZGRsZSk7XG4gICAgICBpZiAobWlkZGxlWCA+IHgpIHt0byA9IG1pZGRsZTsgdG9YID0gbWlkZGxlWDsgaWYgKHRvT3V0c2lkZSA9IHdyb25nTGluZSkgdG9YICs9IDEwMDA7IGRpc3QgPSBzdGVwO31cbiAgICAgIGVsc2Uge2Zyb20gPSBtaWRkbGU7IGZyb21YID0gbWlkZGxlWDsgZnJvbU91dHNpZGUgPSB3cm9uZ0xpbmU7IGRpc3QgLT0gc3RlcDt9XG4gICAgfVxuICB9XG5cbiAgdmFyIG1lYXN1cmVUZXh0O1xuICAvLyBDb21wdXRlIHRoZSBkZWZhdWx0IHRleHQgaGVpZ2h0LlxuICBmdW5jdGlvbiB0ZXh0SGVpZ2h0KGRpc3BsYXkpIHtcbiAgICBpZiAoZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ICE9IG51bGwpIHJldHVybiBkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQ7XG4gICAgaWYgKG1lYXN1cmVUZXh0ID09IG51bGwpIHtcbiAgICAgIG1lYXN1cmVUZXh0ID0gZWx0KFwicHJlXCIpO1xuICAgICAgLy8gTWVhc3VyZSBhIGJ1bmNoIG9mIGxpbmVzLCBmb3IgYnJvd3NlcnMgdGhhdCBjb21wdXRlXG4gICAgICAvLyBmcmFjdGlvbmFsIGhlaWdodHMuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ5OyArK2kpIHtcbiAgICAgICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKTtcbiAgICAgICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZWx0KFwiYnJcIikpO1xuICAgICAgfVxuICAgICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5tZWFzdXJlLCBtZWFzdXJlVGV4dCk7XG4gICAgdmFyIGhlaWdodCA9IG1lYXN1cmVUZXh0Lm9mZnNldEhlaWdodCAvIDUwO1xuICAgIGlmIChoZWlnaHQgPiAzKSBkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5tZWFzdXJlKTtcbiAgICByZXR1cm4gaGVpZ2h0IHx8IDE7XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBkZWZhdWx0IGNoYXJhY3RlciB3aWR0aC5cbiAgZnVuY3Rpb24gY2hhcldpZHRoKGRpc3BsYXkpIHtcbiAgICBpZiAoZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggIT0gbnVsbCkgcmV0dXJuIGRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoO1xuICAgIHZhciBhbmNob3IgPSBlbHQoXCJzcGFuXCIsIFwieHh4eHh4eHh4eFwiKTtcbiAgICB2YXIgcHJlID0gZWx0KFwicHJlXCIsIFthbmNob3JdKTtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIHByZSk7XG4gICAgdmFyIHJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIC8gMTA7XG4gICAgaWYgKHdpZHRoID4gMikgZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggPSB3aWR0aDtcbiAgICByZXR1cm4gd2lkdGggfHwgMTA7XG4gIH1cblxuICAvLyBPUEVSQVRJT05TXG5cbiAgLy8gT3BlcmF0aW9ucyBhcmUgdXNlZCB0byB3cmFwIGEgc2VyaWVzIG9mIGNoYW5nZXMgdG8gdGhlIGVkaXRvclxuICAvLyBzdGF0ZSBpbiBzdWNoIGEgd2F5IHRoYXQgZWFjaCBjaGFuZ2Ugd29uJ3QgaGF2ZSB0byB1cGRhdGUgdGhlXG4gIC8vIGN1cnNvciBhbmQgZGlzcGxheSAod2hpY2ggd291bGQgYmUgYXdrd2FyZCwgc2xvdywgYW5kXG4gIC8vIGVycm9yLXByb25lKS4gSW5zdGVhZCwgZGlzcGxheSB1cGRhdGVzIGFyZSBiYXRjaGVkIGFuZCB0aGVuIGFsbFxuICAvLyBjb21iaW5lZCBhbmQgZXhlY3V0ZWQgYXQgb25jZS5cblxuICB2YXIgb3BlcmF0aW9uR3JvdXAgPSBudWxsO1xuXG4gIHZhciBuZXh0T3BJZCA9IDA7XG4gIC8vIFN0YXJ0IGEgbmV3IG9wZXJhdGlvbi5cbiAgZnVuY3Rpb24gc3RhcnRPcGVyYXRpb24oY20pIHtcbiAgICBjbS5jdXJPcCA9IHtcbiAgICAgIGNtOiBjbSxcbiAgICAgIHZpZXdDaGFuZ2VkOiBmYWxzZSwgICAgICAvLyBGbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgbGluZXMgbWlnaHQgbmVlZCB0byBiZSByZWRyYXduXG4gICAgICBzdGFydEhlaWdodDogY20uZG9jLmhlaWdodCwgLy8gVXNlZCB0byBkZXRlY3QgbmVlZCB0byB1cGRhdGUgc2Nyb2xsYmFyXG4gICAgICBmb3JjZVVwZGF0ZTogZmFsc2UsICAgICAgLy8gVXNlZCB0byBmb3JjZSBhIHJlZHJhd1xuICAgICAgdXBkYXRlSW5wdXQ6IG51bGwsICAgICAgIC8vIFdoZXRoZXIgdG8gcmVzZXQgdGhlIGlucHV0IHRleHRhcmVhXG4gICAgICB0eXBpbmc6IGZhbHNlLCAgICAgICAgICAgLy8gV2hldGhlciB0aGlzIHJlc2V0IHNob3VsZCBiZSBjYXJlZnVsIHRvIGxlYXZlIGV4aXN0aW5nIHRleHQgKGZvciBjb21wb3NpdGluZylcbiAgICAgIGNoYW5nZU9ianM6IG51bGwsICAgICAgICAvLyBBY2N1bXVsYXRlZCBjaGFuZ2VzLCBmb3IgZmlyaW5nIGNoYW5nZSBldmVudHNcbiAgICAgIGN1cnNvckFjdGl2aXR5SGFuZGxlcnM6IG51bGwsIC8vIFNldCBvZiBoYW5kbGVycyB0byBmaXJlIGN1cnNvckFjdGl2aXR5IG9uXG4gICAgICBjdXJzb3JBY3Rpdml0eUNhbGxlZDogMCwgLy8gVHJhY2tzIHdoaWNoIGN1cnNvckFjdGl2aXR5IGhhbmRsZXJzIGhhdmUgYmVlbiBjYWxsZWQgYWxyZWFkeVxuICAgICAgc2VsZWN0aW9uQ2hhbmdlZDogZmFsc2UsIC8vIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiBuZWVkcyB0byBiZSByZWRyYXduXG4gICAgICB1cGRhdGVNYXhMaW5lOiBmYWxzZSwgICAgLy8gU2V0IHdoZW4gdGhlIHdpZGVzdCBsaW5lIG5lZWRzIHRvIGJlIGRldGVybWluZWQgYW5ld1xuICAgICAgc2Nyb2xsTGVmdDogbnVsbCwgc2Nyb2xsVG9wOiBudWxsLCAvLyBJbnRlcm1lZGlhdGUgc2Nyb2xsIHBvc2l0aW9uLCBub3QgcHVzaGVkIHRvIERPTSB5ZXRcbiAgICAgIHNjcm9sbFRvUG9zOiBudWxsLCAgICAgICAvLyBVc2VkIHRvIHNjcm9sbCB0byBhIHNwZWNpZmljIHBvc2l0aW9uXG4gICAgICBmb2N1czogZmFsc2UsXG4gICAgICBpZDogKytuZXh0T3BJZCAgICAgICAgICAgLy8gVW5pcXVlIElEXG4gICAgfTtcbiAgICBpZiAob3BlcmF0aW9uR3JvdXApIHtcbiAgICAgIG9wZXJhdGlvbkdyb3VwLm9wcy5wdXNoKGNtLmN1ck9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY20uY3VyT3Aub3duc0dyb3VwID0gb3BlcmF0aW9uR3JvdXAgPSB7XG4gICAgICAgIG9wczogW2NtLmN1ck9wXSxcbiAgICAgICAgZGVsYXllZENhbGxiYWNrczogW11cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmlyZUNhbGxiYWNrc0Zvck9wcyhncm91cCkge1xuICAgIC8vIENhbGxzIGRlbGF5ZWQgY2FsbGJhY2tzIGFuZCBjdXJzb3JBY3Rpdml0eSBoYW5kbGVycyB1bnRpbCBub1xuICAgIC8vIG5ldyBvbmVzIGFwcGVhclxuICAgIHZhciBjYWxsYmFja3MgPSBncm91cC5kZWxheWVkQ2FsbGJhY2tzLCBpID0gMDtcbiAgICBkbyB7XG4gICAgICBmb3IgKDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKylcbiAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwobnVsbCk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwLm9wcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgb3AgPSBncm91cC5vcHNbal07XG4gICAgICAgIGlmIChvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzKVxuICAgICAgICAgIHdoaWxlIChvcC5jdXJzb3JBY3Rpdml0eUNhbGxlZCA8IG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMubGVuZ3RoKVxuICAgICAgICAgICAgb3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tvcC5jdXJzb3JBY3Rpdml0eUNhbGxlZCsrXS5jYWxsKG51bGwsIG9wLmNtKTtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChpIDwgY2FsbGJhY2tzLmxlbmd0aCk7XG4gIH1cblxuICAvLyBGaW5pc2ggYW4gb3BlcmF0aW9uLCB1cGRhdGluZyB0aGUgZGlzcGxheSBhbmQgc2lnbmFsbGluZyBkZWxheWVkIGV2ZW50c1xuICBmdW5jdGlvbiBlbmRPcGVyYXRpb24oY20pIHtcbiAgICB2YXIgb3AgPSBjbS5jdXJPcCwgZ3JvdXAgPSBvcC5vd25zR3JvdXA7XG4gICAgaWYgKCFncm91cCkgcmV0dXJuO1xuXG4gICAgdHJ5IHsgZmlyZUNhbGxiYWNrc0Zvck9wcyhncm91cCk7IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgIG9wZXJhdGlvbkdyb3VwID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAub3BzLmxlbmd0aDsgaSsrKVxuICAgICAgICBncm91cC5vcHNbaV0uY20uY3VyT3AgPSBudWxsO1xuICAgICAgZW5kT3BlcmF0aW9ucyhncm91cCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhlIERPTSB1cGRhdGVzIGRvbmUgd2hlbiBhbiBvcGVyYXRpb24gZmluaXNoZXMgYXJlIGJhdGNoZWQgc29cbiAgLy8gdGhhdCB0aGUgbWluaW11bSBudW1iZXIgb2YgcmVsYXlvdXRzIGFyZSByZXF1aXJlZC5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9ucyhncm91cCkge1xuICAgIHZhciBvcHMgPSBncm91cC5vcHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFJlYWQgRE9NXG4gICAgICBlbmRPcGVyYXRpb25fUjEob3BzW2ldKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gV3JpdGUgRE9NIChtYXliZSlcbiAgICAgIGVuZE9wZXJhdGlvbl9XMShvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBSZWFkIERPTVxuICAgICAgZW5kT3BlcmF0aW9uX1IyKG9wc1tpXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFdyaXRlIERPTSAobWF5YmUpXG4gICAgICBlbmRPcGVyYXRpb25fVzIob3BzW2ldKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gUmVhZCBET01cbiAgICAgIGVuZE9wZXJhdGlvbl9maW5pc2gob3BzW2ldKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMShvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBtYXliZUNsaXBTY3JvbGxiYXJzKGNtKTtcbiAgICBpZiAob3AudXBkYXRlTWF4TGluZSkgZmluZE1heExpbmUoY20pO1xuXG4gICAgb3AubXVzdFVwZGF0ZSA9IG9wLnZpZXdDaGFuZ2VkIHx8IG9wLmZvcmNlVXBkYXRlIHx8IG9wLnNjcm9sbFRvcCAhPSBudWxsIHx8XG4gICAgICBvcC5zY3JvbGxUb1BvcyAmJiAob3Auc2Nyb2xsVG9Qb3MuZnJvbS5saW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIG9wLnNjcm9sbFRvUG9zLnRvLmxpbmUgPj0gZGlzcGxheS52aWV3VG8pIHx8XG4gICAgICBkaXNwbGF5Lm1heExpbmVDaGFuZ2VkICYmIGNtLm9wdGlvbnMubGluZVdyYXBwaW5nO1xuICAgIG9wLnVwZGF0ZSA9IG9wLm11c3RVcGRhdGUgJiZcbiAgICAgIG5ldyBEaXNwbGF5VXBkYXRlKGNtLCBvcC5tdXN0VXBkYXRlICYmIHt0b3A6IG9wLnNjcm9sbFRvcCwgZW5zdXJlOiBvcC5zY3JvbGxUb1Bvc30sIG9wLmZvcmNlVXBkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9XMShvcCkge1xuICAgIG9wLnVwZGF0ZWREaXNwbGF5ID0gb3AubXVzdFVwZGF0ZSAmJiB1cGRhdGVEaXNwbGF5SWZOZWVkZWQob3AuY20sIG9wLnVwZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25fUjIob3ApIHtcbiAgICB2YXIgY20gPSBvcC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSk7XG5cbiAgICBvcC5iYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuXG4gICAgLy8gSWYgdGhlIG1heCBsaW5lIGNoYW5nZWQgc2luY2UgaXQgd2FzIGxhc3QgbWVhc3VyZWQsIG1lYXN1cmUgaXQsXG4gICAgLy8gYW5kIGVuc3VyZSB0aGUgZG9jdW1lbnQncyB3aWR0aCBtYXRjaGVzIGl0LlxuICAgIC8vIHVwZGF0ZURpc3BsYXlfVzIgd2lsbCB1c2UgdGhlc2UgcHJvcGVydGllcyB0byBkbyB0aGUgYWN0dWFsIHJlc2l6aW5nXG4gICAgaWYgKGRpc3BsYXkubWF4TGluZUNoYW5nZWQgJiYgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBvcC5hZGp1c3RXaWR0aFRvID0gbWVhc3VyZUNoYXIoY20sIGRpc3BsYXkubWF4TGluZSwgZGlzcGxheS5tYXhMaW5lLnRleHQubGVuZ3RoKS5sZWZ0ICsgMztcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXJXaWR0aCA9IG9wLmFkanVzdFdpZHRoVG87XG4gICAgICBvcC5iYXJNZWFzdXJlLnNjcm9sbFdpZHRoID1cbiAgICAgICAgTWF0aC5tYXgoZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCwgZGlzcGxheS5zaXplci5vZmZzZXRMZWZ0ICsgb3AuYWRqdXN0V2lkdGhUbyArIHNjcm9sbEdhcChjbSkgKyBjbS5kaXNwbGF5LmJhcldpZHRoKTtcbiAgICAgIG9wLm1heFNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvIC0gZGlzcGxheVdpZHRoKGNtKSk7XG4gICAgfVxuXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5IHx8IG9wLnNlbGVjdGlvbkNoYW5nZWQpXG4gICAgICBvcC5wcmVwYXJlZFNlbGVjdGlvbiA9IGRpc3BsYXkuaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cyKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY207XG5cbiAgICBpZiAob3AuYWRqdXN0V2lkdGhUbyAhPSBudWxsKSB7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbyArIFwicHhcIjtcbiAgICAgIGlmIChvcC5tYXhTY3JvbGxMZWZ0IDwgY20uZG9jLnNjcm9sbExlZnQpXG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIE1hdGgubWluKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgb3AubWF4U2Nyb2xsTGVmdCksIHRydWUpO1xuICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChvcC5wcmVwYXJlZFNlbGVjdGlvbilcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihvcC5wcmVwYXJlZFNlbGVjdGlvbik7XG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KVxuICAgICAgc2V0RG9jdW1lbnRIZWlnaHQoY20sIG9wLmJhck1lYXN1cmUpO1xuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSB8fCBvcC5zdGFydEhlaWdodCAhPSBjbS5kb2MuaGVpZ2h0KVxuICAgICAgdXBkYXRlU2Nyb2xsYmFycyhjbSwgb3AuYmFyTWVhc3VyZSk7XG5cbiAgICBpZiAob3Auc2VsZWN0aW9uQ2hhbmdlZCkgcmVzdGFydEJsaW5rKGNtKTtcblxuICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkICYmIG9wLnVwZGF0ZUlucHV0KVxuICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldChvcC50eXBpbmcpO1xuICAgIGlmIChvcC5mb2N1cyAmJiBvcC5mb2N1cyA9PSBhY3RpdmVFbHQoKSkgZW5zdXJlRm9jdXMob3AuY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX2ZpbmlzaChvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSBwb3N0VXBkYXRlRGlzcGxheShjbSwgb3AudXBkYXRlKTtcblxuICAgIC8vIEFib3J0IG1vdXNlIHdoZWVsIGRlbHRhIG1lYXN1cmVtZW50LCB3aGVuIHNjcm9sbGluZyBleHBsaWNpdGx5XG4gICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggIT0gbnVsbCAmJiAob3Auc2Nyb2xsVG9wICE9IG51bGwgfHwgb3Auc2Nyb2xsTGVmdCAhPSBudWxsIHx8IG9wLnNjcm9sbFRvUG9zKSlcbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbDtcblxuICAgIC8vIFByb3BhZ2F0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIHRoZSBhY3R1YWwgRE9NIHNjcm9sbGVyXG4gICAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSBvcC5zY3JvbGxUb3AgfHwgb3AuZm9yY2VTY3JvbGwpKSB7XG4gICAgICBkb2Muc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCwgb3Auc2Nyb2xsVG9wKSk7XG4gICAgICBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRvYy5zY3JvbGxUb3ApO1xuICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBkb2Muc2Nyb2xsVG9wO1xuICAgIH1cbiAgICBpZiAob3Auc2Nyb2xsTGVmdCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgIT0gb3Auc2Nyb2xsTGVmdCB8fCBvcC5mb3JjZVNjcm9sbCkpIHtcbiAgICAgIGRvYy5zY3JvbGxMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGRpc3BsYXlXaWR0aChjbSksIG9wLnNjcm9sbExlZnQpKTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGRvYy5zY3JvbGxMZWZ0KTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGRvYy5zY3JvbGxMZWZ0O1xuICAgICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBuZWVkIHRvIHNjcm9sbCBhIHNwZWNpZmljIHBvc2l0aW9uIGludG8gdmlldywgZG8gc28uXG4gICAgaWYgKG9wLnNjcm9sbFRvUG9zKSB7XG4gICAgICB2YXIgY29vcmRzID0gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKGRvYywgb3Auc2Nyb2xsVG9Qb3MudG8pLCBvcC5zY3JvbGxUb1Bvcy5tYXJnaW4pO1xuICAgICAgaWYgKG9wLnNjcm9sbFRvUG9zLmlzQ3Vyc29yICYmIGNtLnN0YXRlLmZvY3VzZWQpIG1heWJlU2Nyb2xsV2luZG93KGNtLCBjb29yZHMpO1xuICAgIH1cblxuICAgIC8vIEZpcmUgZXZlbnRzIGZvciBtYXJrZXJzIHRoYXQgYXJlIGhpZGRlbi91bmlkZGVuIGJ5IGVkaXRpbmcgb3JcbiAgICAvLyB1bmRvaW5nXG4gICAgdmFyIGhpZGRlbiA9IG9wLm1heWJlSGlkZGVuTWFya2VycywgdW5oaWRkZW4gPSBvcC5tYXliZVVuaGlkZGVuTWFya2VycztcbiAgICBpZiAoaGlkZGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICghaGlkZGVuW2ldLmxpbmVzLmxlbmd0aCkgc2lnbmFsKGhpZGRlbltpXSwgXCJoaWRlXCIpO1xuICAgIGlmICh1bmhpZGRlbikgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICh1bmhpZGRlbltpXS5saW5lcy5sZW5ndGgpIHNpZ25hbCh1bmhpZGRlbltpXSwgXCJ1bmhpZGVcIik7XG5cbiAgICBpZiAoZGlzcGxheS53cmFwcGVyLm9mZnNldEhlaWdodClcbiAgICAgIGRvYy5zY3JvbGxUb3AgPSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcblxuICAgIC8vIEZpcmUgY2hhbmdlIGV2ZW50cywgYW5kIGRlbGF5ZWQgZXZlbnQgaGFuZGxlcnNcbiAgICBpZiAob3AuY2hhbmdlT2JqcylcbiAgICAgIHNpZ25hbChjbSwgXCJjaGFuZ2VzXCIsIGNtLCBvcC5jaGFuZ2VPYmpzKTtcbiAgICBpZiAob3AudXBkYXRlKVxuICAgICAgb3AudXBkYXRlLmZpbmlzaCgpO1xuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb25cbiAgZnVuY3Rpb24gcnVuSW5PcChjbSwgZikge1xuICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYoKTtcbiAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgdHJ5IHsgcmV0dXJuIGYoKTsgfVxuICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pOyB9XG4gIH1cbiAgLy8gV3JhcHMgYSBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb24uIFJldHVybnMgdGhlIHdyYXBwZWQgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIG9wZXJhdGlvbihjbSwgZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYuYXBwbHkoY20sIGFyZ3VtZW50cyk7XG4gICAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgICB0cnkgeyByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG4gIC8vIFVzZWQgdG8gYWRkIG1ldGhvZHMgdG8gZWRpdG9yIGFuZCBkb2MgaW5zdGFuY2VzLCB3cmFwcGluZyB0aGVtIGluXG4gIC8vIG9wZXJhdGlvbnMuXG4gIGZ1bmN0aW9uIG1ldGhvZE9wKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJPcCkgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbih0aGlzKTsgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9jTWV0aG9kT3AoZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY207XG4gICAgICBpZiAoIWNtIHx8IGNtLmN1ck9wKSByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG5cbiAgLy8gVklFVyBUUkFDS0lOR1xuXG4gIC8vIFRoZXNlIG9iamVjdHMgYXJlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2aXNpYmxlIChjdXJyZW50bHkgZHJhd24pXG4gIC8vIHBhcnQgb2YgdGhlIGRvY3VtZW50LiBBIExpbmVWaWV3IG1heSBjb3JyZXNwb25kIHRvIG11bHRpcGxlXG4gIC8vIGxvZ2ljYWwgbGluZXMsIGlmIHRob3NlIGFyZSBjb25uZWN0ZWQgYnkgY29sbGFwc2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gTGluZVZpZXcoZG9jLCBsaW5lLCBsaW5lTikge1xuICAgIC8vIFRoZSBzdGFydGluZyBsaW5lXG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAvLyBDb250aW51aW5nIGxpbmVzLCBpZiBhbnlcbiAgICB0aGlzLnJlc3QgPSB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpO1xuICAgIC8vIE51bWJlciBvZiBsb2dpY2FsIGxpbmVzIGluIHRoaXMgdmlzdWFsIGxpbmVcbiAgICB0aGlzLnNpemUgPSB0aGlzLnJlc3QgPyBsaW5lTm8obHN0KHRoaXMucmVzdCkpIC0gbGluZU4gKyAxIDogMTtcbiAgICB0aGlzLm5vZGUgPSB0aGlzLnRleHQgPSBudWxsO1xuICAgIHRoaXMuaGlkZGVuID0gbGluZUlzSGlkZGVuKGRvYywgbGluZSk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSByYW5nZSBvZiBMaW5lVmlldyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gbGluZXMuXG4gIGZ1bmN0aW9uIGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBhcnJheSA9IFtdLCBuZXh0UG9zO1xuICAgIGZvciAodmFyIHBvcyA9IGZyb207IHBvcyA8IHRvOyBwb3MgPSBuZXh0UG9zKSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGdldExpbmUoY20uZG9jLCBwb3MpLCBwb3MpO1xuICAgICAgbmV4dFBvcyA9IHBvcyArIHZpZXcuc2l6ZTtcbiAgICAgIGFycmF5LnB1c2godmlldyk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXkudmlldyBkYXRhIHN0cnVjdHVyZSBmb3IgYSBnaXZlbiBjaGFuZ2UgdG8gdGhlXG4gIC8vIGRvY3VtZW50LiBGcm9tIGFuZCB0byBhcmUgaW4gcHJlLWNoYW5nZSBjb29yZGluYXRlcy4gTGVuZGlmZiBpc1xuICAvLyB0aGUgYW1vdW50IG9mIGxpbmVzIGFkZGVkIG9yIHN1YnRyYWN0ZWQgYnkgdGhlIGNoYW5nZS4gVGhpcyBpc1xuICAvLyB1c2VkIGZvciBjaGFuZ2VzIHRoYXQgc3BhbiBtdWx0aXBsZSBsaW5lcywgb3IgY2hhbmdlIHRoZSB3YXlcbiAgLy8gbGluZXMgYXJlIGRpdmlkZWQgaW50byB2aXN1YWwgbGluZXMuIHJlZ0xpbmVDaGFuZ2UgKGJlbG93KVxuICAvLyByZWdpc3RlcnMgc2luZ2xlLWxpbmUgY2hhbmdlcy5cbiAgZnVuY3Rpb24gcmVnQ2hhbmdlKGNtLCBmcm9tLCB0bywgbGVuZGlmZikge1xuICAgIGlmIChmcm9tID09IG51bGwpIGZyb20gPSBjbS5kb2MuZmlyc3Q7XG4gICAgaWYgKHRvID09IG51bGwpIHRvID0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemU7XG4gICAgaWYgKCFsZW5kaWZmKSBsZW5kaWZmID0gMDtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGVuZGlmZiAmJiB0byA8IGRpc3BsYXkudmlld1RvICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+IGZyb20pKVxuICAgICAgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IGZyb207XG5cbiAgICBjbS5jdXJPcC52aWV3Q2hhbmdlZCA9IHRydWU7XG5cbiAgICBpZiAoZnJvbSA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBDaGFuZ2UgYWZ0ZXJcbiAgICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucyAmJiB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKSA8IGRpc3BsYXkudmlld1RvKVxuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgIH0gZWxzZSBpZiAodG8gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBDaGFuZ2UgYmVmb3JlXG4gICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gKz0gbGVuZGlmZjtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSAmJiB0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBGdWxsIG92ZXJsYXBcbiAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tIDw9IGRpc3BsYXkudmlld0Zyb20pIHsgLy8gVG9wIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGN1dC5pbmRleCk7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU47XG4gICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG8gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gQm90dG9tIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICBpZiAoY3V0KSB7XG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5zbGljZSgwLCBjdXQuaW5kZXgpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyA9IGN1dC5saW5lTjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gR2FwIGluIHRoZSBtaWRkbGVcbiAgICAgIHZhciBjdXRUb3AgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICB2YXIgY3V0Qm90ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSk7XG4gICAgICBpZiAoY3V0VG9wICYmIGN1dEJvdCkge1xuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgY3V0VG9wLmluZGV4KVxuICAgICAgICAgIC5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGN1dFRvcC5saW5lTiwgY3V0Qm90LmxpbmVOKSlcbiAgICAgICAgICAuY29uY2F0KGRpc3BsYXkudmlldy5zbGljZShjdXRCb3QuaW5kZXgpKTtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGV4dCA9IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0KSB7XG4gICAgICBpZiAodG8gPCBleHQubGluZU4pXG4gICAgICAgIGV4dC5saW5lTiArPSBsZW5kaWZmO1xuICAgICAgZWxzZSBpZiAoZnJvbSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgICBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIHRvIGEgc2luZ2xlIGxpbmUuIFR5cGUgbXVzdCBiZSBvbmUgb2YgXCJ0ZXh0XCIsXG4gIC8vIFwiZ3V0dGVyXCIsIFwiY2xhc3NcIiwgXCJ3aWRnZXRcIlxuICBmdW5jdGlvbiByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lLCB0eXBlKSB7XG4gICAgY20uY3VyT3Audmlld0NoYW5nZWQgPSB0cnVlO1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgbGluZSA+PSBleHQubGluZU4gJiYgbGluZSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcblxuICAgIGlmIChsaW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCBsaW5lID49IGRpc3BsYXkudmlld1RvKSByZXR1cm47XG4gICAgdmFyIGxpbmVWaWV3ID0gZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmUpXTtcbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgdmFyIGFyciA9IGxpbmVWaWV3LmNoYW5nZXMgfHwgKGxpbmVWaWV3LmNoYW5nZXMgPSBbXSk7XG4gICAgaWYgKGluZGV4T2YoYXJyLCB0eXBlKSA9PSAtMSkgYXJyLnB1c2godHlwZSk7XG4gIH1cblxuICAvLyBDbGVhciB0aGUgdmlldy5cbiAgZnVuY3Rpb24gcmVzZXRWaWV3KGNtKSB7XG4gICAgY20uZGlzcGxheS52aWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld1RvID0gY20uZG9jLmZpcnN0O1xuICAgIGNtLmRpc3BsYXkudmlldyA9IFtdO1xuICAgIGNtLmRpc3BsYXkudmlld09mZnNldCA9IDA7XG4gIH1cblxuICAvLyBGaW5kIHRoZSB2aWV3IGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGxpbmUuIFJldHVybiBudWxsXG4gIC8vIHdoZW4gdGhlIGxpbmUgaXNuJ3QgdmlzaWJsZS5cbiAgZnVuY3Rpb24gZmluZFZpZXdJbmRleChjbSwgbikge1xuICAgIGlmIChuID49IGNtLmRpc3BsYXkudmlld1RvKSByZXR1cm4gbnVsbDtcbiAgICBuIC09IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgaWYgKG4gPCAwKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIG4gLT0gdmlld1tpXS5zaXplO1xuICAgICAgaWYgKG4gPCAwKSByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2aWV3Q3V0dGluZ1BvaW50KGNtLCBvbGROLCBuZXdOLCBkaXIpIHtcbiAgICB2YXIgaW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBvbGROKSwgZGlmZiwgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBpZiAoIXNhd0NvbGxhcHNlZFNwYW5zIHx8IG5ld04gPT0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemUpXG4gICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059O1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gY20uZGlzcGxheS52aWV3RnJvbTsgaSA8IGluZGV4OyBpKyspXG4gICAgICBuICs9IHZpZXdbaV0uc2l6ZTtcbiAgICBpZiAobiAhPSBvbGROKSB7XG4gICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gdmlldy5sZW5ndGggLSAxKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZGlmZiA9IChuICsgdmlld1tpbmRleF0uc2l6ZSkgLSBvbGROO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IG4gLSBvbGROO1xuICAgICAgfVxuICAgICAgb2xkTiArPSBkaWZmOyBuZXdOICs9IGRpZmY7XG4gICAgfVxuICAgIHdoaWxlICh2aXN1YWxMaW5lTm8oY20uZG9jLCBuZXdOKSAhPSBuZXdOKSB7XG4gICAgICBpZiAoaW5kZXggPT0gKGRpciA8IDAgPyAwIDogdmlldy5sZW5ndGggLSAxKSkgcmV0dXJuIG51bGw7XG4gICAgICBuZXdOICs9IGRpciAqIHZpZXdbaW5kZXggLSAoZGlyIDwgMCA/IDEgOiAwKV0uc2l6ZTtcbiAgICAgIGluZGV4ICs9IGRpcjtcbiAgICB9XG4gICAgcmV0dXJuIHtpbmRleDogaW5kZXgsIGxpbmVOOiBuZXdOfTtcbiAgfVxuXG4gIC8vIEZvcmNlIHRoZSB2aWV3IHRvIGNvdmVyIGEgZ2l2ZW4gcmFuZ2UsIGFkZGluZyBlbXB0eSB2aWV3IGVsZW1lbnRcbiAgLy8gb3IgY2xpcHBpbmcgb2ZmIGV4aXN0aW5nIG9uZXMgYXMgbmVlZGVkLlxuICBmdW5jdGlvbiBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgdmlldyA9IGRpc3BsYXkudmlldztcbiAgICBpZiAodmlldy5sZW5ndGggPT0gMCB8fCBmcm9tID49IGRpc3BsYXkudmlld1RvIHx8IHRvIDw9IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgIGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0byk7XG4gICAgICBkaXNwbGF5LnZpZXdGcm9tID0gZnJvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPiBmcm9tKVxuICAgICAgICBkaXNwbGF5LnZpZXcgPSBidWlsZFZpZXdBcnJheShjbSwgZnJvbSwgZGlzcGxheS52aWV3RnJvbSkuY29uY2F0KGRpc3BsYXkudmlldyk7XG4gICAgICBlbHNlIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSlcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGZpbmRWaWV3SW5kZXgoY20sIGZyb20pKTtcbiAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tO1xuICAgICAgaWYgKGRpc3BsYXkudmlld1RvIDwgdG8pXG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGRpc3BsYXkudmlld1RvLCB0bykpO1xuICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bylcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGZpbmRWaWV3SW5kZXgoY20sIHRvKSk7XG4gICAgfVxuICAgIGRpc3BsYXkudmlld1RvID0gdG87XG4gIH1cblxuICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGxpbmVzIGluIHRoZSB2aWV3IHdob3NlIERPTSByZXByZXNlbnRhdGlvbiBpc1xuICAvLyBvdXQgb2YgZGF0ZSAob3Igbm9uZXhpc3RlbnQpLlxuICBmdW5jdGlvbiBjb3VudERpcnR5VmlldyhjbSkge1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS52aWV3LCBkaXJ0eSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldO1xuICAgICAgaWYgKCFsaW5lVmlldy5oaWRkZW4gJiYgKCFsaW5lVmlldy5ub2RlIHx8IGxpbmVWaWV3LmNoYW5nZXMpKSArK2RpcnR5O1xuICAgIH1cbiAgICByZXR1cm4gZGlydHk7XG4gIH1cblxuICAvLyBFVkVOVCBIQU5ETEVSU1xuXG4gIC8vIEF0dGFjaCB0aGUgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBlZGl0b3JcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudEhhbmRsZXJzKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2Vkb3duXCIsIG9wZXJhdGlvbihjbSwgb25Nb3VzZURvd24pKTtcbiAgICAvLyBPbGRlciBJRSdzIHdpbGwgbm90IGZpcmUgYSBzZWNvbmQgbW91c2Vkb3duIGZvciBhIGRvdWJsZSBjbGlja1xuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSByZXR1cm47XG4gICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgICAgICBpZiAoIXBvcyB8fCBjbGlja0luR3V0dGVyKGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSByZXR1cm47XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICBleHRlbmRTZWxlY3Rpb24oY20uZG9jLCB3b3JkLmFuY2hvciwgd29yZC5oZWFkKTtcbiAgICAgIH0pKTtcbiAgICBlbHNlXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHsgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGVfcHJldmVudERlZmF1bHQoZSk7IH0pO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZmlyZSBjb250ZXh0bWVudSAqYWZ0ZXIqIG9wZW5pbmcgdGhlIG1lbnUsIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgd2UgY2FuJ3QgbWVzcyB3aXRoIGl0IGFueW1vcmUuIENvbnRleHQgbWVudSBpc1xuICAgIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLlxuICAgIGlmICghY2FwdHVyZVJpZ2h0Q2xpY2spIG9uKGQuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge29uQ29udGV4dE1lbnUoY20sIGUpO30pO1xuXG4gICAgLy8gVXNlZCB0byBzdXBwcmVzcyBtb3VzZSBldmVudCBoYW5kbGluZyB3aGVuIGEgdG91Y2ggaGFwcGVuc1xuICAgIHZhciB0b3VjaEZpbmlzaGVkLCBwcmV2VG91Y2ggPSB7ZW5kOiAwfTtcbiAgICBmdW5jdGlvbiBmaW5pc2hUb3VjaCgpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSB7XG4gICAgICAgIHRvdWNoRmluaXNoZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2QuYWN0aXZlVG91Y2ggPSBudWxsO30sIDEwMDApO1xuICAgICAgICBwcmV2VG91Y2ggPSBkLmFjdGl2ZVRvdWNoO1xuICAgICAgICBwcmV2VG91Y2guZW5kID0gK25ldyBEYXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gaXNNb3VzZUxpa2VUb3VjaEV2ZW50KGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9IDEpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTtcbiAgICAgIHJldHVybiB0b3VjaC5yYWRpdXNYIDw9IDEgJiYgdG91Y2gucmFkaXVzWSA8PSAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmYXJBd2F5KHRvdWNoLCBvdGhlcikge1xuICAgICAgaWYgKG90aGVyLmxlZnQgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZHggPSBvdGhlci5sZWZ0IC0gdG91Y2gubGVmdCwgZHkgPSBvdGhlci50b3AgLSB0b3VjaC50b3A7XG4gICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPiAyMCAqIDIwO1xuICAgIH1cbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFpc01vdXNlTGlrZVRvdWNoRXZlbnQoZSkpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRvdWNoRmluaXNoZWQpO1xuICAgICAgICB2YXIgbm93ID0gK25ldyBEYXRlO1xuICAgICAgICBkLmFjdGl2ZVRvdWNoID0ge3N0YXJ0OiBub3csIG1vdmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2OiBub3cgLSBwcmV2VG91Y2guZW5kIDw9IDMwMCA/IHByZXZUb3VjaCA6IG51bGx9O1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgZC5hY3RpdmVUb3VjaC5sZWZ0ID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgIGQuYWN0aXZlVG91Y2gudG9wID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJ0b3VjaG1vdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZC5hY3RpdmVUb3VjaCkgZC5hY3RpdmVUb3VjaC5tb3ZlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgdG91Y2ggPSBkLmFjdGl2ZVRvdWNoO1xuICAgICAgaWYgKHRvdWNoICYmICFldmVudEluV2lkZ2V0KGQsIGUpICYmIHRvdWNoLmxlZnQgIT0gbnVsbCAmJlxuICAgICAgICAgICF0b3VjaC5tb3ZlZCAmJiBuZXcgRGF0ZSAtIHRvdWNoLnN0YXJ0IDwgMzAwKSB7XG4gICAgICAgIHZhciBwb3MgPSBjbS5jb29yZHNDaGFyKGQuYWN0aXZlVG91Y2gsIFwicGFnZVwiKSwgcmFuZ2U7XG4gICAgICAgIGlmICghdG91Y2gucHJldiB8fCBmYXJBd2F5KHRvdWNoLCB0b3VjaC5wcmV2KSkgLy8gU2luZ2xlIHRhcFxuICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKHBvcywgcG9zKTtcbiAgICAgICAgZWxzZSBpZiAoIXRvdWNoLnByZXYucHJldiB8fCBmYXJBd2F5KHRvdWNoLCB0b3VjaC5wcmV2LnByZXYpKSAvLyBEb3VibGUgdGFwXG4gICAgICAgICAgcmFuZ2UgPSBjbS5maW5kV29yZEF0KHBvcyk7XG4gICAgICAgIGVsc2UgLy8gVHJpcGxlIHRhcFxuICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKFBvcyhwb3MubGluZSwgMCksIGNsaXBQb3MoY20uZG9jLCBQb3MocG9zLmxpbmUgKyAxLCAwKSkpO1xuICAgICAgICBjbS5zZXRTZWxlY3Rpb24ocmFuZ2UuYW5jaG9yLCByYW5nZS5oZWFkKTtcbiAgICAgICAgY20uZm9jdXMoKTtcbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIH1cbiAgICAgIGZpbmlzaFRvdWNoKCk7XG4gICAgfSk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJ0b3VjaGNhbmNlbFwiLCBmaW5pc2hUb3VjaCk7XG5cbiAgICAvLyBTeW5jIHNjcm9sbGluZyBiZXR3ZWVuIGZha2Ugc2Nyb2xsYmFycyBhbmQgcmVhbCBzY3JvbGxhYmxlXG4gICAgLy8gYXJlYSwgZW5zdXJlIHZpZXdwb3J0IGlzIHVwZGF0ZWQgd2hlbiBzY3JvbGxpbmcuXG4gICAgb24oZC5zY3JvbGxlciwgXCJzY3JvbGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZC5zY3JvbGxlci5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBkLnNjcm9sbGVyLnNjcm9sbFRvcCk7XG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIGQuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdHJ1ZSk7XG4gICAgICAgIHNpZ25hbChjbSwgXCJzY3JvbGxcIiwgY20pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTGlzdGVuIHRvIHdoZWVsIGV2ZW50cyBpbiBvcmRlciB0byB0cnkgYW5kIHVwZGF0ZSB0aGUgdmlld3BvcnQgb24gdGltZS5cbiAgICBvbihkLnNjcm9sbGVyLCBcIm1vdXNld2hlZWxcIiwgZnVuY3Rpb24oZSl7b25TY3JvbGxXaGVlbChjbSwgZSk7fSk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJET01Nb3VzZVNjcm9sbFwiLCBmdW5jdGlvbihlKXtvblNjcm9sbFdoZWVsKGNtLCBlKTt9KTtcblxuICAgIC8vIFByZXZlbnQgd3JhcHBlciBmcm9tIGV2ZXIgc2Nyb2xsaW5nXG4gICAgb24oZC53cmFwcGVyLCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHsgZC53cmFwcGVyLnNjcm9sbFRvcCA9IGQud3JhcHBlci5zY3JvbGxMZWZ0ID0gMDsgfSk7XG5cbiAgICBkLmRyYWdGdW5jdGlvbnMgPSB7XG4gICAgICBlbnRlcjogZnVuY3Rpb24oZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSBlX3N0b3AoZSk7fSxcbiAgICAgIG92ZXI6IGZ1bmN0aW9uKGUpIHtpZiAoIXNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyBvbkRyYWdPdmVyKGNtLCBlKTsgZV9zdG9wKGUpOyB9fSxcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihlKXtvbkRyYWdTdGFydChjbSwgZSk7fSxcbiAgICAgIGRyb3A6IG9wZXJhdGlvbihjbSwgb25Ecm9wKSxcbiAgICAgIGxlYXZlOiBmdW5jdGlvbigpIHtjbGVhckRyYWdDdXJzb3IoY20pO31cbiAgICB9O1xuXG4gICAgdmFyIGlucCA9IGQuaW5wdXQuZ2V0RmllbGQoKTtcbiAgICBvbihpbnAsIFwia2V5dXBcIiwgZnVuY3Rpb24oZSkgeyBvbktleVVwLmNhbGwoY20sIGUpOyB9KTtcbiAgICBvbihpbnAsIFwia2V5ZG93blwiLCBvcGVyYXRpb24oY20sIG9uS2V5RG93bikpO1xuICAgIG9uKGlucCwgXCJrZXlwcmVzc1wiLCBvcGVyYXRpb24oY20sIG9uS2V5UHJlc3MpKTtcbiAgICBvbihpbnAsIFwiZm9jdXNcIiwgYmluZChvbkZvY3VzLCBjbSkpO1xuICAgIG9uKGlucCwgXCJibHVyXCIsIGJpbmQob25CbHVyLCBjbSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhZ0Ryb3BDaGFuZ2VkKGNtLCB2YWx1ZSwgb2xkKSB7XG4gICAgdmFyIHdhc09uID0gb2xkICYmIG9sZCAhPSBDb2RlTWlycm9yLkluaXQ7XG4gICAgaWYgKCF2YWx1ZSAhPSAhd2FzT24pIHtcbiAgICAgIHZhciBmdW5jcyA9IGNtLmRpc3BsYXkuZHJhZ0Z1bmN0aW9ucztcbiAgICAgIHZhciB0b2dnbGUgPSB2YWx1ZSA/IG9uIDogb2ZmO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ3N0YXJ0XCIsIGZ1bmNzLnN0YXJ0KTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdlbnRlclwiLCBmdW5jcy5lbnRlcik7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnb3ZlclwiLCBmdW5jcy5vdmVyKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdsZWF2ZVwiLCBmdW5jcy5sZWF2ZSk7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGZ1bmNzLmRyb3ApO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGxlZCB3aGVuIHRoZSB3aW5kb3cgcmVzaXplc1xuICBmdW5jdGlvbiBvblJlc2l6ZShjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheTtcbiAgICBpZiAoZC5sYXN0V3JhcEhlaWdodCA9PSBkLndyYXBwZXIuY2xpZW50SGVpZ2h0ICYmIGQubGFzdFdyYXBXaWR0aCA9PSBkLndyYXBwZXIuY2xpZW50V2lkdGgpXG4gICAgICByZXR1cm47XG4gICAgLy8gTWlnaHQgYmUgYSB0ZXh0IHNjYWxpbmcgb3BlcmF0aW9uLCBjbGVhciBzaXplIGNhY2hlcy5cbiAgICBkLmNhY2hlZENoYXJXaWR0aCA9IGQuY2FjaGVkVGV4dEhlaWdodCA9IGQuY2FjaGVkUGFkZGluZ0ggPSBudWxsO1xuICAgIGQuc2Nyb2xsYmFyc0NsaXBwZWQgPSBmYWxzZTtcbiAgICBjbS5zZXRTaXplKCk7XG4gIH1cblxuICAvLyBNT1VTRSBFVkVOVFNcblxuICAvLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBtb3VzZSBldmVudCBoYXBwZW5lZCBpbiBhIHdpZGdldFxuICBmdW5jdGlvbiBldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHtcbiAgICBmb3IgKHZhciBuID0gZV90YXJnZXQoZSk7IG4gIT0gZGlzcGxheS53cmFwcGVyOyBuID0gbi5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIW4gfHwgKG4ubm9kZVR5cGUgPT0gMSAmJiBuLmdldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIikgPT0gXCJ0cnVlXCIpIHx8XG4gICAgICAgICAgKG4ucGFyZW50Tm9kZSA9PSBkaXNwbGF5LnNpemVyICYmIG4gIT0gZGlzcGxheS5tb3ZlcikpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdpdmVuIGEgbW91c2UgZXZlbnQsIGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24uIElmIGxpYmVyYWxcbiAgLy8gaXMgZmFsc2UsIGl0IGNoZWNrcyB3aGV0aGVyIGEgZ3V0dGVyIG9yIHNjcm9sbGJhciB3YXMgY2xpY2tlZCxcbiAgLy8gYW5kIHJldHVybnMgbnVsbCBpZiBpdCB3YXMuIGZvclJlY3QgaXMgdXNlZCBieSByZWN0YW5ndWxhclxuICAvLyBzZWxlY3Rpb25zLCBhbmQgdHJpZXMgdG8gZXN0aW1hdGUgYSBjaGFyYWN0ZXIgcG9zaXRpb24gZXZlbiBmb3JcbiAgLy8gY29vcmRpbmF0ZXMgYmV5b25kIHRoZSByaWdodCBvZiB0aGUgdGV4dC5cbiAgZnVuY3Rpb24gcG9zRnJvbU1vdXNlKGNtLCBlLCBsaWJlcmFsLCBmb3JSZWN0KSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmICghbGliZXJhbCAmJiBlX3RhcmdldChlKS5nZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiKSA9PSBcInRydWVcIikgcmV0dXJuIG51bGw7XG5cbiAgICB2YXIgeCwgeSwgc3BhY2UgPSBkaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBGYWlscyB1bnByZWRpY3RhYmx5IG9uIElFWzY3XSB3aGVuIG1vdXNlIGlzIGRyYWdnZWQgYXJvdW5kIHF1aWNrbHkuXG4gICAgdHJ5IHsgeCA9IGUuY2xpZW50WCAtIHNwYWNlLmxlZnQ7IHkgPSBlLmNsaWVudFkgLSBzcGFjZS50b3A7IH1cbiAgICBjYXRjaCAoZSkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHZhciBjb29yZHMgPSBjb29yZHNDaGFyKGNtLCB4LCB5KSwgbGluZTtcbiAgICBpZiAoZm9yUmVjdCAmJiBjb29yZHMueFJlbCA9PSAxICYmIChsaW5lID0gZ2V0TGluZShjbS5kb2MsIGNvb3Jkcy5saW5lKS50ZXh0KS5sZW5ndGggPT0gY29vcmRzLmNoKSB7XG4gICAgICB2YXIgY29sRGlmZiA9IGNvdW50Q29sdW1uKGxpbmUsIGxpbmUubGVuZ3RoLCBjbS5vcHRpb25zLnRhYlNpemUpIC0gbGluZS5sZW5ndGg7XG4gICAgICBjb29yZHMgPSBQb3MoY29vcmRzLmxpbmUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoKHggLSBwYWRkaW5nSChjbS5kaXNwbGF5KS5sZWZ0KSAvIGNoYXJXaWR0aChjbS5kaXNwbGF5KSkgLSBjb2xEaWZmKSk7XG4gICAgfVxuICAgIHJldHVybiBjb29yZHM7XG4gIH1cblxuICAvLyBBIG1vdXNlIGRvd24gY2FuIGJlIGEgc2luZ2xlIGNsaWNrLCBkb3VibGUgY2xpY2ssIHRyaXBsZSBjbGljayxcbiAgLy8gc3RhcnQgb2Ygc2VsZWN0aW9uIGRyYWcsIHN0YXJ0IG9mIHRleHQgZHJhZywgbmV3IGN1cnNvclxuICAvLyAoY3RybC1jbGljayksIHJlY3RhbmdsZSBkcmFnIChhbHQtZHJhZyksIG9yIHh3aW5cbiAgLy8gbWlkZGxlLWNsaWNrLXBhc3RlLiBPciBpdCBtaWdodCBiZSBhIGNsaWNrIG9uIHNvbWV0aGluZyB3ZSBzaG91bGRcbiAgLy8gbm90IGludGVyZmVyZSB3aXRoLCBzdWNoIGFzIGEgc2Nyb2xsYmFyIG9yIHdpZGdldC5cbiAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgIHZhciBjbSA9IHRoaXMsIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChkaXNwbGF5LmFjdGl2ZVRvdWNoICYmIGRpc3BsYXkuaW5wdXQuc3VwcG9ydHNUb3VjaCgpIHx8IHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgcmV0dXJuO1xuICAgIGRpc3BsYXkuc2hpZnQgPSBlLnNoaWZ0S2V5O1xuXG4gICAgaWYgKGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIHtcbiAgICAgIGlmICghd2Via2l0KSB7XG4gICAgICAgIC8vIEJyaWVmbHkgdHVybiBvZmYgZHJhZ2dhYmlsaXR5LCB0byBhbGxvdyB3aWRnZXRzIHRvIGRvXG4gICAgICAgIC8vIG5vcm1hbCBkcmFnZ2luZyB0aGluZ3MuXG4gICAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkaXNwbGF5LnNjcm9sbGVyLmRyYWdnYWJsZSA9IHRydWU7fSwgMTAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNsaWNrSW5HdXR0ZXIoY20sIGUpKSByZXR1cm47XG4gICAgdmFyIHN0YXJ0ID0gcG9zRnJvbU1vdXNlKGNtLCBlKTtcbiAgICB3aW5kb3cuZm9jdXMoKTtcblxuICAgIHN3aXRjaCAoZV9idXR0b24oZSkpIHtcbiAgICBjYXNlIDE6XG4gICAgICAvLyAjMzI2MTogbWFrZSBzdXJlLCB0aGF0IHdlJ3JlIG5vdCBzdGFydGluZyBhIHNlY29uZCBzZWxlY3Rpb25cbiAgICAgIGlmIChjbS5zdGF0ZS5zZWxlY3RpbmdUZXh0KVxuICAgICAgICBjbS5zdGF0ZS5zZWxlY3RpbmdUZXh0KGUpO1xuICAgICAgZWxzZSBpZiAoc3RhcnQpXG4gICAgICAgIGxlZnRCdXR0b25Eb3duKGNtLCBlLCBzdGFydCk7XG4gICAgICBlbHNlIGlmIChlX3RhcmdldChlKSA9PSBkaXNwbGF5LnNjcm9sbGVyKVxuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgaWYgKHdlYmtpdCkgY20uc3RhdGUubGFzdE1pZGRsZURvd24gPSArbmV3IERhdGU7XG4gICAgICBpZiAoc3RhcnQpIGV4dGVuZFNlbGVjdGlvbihjbS5kb2MsIHN0YXJ0KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZGlzcGxheS5pbnB1dC5mb2N1cygpO30sIDIwKTtcbiAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIG9uQ29udGV4dE1lbnUoY20sIGUpO1xuICAgICAgZWxzZSBkZWxheUJsdXJFdmVudChjbSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgbGFzdENsaWNrLCBsYXN0RG91YmxlQ2xpY2s7XG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25Eb3duKGNtLCBlLCBzdGFydCkge1xuICAgIGlmIChpZSkgc2V0VGltZW91dChiaW5kKGVuc3VyZUZvY3VzLCBjbSksIDApO1xuICAgIGVsc2UgY20uY3VyT3AuZm9jdXMgPSBhY3RpdmVFbHQoKTtcblxuICAgIHZhciBub3cgPSArbmV3IERhdGUsIHR5cGU7XG4gICAgaWYgKGxhc3REb3VibGVDbGljayAmJiBsYXN0RG91YmxlQ2xpY2sudGltZSA+IG5vdyAtIDQwMCAmJiBjbXAobGFzdERvdWJsZUNsaWNrLnBvcywgc3RhcnQpID09IDApIHtcbiAgICAgIHR5cGUgPSBcInRyaXBsZVwiO1xuICAgIH0gZWxzZSBpZiAobGFzdENsaWNrICYmIGxhc3RDbGljay50aW1lID4gbm93IC0gNDAwICYmIGNtcChsYXN0Q2xpY2sucG9zLCBzdGFydCkgPT0gMCkge1xuICAgICAgdHlwZSA9IFwiZG91YmxlXCI7XG4gICAgICBsYXN0RG91YmxlQ2xpY2sgPSB7dGltZTogbm93LCBwb3M6IHN0YXJ0fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IFwic2luZ2xlXCI7XG4gICAgICBsYXN0Q2xpY2sgPSB7dGltZTogbm93LCBwb3M6IHN0YXJ0fTtcbiAgICB9XG5cbiAgICB2YXIgc2VsID0gY20uZG9jLnNlbCwgbW9kaWZpZXIgPSBtYWMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXksIGNvbnRhaW5lZDtcbiAgICBpZiAoY20ub3B0aW9ucy5kcmFnRHJvcCAmJiBkcmFnQW5kRHJvcCAmJiAhaXNSZWFkT25seShjbSkgJiZcbiAgICAgICAgdHlwZSA9PSBcInNpbmdsZVwiICYmIChjb250YWluZWQgPSBzZWwuY29udGFpbnMoc3RhcnQpKSA+IC0xICYmXG4gICAgICAgIChjbXAoKGNvbnRhaW5lZCA9IHNlbC5yYW5nZXNbY29udGFpbmVkXSkuZnJvbSgpLCBzdGFydCkgPCAwIHx8IHN0YXJ0LnhSZWwgPiAwKSAmJlxuICAgICAgICAoY21wKGNvbnRhaW5lZC50bygpLCBzdGFydCkgPiAwIHx8IHN0YXJ0LnhSZWwgPCAwKSlcbiAgICAgIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcik7XG4gICAgZWxzZVxuICAgICAgbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIG1vZGlmaWVyKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGEgdGV4dCBkcmFnLiBXaGVuIGl0IGVuZHMsIHNlZSBpZiBhbnkgZHJhZ2dpbmcgYWN0dWFsbHlcbiAgLy8gaGFwcGVuLCBhbmQgdHJlYXQgYXMgYSBjbGljayBpZiBpdCBkaWRuJ3QuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc3RhcnRUaW1lID0gK25ldyBEYXRlO1xuICAgIHZhciBkcmFnRW5kID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbihlMikge1xuICAgICAgaWYgKHdlYmtpdCkgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dCA9IGZhbHNlO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgZHJhZ0VuZCk7XG4gICAgICBvZmYoZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGRyYWdFbmQpO1xuICAgICAgaWYgKE1hdGguYWJzKGUuY2xpZW50WCAtIGUyLmNsaWVudFgpICsgTWF0aC5hYnMoZS5jbGllbnRZIC0gZTIuY2xpZW50WSkgPCAxMCkge1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUyKTtcbiAgICAgICAgaWYgKCFtb2RpZmllciAmJiArbmV3IERhdGUgLSAyMDAgPCBzdGFydFRpbWUpXG4gICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgICAvLyBXb3JrIGFyb3VuZCB1bmV4cGxhaW5hYmxlIGZvY3VzIHByb2JsZW0gaW4gSUU5ICgjMjEyNykgYW5kIENocm9tZSAoIzMwODEpXG4gICAgICAgIGlmICh3ZWJraXQgfHwgaWUgJiYgaWVfdmVyc2lvbiA9PSA5KVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5mb2N1cygpOyBkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIExldCB0aGUgZHJhZyBoYW5kbGVyIGhhbmRsZSB0aGlzLlxuICAgIGlmICh3ZWJraXQpIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgPSBkcmFnRW5kO1xuICAgIC8vIElFJ3MgYXBwcm9hY2ggdG8gZHJhZ2dhYmxlXG4gICAgaWYgKGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ0Ryb3ApIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ0Ryb3AoKTtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIGRyYWdFbmQpO1xuICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJvcFwiLCBkcmFnRW5kKTtcbiAgfVxuXG4gIC8vIE5vcm1hbCBzZWxlY3Rpb24sIGFzIG9wcG9zZWQgdG8gdGV4dCBkcmFnZ2luZy5cbiAgZnVuY3Rpb24gbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIGFkZE5ldykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG5cbiAgICB2YXIgb3VyUmFuZ2UsIG91ckluZGV4LCBzdGFydFNlbCA9IGRvYy5zZWwsIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlcztcbiAgICBpZiAoYWRkTmV3ICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBvdXJJbmRleCA9IGRvYy5zZWwuY29udGFpbnMoc3RhcnQpO1xuICAgICAgaWYgKG91ckluZGV4ID4gLTEpXG4gICAgICAgIG91clJhbmdlID0gcmFuZ2VzW291ckluZGV4XTtcbiAgICAgIGVsc2VcbiAgICAgICAgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIG91ckluZGV4ID0gZG9jLnNlbC5wcmltSW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICB0eXBlID0gXCJyZWN0XCI7XG4gICAgICBpZiAoIWFkZE5ldykgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTtcbiAgICAgIHN0YXJ0ID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlLCB0cnVlKTtcbiAgICAgIG91ckluZGV4ID0gLTE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiZG91YmxlXCIpIHtcbiAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChzdGFydCk7XG4gICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKVxuICAgICAgICBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIHdvcmQuYW5jaG9yLCB3b3JkLmhlYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBvdXJSYW5nZSA9IHdvcmQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidHJpcGxlXCIpIHtcbiAgICAgIHZhciBsaW5lID0gbmV3IFJhbmdlKFBvcyhzdGFydC5saW5lLCAwKSwgY2xpcFBvcyhkb2MsIFBvcyhzdGFydC5saW5lICsgMSwgMCkpKTtcbiAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpXG4gICAgICAgIG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgbGluZS5hbmNob3IsIGxpbmUuaGVhZCk7XG4gICAgICBlbHNlXG4gICAgICAgIG91clJhbmdlID0gbGluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCBzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCFhZGROZXcpIHtcbiAgICAgIG91ckluZGV4ID0gMDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW291clJhbmdlXSwgMCksIHNlbF9tb3VzZSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIGlmIChvdXJJbmRleCA9PSAtMSkge1xuICAgICAgb3VySW5kZXggPSByYW5nZXMubGVuZ3RoO1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcy5jb25jYXQoW291clJhbmdlXSksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSk7XG4gICAgfSBlbHNlIGlmIChyYW5nZXMubGVuZ3RoID4gMSAmJiByYW5nZXNbb3VySW5kZXhdLmVtcHR5KCkgJiYgdHlwZSA9PSBcInNpbmdsZVwiICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzLnNsaWNlKG91ckluZGV4ICsgMSkpLCAwKSxcbiAgICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBvdXJJbmRleCwgb3VyUmFuZ2UsIHNlbF9tb3VzZSk7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RQb3MgPSBzdGFydDtcbiAgICBmdW5jdGlvbiBleHRlbmRUbyhwb3MpIHtcbiAgICAgIGlmIChjbXAobGFzdFBvcywgcG9zKSA9PSAwKSByZXR1cm47XG4gICAgICBsYXN0UG9zID0gcG9zO1xuXG4gICAgICBpZiAodHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICB2YXIgcmFuZ2VzID0gW10sIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgICAgIHZhciBzdGFydENvbCA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBzdGFydC5saW5lKS50ZXh0LCBzdGFydC5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBwb3NDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQsIHBvcy5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4oc3RhcnRDb2wsIHBvc0NvbCksIHJpZ2h0ID0gTWF0aC5tYXgoc3RhcnRDb2wsIHBvc0NvbCk7XG4gICAgICAgIGZvciAodmFyIGxpbmUgPSBNYXRoLm1pbihzdGFydC5saW5lLCBwb3MubGluZSksIGVuZCA9IE1hdGgubWluKGNtLmxhc3RMaW5lKCksIE1hdGgubWF4KHN0YXJ0LmxpbmUsIHBvcy5saW5lKSk7XG4gICAgICAgICAgICAgbGluZSA8PSBlbmQ7IGxpbmUrKykge1xuICAgICAgICAgIHZhciB0ZXh0ID0gZ2V0TGluZShkb2MsIGxpbmUpLnRleHQsIGxlZnRQb3MgPSBmaW5kQ29sdW1uKHRleHQsIGxlZnQsIHRhYlNpemUpO1xuICAgICAgICAgIGlmIChsZWZ0ID09IHJpZ2h0KVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGxlZnRQb3MpKSk7XG4gICAgICAgICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiBsZWZ0UG9zKVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGZpbmRDb2x1bW4odGV4dCwgcmlnaHQsIHRhYlNpemUpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBzdGFydCkpO1xuICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24oc3RhcnRTZWwucmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzKSwgb3VySW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIqbW91c2VcIiwgc2Nyb2xsOiBmYWxzZX0pO1xuICAgICAgICBjbS5zY3JvbGxJbnRvVmlldyhwb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9sZFJhbmdlID0gb3VyUmFuZ2U7XG4gICAgICAgIHZhciBhbmNob3IgPSBvbGRSYW5nZS5hbmNob3IsIGhlYWQgPSBwb3M7XG4gICAgICAgIGlmICh0eXBlICE9IFwic2luZ2xlXCIpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PSBcImRvdWJsZVwiKVxuICAgICAgICAgICAgdmFyIHJhbmdlID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIDApLCBjbGlwUG9zKGRvYywgUG9zKHBvcy5saW5lICsgMSwgMCkpKTtcbiAgICAgICAgICBpZiAoY21wKHJhbmdlLmFuY2hvciwgYW5jaG9yKSA+IDApIHtcbiAgICAgICAgICAgIGhlYWQgPSByYW5nZS5oZWFkO1xuICAgICAgICAgICAgYW5jaG9yID0gbWluUG9zKG9sZFJhbmdlLmZyb20oKSwgcmFuZ2UuYW5jaG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZCA9IHJhbmdlLmFuY2hvcjtcbiAgICAgICAgICAgIGFuY2hvciA9IG1heFBvcyhvbGRSYW5nZS50bygpLCByYW5nZS5oZWFkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgICAgcmFuZ2VzW291ckluZGV4XSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgYW5jaG9yKSwgaGVhZCk7XG4gICAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIG91ckluZGV4KSwgc2VsX21vdXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yU2l6ZSA9IGRpc3BsYXkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBVc2VkIHRvIGVuc3VyZSB0aW1lb3V0IHJlLXRyaWVzIGRvbid0IGZpcmUgd2hlbiBhbm90aGVyIGV4dGVuZFxuICAgIC8vIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZSAoY2xlYXJUaW1lb3V0IGlzbid0IHJlbGlhYmxlIC0tIGF0XG4gICAgLy8gbGVhc3Qgb24gQ2hyb21lLCB0aGUgdGltZW91dHMgc3RpbGwgaGFwcGVuIGV2ZW4gd2hlbiBjbGVhcmVkLFxuICAgIC8vIGlmIHRoZSBjbGVhciBoYXBwZW5zIGFmdGVyIHRoZWlyIHNjaGVkdWxlZCBmaXJpbmcgdGltZSkuXG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGUpIHtcbiAgICAgIHZhciBjdXJDb3VudCA9ICsrY291bnRlcjtcbiAgICAgIHZhciBjdXIgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUsIHR5cGUgPT0gXCJyZWN0XCIpO1xuICAgICAgaWYgKCFjdXIpIHJldHVybjtcbiAgICAgIGlmIChjbXAoY3VyLCBsYXN0UG9zKSAhPSAwKSB7XG4gICAgICAgIGNtLmN1ck9wLmZvY3VzID0gYWN0aXZlRWx0KCk7XG4gICAgICAgIGV4dGVuZFRvKGN1cik7XG4gICAgICAgIHZhciB2aXNpYmxlID0gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYyk7XG4gICAgICAgIGlmIChjdXIubGluZSA+PSB2aXNpYmxlLnRvIHx8IGN1ci5saW5lIDwgdmlzaWJsZS5mcm9tKVxuICAgICAgICAgIHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbigpe2lmIChjb3VudGVyID09IGN1ckNvdW50KSBleHRlbmQoZSk7fSksIDE1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb3V0c2lkZSA9IGUuY2xpZW50WSA8IGVkaXRvclNpemUudG9wID8gLTIwIDogZS5jbGllbnRZID4gZWRpdG9yU2l6ZS5ib3R0b20gPyAyMCA6IDA7XG4gICAgICAgIGlmIChvdXRzaWRlKSBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGNvdW50ZXIgIT0gY3VyQ291bnQpIHJldHVybjtcbiAgICAgICAgICBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCArPSBvdXRzaWRlO1xuICAgICAgICAgIGV4dGVuZChlKTtcbiAgICAgICAgfSksIDUwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb25lKGUpIHtcbiAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSBmYWxzZTtcbiAgICAgIGNvdW50ZXIgPSBJbmZpbml0eTtcbiAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBkaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgICBvZmYoZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIG1vdmUpO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdXApO1xuICAgICAgZG9jLmhpc3RvcnkubGFzdFNlbE9yaWdpbiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1vdmUgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZV9idXR0b24oZSkpIGRvbmUoZSk7XG4gICAgICBlbHNlIGV4dGVuZChlKTtcbiAgICB9KTtcbiAgICB2YXIgdXAgPSBvcGVyYXRpb24oY20sIGRvbmUpO1xuICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSB1cDtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSk7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cCk7XG4gIH1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXZlbnQgaGFwcGVuZWQgaW4gdGhlIGd1dHRlciwgYW5kIGZpcmVzIHRoZVxuICAvLyBoYW5kbGVycyBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQuXG4gIGZ1bmN0aW9uIGd1dHRlckV2ZW50KGNtLCBlLCB0eXBlLCBwcmV2ZW50LCBzaWduYWxmbikge1xuICAgIHRyeSB7IHZhciBtWCA9IGUuY2xpZW50WCwgbVkgPSBlLmNsaWVudFk7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmIChtWCA+PSBNYXRoLmZsb29yKGNtLmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJldmVudCkgZV9wcmV2ZW50RGVmYXVsdChlKTtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICB2YXIgbGluZUJveCA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmIChtWSA+IGxpbmVCb3guYm90dG9tIHx8ICFoYXNIYW5kbGVyKGNtLCB0eXBlKSkgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKTtcbiAgICBtWSAtPSBsaW5lQm94LnRvcCAtIGRpc3BsYXkudmlld09mZnNldDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZyA9IGRpc3BsYXkuZ3V0dGVycy5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGcgJiYgZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCA+PSBtWCkge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVBdEhlaWdodChjbS5kb2MsIG1ZKTtcbiAgICAgICAgdmFyIGd1dHRlciA9IGNtLm9wdGlvbnMuZ3V0dGVyc1tpXTtcbiAgICAgICAgc2lnbmFsZm4oY20sIHR5cGUsIGNtLCBsaW5lLCBndXR0ZXIsIGUpO1xuICAgICAgICByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWNrSW5HdXR0ZXIoY20sIGUpIHtcbiAgICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsIFwiZ3V0dGVyQ2xpY2tcIiwgdHJ1ZSwgc2lnbmFsTGF0ZXIpO1xuICB9XG5cbiAgLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHN0cmFuZ2UgSUUgYmVoYXZpb3Igd2hlcmUgaXQnbGwgc29tZXRpbWVzXG4gIC8vIHJlLWZpcmUgYSBzZXJpZXMgb2YgZHJhZy1yZWxhdGVkIGV2ZW50cyByaWdodCBhZnRlciB0aGUgZHJvcCAoIzE1NTEpXG4gIHZhciBsYXN0RHJvcCA9IDA7XG5cbiAgZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGNsZWFyRHJhZ0N1cnNvcihjbSk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgaWYgKGllKSBsYXN0RHJvcCA9ICtuZXcgRGF0ZTtcbiAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlKSwgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBpZiAoIXBvcyB8fCBpc1JlYWRPbmx5KGNtKSkgcmV0dXJuO1xuICAgIC8vIE1pZ2h0IGJlIGEgZmlsZSBkcm9wLCBpbiB3aGljaCBjYXNlIHdlIHNpbXBseSBleHRyYWN0IHRoZSB0ZXh0XG4gICAgLy8gYW5kIGluc2VydCBpdC5cbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlKSB7XG4gICAgICB2YXIgbiA9IGZpbGVzLmxlbmd0aCwgdGV4dCA9IEFycmF5KG4pLCByZWFkID0gMDtcbiAgICAgIHZhciBsb2FkRmlsZSA9IGZ1bmN0aW9uKGZpbGUsIGkpIHtcbiAgICAgICAgaWYgKGNtLm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzICYmXG4gICAgICAgICAgICBpbmRleE9mKGNtLm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzLCBmaWxlLnR5cGUpID09IC0xKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXI7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICBpZiAoL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdChjb250ZW50KSkgY29udGVudCA9IFwiXCI7XG4gICAgICAgICAgdGV4dFtpXSA9IGNvbnRlbnQ7XG4gICAgICAgICAgaWYgKCsrcmVhZCA9PSBuKSB7XG4gICAgICAgICAgICBwb3MgPSBjbGlwUG9zKGNtLmRvYywgcG9zKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7ZnJvbTogcG9zLCB0bzogcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjbS5kb2Muc3BsaXRMaW5lcyh0ZXh0LmpvaW4oY20uZG9jLmxpbmVTZXBhcmF0b3IoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFwicGFzdGVcIn07XG4gICAgICAgICAgICBtYWtlQ2hhbmdlKGNtLmRvYywgY2hhbmdlKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcywgY2hhbmdlRW5kKGNoYW5nZSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkgbG9hZEZpbGUoZmlsZXNbaV0sIGkpO1xuICAgIH0gZWxzZSB7IC8vIE5vcm1hbCBkcm9wXG4gICAgICAvLyBEb24ndCBkbyBhIHJlcGxhY2UgaWYgdGhlIGRyb3AgaGFwcGVuZWQgaW5zaWRlIG9mIHRoZSBzZWxlY3RlZCB0ZXh0LlxuICAgICAgaWYgKGNtLnN0YXRlLmRyYWdnaW5nVGV4dCAmJiBjbS5kb2Muc2VsLmNvbnRhaW5zKHBvcykgPiAtMSkge1xuICAgICAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQoZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgZWRpdG9yIGlzIHJlLWZvY3VzZWRcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGV4dCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgIGlmIChjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgJiYgIShtYWMgPyBlLmFsdEtleSA6IGUuY3RybEtleSkpXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5saXN0U2VsZWN0aW9ucygpO1xuICAgICAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIHBvcykpO1xuICAgICAgICAgIGlmIChzZWxlY3RlZCkgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHJlcGxhY2VSYW5nZShjbS5kb2MsIFwiXCIsIHNlbGVjdGVkW2ldLmFuY2hvciwgc2VsZWN0ZWRbaV0uaGVhZCwgXCJkcmFnXCIpO1xuICAgICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb24odGV4dCwgXCJhcm91bmRcIiwgXCJwYXN0ZVwiKTtcbiAgICAgICAgICBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoKGUpe31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdTdGFydChjbSwgZSkge1xuICAgIGlmIChpZSAmJiAoIWNtLnN0YXRlLmRyYWdnaW5nVGV4dCB8fCArbmV3IERhdGUgLSBsYXN0RHJvcCA8IDEwMCkpIHsgZV9zdG9wKGUpOyByZXR1cm47IH1cbiAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkpIHJldHVybjtcblxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIGNtLmdldFNlbGVjdGlvbigpKTtcblxuICAgIC8vIFVzZSBkdW1teSBpbWFnZSBpbnN0ZWFkIG9mIGRlZmF1bHQgYnJvd3NlcnMgaW1hZ2UuXG4gICAgLy8gUmVjZW50IFNhZmFyaSAofjYuMC4yKSBoYXZlIGEgdGVuZGVuY3kgdG8gc2VnZmF1bHQgd2hlbiB0aGlzIGhhcHBlbnMsIHNvIHdlIGRvbid0IGRvIGl0IHRoZXJlLlxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UgJiYgIXNhZmFyaSkge1xuICAgICAgdmFyIGltZyA9IGVsdChcImltZ1wiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMDsgdG9wOiAwO1wiKTtcbiAgICAgIGltZy5zcmMgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI7XG4gICAgICBpZiAocHJlc3RvKSB7XG4gICAgICAgIGltZy53aWR0aCA9IGltZy5oZWlnaHQgPSAxO1xuICAgICAgICBjbS5kaXNwbGF5LndyYXBwZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgLy8gRm9yY2UgYSByZWxheW91dCwgb3IgT3BlcmEgd29uJ3QgdXNlIG91ciBpbWFnZSBmb3Igc29tZSBvYnNjdXJlIHJlYXNvblxuICAgICAgICBpbWcuX3RvcCA9IGltZy5vZmZzZXRUb3A7XG4gICAgICB9XG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgIGlmIChwcmVzdG8pIGltZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnT3ZlcihjbSwgZSkge1xuICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgIGlmICghcG9zKSByZXR1cm47XG4gICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgZHJhd1NlbGVjdGlvbkN1cnNvcihjbSwgcG9zLCBmcmFnKTtcbiAgICBpZiAoIWNtLmRpc3BsYXkuZHJhZ0N1cnNvcikge1xuICAgICAgY20uZGlzcGxheS5kcmFnQ3Vyc29yID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1jdXJzb3JzIENvZGVNaXJyb3ItZHJhZ2N1cnNvcnNcIik7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoY20uZGlzcGxheS5kcmFnQ3Vyc29yLCBjbS5kaXNwbGF5LmN1cnNvckRpdik7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkuZHJhZ0N1cnNvciwgZnJhZyk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckRyYWdDdXJzb3IoY20pIHtcbiAgICBpZiAoY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZChjbS5kaXNwbGF5LmRyYWdDdXJzb3IpO1xuICAgICAgY20uZGlzcGxheS5kcmFnQ3Vyc29yID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBTQ1JPTEwgRVZFTlRTXG5cbiAgLy8gU3luYyB0aGUgc2Nyb2xsYWJsZSBhcmVhIGFuZCBzY3JvbGxiYXJzLCBlbnN1cmUgdGhlIHZpZXdwb3J0XG4gIC8vIGNvdmVycyB0aGUgdmlzaWJsZSBhcmVhLlxuICBmdW5jdGlvbiBzZXRTY3JvbGxUb3AoY20sIHZhbCkge1xuICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsVG9wIC0gdmFsKSA8IDIpIHJldHVybjtcbiAgICBjbS5kb2Muc2Nyb2xsVG9wID0gdmFsO1xuICAgIGlmICghZ2Vja28pIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHt0b3A6IHZhbH0pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSB2YWwpIGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gdmFsO1xuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AodmFsKTtcbiAgICBpZiAoZ2Vja28pIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20pO1xuICAgIHN0YXJ0V29ya2VyKGNtLCAxMDApO1xuICB9XG4gIC8vIFN5bmMgc2Nyb2xsZXIgYW5kIHNjcm9sbGJhciwgZW5zdXJlIHRoZSBndXR0ZXIgZWxlbWVudHMgYXJlXG4gIC8vIGFsaWduZWQuXG4gIGZ1bmN0aW9uIHNldFNjcm9sbExlZnQoY20sIHZhbCwgaXNTY3JvbGxlcikge1xuICAgIGlmIChpc1Njcm9sbGVyID8gdmFsID09IGNtLmRvYy5zY3JvbGxMZWZ0IDogTWF0aC5hYnMoY20uZG9jLnNjcm9sbExlZnQgLSB2YWwpIDwgMikgcmV0dXJuO1xuICAgIHZhbCA9IE1hdGgubWluKHZhbCwgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpO1xuICAgIGNtLmRvYy5zY3JvbGxMZWZ0ID0gdmFsO1xuICAgIGFsaWduSG9yaXpvbnRhbGx5KGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICE9IHZhbCkgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ID0gdmFsO1xuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KHZhbCk7XG4gIH1cblxuICAvLyBTaW5jZSB0aGUgZGVsdGEgdmFsdWVzIHJlcG9ydGVkIG9uIG1vdXNlIHdoZWVsIGV2ZW50cyBhcmVcbiAgLy8gdW5zdGFuZGFyZGl6ZWQgYmV0d2VlbiBicm93c2VycyBhbmQgZXZlbiBicm93c2VyIHZlcnNpb25zLCBhbmRcbiAgLy8gZ2VuZXJhbGx5IGhvcnJpYmx5IHVucHJlZGljdGFibGUsIHRoaXMgY29kZSBzdGFydHMgYnkgbWVhc3VyaW5nXG4gIC8vIHRoZSBzY3JvbGwgZWZmZWN0IHRoYXQgdGhlIGZpcnN0IGZldyBtb3VzZSB3aGVlbCBldmVudHMgaGF2ZSxcbiAgLy8gYW5kLCBmcm9tIHRoYXQsIGRldGVjdHMgdGhlIHdheSBpdCBjYW4gY29udmVydCBkZWx0YXMgdG8gcGl4ZWxcbiAgLy8gb2Zmc2V0cyBhZnRlcndhcmRzLlxuICAvL1xuICAvLyBUaGUgcmVhc29uIHdlIHdhbnQgdG8ga25vdyB0aGUgYW1vdW50IGEgd2hlZWwgZXZlbnQgd2lsbCBzY3JvbGxcbiAgLy8gaXMgdGhhdCBpdCBnaXZlcyB1cyBhIGNoYW5jZSB0byB1cGRhdGUgdGhlIGRpc3BsYXkgYmVmb3JlIHRoZVxuICAvLyBhY3R1YWwgc2Nyb2xsaW5nIGhhcHBlbnMsIHJlZHVjaW5nIGZsaWNrZXJpbmcuXG5cbiAgdmFyIHdoZWVsU2FtcGxlcyA9IDAsIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IG51bGw7XG4gIC8vIEZpbGwgaW4gYSBicm93c2VyLWRldGVjdGVkIHN0YXJ0aW5nIHZhbHVlIG9uIGJyb3dzZXJzIHdoZXJlIHdlXG4gIC8vIGtub3cgb25lLiBUaGVzZSBkb24ndCBoYXZlIHRvIGJlIGFjY3VyYXRlIC0tIHRoZSByZXN1bHQgb2YgdGhlbVxuICAvLyBiZWluZyB3cm9uZyB3b3VsZCBqdXN0IGJlIGEgc2xpZ2h0IGZsaWNrZXIgb24gdGhlIGZpcnN0IHdoZWVsXG4gIC8vIHNjcm9sbCAoaWYgaXQgaXMgbGFyZ2UgZW5vdWdoKS5cbiAgaWYgKGllKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjUzO1xuICBlbHNlIGlmIChnZWNrbykgd2hlZWxQaXhlbHNQZXJVbml0ID0gMTU7XG4gIGVsc2UgaWYgKGNocm9tZSkgd2hlZWxQaXhlbHNQZXJVbml0ID0gLS43O1xuICBlbHNlIGlmIChzYWZhcmkpIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0xLzM7XG5cbiAgdmFyIHdoZWVsRXZlbnREZWx0YSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZHggPSBlLndoZWVsRGVsdGFYLCBkeSA9IGUud2hlZWxEZWx0YVk7XG4gICAgaWYgKGR4ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuSE9SSVpPTlRBTF9BWElTKSBkeCA9IGUuZGV0YWlsO1xuICAgIGlmIChkeSA9PSBudWxsICYmIGUuZGV0YWlsICYmIGUuYXhpcyA9PSBlLlZFUlRJQ0FMX0FYSVMpIGR5ID0gZS5kZXRhaWw7XG4gICAgZWxzZSBpZiAoZHkgPT0gbnVsbCkgZHkgPSBlLndoZWVsRGVsdGE7XG4gICAgcmV0dXJuIHt4OiBkeCwgeTogZHl9O1xuICB9O1xuICBDb2RlTWlycm9yLndoZWVsRXZlbnRQaXhlbHMgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGRlbHRhID0gd2hlZWxFdmVudERlbHRhKGUpO1xuICAgIGRlbHRhLnggKj0gd2hlZWxQaXhlbHNQZXJVbml0O1xuICAgIGRlbHRhLnkgKj0gd2hlZWxQaXhlbHNQZXJVbml0O1xuICAgIHJldHVybiBkZWx0YTtcbiAgfTtcblxuICBmdW5jdGlvbiBvblNjcm9sbFdoZWVsKGNtLCBlKSB7XG4gICAgdmFyIGRlbHRhID0gd2hlZWxFdmVudERlbHRhKGUpLCBkeCA9IGRlbHRhLngsIGR5ID0gZGVsdGEueTtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc2Nyb2xsID0gZGlzcGxheS5zY3JvbGxlcjtcbiAgICAvLyBRdWl0IGlmIHRoZXJlJ3Mgbm90aGluZyB0byBzY3JvbGwgaGVyZVxuICAgIHZhciBjYW5TY3JvbGxYID0gc2Nyb2xsLnNjcm9sbFdpZHRoID4gc2Nyb2xsLmNsaWVudFdpZHRoO1xuICAgIHZhciBjYW5TY3JvbGxZID0gc2Nyb2xsLnNjcm9sbEhlaWdodCA+IHNjcm9sbC5jbGllbnRIZWlnaHQ7XG4gICAgaWYgKCEoZHggJiYgY2FuU2Nyb2xsWCB8fCBkeSAmJiBjYW5TY3JvbGxZKSkgcmV0dXJuO1xuXG4gICAgLy8gV2Via2l0IGJyb3dzZXJzIG9uIE9TIFggYWJvcnQgbW9tZW50dW0gc2Nyb2xscyB3aGVuIHRoZSB0YXJnZXRcbiAgICAvLyBvZiB0aGUgc2Nyb2xsIGV2ZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50LlxuICAgIC8vIFRoaXMgaGFjayAoc2VlIHJlbGF0ZWQgY29kZSBpbiBwYXRjaERpc3BsYXkpIG1ha2VzIHN1cmUgdGhlXG4gICAgLy8gZWxlbWVudCBpcyBrZXB0IGFyb3VuZC5cbiAgICBpZiAoZHkgJiYgbWFjICYmIHdlYmtpdCkge1xuICAgICAgb3V0ZXI6IGZvciAodmFyIGN1ciA9IGUudGFyZ2V0LCB2aWV3ID0gZGlzcGxheS52aWV3OyBjdXIgIT0gc2Nyb2xsOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodmlld1tpXS5ub2RlID09IGN1cikge1xuICAgICAgICAgICAgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPSBjdXI7XG4gICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPbiBzb21lIGJyb3dzZXJzLCBob3Jpem9udGFsIHNjcm9sbGluZyB3aWxsIGNhdXNlIHJlZHJhd3MgdG9cbiAgICAvLyBoYXBwZW4gYmVmb3JlIHRoZSBndXR0ZXIgaGFzIGJlZW4gcmVhbGlnbmVkLCBjYXVzaW5nIGl0IHRvXG4gICAgLy8gd3JpZ2dsZSBhcm91bmQgaW4gYSBtb3N0IHVuc2VlbWx5IHdheS4gV2hlbiB3ZSBoYXZlIGFuXG4gICAgLy8gZXN0aW1hdGVkIHBpeGVscy9kZWx0YSB2YWx1ZSwgd2UganVzdCBoYW5kbGUgaG9yaXpvbnRhbFxuICAgIC8vIHNjcm9sbGluZyBlbnRpcmVseSBoZXJlLiBJdCdsbCBiZSBzbGlnaHRseSBvZmYgZnJvbSBuYXRpdmUsIGJ1dFxuICAgIC8vIGJldHRlciB0aGFuIGdsaXRjaGluZyBvdXQuXG4gICAgaWYgKGR4ICYmICFnZWNrbyAmJiAhcHJlc3RvICYmIHdoZWVsUGl4ZWxzUGVyVW5pdCAhPSBudWxsKSB7XG4gICAgICBpZiAoZHkgJiYgY2FuU2Nyb2xsWSlcbiAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGwuc2Nyb2xsVG9wICsgZHkgKiB3aGVlbFBpeGVsc1BlclVuaXQsIHNjcm9sbC5zY3JvbGxIZWlnaHQgLSBzY3JvbGwuY2xpZW50SGVpZ2h0KSkpO1xuICAgICAgc2V0U2Nyb2xsTGVmdChjbSwgTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsLnNjcm9sbExlZnQgKyBkeCAqIHdoZWVsUGl4ZWxzUGVyVW5pdCwgc2Nyb2xsLnNjcm9sbFdpZHRoIC0gc2Nyb2xsLmNsaWVudFdpZHRoKSkpO1xuICAgICAgLy8gT25seSBwcmV2ZW50IGRlZmF1bHQgc2Nyb2xsaW5nIGlmIHZlcnRpY2FsIHNjcm9sbGluZyBpc1xuICAgICAgLy8gYWN0dWFsbHkgcG9zc2libGUuIE90aGVyd2lzZSwgaXQgY2F1c2VzIHZlcnRpY2FsIHNjcm9sbFxuICAgICAgLy8gaml0dGVyIG9uIE9TWCB0cmFja3BhZHMgd2hlbiBkZWx0YVggaXMgc21hbGwgYW5kIGRlbHRhWVxuICAgICAgLy8gaXMgbGFyZ2UgKGlzc3VlICMzNTc5KVxuICAgICAgaWYgKCFkeSB8fCAoZHkgJiYgY2FuU2Nyb2xsWSkpXG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gbnVsbDsgLy8gQWJvcnQgbWVhc3VyZW1lbnQsIGlmIGluIHByb2dyZXNzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gJ1Byb2plY3QnIHRoZSB2aXNpYmxlIHZpZXdwb3J0IHRvIGNvdmVyIHRoZSBhcmVhIHRoYXQgaXMgYmVpbmdcbiAgICAvLyBzY3JvbGxlZCBpbnRvIHZpZXcgKGlmIHdlIGtub3cgZW5vdWdoIHRvIGVzdGltYXRlIGl0KS5cbiAgICBpZiAoZHkgJiYgd2hlZWxQaXhlbHNQZXJVbml0ICE9IG51bGwpIHtcbiAgICAgIHZhciBwaXhlbHMgPSBkeSAqIHdoZWVsUGl4ZWxzUGVyVW5pdDtcbiAgICAgIHZhciB0b3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBib3QgPSB0b3AgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgaWYgKHBpeGVscyA8IDApIHRvcCA9IE1hdGgubWF4KDAsIHRvcCArIHBpeGVscyAtIDUwKTtcbiAgICAgIGVsc2UgYm90ID0gTWF0aC5taW4oY20uZG9jLmhlaWdodCwgYm90ICsgcGl4ZWxzICsgNTApO1xuICAgICAgdXBkYXRlRGlzcGxheVNpbXBsZShjbSwge3RvcDogdG9wLCBib3R0b206IGJvdH0pO1xuICAgIH1cblxuICAgIGlmICh3aGVlbFNhbXBsZXMgPCAyMCkge1xuICAgICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggPT0gbnVsbCkge1xuICAgICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gc2Nyb2xsLnNjcm9sbExlZnQ7IGRpc3BsYXkud2hlZWxTdGFydFkgPSBzY3JvbGwuc2Nyb2xsVG9wO1xuICAgICAgICBkaXNwbGF5LndoZWVsRFggPSBkeDsgZGlzcGxheS53aGVlbERZID0gZHk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgIHZhciBtb3ZlZFggPSBzY3JvbGwuc2Nyb2xsTGVmdCAtIGRpc3BsYXkud2hlZWxTdGFydFg7XG4gICAgICAgICAgdmFyIG1vdmVkWSA9IHNjcm9sbC5zY3JvbGxUb3AgLSBkaXNwbGF5LndoZWVsU3RhcnRZO1xuICAgICAgICAgIHZhciBzYW1wbGUgPSAobW92ZWRZICYmIGRpc3BsYXkud2hlZWxEWSAmJiBtb3ZlZFkgLyBkaXNwbGF5LndoZWVsRFkpIHx8XG4gICAgICAgICAgICAobW92ZWRYICYmIGRpc3BsYXkud2hlZWxEWCAmJiBtb3ZlZFggLyBkaXNwbGF5LndoZWVsRFgpO1xuICAgICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbDtcbiAgICAgICAgICBpZiAoIXNhbXBsZSkgcmV0dXJuO1xuICAgICAgICAgIHdoZWVsUGl4ZWxzUGVyVW5pdCA9ICh3aGVlbFBpeGVsc1BlclVuaXQgKiB3aGVlbFNhbXBsZXMgKyBzYW1wbGUpIC8gKHdoZWVsU2FtcGxlcyArIDEpO1xuICAgICAgICAgICsrd2hlZWxTYW1wbGVzO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGxheS53aGVlbERYICs9IGR4OyBkaXNwbGF5LndoZWVsRFkgKz0gZHk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gS0VZIEVWRU5UU1xuXG4gIC8vIFJ1biBhIGhhbmRsZXIgdGhhdCB3YXMgYm91bmQgdG8gYSBrZXkuXG4gIGZ1bmN0aW9uIGRvSGFuZGxlQmluZGluZyhjbSwgYm91bmQsIGRyb3BTaGlmdCkge1xuICAgIGlmICh0eXBlb2YgYm91bmQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgYm91bmQgPSBjb21tYW5kc1tib3VuZF07XG4gICAgICBpZiAoIWJvdW5kKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEVuc3VyZSBwcmV2aW91cyBpbnB1dCBoYXMgYmVlbiByZWFkLCBzbyB0aGF0IHRoZSBoYW5kbGVyIHNlZXMgYVxuICAgIC8vIGNvbnNpc3RlbnQgdmlldyBvZiB0aGUgZG9jdW1lbnRcbiAgICBjbS5kaXNwbGF5LmlucHV0LmVuc3VyZVBvbGxlZCgpO1xuICAgIHZhciBwcmV2U2hpZnQgPSBjbS5kaXNwbGF5LnNoaWZ0LCBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc1JlYWRPbmx5KGNtKSkgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IHRydWU7XG4gICAgICBpZiAoZHJvcFNoaWZ0KSBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7XG4gICAgICBkb25lID0gYm91bmQoY20pICE9IFBhc3M7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBwcmV2U2hpZnQ7XG4gICAgICBjbS5zdGF0ZS5zdXBwcmVzc0VkaXRzID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBkb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLnN0YXRlLmtleU1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkobmFtZSwgY20uc3RhdGUua2V5TWFwc1tpXSwgaGFuZGxlLCBjbSk7XG4gICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gKGNtLm9wdGlvbnMuZXh0cmFLZXlzICYmIGxvb2t1cEtleShuYW1lLCBjbS5vcHRpb25zLmV4dHJhS2V5cywgaGFuZGxlLCBjbSkpXG4gICAgICB8fCBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5rZXlNYXAsIGhhbmRsZSwgY20pO1xuICB9XG5cbiAgdmFyIHN0b3BTZXEgPSBuZXcgRGVsYXllZDtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICAgIHZhciBzZXEgPSBjbS5zdGF0ZS5rZXlTZXE7XG4gICAgaWYgKHNlcSkge1xuICAgICAgaWYgKGlzTW9kaWZpZXJLZXkobmFtZSkpIHJldHVybiBcImhhbmRsZWRcIjtcbiAgICAgIHN0b3BTZXEuc2V0KDUwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNtLnN0YXRlLmtleVNlcSA9PSBzZXEpIHtcbiAgICAgICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBudWxsO1xuICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuYW1lID0gc2VxICsgXCIgXCIgKyBuYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBcIm11bHRpXCIpXG4gICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBuYW1lO1xuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIpXG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJrZXlIYW5kbGVkXCIsIGNtLCBuYW1lLCBlKTtcblxuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIgfHwgcmVzdWx0ID09IFwibXVsdGlcIikge1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHJlc3RhcnRCbGluayhjbSk7XG4gICAgfVxuXG4gICAgaWYgKHNlcSAmJiAhcmVzdWx0ICYmIC9cXCckLy50ZXN0KG5hbWUpKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhIGtleSBmcm9tIHRoZSBrZXlkb3duIGV2ZW50LlxuICBmdW5jdGlvbiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSB7XG4gICAgdmFyIG5hbWUgPSBrZXlOYW1lKGUsIHRydWUpO1xuICAgIGlmICghbmFtZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIWNtLnN0YXRlLmtleVNlcSkge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRvIHJlc29sdmUgZnVsbCBuYW1lIChpbmNsdWRpbmcgJ1NoaWZ0LScpLiBGYWlsaW5nXG4gICAgICAvLyB0aGF0LCBzZWUgaWYgdGhlcmUgaXMgYSBjdXJzb3ItbW90aW9uIGNvbW1hbmQgKHN0YXJ0aW5nIHdpdGhcbiAgICAgIC8vICdnbycpIGJvdW5kIHRvIHRoZSBrZXluYW1lIHdpdGhvdXQgJ1NoaWZ0LScuXG4gICAgICByZXR1cm4gZGlzcGF0Y2hLZXkoY20sIFwiU2hpZnQtXCIgKyBuYW1lLCBlLCBmdW5jdGlvbihiKSB7cmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYiwgdHJ1ZSk7fSlcbiAgICAgICAgICB8fCBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwic3RyaW5nXCIgPyAvXmdvW0EtWl0vLnRlc3QoYikgOiBiLm1vdGlvbilcbiAgICAgICAgICAgICAgICAgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYik7XG4gICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiKTsgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleXByZXNzIGV2ZW50XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkge1xuICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgXCInXCIgKyBjaCArIFwiJ1wiLCBlLFxuICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KTtcbiAgfVxuXG4gIHZhciBsYXN0U3RvcHBlZEtleSA9IG51bGw7XG4gIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcztcbiAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVybjtcbiAgICAvLyBJRSBkb2VzIHN0cmFuZ2UgdGhpbmdzIHdpdGggZXNjYXBlLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEgJiYgZS5rZXlDb2RlID09IDI3KSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgdmFyIGNvZGUgPSBlLmtleUNvZGU7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGNvZGUgPT0gMTYgfHwgZS5zaGlmdEtleTtcbiAgICB2YXIgaGFuZGxlZCA9IGhhbmRsZUtleUJpbmRpbmcoY20sIGUpO1xuICAgIGlmIChwcmVzdG8pIHtcbiAgICAgIGxhc3RTdG9wcGVkS2V5ID0gaGFuZGxlZCA/IGNvZGUgOiBudWxsO1xuICAgICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ib1xuICAgICAgaWYgKCFoYW5kbGVkICYmIGNvZGUgPT0gODggJiYgIWhhc0NvcHlFdmVudCAmJiAobWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSlcbiAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICB9XG5cbiAgICAvLyBUdXJuIG1vdXNlIGludG8gY3Jvc3NoYWlyIHdoZW4gQWx0IGlzIGhlbGQgb24gTWFjLlxuICAgIGlmIChjb2RlID09IDE4ICYmICEvXFxiQ29kZU1pcnJvci1jcm9zc2hhaXJcXGIvLnRlc3QoY20uZGlzcGxheS5saW5lRGl2LmNsYXNzTmFtZSkpXG4gICAgICBzaG93Q3Jvc3NIYWlyKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dDcm9zc0hhaXIoY20pIHtcbiAgICB2YXIgbGluZURpdiA9IGNtLmRpc3BsYXkubGluZURpdjtcbiAgICBhZGRDbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuXG4gICAgZnVuY3Rpb24gdXAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PSAxOCB8fCAhZS5hbHRLZXkpIHtcbiAgICAgICAgcm1DbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb24oZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgIG9uKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB1cCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleVVwKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDE2KSB0aGlzLmRvYy5zZWwuc2hpZnQgPSBmYWxzZTtcbiAgICBzaWduYWxET01FdmVudCh0aGlzLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkge1xuICAgIHZhciBjbSA9IHRoaXM7XG4gICAgaWYgKGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGUuY3RybEtleSAmJiAhZS5hbHRLZXkgfHwgbWFjICYmIGUubWV0YUtleSkgcmV0dXJuO1xuICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlLCBjaGFyQ29kZSA9IGUuY2hhckNvZGU7XG4gICAgaWYgKHByZXN0byAmJiBrZXlDb2RlID09IGxhc3RTdG9wcGVkS2V5KSB7bGFzdFN0b3BwZWRLZXkgPSBudWxsOyBlX3ByZXZlbnREZWZhdWx0KGUpOyByZXR1cm47fVxuICAgIGlmICgocHJlc3RvICYmICghZS53aGljaCB8fCBlLndoaWNoIDwgMTApKSAmJiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSkgcmV0dXJuO1xuICAgIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUgPT0gbnVsbCA/IGtleUNvZGUgOiBjaGFyQ29kZSk7XG4gICAgaWYgKGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkpIHJldHVybjtcbiAgICBjbS5kaXNwbGF5LmlucHV0Lm9uS2V5UHJlc3MoZSk7XG4gIH1cblxuICAvLyBGT0NVUy9CTFVSIEVWRU5UU1xuXG4gIGZ1bmN0aW9uIGRlbGF5Qmx1ckV2ZW50KGNtKSB7XG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHtcbiAgICAgICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgb25CbHVyKGNtKTtcbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Gb2N1cyhjbSkge1xuICAgIGlmIChjbS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCkgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcblxuICAgIGlmIChjbS5vcHRpb25zLnJlYWRPbmx5ID09IFwibm9jdXJzb3JcIikgcmV0dXJuO1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgc2lnbmFsKGNtLCBcImZvY3VzXCIsIGNtKTtcbiAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICAgIC8vIFRoaXMgdGVzdCBwcmV2ZW50cyB0aGlzIGZyb20gZmlyaW5nIHdoZW4gYSBjb250ZXh0XG4gICAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlXG4gICAgICAvLyBzZWxlY3QtYWxsIGRldGVjdGlvbiBoYWNrKVxuICAgICAgaWYgKCFjbS5jdXJPcCAmJiBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ICE9IGNtLmRvYy5zZWwpIHtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICBpZiAod2Via2l0KSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KHRydWUpOyB9LCAyMCk7IC8vIElzc3VlICMxNzMwXG4gICAgICB9XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlY2VpdmVkRm9jdXMoKTtcbiAgICB9XG4gICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgfVxuICBmdW5jdGlvbiBvbkJsdXIoY20pIHtcbiAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHJldHVybjtcblxuICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBzaWduYWwoY20sIFwiYmx1clwiLCBjbSk7XG4gICAgICBjbS5zdGF0ZS5mb2N1c2VkID0gZmFsc2U7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwoY20uZGlzcGxheS5ibGlua2VyKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2lmICghY20uc3RhdGUuZm9jdXNlZCkgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlO30sIDE1MCk7XG4gIH1cblxuICAvLyBDT05URVhUIE1FTlUgSEFORExJTkdcblxuICAvLyBUbyBtYWtlIHRoZSBjb250ZXh0IG1lbnUgd29yaywgd2UgbmVlZCB0byBicmllZmx5IHVuaGlkZSB0aGVcbiAgLy8gdGV4dGFyZWEgKG1ha2luZyBpdCBhcyB1bm9idHJ1c2l2ZSBhcyBwb3NzaWJsZSkgdG8gbGV0IHRoZVxuICAvLyByaWdodC1jbGljayB0YWtlIGVmZmVjdCBvbiBpdC5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudShjbSwgZSkge1xuICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpKSByZXR1cm47XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSByZXR1cm47XG4gICAgY20uZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udGV4dE1lbnVJbkd1dHRlcihjbSwgZSkge1xuICAgIGlmICghaGFzSGFuZGxlcihjbSwgXCJndXR0ZXJDb250ZXh0TWVudVwiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBndXR0ZXJFdmVudChjbSwgZSwgXCJndXR0ZXJDb250ZXh0TWVudVwiLCBmYWxzZSwgc2lnbmFsKTtcbiAgfVxuXG4gIC8vIFVQREFUSU5HXG5cbiAgLy8gQ29tcHV0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiBhIGNoYW5nZSAoaXRzICd0bycgcHJvcGVydHlcbiAgLy8gcmVmZXJzIHRvIHRoZSBwcmUtY2hhbmdlIGVuZCkuXG4gIHZhciBjaGFuZ2VFbmQgPSBDb2RlTWlycm9yLmNoYW5nZUVuZCA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLnRleHQpIHJldHVybiBjaGFuZ2UudG87XG4gICAgcmV0dXJuIFBvcyhjaGFuZ2UuZnJvbS5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgIGxzdChjaGFuZ2UudGV4dCkubGVuZ3RoICsgKGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxID8gY2hhbmdlLmZyb20uY2ggOiAwKSk7XG4gIH07XG5cbiAgLy8gQWRqdXN0IGEgcG9zaXRpb24gdG8gcmVmZXIgdG8gdGhlIHBvc3QtY2hhbmdlIHBvc2l0aW9uIG9mIHRoZVxuICAvLyBzYW1lIHRleHQsIG9yIHRoZSBlbmQgb2YgdGhlIGNoYW5nZSBpZiB0aGUgY2hhbmdlIGNvdmVycyBpdC5cbiAgZnVuY3Rpb24gYWRqdXN0Rm9yQ2hhbmdlKHBvcywgY2hhbmdlKSB7XG4gICAgaWYgKGNtcChwb3MsIGNoYW5nZS5mcm9tKSA8IDApIHJldHVybiBwb3M7XG4gICAgaWYgKGNtcChwb3MsIGNoYW5nZS50bykgPD0gMCkgcmV0dXJuIGNoYW5nZUVuZChjaGFuZ2UpO1xuXG4gICAgdmFyIGxpbmUgPSBwb3MubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIChjaGFuZ2UudG8ubGluZSAtIGNoYW5nZS5mcm9tLmxpbmUpIC0gMSwgY2ggPSBwb3MuY2g7XG4gICAgaWYgKHBvcy5saW5lID09IGNoYW5nZS50by5saW5lKSBjaCArPSBjaGFuZ2VFbmQoY2hhbmdlKS5jaCAtIGNoYW5nZS50by5jaDtcbiAgICByZXR1cm4gUG9zKGxpbmUsIGNoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSkge1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXTtcbiAgICAgIG91dC5wdXNoKG5ldyBSYW5nZShhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuYW5jaG9yLCBjaGFuZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGFkanVzdEZvckNoYW5nZShyYW5nZS5oZWFkLCBjaGFuZ2UpKSk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBvZmZzZXRQb3MocG9zLCBvbGQsIG53KSB7XG4gICAgaWYgKHBvcy5saW5lID09IG9sZC5saW5lKVxuICAgICAgcmV0dXJuIFBvcyhudy5saW5lLCBwb3MuY2ggLSBvbGQuY2ggKyBudy5jaCk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIFBvcyhudy5saW5lICsgKHBvcy5saW5lIC0gb2xkLmxpbmUpLCBwb3MuY2gpO1xuICB9XG5cbiAgLy8gVXNlZCBieSByZXBsYWNlU2VsZWN0aW9ucyB0byBhbGxvdyBtb3ZpbmcgdGhlIHNlbGVjdGlvbiB0byB0aGVcbiAgLy8gc3RhcnQgb3IgYXJvdW5kIHRoZSByZXBsYWNlZCB0ZXN0LiBIaW50IG1heSBiZSBcInN0YXJ0XCIgb3IgXCJhcm91bmRcIi5cbiAgZnVuY3Rpb24gY29tcHV0ZVJlcGxhY2VkU2VsKGRvYywgY2hhbmdlcywgaGludCkge1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICB2YXIgb2xkUHJldiA9IFBvcyhkb2MuZmlyc3QsIDApLCBuZXdQcmV2ID0gb2xkUHJldjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgICAgdmFyIGZyb20gPSBvZmZzZXRQb3MoY2hhbmdlLmZyb20sIG9sZFByZXYsIG5ld1ByZXYpO1xuICAgICAgdmFyIHRvID0gb2Zmc2V0UG9zKGNoYW5nZUVuZChjaGFuZ2UpLCBvbGRQcmV2LCBuZXdQcmV2KTtcbiAgICAgIG9sZFByZXYgPSBjaGFuZ2UudG87XG4gICAgICBuZXdQcmV2ID0gdG87XG4gICAgICBpZiAoaGludCA9PSBcImFyb3VuZFwiKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldLCBpbnYgPSBjbXAocmFuZ2UuaGVhZCwgcmFuZ2UuYW5jaG9yKSA8IDA7XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShpbnYgPyB0byA6IGZyb20sIGludiA/IGZyb20gOiB0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoZnJvbSwgZnJvbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICB9XG5cbiAgLy8gQWxsb3cgXCJiZWZvcmVDaGFuZ2VcIiBldmVudCBoYW5kbGVycyB0byBpbmZsdWVuY2UgYSBjaGFuZ2VcbiAgZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCB1cGRhdGUpIHtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY2FuY2VsZWQ6IGZhbHNlLFxuICAgICAgZnJvbTogY2hhbmdlLmZyb20sXG4gICAgICB0bzogY2hhbmdlLnRvLFxuICAgICAgdGV4dDogY2hhbmdlLnRleHQsXG4gICAgICBvcmlnaW46IGNoYW5nZS5vcmlnaW4sXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkgeyB0aGlzLmNhbmNlbGVkID0gdHJ1ZTsgfVxuICAgIH07XG4gICAgaWYgKHVwZGF0ZSkgb2JqLnVwZGF0ZSA9IGZ1bmN0aW9uKGZyb20sIHRvLCB0ZXh0LCBvcmlnaW4pIHtcbiAgICAgIGlmIChmcm9tKSB0aGlzLmZyb20gPSBjbGlwUG9zKGRvYywgZnJvbSk7XG4gICAgICBpZiAodG8pIHRoaXMudG8gPSBjbGlwUG9zKGRvYywgdG8pO1xuICAgICAgaWYgKHRleHQpIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICBpZiAob3JpZ2luICE9PSB1bmRlZmluZWQpIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIH07XG4gICAgc2lnbmFsKGRvYywgXCJiZWZvcmVDaGFuZ2VcIiwgZG9jLCBvYmopO1xuICAgIGlmIChkb2MuY20pIHNpZ25hbChkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKTtcblxuICAgIGlmIChvYmouY2FuY2VsZWQpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7ZnJvbTogb2JqLmZyb20sIHRvOiBvYmoudG8sIHRleHQ6IG9iai50ZXh0LCBvcmlnaW46IG9iai5vcmlnaW59O1xuICB9XG5cbiAgLy8gQXBwbHkgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCwgYW5kIGFkZCBpdCB0byB0aGUgZG9jdW1lbnQnc1xuICAvLyBoaXN0b3J5LCBhbmQgcHJvcGFnYXRpbmcgaXQgdG8gYWxsIGxpbmtlZCBkb2N1bWVudHMuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2UoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KSB7XG4gICAgaWYgKGRvYy5jbSkge1xuICAgICAgaWYgKCFkb2MuY20uY3VyT3ApIHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYWtlQ2hhbmdlKShkb2MsIGNoYW5nZSwgaWdub3JlUmVhZE9ubHkpO1xuICAgICAgaWYgKGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKSByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhhc0hhbmRsZXIoZG9jLCBcImJlZm9yZUNoYW5nZVwiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIpKSB7XG4gICAgICBjaGFuZ2UgPSBmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIHRydWUpO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQb3NzaWJseSBzcGxpdCBvciBzdXBwcmVzcyB0aGUgdXBkYXRlIGJhc2VkIG9uIHRoZSBwcmVzZW5jZVxuICAgIC8vIG9mIHJlYWQtb25seSBzcGFucyBpbiBpdHMgcmFuZ2UuXG4gICAgdmFyIHNwbGl0ID0gc2F3UmVhZE9ubHlTcGFucyAmJiAhaWdub3JlUmVhZE9ubHkgJiYgcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKTtcbiAgICBpZiAoc3BsaXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzcGxpdC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICAgICAgbWFrZUNoYW5nZUlubmVyKGRvYywge2Zyb206IHNwbGl0W2ldLmZyb20sIHRvOiBzcGxpdFtpXS50bywgdGV4dDogaSA/IFtcIlwiXSA6IGNoYW5nZS50ZXh0fSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1ha2VDaGFuZ2VJbm5lcihkb2MsIGNoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxICYmIGNoYW5nZS50ZXh0WzBdID09IFwiXCIgJiYgY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDApIHJldHVybjtcbiAgICB2YXIgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIGRvYy5jbSA/IGRvYy5jbS5jdXJPcC5pZCA6IE5hTik7XG5cbiAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkpO1xuICAgIHZhciByZWJhc2VkID0gW107XG5cbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jLCBzaGFyZWRIaXN0KSB7XG4gICAgICBpZiAoIXNoYXJlZEhpc3QgJiYgaW5kZXhPZihyZWJhc2VkLCBkb2MuaGlzdG9yeSkgPT0gLTEpIHtcbiAgICAgICAgcmViYXNlSGlzdChkb2MuaGlzdG9yeSwgY2hhbmdlKTtcbiAgICAgICAgcmViYXNlZC5wdXNoKGRvYy5oaXN0b3J5KTtcbiAgICAgIH1cbiAgICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIG51bGwsIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJldmVydCBhIGNoYW5nZSBzdG9yZWQgaW4gYSBkb2N1bWVudCdzIGhpc3RvcnkuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VGcm9tSGlzdG9yeShkb2MsIHR5cGUsIGFsbG93U2VsZWN0aW9uT25seSkge1xuICAgIGlmIChkb2MuY20gJiYgZG9jLmNtLnN0YXRlLnN1cHByZXNzRWRpdHMpIHJldHVybjtcblxuICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIGV2ZW50LCBzZWxBZnRlciA9IGRvYy5zZWw7XG4gICAgdmFyIHNvdXJjZSA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LmRvbmUgOiBoaXN0LnVuZG9uZSwgZGVzdCA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LnVuZG9uZSA6IGhpc3QuZG9uZTtcblxuICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGlzIGEgdXNlYWJsZSBldmVudCAoc28gdGhhdCBjdHJsLXogd29uJ3RcbiAgICAvLyBuZWVkbGVzc2x5IGNsZWFyIHNlbGVjdGlvbiBldmVudHMpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGV2ZW50ID0gc291cmNlW2ldO1xuICAgICAgaWYgKGFsbG93U2VsZWN0aW9uT25seSA/IGV2ZW50LnJhbmdlcyAmJiAhZXZlbnQuZXF1YWxzKGRvYy5zZWwpIDogIWV2ZW50LnJhbmdlcylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChpID09IHNvdXJjZS5sZW5ndGgpIHJldHVybjtcbiAgICBoaXN0Lmxhc3RPcmlnaW4gPSBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuXG4gICAgZm9yICg7Oykge1xuICAgICAgZXZlbnQgPSBzb3VyY2UucG9wKCk7XG4gICAgICBpZiAoZXZlbnQucmFuZ2VzKSB7XG4gICAgICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3RvcnkoZXZlbnQsIGRlc3QpO1xuICAgICAgICBpZiAoYWxsb3dTZWxlY3Rpb25Pbmx5ICYmICFldmVudC5lcXVhbHMoZG9jLnNlbCkpIHtcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBldmVudCwge2NsZWFyUmVkbzogZmFsc2V9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsQWZ0ZXIgPSBldmVudDtcbiAgICAgIH1cbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgdXAgYSByZXZlcnNlIGNoYW5nZSBvYmplY3QgdG8gYWRkIHRvIHRoZSBvcHBvc2l0ZSBoaXN0b3J5XG4gICAgLy8gc3RhY2sgKHJlZG8gd2hlbiB1bmRvaW5nLCBhbmQgdmljZSB2ZXJzYSkuXG4gICAgdmFyIGFudGlDaGFuZ2VzID0gW107XG4gICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShzZWxBZnRlciwgZGVzdCk7XG4gICAgZGVzdC5wdXNoKHtjaGFuZ2VzOiBhbnRpQ2hhbmdlcywgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufSk7XG4gICAgaGlzdC5nZW5lcmF0aW9uID0gZXZlbnQuZ2VuZXJhdGlvbiB8fCArK2hpc3QubWF4R2VuZXJhdGlvbjtcblxuICAgIHZhciBmaWx0ZXIgPSBoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVDaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSBldmVudC5jaGFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY2hhbmdlID0gZXZlbnQuY2hhbmdlc1tpXTtcbiAgICAgIGNoYW5nZS5vcmlnaW4gPSB0eXBlO1xuICAgICAgaWYgKGZpbHRlciAmJiAhZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCBmYWxzZSkpIHtcbiAgICAgICAgc291cmNlLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYW50aUNoYW5nZXMucHVzaChoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkpO1xuXG4gICAgICB2YXIgYWZ0ZXIgPSBpID8gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKSA6IGxzdChzb3VyY2UpO1xuICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgYWZ0ZXIsIG1lcmdlT2xkU3BhbnMoZG9jLCBjaGFuZ2UpKTtcbiAgICAgIGlmICghaSAmJiBkb2MuY20pIGRvYy5jbS5zY3JvbGxJbnRvVmlldyh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKX0pO1xuICAgICAgdmFyIHJlYmFzZWQgPSBbXTtcblxuICAgICAgLy8gUHJvcGFnYXRlIHRvIHRoZSBsaW5rZWQgZG9jdW1lbnRzXG4gICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jLCBzaGFyZWRIaXN0KSB7XG4gICAgICAgIGlmICghc2hhcmVkSGlzdCAmJiBpbmRleE9mKHJlYmFzZWQsIGRvYy5oaXN0b3J5KSA9PSAtMSkge1xuICAgICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSk7XG4gICAgICAgICAgcmViYXNlZC5wdXNoKGRvYy5oaXN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBTdWItdmlld3MgbmVlZCB0aGVpciBsaW5lIG51bWJlcnMgc2hpZnRlZCB3aGVuIHRleHQgaXMgYWRkZWRcbiAgLy8gYWJvdmUgb3IgYmVsb3cgdGhlbSBpbiB0aGUgcGFyZW50IGRvY3VtZW50LlxuICBmdW5jdGlvbiBzaGlmdERvYyhkb2MsIGRpc3RhbmNlKSB7XG4gICAgaWYgKGRpc3RhbmNlID09IDApIHJldHVybjtcbiAgICBkb2MuZmlyc3QgKz0gZGlzdGFuY2U7XG4gICAgZG9jLnNlbCA9IG5ldyBTZWxlY3Rpb24obWFwKGRvYy5zZWwucmFuZ2VzLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocmFuZ2UuYW5jaG9yLmxpbmUgKyBkaXN0YW5jZSwgcmFuZ2UuYW5jaG9yLmNoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgUG9zKHJhbmdlLmhlYWQubGluZSArIGRpc3RhbmNlLCByYW5nZS5oZWFkLmNoKSk7XG4gICAgfSksIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICByZWdDaGFuZ2UoZG9jLmNtLCBkb2MuZmlyc3QsIGRvYy5maXJzdCAtIGRpc3RhbmNlLCBkaXN0YW5jZSk7XG4gICAgICBmb3IgKHZhciBkID0gZG9jLmNtLmRpc3BsYXksIGwgPSBkLnZpZXdGcm9tOyBsIDwgZC52aWV3VG87IGwrKylcbiAgICAgICAgcmVnTGluZUNoYW5nZShkb2MuY20sIGwsIFwiZ3V0dGVyXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1vcmUgbG93ZXItbGV2ZWwgY2hhbmdlIGZ1bmN0aW9uLCBoYW5kbGluZyBvbmx5IGEgc2luZ2xlIGRvY3VtZW50XG4gIC8vIChub3QgbGlua2VkIG9uZXMpLlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3BhbnMpIHtcbiAgICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApXG4gICAgICByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZVNpbmdsZURvYykoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucyk7XG5cbiAgICBpZiAoY2hhbmdlLnRvLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICAgIHNoaWZ0RG9jKGRvYywgY2hhbmdlLnRleHQubGVuZ3RoIC0gMSAtIChjaGFuZ2UudG8ubGluZSAtIGNoYW5nZS5mcm9tLmxpbmUpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPiBkb2MubGFzdExpbmUoKSkgcmV0dXJuO1xuXG4gICAgLy8gQ2xpcCB0aGUgY2hhbmdlIHRvIHRoZSBzaXplIG9mIHRoaXMgZG9jXG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICAgIHZhciBzaGlmdCA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoZG9jLmZpcnN0IC0gY2hhbmdlLmZyb20ubGluZSk7XG4gICAgICBzaGlmdERvYyhkb2MsIHNoaWZ0KTtcbiAgICAgIGNoYW5nZSA9IHtmcm9tOiBQb3MoZG9jLmZpcnN0LCAwKSwgdG86IFBvcyhjaGFuZ2UudG8ubGluZSArIHNoaWZ0LCBjaGFuZ2UudG8uY2gpLFxuICAgICAgICAgICAgICAgIHRleHQ6IFtsc3QoY2hhbmdlLnRleHQpXSwgb3JpZ2luOiBjaGFuZ2Uub3JpZ2lufTtcbiAgICB9XG4gICAgdmFyIGxhc3QgPSBkb2MubGFzdExpbmUoKTtcbiAgICBpZiAoY2hhbmdlLnRvLmxpbmUgPiBsYXN0KSB7XG4gICAgICBjaGFuZ2UgPSB7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBQb3MobGFzdCwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBbY2hhbmdlLnRleHRbMF1dLCBvcmlnaW46IGNoYW5nZS5vcmlnaW59O1xuICAgIH1cblxuICAgIGNoYW5nZS5yZW1vdmVkID0gZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuXG4gICAgaWYgKCFzZWxBZnRlcikgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGlmIChkb2MuY20pIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihkb2MuY20sIGNoYW5nZSwgc3BhbnMpO1xuICAgIGVsc2UgdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBzcGFucyk7XG4gICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsQWZ0ZXIsIHNlbF9kb250U2Nyb2xsKTtcbiAgfVxuXG4gIC8vIEhhbmRsZSB0aGUgaW50ZXJhY3Rpb24gb2YgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCB3aXRoIHRoZSBlZGl0b3JcbiAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGlzIHBhcnQgb2YuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihjbSwgY2hhbmdlLCBzcGFucykge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvO1xuXG4gICAgdmFyIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlLCBjaGVja1dpZHRoU3RhcnQgPSBmcm9tLmxpbmU7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgY2hlY2tXaWR0aFN0YXJ0ID0gbGluZU5vKHZpc3VhbExpbmUoZ2V0TGluZShkb2MsIGZyb20ubGluZSkpKTtcbiAgICAgIGRvYy5pdGVyKGNoZWNrV2lkdGhTdGFydCwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUgPT0gZGlzcGxheS5tYXhMaW5lKSB7XG4gICAgICAgICAgcmVjb21wdXRlTWF4TGVuZ3RoID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRvYy5zZWwuY29udGFpbnMoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPiAtMSlcbiAgICAgIHNpZ25hbEN1cnNvckFjdGl2aXR5KGNtKTtcblxuICAgIHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMsIGVzdGltYXRlSGVpZ2h0KGNtKSk7XG5cbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBkb2MuaXRlcihjaGVja1dpZHRoU3RhcnQsIGZyb20ubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgbGVuID0gbGluZUxlbmd0aChsaW5lKTtcbiAgICAgICAgaWYgKGxlbiA+IGRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICAgIGRpc3BsYXkubWF4TGluZSA9IGxpbmU7XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lTGVuZ3RoID0gbGVuO1xuICAgICAgICAgIGRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChyZWNvbXB1dGVNYXhMZW5ndGgpIGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkanVzdCBmcm9udGllciwgc2NoZWR1bGUgd29ya2VyXG4gICAgZG9jLmZyb250aWVyID0gTWF0aC5taW4oZG9jLmZyb250aWVyLCBmcm9tLmxpbmUpO1xuICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuXG4gICAgdmFyIGxlbmRpZmYgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAodG8ubGluZSAtIGZyb20ubGluZSkgLSAxO1xuICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlc2UgbGluZXMgY2hhbmdlZCwgZm9yIHVwZGF0aW5nIHRoZSBkaXNwbGF5XG4gICAgaWYgKGNoYW5nZS5mdWxsKVxuICAgICAgcmVnQ2hhbmdlKGNtKTtcbiAgICBlbHNlIGlmIChmcm9tLmxpbmUgPT0gdG8ubGluZSAmJiBjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiAhaXNXaG9sZUxpbmVVcGRhdGUoY20uZG9jLCBjaGFuZ2UpKVxuICAgICAgcmVnTGluZUNoYW5nZShjbSwgZnJvbS5saW5lLCBcInRleHRcIik7XG4gICAgZWxzZVxuICAgICAgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBsZW5kaWZmKTtcblxuICAgIHZhciBjaGFuZ2VzSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlc1wiKSwgY2hhbmdlSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlXCIpO1xuICAgIGlmIChjaGFuZ2VIYW5kbGVyIHx8IGNoYW5nZXNIYW5kbGVyKSB7XG4gICAgICB2YXIgb2JqID0ge1xuICAgICAgICBmcm9tOiBmcm9tLCB0bzogdG8sXG4gICAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgICByZW1vdmVkOiBjaGFuZ2UucmVtb3ZlZCxcbiAgICAgICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luXG4gICAgICB9O1xuICAgICAgaWYgKGNoYW5nZUhhbmRsZXIpIHNpZ25hbExhdGVyKGNtLCBcImNoYW5nZVwiLCBjbSwgb2JqKTtcbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlcikgKGNtLmN1ck9wLmNoYW5nZU9ianMgfHwgKGNtLmN1ck9wLmNoYW5nZU9ianMgPSBbXSkpLnB1c2gob2JqKTtcbiAgICB9XG4gICAgY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlUmFuZ2UoZG9jLCBjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7XG4gICAgaWYgKCF0bykgdG8gPSBmcm9tO1xuICAgIGlmIChjbXAodG8sIGZyb20pIDwgMCkgeyB2YXIgdG1wID0gdG87IHRvID0gZnJvbTsgZnJvbSA9IHRtcDsgfVxuICAgIGlmICh0eXBlb2YgY29kZSA9PSBcInN0cmluZ1wiKSBjb2RlID0gZG9jLnNwbGl0TGluZXMoY29kZSk7XG4gICAgbWFrZUNoYW5nZShkb2MsIHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IGNvZGUsIG9yaWdpbjogb3JpZ2lufSk7XG4gIH1cblxuICAvLyBTQ1JPTExJTkcgVEhJTkdTIElOVE8gVklFV1xuXG4gIC8vIElmIGFuIGVkaXRvciBzaXRzIG9uIHRoZSB0b3Agb3IgYm90dG9tIG9mIHRoZSB3aW5kb3csIHBhcnRpYWxseVxuICAvLyBzY3JvbGxlZCBvdXQgb2YgdmlldywgdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGN1cnNvciBpcyB2aXNpYmxlLlxuICBmdW5jdGlvbiBtYXliZVNjcm9sbFdpbmRvdyhjbSwgY29vcmRzKSB7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBcInNjcm9sbEN1cnNvckludG9WaWV3XCIpKSByZXR1cm47XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGJveCA9IGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGRvU2Nyb2xsID0gbnVsbDtcbiAgICBpZiAoY29vcmRzLnRvcCArIGJveC50b3AgPCAwKSBkb1Njcm9sbCA9IHRydWU7XG4gICAgZWxzZSBpZiAoY29vcmRzLmJvdHRvbSArIGJveC50b3AgPiAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpKSBkb1Njcm9sbCA9IGZhbHNlO1xuICAgIGlmIChkb1Njcm9sbCAhPSBudWxsICYmICFwaGFudG9tKSB7XG4gICAgICB2YXIgc2Nyb2xsTm9kZSA9IGVsdChcImRpdlwiLCBcIlxcdTIwMGJcIiwgbnVsbCwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvb3Jkcy50b3AgLSBkaXNwbGF5LnZpZXdPZmZzZXQgLSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpKSArIFwicHg7IGhlaWdodDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvb3Jkcy5ib3R0b20gLSBjb29yZHMudG9wICsgc2Nyb2xsR2FwKGNtKSArIGRpc3BsYXkuYmFySGVpZ2h0KSArIFwicHg7IGxlZnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZWZ0ICsgXCJweDsgd2lkdGg6IDJweDtcIik7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChzY3JvbGxOb2RlKTtcbiAgICAgIHNjcm9sbE5vZGUuc2Nyb2xsSW50b1ZpZXcoZG9TY3JvbGwpO1xuICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Nyb2xsIGEgZ2l2ZW4gcG9zaXRpb24gaW50byB2aWV3IChpbW1lZGlhdGVseSksIHZlcmlmeWluZyB0aGF0XG4gIC8vIGl0IGFjdHVhbGx5IGJlY2FtZSB2aXNpYmxlIChhcyBsaW5lIGhlaWdodHMgYXJlIGFjY3VyYXRlbHlcbiAgLy8gbWVhc3VyZWQsIHRoZSBwb3NpdGlvbiBvZiBzb21ldGhpbmcgbWF5ICdkcmlmdCcgZHVyaW5nIGRyYXdpbmcpLlxuICBmdW5jdGlvbiBzY3JvbGxQb3NJbnRvVmlldyhjbSwgcG9zLCBlbmQsIG1hcmdpbikge1xuICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgbWFyZ2luID0gMDtcbiAgICBmb3IgKHZhciBsaW1pdCA9IDA7IGxpbWl0IDwgNTsgbGltaXQrKykge1xuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZSwgY29vcmRzID0gY3Vyc29yQ29vcmRzKGNtLCBwb3MpO1xuICAgICAgdmFyIGVuZENvb3JkcyA9ICFlbmQgfHwgZW5kID09IHBvcyA/IGNvb3JkcyA6IGN1cnNvckNvb3JkcyhjbSwgZW5kKTtcbiAgICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGNvb3Jkcy5sZWZ0LCBlbmRDb29yZHMubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNvb3Jkcy50b3AsIGVuZENvb3Jkcy50b3ApIC0gbWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMubGVmdCwgZW5kQ29vcmRzLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMuYm90dG9tLCBlbmRDb29yZHMuYm90dG9tKSArIG1hcmdpbik7XG4gICAgICB2YXIgc3RhcnRUb3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBzdGFydExlZnQgPSBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHtcbiAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSBzdGFydFRvcCkgPiAxKSBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsTGVmdCAhPSBudWxsKSB7XG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxMZWZ0IC0gc3RhcnRMZWZ0KSA+IDEpIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFjaGFuZ2VkKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfVxuXG4gIC8vIFNjcm9sbCBhIGdpdmVuIHNldCBvZiBjb29yZGluYXRlcyBpbnRvIHZpZXcgKGltbWVkaWF0ZWx5KS5cbiAgZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIHNjcm9sbFBvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgeDEsIHkxLCB4MiwgeTIpO1xuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHNldFNjcm9sbFRvcChjbSwgc2Nyb2xsUG9zLnNjcm9sbFRvcCk7XG4gICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxMZWZ0ICE9IG51bGwpIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBhIG5ldyBzY3JvbGwgcG9zaXRpb24gbmVlZGVkIHRvIHNjcm9sbCB0aGUgZ2l2ZW5cbiAgLy8gcmVjdGFuZ2xlIGludG8gdmlldy4gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBzY3JvbGxUb3AgYW5kXG4gIC8vIHNjcm9sbExlZnQgcHJvcGVydGllcy4gV2hlbiB0aGVzZSBhcmUgdW5kZWZpbmVkLCB0aGVcbiAgLy8gdmVydGljYWwvaG9yaXpvbnRhbCBwb3NpdGlvbiBkb2VzIG5vdCBuZWVkIHRvIGJlIGFkanVzdGVkLlxuICBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzbmFwTWFyZ2luID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KTtcbiAgICBpZiAoeTEgPCAwKSB5MSA9IDA7XG4gICAgdmFyIHNjcmVlbnRvcCA9IGNtLmN1ck9wICYmIGNtLmN1ck9wLnNjcm9sbFRvcCAhPSBudWxsID8gY20uY3VyT3Auc2Nyb2xsVG9wIDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgdmFyIHNjcmVlbiA9IGRpc3BsYXlIZWlnaHQoY20pLCByZXN1bHQgPSB7fTtcbiAgICBpZiAoeTIgLSB5MSA+IHNjcmVlbikgeTIgPSB5MSArIHNjcmVlbjtcbiAgICB2YXIgZG9jQm90dG9tID0gY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGRpc3BsYXkpO1xuICAgIHZhciBhdFRvcCA9IHkxIDwgc25hcE1hcmdpbiwgYXRCb3R0b20gPSB5MiA+IGRvY0JvdHRvbSAtIHNuYXBNYXJnaW47XG4gICAgaWYgKHkxIDwgc2NyZWVudG9wKSB7XG4gICAgICByZXN1bHQuc2Nyb2xsVG9wID0gYXRUb3AgPyAwIDogeTE7XG4gICAgfSBlbHNlIGlmICh5MiA+IHNjcmVlbnRvcCArIHNjcmVlbikge1xuICAgICAgdmFyIG5ld1RvcCA9IE1hdGgubWluKHkxLCAoYXRCb3R0b20gPyBkb2NCb3R0b20gOiB5MikgLSBzY3JlZW4pO1xuICAgICAgaWYgKG5ld1RvcCAhPSBzY3JlZW50b3ApIHJlc3VsdC5zY3JvbGxUb3AgPSBuZXdUb3A7XG4gICAgfVxuXG4gICAgdmFyIHNjcmVlbmxlZnQgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxMZWZ0ICE9IG51bGwgPyBjbS5jdXJPcC5zY3JvbGxMZWZ0IDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgIHZhciBzY3JlZW53ID0gZGlzcGxheVdpZHRoKGNtKSAtIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoIDogMCk7XG4gICAgdmFyIHRvb1dpZGUgPSB4MiAtIHgxID4gc2NyZWVudztcbiAgICBpZiAodG9vV2lkZSkgeDIgPSB4MSArIHNjcmVlbnc7XG4gICAgaWYgKHgxIDwgMTApXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IDA7XG4gICAgZWxzZSBpZiAoeDEgPCBzY3JlZW5sZWZ0KVxuICAgICAgcmVzdWx0LnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCB4MSAtICh0b29XaWRlID8gMCA6IDEwKSk7XG4gICAgZWxzZSBpZiAoeDIgPiBzY3JlZW53ICsgc2NyZWVubGVmdCAtIDMpXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IHgyICsgKHRvb1dpZGUgPyAwIDogMTApIC0gc2NyZWVudztcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gU3RvcmUgYSByZWxhdGl2ZSBhZGp1c3RtZW50IHRvIHRoZSBzY3JvbGwgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnRcbiAgLy8gb3BlcmF0aW9uICh0byBiZSBhcHBsaWVkIHdoZW4gdGhlIG9wZXJhdGlvbiBmaW5pc2hlcykuXG4gIGZ1bmN0aW9uIGFkZFRvU2Nyb2xsUG9zKGNtLCBsZWZ0LCB0b3ApIHtcbiAgICBpZiAobGVmdCAhPSBudWxsIHx8IHRvcCAhPSBudWxsKSByZXNvbHZlU2Nyb2xsVG9Qb3MoY20pO1xuICAgIGlmIChsZWZ0ICE9IG51bGwpXG4gICAgICBjbS5jdXJPcC5zY3JvbGxMZWZ0ID0gKGNtLmN1ck9wLnNjcm9sbExlZnQgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxMZWZ0IDogY20uY3VyT3Auc2Nyb2xsTGVmdCkgKyBsZWZ0O1xuICAgIGlmICh0b3AgIT0gbnVsbClcbiAgICAgIGNtLmN1ck9wLnNjcm9sbFRvcCA9IChjbS5jdXJPcC5zY3JvbGxUb3AgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxUb3AgOiBjbS5jdXJPcC5zY3JvbGxUb3ApICsgdG9wO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHRoYXQgYXQgdGhlIGVuZCBvZiB0aGUgb3BlcmF0aW9uIHRoZSBjdXJyZW50IGN1cnNvciBpc1xuICAvLyBzaG93bi5cbiAgZnVuY3Rpb24gZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSkge1xuICAgIHJlc29sdmVTY3JvbGxUb1BvcyhjbSk7XG4gICAgdmFyIGN1ciA9IGNtLmdldEN1cnNvcigpLCBmcm9tID0gY3VyLCB0byA9IGN1cjtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBmcm9tID0gY3VyLmNoID8gUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAxKSA6IGN1cjtcbiAgICAgIHRvID0gUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKTtcbiAgICB9XG4gICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSB7ZnJvbTogZnJvbSwgdG86IHRvLCBtYXJnaW46IGNtLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luLCBpc0N1cnNvcjogdHJ1ZX07XG4gIH1cblxuICAvLyBXaGVuIGFuIG9wZXJhdGlvbiBoYXMgaXRzIHNjcm9sbFRvUG9zIHByb3BlcnR5IHNldCwgYW5kIGFub3RoZXJcbiAgLy8gc2Nyb2xsIGFjdGlvbiBpcyBhcHBsaWVkIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24sIHRoaXNcbiAgLy8gJ3NpbXVsYXRlcycgc2Nyb2xsaW5nIHRoYXQgcG9zaXRpb24gaW50byB2aWV3IGluIGEgY2hlYXAgd2F5LCBzb1xuICAvLyB0aGF0IHRoZSBlZmZlY3Qgb2YgaW50ZXJtZWRpYXRlIHNjcm9sbCBjb21tYW5kcyBpcyBub3QgaWdub3JlZC5cbiAgZnVuY3Rpb24gcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKSB7XG4gICAgdmFyIHJhbmdlID0gY20uY3VyT3Auc2Nyb2xsVG9Qb3M7XG4gICAgaWYgKHJhbmdlKSB7XG4gICAgICBjbS5jdXJPcC5zY3JvbGxUb1BvcyA9IG51bGw7XG4gICAgICB2YXIgZnJvbSA9IGVzdGltYXRlQ29vcmRzKGNtLCByYW5nZS5mcm9tKSwgdG8gPSBlc3RpbWF0ZUNvb3JkcyhjbSwgcmFuZ2UudG8pO1xuICAgICAgdmFyIHNQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGZyb20ubGVmdCwgdG8ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihmcm9tLnRvcCwgdG8udG9wKSAtIHJhbmdlLm1hcmdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGZyb20ucmlnaHQsIHRvLnJpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGZyb20uYm90dG9tLCB0by5ib3R0b20pICsgcmFuZ2UubWFyZ2luKTtcbiAgICAgIGNtLnNjcm9sbFRvKHNQb3Muc2Nyb2xsTGVmdCwgc1Bvcy5zY3JvbGxUb3ApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFQSSBVVElMSVRJRVNcblxuICAvLyBJbmRlbnQgdGhlIGdpdmVuIGxpbmUuIFRoZSBob3cgcGFyYW1ldGVyIGNhbiBiZSBcInNtYXJ0XCIsXG4gIC8vIFwiYWRkXCIvbnVsbCwgXCJzdWJ0cmFjdFwiLCBvciBcInByZXZcIi4gV2hlbiBhZ2dyZXNzaXZlIGlzIGZhbHNlXG4gIC8vICh0eXBpY2FsbHkgc2V0IHRvIHRydWUgZm9yIGZvcmNlZCBzaW5nbGUtbGluZSBpbmRlbnRzKSwgZW1wdHlcbiAgLy8gbGluZXMgYXJlIG5vdCBpbmRlbnRlZCwgYW5kIHBsYWNlcyB3aGVyZSB0aGUgbW9kZSByZXR1cm5zIFBhc3NcbiAgLy8gYXJlIGxlZnQgYWxvbmUuXG4gIGZ1bmN0aW9uIGluZGVudExpbmUoY20sIG4sIGhvdywgYWdncmVzc2l2ZSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHN0YXRlO1xuICAgIGlmIChob3cgPT0gbnVsbCkgaG93ID0gXCJhZGRcIjtcbiAgICBpZiAoaG93ID09IFwic21hcnRcIikge1xuICAgICAgLy8gRmFsbCBiYWNrIHRvIFwicHJldlwiIHdoZW4gdGhlIG1vZGUgZG9lc24ndCBoYXZlIGFuIGluZGVudGF0aW9uXG4gICAgICAvLyBtZXRob2QuXG4gICAgICBpZiAoIWRvYy5tb2RlLmluZGVudCkgaG93ID0gXCJwcmV2XCI7XG4gICAgICBlbHNlIHN0YXRlID0gZ2V0U3RhdGVCZWZvcmUoY20sIG4pO1xuICAgIH1cblxuICAgIHZhciB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIG4pLCBjdXJTcGFjZSA9IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgbnVsbCwgdGFiU2l6ZSk7XG4gICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICB2YXIgY3VyU3BhY2VTdHJpbmcgPSBsaW5lLnRleHQubWF0Y2goL15cXHMqLylbMF0sIGluZGVudGF0aW9uO1xuICAgIGlmICghYWdncmVzc2l2ZSAmJiAhL1xcUy8udGVzdChsaW5lLnRleHQpKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IDA7XG4gICAgICBob3cgPSBcIm5vdFwiO1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwic21hcnRcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBkb2MubW9kZS5pbmRlbnQoc3RhdGUsIGxpbmUudGV4dC5zbGljZShjdXJTcGFjZVN0cmluZy5sZW5ndGgpLCBsaW5lLnRleHQpO1xuICAgICAgaWYgKGluZGVudGF0aW9uID09IFBhc3MgfHwgaW5kZW50YXRpb24gPiAxNTApIHtcbiAgICAgICAgaWYgKCFhZ2dyZXNzaXZlKSByZXR1cm47XG4gICAgICAgIGhvdyA9IFwicHJldlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaG93ID09IFwicHJldlwiKSB7XG4gICAgICBpZiAobiA+IGRvYy5maXJzdCkgaW5kZW50YXRpb24gPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgbi0xKS50ZXh0LCBudWxsLCB0YWJTaXplKTtcbiAgICAgIGVsc2UgaW5kZW50YXRpb24gPSAwO1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwiYWRkXCIpIHtcbiAgICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgKyBjbS5vcHRpb25zLmluZGVudFVuaXQ7XG4gICAgfSBlbHNlIGlmIChob3cgPT0gXCJzdWJ0cmFjdFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlIC0gY20ub3B0aW9ucy5pbmRlbnRVbml0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGhvdyA9PSBcIm51bWJlclwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgaG93O1xuICAgIH1cbiAgICBpbmRlbnRhdGlvbiA9IE1hdGgubWF4KDAsIGluZGVudGF0aW9uKTtcblxuICAgIHZhciBpbmRlbnRTdHJpbmcgPSBcIlwiLCBwb3MgPSAwO1xuICAgIGlmIChjbS5vcHRpb25zLmluZGVudFdpdGhUYWJzKVxuICAgICAgZm9yICh2YXIgaSA9IE1hdGguZmxvb3IoaW5kZW50YXRpb24gLyB0YWJTaXplKTsgaTsgLS1pKSB7cG9zICs9IHRhYlNpemU7IGluZGVudFN0cmluZyArPSBcIlxcdFwiO31cbiAgICBpZiAocG9zIDwgaW5kZW50YXRpb24pIGluZGVudFN0cmluZyArPSBzcGFjZVN0cihpbmRlbnRhdGlvbiAtIHBvcyk7XG5cbiAgICBpZiAoaW5kZW50U3RyaW5nICE9IGN1clNwYWNlU3RyaW5nKSB7XG4gICAgICByZXBsYWNlUmFuZ2UoZG9jLCBpbmRlbnRTdHJpbmcsIFBvcyhuLCAwKSwgUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIFwiK2lucHV0XCIpO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbnN1cmUgdGhhdCwgaWYgdGhlIGN1cnNvciB3YXMgaW4gdGhlIHdoaXRlc3BhY2UgYXQgdGhlIHN0YXJ0XG4gICAgICAvLyBvZiB0aGUgbGluZSwgaXQgaXMgbW92ZWQgdG8gdGhlIGVuZCBvZiB0aGF0IHNwYWNlLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXTtcbiAgICAgICAgaWYgKHJhbmdlLmhlYWQubGluZSA9PSBuICYmIHJhbmdlLmhlYWQuY2ggPCBjdXJTcGFjZVN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcG9zID0gUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIGksIG5ldyBSYW5nZShwb3MsIHBvcykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXRpbGl0eSBmb3IgYXBwbHlpbmcgYSBjaGFuZ2UgdG8gYSBsaW5lIGJ5IGhhbmRsZSBvciBudW1iZXIsXG4gIC8vIHJldHVybmluZyB0aGUgbnVtYmVyIGFuZCBvcHRpb25hbGx5IHJlZ2lzdGVyaW5nIHRoZSBsaW5lIGFzXG4gIC8vIGNoYW5nZWQuXG4gIGZ1bmN0aW9uIGNoYW5nZUxpbmUoZG9jLCBoYW5kbGUsIGNoYW5nZVR5cGUsIG9wKSB7XG4gICAgdmFyIG5vID0gaGFuZGxlLCBsaW5lID0gaGFuZGxlO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlID09IFwibnVtYmVyXCIpIGxpbmUgPSBnZXRMaW5lKGRvYywgY2xpcExpbmUoZG9jLCBoYW5kbGUpKTtcbiAgICBlbHNlIG5vID0gbGluZU5vKGhhbmRsZSk7XG4gICAgaWYgKG5vID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIGlmIChvcChsaW5lLCBubykgJiYgZG9jLmNtKSByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbm8sIGNoYW5nZVR5cGUpO1xuICAgIHJldHVybiBsaW5lO1xuICB9XG5cbiAgLy8gSGVscGVyIGZvciBkZWxldGluZyB0ZXh0IG5lYXIgdGhlIHNlbGVjdGlvbihzKSwgdXNlZCB0byBpbXBsZW1lbnRcbiAgLy8gYmFja3NwYWNlLCBkZWxldGUsIGFuZCBzaW1pbGFyIGZ1bmN0aW9uYWxpdHkuXG4gIGZ1bmN0aW9uIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGNvbXB1dGUpIHtcbiAgICB2YXIgcmFuZ2VzID0gY20uZG9jLnNlbC5yYW5nZXMsIGtpbGwgPSBbXTtcbiAgICAvLyBCdWlsZCB1cCBhIHNldCBvZiByYW5nZXMgdG8ga2lsbCBmaXJzdCwgbWVyZ2luZyBvdmVybGFwcGluZ1xuICAgIC8vIHJhbmdlcy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRvS2lsbCA9IGNvbXB1dGUocmFuZ2VzW2ldKTtcbiAgICAgIHdoaWxlIChraWxsLmxlbmd0aCAmJiBjbXAodG9LaWxsLmZyb20sIGxzdChraWxsKS50bykgPD0gMCkge1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSBraWxsLnBvcCgpO1xuICAgICAgICBpZiAoY21wKHJlcGxhY2VkLmZyb20sIHRvS2lsbC5mcm9tKSA8IDApIHtcbiAgICAgICAgICB0b0tpbGwuZnJvbSA9IHJlcGxhY2VkLmZyb207XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGtpbGwucHVzaCh0b0tpbGwpO1xuICAgIH1cbiAgICAvLyBOZXh0LCByZW1vdmUgdGhvc2UgYWN0dWFsIHJhbmdlcy5cbiAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSBraWxsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBcIlwiLCBraWxsW2ldLmZyb20sIGtpbGxbaV0udG8sIFwiK2RlbGV0ZVwiKTtcbiAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoY20pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVXNlZCBmb3IgaG9yaXpvbnRhbCByZWxhdGl2ZSBtb3Rpb24uIERpciBpcyAtMSBvciAxIChsZWZ0IG9yXG4gIC8vIHJpZ2h0KSwgdW5pdCBjYW4gYmUgXCJjaGFyXCIsIFwiY29sdW1uXCIgKGxpa2UgY2hhciwgYnV0IGRvZXNuJ3RcbiAgLy8gY3Jvc3MgbGluZSBib3VuZGFyaWVzKSwgXCJ3b3JkXCIgKGFjcm9zcyBuZXh0IHdvcmQpLCBvciBcImdyb3VwXCIgKHRvXG4gIC8vIHRoZSBzdGFydCBvZiBuZXh0IGdyb3VwIG9mIHdvcmQgb3Igbm9uLXdvcmQtbm9uLXdoaXRlc3BhY2VcbiAgLy8gY2hhcnMpLiBUaGUgdmlzdWFsbHkgcGFyYW0gY29udHJvbHMgd2hldGhlciwgaW4gcmlnaHQtdG8tbGVmdFxuICAvLyB0ZXh0LCBkaXJlY3Rpb24gMSBtZWFucyB0byBtb3ZlIHRvd2FyZHMgdGhlIG5leHQgaW5kZXggaW4gdGhlXG4gIC8vIHN0cmluZywgb3IgdG93YXJkcyB0aGUgY2hhcmFjdGVyIHRvIHRoZSByaWdodCBvZiB0aGUgY3VycmVudFxuICAvLyBwb3NpdGlvbi4gVGhlIHJlc3VsdGluZyBwb3NpdGlvbiB3aWxsIGhhdmUgYSBoaXRTaWRlPXRydWVcbiAgLy8gcHJvcGVydHkgaWYgaXQgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZFBvc0goZG9jLCBwb3MsIGRpciwgdW5pdCwgdmlzdWFsbHkpIHtcbiAgICB2YXIgbGluZSA9IHBvcy5saW5lLCBjaCA9IHBvcy5jaCwgb3JpZ0RpciA9IGRpcjtcbiAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lKTtcbiAgICB2YXIgcG9zc2libGUgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0TGluZSgpIHtcbiAgICAgIHZhciBsID0gbGluZSArIGRpcjtcbiAgICAgIGlmIChsIDwgZG9jLmZpcnN0IHx8IGwgPj0gZG9jLmZpcnN0ICsgZG9jLnNpemUpIHJldHVybiAocG9zc2libGUgPSBmYWxzZSk7XG4gICAgICBsaW5lID0gbDtcbiAgICAgIHJldHVybiBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlT25jZShib3VuZFRvTGluZSkge1xuICAgICAgdmFyIG5leHQgPSAodmlzdWFsbHkgPyBtb3ZlVmlzdWFsbHkgOiBtb3ZlTG9naWNhbGx5KShsaW5lT2JqLCBjaCwgZGlyLCB0cnVlKTtcbiAgICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgICAgaWYgKCFib3VuZFRvTGluZSAmJiBmaW5kTmV4dExpbmUoKSkge1xuICAgICAgICAgIGlmICh2aXN1YWxseSkgY2ggPSAoZGlyIDwgMCA/IGxpbmVSaWdodCA6IGxpbmVMZWZ0KShsaW5lT2JqKTtcbiAgICAgICAgICBlbHNlIGNoID0gZGlyIDwgMCA/IGxpbmVPYmoudGV4dC5sZW5ndGggOiAwO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIChwb3NzaWJsZSA9IGZhbHNlKTtcbiAgICAgIH0gZWxzZSBjaCA9IG5leHQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodW5pdCA9PSBcImNoYXJcIikgbW92ZU9uY2UoKTtcbiAgICBlbHNlIGlmICh1bml0ID09IFwiY29sdW1uXCIpIG1vdmVPbmNlKHRydWUpO1xuICAgIGVsc2UgaWYgKHVuaXQgPT0gXCJ3b3JkXCIgfHwgdW5pdCA9PSBcImdyb3VwXCIpIHtcbiAgICAgIHZhciBzYXdUeXBlID0gbnVsbCwgZ3JvdXAgPSB1bml0ID09IFwiZ3JvdXBcIjtcbiAgICAgIHZhciBoZWxwZXIgPSBkb2MuY20gJiYgZG9jLmNtLmdldEhlbHBlcihwb3MsIFwid29yZENoYXJzXCIpO1xuICAgICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAoZGlyIDwgMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgYnJlYWs7XG4gICAgICAgIHZhciBjdXIgPSBsaW5lT2JqLnRleHQuY2hhckF0KGNoKSB8fCBcIlxcblwiO1xuICAgICAgICB2YXIgdHlwZSA9IGlzV29yZENoYXIoY3VyLCBoZWxwZXIpID8gXCJ3XCJcbiAgICAgICAgICA6IGdyb3VwICYmIGN1ciA9PSBcIlxcblwiID8gXCJuXCJcbiAgICAgICAgICA6ICFncm91cCB8fCAvXFxzLy50ZXN0KGN1cikgPyBudWxsXG4gICAgICAgICAgOiBcInBcIjtcbiAgICAgICAgaWYgKGdyb3VwICYmICFmaXJzdCAmJiAhdHlwZSkgdHlwZSA9IFwic1wiO1xuICAgICAgICBpZiAoc2F3VHlwZSAmJiBzYXdUeXBlICE9IHR5cGUpIHtcbiAgICAgICAgICBpZiAoZGlyIDwgMCkge2RpciA9IDE7IG1vdmVPbmNlKCk7fVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUpIHNhd1R5cGUgPSB0eXBlO1xuICAgICAgICBpZiAoZGlyID4gMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBza2lwQXRvbWljKGRvYywgUG9zKGxpbmUsIGNoKSwgb3JpZ0RpciwgdHJ1ZSk7XG4gICAgaWYgKCFwb3NzaWJsZSkgcmVzdWx0LmhpdFNpZGUgPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBGb3IgcmVsYXRpdmUgdmVydGljYWwgbW92ZW1lbnQuIERpciBtYXkgYmUgLTEgb3IgMS4gVW5pdCBjYW4gYmVcbiAgLy8gXCJwYWdlXCIgb3IgXCJsaW5lXCIuIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlXG4gIC8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRQb3NWKGNtLCBwb3MsIGRpciwgdW5pdCkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHggPSBwb3MubGVmdCwgeTtcbiAgICBpZiAodW5pdCA9PSBcInBhZ2VcIikge1xuICAgICAgdmFyIHBhZ2VTaXplID0gTWF0aC5taW4oY20uZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpO1xuICAgICAgeSA9IHBvcy50b3AgKyBkaXIgKiAocGFnZVNpemUgLSAoZGlyIDwgMCA/IDEuNSA6IC41KSAqIHRleHRIZWlnaHQoY20uZGlzcGxheSkpO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcImxpbmVcIikge1xuICAgICAgeSA9IGRpciA+IDAgPyBwb3MuYm90dG9tICsgMyA6IHBvcy50b3AgLSAzO1xuICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gY29vcmRzQ2hhcihjbSwgeCwgeSk7XG4gICAgICBpZiAoIXRhcmdldC5vdXRzaWRlKSBicmVhaztcbiAgICAgIGlmIChkaXIgPCAwID8geSA8PSAwIDogeSA+PSBkb2MuaGVpZ2h0KSB7IHRhcmdldC5oaXRTaWRlID0gdHJ1ZTsgYnJlYWs7IH1cbiAgICAgIHkgKz0gZGlyICogNTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8vIEVESVRPUiBNRVRIT0RTXG5cbiAgLy8gVGhlIHB1YmxpY2x5IHZpc2libGUgQVBJLiBOb3RlIHRoYXQgbWV0aG9kT3AoZikgbWVhbnNcbiAgLy8gJ3dyYXAgZiBpbiBhbiBvcGVyYXRpb24sIHBlcmZvcm1lZCBvbiBpdHMgYHRoaXNgIHBhcmFtZXRlcicuXG5cbiAgLy8gVGhpcyBpcyBub3QgdGhlIGNvbXBsZXRlIHNldCBvZiBlZGl0b3IgbWV0aG9kcy4gTW9zdCBvZiB0aGVcbiAgLy8gbWV0aG9kcyBkZWZpbmVkIG9uIHRoZSBEb2MgdHlwZSBhcmUgYWxzbyBpbmplY3RlZCBpbnRvXG4gIC8vIENvZGVNaXJyb3IucHJvdG90eXBlLCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kXG4gIC8vIGNvbnZlbmllbmNlLlxuXG4gIENvZGVNaXJyb3IucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb2RlTWlycm9yLFxuICAgIGZvY3VzOiBmdW5jdGlvbigpe3dpbmRvdy5mb2N1cygpOyB0aGlzLmRpc3BsYXkuaW5wdXQuZm9jdXMoKTt9LFxuXG4gICAgc2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywgb2xkID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgaWYgKG9wdGlvbnNbb3B0aW9uXSA9PSB2YWx1ZSAmJiBvcHRpb24gIT0gXCJtb2RlXCIpIHJldHVybjtcbiAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuICAgICAgaWYgKG9wdGlvbkhhbmRsZXJzLmhhc093blByb3BlcnR5KG9wdGlvbikpXG4gICAgICAgIG9wZXJhdGlvbih0aGlzLCBvcHRpb25IYW5kbGVyc1tvcHRpb25dKSh0aGlzLCB2YWx1ZSwgb2xkKTtcbiAgICB9LFxuXG4gICAgZ2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtyZXR1cm4gdGhpcy5vcHRpb25zW29wdGlvbl07fSxcbiAgICBnZXREb2M6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmRvYzt9LFxuXG4gICAgYWRkS2V5TWFwOiBmdW5jdGlvbihtYXAsIGJvdHRvbSkge1xuICAgICAgdGhpcy5zdGF0ZS5rZXlNYXBzW2JvdHRvbSA/IFwicHVzaFwiIDogXCJ1bnNoaWZ0XCJdKGdldEtleU1hcChtYXApKTtcbiAgICB9LFxuICAgIHJlbW92ZUtleU1hcDogZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgbWFwcyA9IHRoaXMuc3RhdGUua2V5TWFwcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKG1hcHNbaV0gPT0gbWFwIHx8IG1hcHNbaV0ubmFtZSA9PSBtYXApIHtcbiAgICAgICAgICBtYXBzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRPdmVybGF5OiBtZXRob2RPcChmdW5jdGlvbihzcGVjLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbW9kZSA9IHNwZWMudG9rZW4gPyBzcGVjIDogQ29kZU1pcnJvci5nZXRNb2RlKHRoaXMub3B0aW9ucywgc3BlYyk7XG4gICAgICBpZiAobW9kZS5zdGFydFN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKTtcbiAgICAgIHRoaXMuc3RhdGUub3ZlcmxheXMucHVzaCh7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZX0pO1xuICAgICAgdGhpcy5zdGF0ZS5tb2RlR2VuKys7XG4gICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgfSksXG4gICAgcmVtb3ZlT3ZlcmxheTogbWV0aG9kT3AoZnVuY3Rpb24oc3BlYykge1xuICAgICAgdmFyIG92ZXJsYXlzID0gdGhpcy5zdGF0ZS5vdmVybGF5cztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxheXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1ciA9IG92ZXJsYXlzW2ldLm1vZGVTcGVjO1xuICAgICAgICBpZiAoY3VyID09IHNwZWMgfHwgdHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7XG4gICAgICAgICAgb3ZlcmxheXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHRoaXMuc3RhdGUubW9kZUdlbisrO1xuICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIGluZGVudExpbmU6IG1ldGhvZE9wKGZ1bmN0aW9uKG4sIGRpciwgYWdncmVzc2l2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBkaXIgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGlyICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGRpciA9PSBudWxsKSBkaXIgPSB0aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQgPyBcInNtYXJ0XCIgOiBcInByZXZcIjtcbiAgICAgICAgZWxzZSBkaXIgPSBkaXIgPyBcImFkZFwiIDogXCJzdWJ0cmFjdFwiO1xuICAgICAgfVxuICAgICAgaWYgKGlzTGluZSh0aGlzLmRvYywgbikpIGluZGVudExpbmUodGhpcywgbiwgZGlyLCBhZ2dyZXNzaXZlKTtcbiAgICB9KSxcbiAgICBpbmRlbnRTZWxlY3Rpb246IG1ldGhvZE9wKGZ1bmN0aW9uKGhvdykge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZG9jLnNlbC5yYW5nZXMsIGVuZCA9IC0xO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKSwgdG8gPSByYW5nZS50bygpO1xuICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWF4KGVuZCwgZnJvbS5saW5lKTtcbiAgICAgICAgICBlbmQgPSBNYXRoLm1pbih0aGlzLmxhc3RMaW5lKCksIHRvLmxpbmUgLSAodG8uY2ggPyAwIDogMSkpICsgMTtcbiAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQ7IGogPCBlbmQ7ICsrailcbiAgICAgICAgICAgIGluZGVudExpbmUodGhpcywgaiwgaG93KTtcbiAgICAgICAgICB2YXIgbmV3UmFuZ2VzID0gdGhpcy5kb2Muc2VsLnJhbmdlcztcbiAgICAgICAgICBpZiAoZnJvbS5jaCA9PSAwICYmIHJhbmdlcy5sZW5ndGggPT0gbmV3UmFuZ2VzLmxlbmd0aCAmJiBuZXdSYW5nZXNbaV0uZnJvbSgpLmNoID4gMClcbiAgICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24odGhpcy5kb2MsIGksIG5ldyBSYW5nZShmcm9tLCBuZXdSYW5nZXNbaV0udG8oKSksIHNlbF9kb250U2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5oZWFkLmxpbmUgPiBlbmQpIHtcbiAgICAgICAgICBpbmRlbnRMaW5lKHRoaXMsIHJhbmdlLmhlYWQubGluZSwgaG93LCB0cnVlKTtcbiAgICAgICAgICBlbmQgPSByYW5nZS5oZWFkLmxpbmU7XG4gICAgICAgICAgaWYgKGkgPT0gdGhpcy5kb2Muc2VsLnByaW1JbmRleCkgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuXG4gICAgLy8gRmV0Y2ggdGhlIHBhcnNlciB0b2tlbiBmb3IgYSBnaXZlbiBjaGFyYWN0ZXIuIFVzZWZ1bCBmb3IgaGFja3NcbiAgICAvLyB0aGF0IHdhbnQgdG8gaW5zcGVjdCB0aGUgbW9kZSBzdGF0ZSAoc2F5LCBmb3IgY29tcGxldGlvbikuXG4gICAgZ2V0VG9rZW5BdDogZnVuY3Rpb24ocG9zLCBwcmVjaXNlKSB7XG4gICAgICByZXR1cm4gdGFrZVRva2VuKHRoaXMsIHBvcywgcHJlY2lzZSk7XG4gICAgfSxcblxuICAgIGdldExpbmVUb2tlbnM6IGZ1bmN0aW9uKGxpbmUsIHByZWNpc2UpIHtcbiAgICAgIHJldHVybiB0YWtlVG9rZW4odGhpcywgUG9zKGxpbmUpLCBwcmVjaXNlLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgZ2V0VG9rZW5UeXBlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgcG9zKTtcbiAgICAgIHZhciBzdHlsZXMgPSBnZXRMaW5lU3R5bGVzKHRoaXMsIGdldExpbmUodGhpcy5kb2MsIHBvcy5saW5lKSk7XG4gICAgICB2YXIgYmVmb3JlID0gMCwgYWZ0ZXIgPSAoc3R5bGVzLmxlbmd0aCAtIDEpIC8gMiwgY2ggPSBwb3MuY2g7XG4gICAgICB2YXIgdHlwZTtcbiAgICAgIGlmIChjaCA9PSAwKSB0eXBlID0gc3R5bGVzWzJdO1xuICAgICAgZWxzZSBmb3IgKDs7KSB7XG4gICAgICAgIHZhciBtaWQgPSAoYmVmb3JlICsgYWZ0ZXIpID4+IDE7XG4gICAgICAgIGlmICgobWlkID8gc3R5bGVzW21pZCAqIDIgLSAxXSA6IDApID49IGNoKSBhZnRlciA9IG1pZDtcbiAgICAgICAgZWxzZSBpZiAoc3R5bGVzW21pZCAqIDIgKyAxXSA8IGNoKSBiZWZvcmUgPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIHsgdHlwZSA9IHN0eWxlc1ttaWQgKiAyICsgMl07IGJyZWFrOyB9XG4gICAgICB9XG4gICAgICB2YXIgY3V0ID0gdHlwZSA/IHR5cGUuaW5kZXhPZihcImNtLW92ZXJsYXkgXCIpIDogLTE7XG4gICAgICByZXR1cm4gY3V0IDwgMCA/IHR5cGUgOiBjdXQgPT0gMCA/IG51bGwgOiB0eXBlLnNsaWNlKDAsIGN1dCAtIDEpO1xuICAgIH0sXG5cbiAgICBnZXRNb2RlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgdmFyIG1vZGUgPSB0aGlzLmRvYy5tb2RlO1xuICAgICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgcmV0dXJuIG1vZGU7XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgdGhpcy5nZXRUb2tlbkF0KHBvcykuc3RhdGUpLm1vZGU7XG4gICAgfSxcblxuICAgIGdldEhlbHBlcjogZnVuY3Rpb24ocG9zLCB0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHBvcywgdHlwZSlbMF07XG4gICAgfSxcblxuICAgIGdldEhlbHBlcnM6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgdmFyIGZvdW5kID0gW107XG4gICAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBmb3VuZDtcbiAgICAgIHZhciBoZWxwID0gaGVscGVyc1t0eXBlXSwgbW9kZSA9IHRoaXMuZ2V0TW9kZUF0KHBvcyk7XG4gICAgICBpZiAodHlwZW9mIG1vZGVbdHlwZV0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoaGVscFttb2RlW3R5cGVdXSkgZm91bmQucHVzaChoZWxwW21vZGVbdHlwZV1dKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZVt0eXBlXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVbdHlwZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgdmFsID0gaGVscFttb2RlW3R5cGVdW2ldXTtcbiAgICAgICAgICBpZiAodmFsKSBmb3VuZC5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobW9kZS5oZWxwZXJUeXBlICYmIGhlbHBbbW9kZS5oZWxwZXJUeXBlXSkge1xuICAgICAgICBmb3VuZC5wdXNoKGhlbHBbbW9kZS5oZWxwZXJUeXBlXSk7XG4gICAgICB9IGVsc2UgaWYgKGhlbHBbbW9kZS5uYW1lXSkge1xuICAgICAgICBmb3VuZC5wdXNoKGhlbHBbbW9kZS5uYW1lXSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlbHAuX2dsb2JhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyID0gaGVscC5fZ2xvYmFsW2ldO1xuICAgICAgICBpZiAoY3VyLnByZWQobW9kZSwgdGhpcykgJiYgaW5kZXhPZihmb3VuZCwgY3VyLnZhbCkgPT0gLTEpXG4gICAgICAgICAgZm91bmQucHVzaChjdXIudmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuXG4gICAgZ2V0U3RhdGVBZnRlcjogZnVuY3Rpb24obGluZSwgcHJlY2lzZSkge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jO1xuICAgICAgbGluZSA9IGNsaXBMaW5lKGRvYywgbGluZSA9PSBudWxsID8gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxOiBsaW5lKTtcbiAgICAgIHJldHVybiBnZXRTdGF0ZUJlZm9yZSh0aGlzLCBsaW5lICsgMSwgcHJlY2lzZSk7XG4gICAgfSxcblxuICAgIGN1cnNvckNvb3JkczogZnVuY3Rpb24oc3RhcnQsIG1vZGUpIHtcbiAgICAgIHZhciBwb3MsIHJhbmdlID0gdGhpcy5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIGlmIChzdGFydCA9PSBudWxsKSBwb3MgPSByYW5nZS5oZWFkO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09IFwib2JqZWN0XCIpIHBvcyA9IGNsaXBQb3ModGhpcy5kb2MsIHN0YXJ0KTtcbiAgICAgIGVsc2UgcG9zID0gc3RhcnQgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgcmV0dXJuIGN1cnNvckNvb3Jkcyh0aGlzLCBwb3MsIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgIH0sXG5cbiAgICBjaGFyQ29vcmRzOiBmdW5jdGlvbihwb3MsIG1vZGUpIHtcbiAgICAgIHJldHVybiBjaGFyQ29vcmRzKHRoaXMsIGNsaXBQb3ModGhpcy5kb2MsIHBvcyksIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgIH0sXG5cbiAgICBjb29yZHNDaGFyOiBmdW5jdGlvbihjb29yZHMsIG1vZGUpIHtcbiAgICAgIGNvb3JkcyA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCBjb29yZHMsIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgICAgcmV0dXJuIGNvb3Jkc0NoYXIodGhpcywgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgIH0sXG5cbiAgICBsaW5lQXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCwgbW9kZSkge1xuICAgICAgaGVpZ2h0ID0gZnJvbUNvb3JkU3lzdGVtKHRoaXMsIHt0b3A6IGhlaWdodCwgbGVmdDogMH0sIG1vZGUgfHwgXCJwYWdlXCIpLnRvcDtcbiAgICAgIHJldHVybiBsaW5lQXRIZWlnaHQodGhpcy5kb2MsIGhlaWdodCArIHRoaXMuZGlzcGxheS52aWV3T2Zmc2V0KTtcbiAgICB9LFxuICAgIGhlaWdodEF0TGluZTogZnVuY3Rpb24obGluZSwgbW9kZSkge1xuICAgICAgdmFyIGVuZCA9IGZhbHNlLCBsaW5lT2JqO1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdmFyIGxhc3QgPSB0aGlzLmRvYy5maXJzdCArIHRoaXMuZG9jLnNpemUgLSAxO1xuICAgICAgICBpZiAobGluZSA8IHRoaXMuZG9jLmZpcnN0KSBsaW5lID0gdGhpcy5kb2MuZmlyc3Q7XG4gICAgICAgIGVsc2UgaWYgKGxpbmUgPiBsYXN0KSB7IGxpbmUgPSBsYXN0OyBlbmQgPSB0cnVlOyB9XG4gICAgICAgIGxpbmVPYmogPSBnZXRMaW5lKHRoaXMuZG9jLCBsaW5lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmVPYmogPSBsaW5lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbSh0aGlzLCBsaW5lT2JqLCB7dG9wOiAwLCBsZWZ0OiAwfSwgbW9kZSB8fCBcInBhZ2VcIikudG9wICtcbiAgICAgICAgKGVuZCA/IHRoaXMuZG9jLmhlaWdodCAtIGhlaWdodEF0TGluZShsaW5lT2JqKSA6IDApO1xuICAgIH0sXG5cbiAgICBkZWZhdWx0VGV4dEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiB0ZXh0SGVpZ2h0KHRoaXMuZGlzcGxheSk7IH0sXG4gICAgZGVmYXVsdENoYXJXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjaGFyV2lkdGgodGhpcy5kaXNwbGF5KTsgfSxcblxuICAgIHNldEd1dHRlck1hcmtlcjogbWV0aG9kT3AoZnVuY3Rpb24obGluZSwgZ3V0dGVySUQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLmRvYywgbGluZSwgXCJndXR0ZXJcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgbWFya2VycyA9IGxpbmUuZ3V0dGVyTWFya2VycyB8fCAobGluZS5ndXR0ZXJNYXJrZXJzID0ge30pO1xuICAgICAgICBtYXJrZXJzW2d1dHRlcklEXSA9IHZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlICYmIGlzRW1wdHkobWFya2VycykpIGxpbmUuZ3V0dGVyTWFya2VycyA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSksXG5cbiAgICBjbGVhckd1dHRlcjogbWV0aG9kT3AoZnVuY3Rpb24oZ3V0dGVySUQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMsIGRvYyA9IGNtLmRvYywgaSA9IGRvYy5maXJzdDtcbiAgICAgIGRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUuZ3V0dGVyTWFya2VycyAmJiBsaW5lLmd1dHRlck1hcmtlcnNbZ3V0dGVySURdKSB7XG4gICAgICAgICAgbGluZS5ndXR0ZXJNYXJrZXJzW2d1dHRlcklEXSA9IG51bGw7XG4gICAgICAgICAgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJndXR0ZXJcIik7XG4gICAgICAgICAgaWYgKGlzRW1wdHkobGluZS5ndXR0ZXJNYXJrZXJzKSkgbGluZS5ndXR0ZXJNYXJrZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICArK2k7XG4gICAgICB9KTtcbiAgICB9KSxcblxuICAgIGxpbmVJbmZvOiBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAodHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAoIWlzTGluZSh0aGlzLmRvYywgbGluZSkpIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgbiA9IGxpbmU7XG4gICAgICAgIGxpbmUgPSBnZXRMaW5lKHRoaXMuZG9jLCBsaW5lKTtcbiAgICAgICAgaWYgKCFsaW5lKSByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuID0gbGluZU5vKGxpbmUpO1xuICAgICAgICBpZiAobiA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7bGluZTogbiwgaGFuZGxlOiBsaW5lLCB0ZXh0OiBsaW5lLnRleHQsIGd1dHRlck1hcmtlcnM6IGxpbmUuZ3V0dGVyTWFya2VycyxcbiAgICAgICAgICAgICAgdGV4dENsYXNzOiBsaW5lLnRleHRDbGFzcywgYmdDbGFzczogbGluZS5iZ0NsYXNzLCB3cmFwQ2xhc3M6IGxpbmUud3JhcENsYXNzLFxuICAgICAgICAgICAgICB3aWRnZXRzOiBsaW5lLndpZGdldHN9O1xuICAgIH0sXG5cbiAgICBnZXRWaWV3cG9ydDogZnVuY3Rpb24oKSB7IHJldHVybiB7ZnJvbTogdGhpcy5kaXNwbGF5LnZpZXdGcm9tLCB0bzogdGhpcy5kaXNwbGF5LnZpZXdUb307fSxcblxuICAgIGFkZFdpZGdldDogZnVuY3Rpb24ocG9zLCBub2RlLCBzY3JvbGwsIHZlcnQsIGhvcml6KSB7XG4gICAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheTtcbiAgICAgIHBvcyA9IGN1cnNvckNvb3Jkcyh0aGlzLCBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpKTtcbiAgICAgIHZhciB0b3AgPSBwb3MuYm90dG9tLCBsZWZ0ID0gcG9zLmxlZnQ7XG4gICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHRoaXMuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpO1xuICAgICAgZGlzcGxheS5zaXplci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIGlmICh2ZXJ0ID09IFwib3ZlclwiKSB7XG4gICAgICAgIHRvcCA9IHBvcy50b3A7XG4gICAgICB9IGVsc2UgaWYgKHZlcnQgPT0gXCJhYm92ZVwiIHx8IHZlcnQgPT0gXCJuZWFyXCIpIHtcbiAgICAgICAgdmFyIHZzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsIHRoaXMuZG9jLmhlaWdodCksXG4gICAgICAgIGhzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGgsIGRpc3BsYXkubGluZVNwYWNlLmNsaWVudFdpZHRoKTtcbiAgICAgICAgLy8gRGVmYXVsdCB0byBwb3NpdGlvbmluZyBhYm92ZSAoaWYgc3BlY2lmaWVkIGFuZCBwb3NzaWJsZSk7IG90aGVyd2lzZSBkZWZhdWx0IHRvIHBvc2l0aW9uaW5nIGJlbG93XG4gICAgICAgIGlmICgodmVydCA9PSAnYWJvdmUnIHx8IHBvcy5ib3R0b20gKyBub2RlLm9mZnNldEhlaWdodCA+IHZzcGFjZSkgJiYgcG9zLnRvcCA+IG5vZGUub2Zmc2V0SGVpZ2h0KVxuICAgICAgICAgIHRvcCA9IHBvcy50b3AgLSBub2RlLm9mZnNldEhlaWdodDtcbiAgICAgICAgZWxzZSBpZiAocG9zLmJvdHRvbSArIG5vZGUub2Zmc2V0SGVpZ2h0IDw9IHZzcGFjZSlcbiAgICAgICAgICB0b3AgPSBwb3MuYm90dG9tO1xuICAgICAgICBpZiAobGVmdCArIG5vZGUub2Zmc2V0V2lkdGggPiBoc3BhY2UpXG4gICAgICAgICAgbGVmdCA9IGhzcGFjZSAtIG5vZGUub2Zmc2V0V2lkdGg7XG4gICAgICB9XG4gICAgICBub2RlLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgIG5vZGUuc3R5bGUubGVmdCA9IG5vZGUuc3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgaWYgKGhvcml6ID09IFwicmlnaHRcIikge1xuICAgICAgICBsZWZ0ID0gZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhvcml6ID09IFwibGVmdFwiKSBsZWZ0ID0gMDtcbiAgICAgICAgZWxzZSBpZiAoaG9yaXogPT0gXCJtaWRkbGVcIikgbGVmdCA9IChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoIC0gbm9kZS5vZmZzZXRXaWR0aCkgLyAyO1xuICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbClcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXcodGhpcywgbGVmdCwgdG9wLCBsZWZ0ICsgbm9kZS5vZmZzZXRXaWR0aCwgdG9wICsgbm9kZS5vZmZzZXRIZWlnaHQpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyT25LZXlEb3duOiBtZXRob2RPcChvbktleURvd24pLFxuICAgIHRyaWdnZXJPbktleVByZXNzOiBtZXRob2RPcChvbktleVByZXNzKSxcbiAgICB0cmlnZ2VyT25LZXlVcDogb25LZXlVcCxcblxuICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbihjbWQpIHtcbiAgICAgIGlmIChjb21tYW5kcy5oYXNPd25Qcm9wZXJ0eShjbWQpKVxuICAgICAgICByZXR1cm4gY29tbWFuZHNbY21kXS5jYWxsKG51bGwsIHRoaXMpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyRWxlY3RyaWM6IG1ldGhvZE9wKGZ1bmN0aW9uKHRleHQpIHsgdHJpZ2dlckVsZWN0cmljKHRoaXMsIHRleHQpOyB9KSxcblxuICAgIGZpbmRQb3NIOiBmdW5jdGlvbihmcm9tLCBhbW91bnQsIHVuaXQsIHZpc3VhbGx5KSB7XG4gICAgICB2YXIgZGlyID0gMTtcbiAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50OyB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gY2xpcFBvcyh0aGlzLmRvYywgZnJvbSk7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICBjdXIgPSBmaW5kUG9zSCh0aGlzLmRvYywgY3VyLCBkaXIsIHVuaXQsIHZpc3VhbGx5KTtcbiAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXI7XG4gICAgfSxcblxuICAgIG1vdmVIOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXM7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKGNtLmRpc3BsYXkuc2hpZnQgfHwgY20uZG9jLmV4dGVuZCB8fCByYW5nZS5lbXB0eSgpKVxuICAgICAgICAgIHJldHVybiBmaW5kUG9zSChjbS5kb2MsIHJhbmdlLmhlYWQsIGRpciwgdW5pdCwgY20ub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0pLFxuXG4gICAgZGVsZXRlSDogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICB2YXIgc2VsID0gdGhpcy5kb2Muc2VsLCBkb2MgPSB0aGlzLmRvYztcbiAgICAgIGlmIChzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSlcbiAgICAgICAgZG9jLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCIrZGVsZXRlXCIpO1xuICAgICAgZWxzZVxuICAgICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgdmFyIG90aGVyID0gZmluZFBvc0goZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gZGlyIDwgMCA/IHtmcm9tOiBvdGhlciwgdG86IHJhbmdlLmhlYWR9IDoge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBvdGhlcn07XG4gICAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgZmluZFBvc1Y6IGZ1bmN0aW9uKGZyb20sIGFtb3VudCwgdW5pdCwgZ29hbENvbHVtbikge1xuICAgICAgdmFyIGRpciA9IDEsIHggPSBnb2FsQ29sdW1uO1xuICAgICAgaWYgKGFtb3VudCA8IDApIHsgZGlyID0gLTE7IGFtb3VudCA9IC1hbW91bnQ7IH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjdXIgPSBjbGlwUG9zKHRoaXMuZG9jLCBmcm9tKTsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgIHZhciBjb29yZHMgPSBjdXJzb3JDb29yZHModGhpcywgY3VyLCBcImRpdlwiKTtcbiAgICAgICAgaWYgKHggPT0gbnVsbCkgeCA9IGNvb3Jkcy5sZWZ0O1xuICAgICAgICBlbHNlIGNvb3Jkcy5sZWZ0ID0geDtcbiAgICAgICAgY3VyID0gZmluZFBvc1YodGhpcywgY29vcmRzLCBkaXIsIHVuaXQpO1xuICAgICAgICBpZiAoY3VyLmhpdFNpZGUpIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cjtcbiAgICB9LFxuXG4gICAgbW92ZVY6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkge1xuICAgICAgdmFyIGNtID0gdGhpcywgZG9jID0gdGhpcy5kb2MsIGdvYWxzID0gW107XG4gICAgICB2YXIgY29sbGFwc2UgPSAhY20uZGlzcGxheS5zaGlmdCAmJiAhZG9jLmV4dGVuZCAmJiBkb2Muc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG4gICAgICBkb2MuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChjb2xsYXBzZSlcbiAgICAgICAgICByZXR1cm4gZGlyIDwgMCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCk7XG4gICAgICAgIHZhciBoZWFkUG9zID0gY3Vyc29yQ29vcmRzKGNtLCByYW5nZS5oZWFkLCBcImRpdlwiKTtcbiAgICAgICAgaWYgKHJhbmdlLmdvYWxDb2x1bW4gIT0gbnVsbCkgaGVhZFBvcy5sZWZ0ID0gcmFuZ2UuZ29hbENvbHVtbjtcbiAgICAgICAgZ29hbHMucHVzaChoZWFkUG9zLmxlZnQpO1xuICAgICAgICB2YXIgcG9zID0gZmluZFBvc1YoY20sIGhlYWRQb3MsIGRpciwgdW5pdCk7XG4gICAgICAgIGlmICh1bml0ID09IFwicGFnZVwiICYmIHJhbmdlID09IGRvYy5zZWwucHJpbWFyeSgpKVxuICAgICAgICAgIGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCBjaGFyQ29vcmRzKGNtLCBwb3MsIFwiZGl2XCIpLnRvcCAtIGhlYWRQb3MudG9wKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICAgIGlmIChnb2Fscy5sZW5ndGgpIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGRvYy5zZWwucmFuZ2VzW2ldLmdvYWxDb2x1bW4gPSBnb2Fsc1tpXTtcbiAgICB9KSxcblxuICAgIC8vIEZpbmQgdGhlIHdvcmQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIChhcyByZXR1cm5lZCBieSBjb29yZHNDaGFyKS5cbiAgICBmaW5kV29yZEF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmRvYywgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dDtcbiAgICAgIHZhciBzdGFydCA9IHBvcy5jaCwgZW5kID0gcG9zLmNoO1xuICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgdmFyIGhlbHBlciA9IHRoaXMuZ2V0SGVscGVyKHBvcywgXCJ3b3JkQ2hhcnNcIik7XG4gICAgICAgIGlmICgocG9zLnhSZWwgPCAwIHx8IGVuZCA9PSBsaW5lLmxlbmd0aCkgJiYgc3RhcnQpIC0tc3RhcnQ7IGVsc2UgKytlbmQ7XG4gICAgICAgIHZhciBzdGFydENoYXIgPSBsaW5lLmNoYXJBdChzdGFydCk7XG4gICAgICAgIHZhciBjaGVjayA9IGlzV29yZENoYXIoc3RhcnRDaGFyLCBoZWxwZXIpXG4gICAgICAgICAgPyBmdW5jdGlvbihjaCkgeyByZXR1cm4gaXNXb3JkQ2hhcihjaCwgaGVscGVyKTsgfVxuICAgICAgICAgIDogL1xccy8udGVzdChzdGFydENoYXIpID8gZnVuY3Rpb24oY2gpIHtyZXR1cm4gL1xccy8udGVzdChjaCk7fVxuICAgICAgICAgIDogZnVuY3Rpb24oY2gpIHtyZXR1cm4gIS9cXHMvLnRlc3QoY2gpICYmICFpc1dvcmRDaGFyKGNoKTt9O1xuICAgICAgICB3aGlsZSAoc3RhcnQgPiAwICYmIGNoZWNrKGxpbmUuY2hhckF0KHN0YXJ0IC0gMSkpKSAtLXN0YXJ0O1xuICAgICAgICB3aGlsZSAoZW5kIDwgbGluZS5sZW5ndGggJiYgY2hlY2sobGluZS5jaGFyQXQoZW5kKSkpICsrZW5kO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIHN0YXJ0KSwgUG9zKHBvcy5saW5lLCBlbmQpKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPT0gdGhpcy5zdGF0ZS5vdmVyd3JpdGUpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm92ZXJ3cml0ZSA9ICF0aGlzLnN0YXRlLm92ZXJ3cml0ZSlcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcm1DbGFzcyh0aGlzLmRpc3BsYXkuY3Vyc29yRGl2LCBcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpO1xuXG4gICAgICBzaWduYWwodGhpcywgXCJvdmVyd3JpdGVUb2dnbGVcIiwgdGhpcywgdGhpcy5zdGF0ZS5vdmVyd3JpdGUpO1xuICAgIH0sXG4gICAgaGFzRm9jdXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkgPT0gYWN0aXZlRWx0KCk7IH0sXG5cbiAgICBzY3JvbGxUbzogbWV0aG9kT3AoZnVuY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHggIT0gbnVsbCB8fCB5ICE9IG51bGwpIHJlc29sdmVTY3JvbGxUb1Bvcyh0aGlzKTtcbiAgICAgIGlmICh4ICE9IG51bGwpIHRoaXMuY3VyT3Auc2Nyb2xsTGVmdCA9IHg7XG4gICAgICBpZiAoeSAhPSBudWxsKSB0aGlzLmN1ck9wLnNjcm9sbFRvcCA9IHk7XG4gICAgfSksXG4gICAgZ2V0U2Nyb2xsSW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLmRpc3BsYXkuc2Nyb2xsZXI7XG4gICAgICByZXR1cm4ge2xlZnQ6IHNjcm9sbGVyLnNjcm9sbExlZnQsIHRvcDogc2Nyb2xsZXIuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHNjcm9sbGVyLnNjcm9sbEhlaWdodCAtIHNjcm9sbEdhcCh0aGlzKSAtIHRoaXMuZGlzcGxheS5iYXJIZWlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoOiBzY3JvbGxlci5zY3JvbGxXaWR0aCAtIHNjcm9sbEdhcCh0aGlzKSAtIHRoaXMuZGlzcGxheS5iYXJXaWR0aCxcbiAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0OiBkaXNwbGF5SGVpZ2h0KHRoaXMpLCBjbGllbnRXaWR0aDogZGlzcGxheVdpZHRoKHRoaXMpfTtcbiAgICB9LFxuXG4gICAgc2Nyb2xsSW50b1ZpZXc6IG1ldGhvZE9wKGZ1bmN0aW9uKHJhbmdlLCBtYXJnaW4pIHtcbiAgICAgIGlmIChyYW5nZSA9PSBudWxsKSB7XG4gICAgICAgIHJhbmdlID0ge2Zyb206IHRoaXMuZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCwgdG86IG51bGx9O1xuICAgICAgICBpZiAobWFyZ2luID09IG51bGwpIG1hcmdpbiA9IHRoaXMub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW47XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByYW5nZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJhbmdlID0ge2Zyb206IFBvcyhyYW5nZSwgMCksIHRvOiBudWxsfTtcbiAgICAgIH0gZWxzZSBpZiAocmFuZ2UuZnJvbSA9PSBudWxsKSB7XG4gICAgICAgIHJhbmdlID0ge2Zyb206IHJhbmdlLCB0bzogbnVsbH07XG4gICAgICB9XG4gICAgICBpZiAoIXJhbmdlLnRvKSByYW5nZS50byA9IHJhbmdlLmZyb207XG4gICAgICByYW5nZS5tYXJnaW4gPSBtYXJnaW4gfHwgMDtcblxuICAgICAgaWYgKHJhbmdlLmZyb20ubGluZSAhPSBudWxsKSB7XG4gICAgICAgIHJlc29sdmVTY3JvbGxUb1Bvcyh0aGlzKTtcbiAgICAgICAgdGhpcy5jdXJPcC5zY3JvbGxUb1BvcyA9IHJhbmdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3ModGhpcywgTWF0aC5taW4ocmFuZ2UuZnJvbS5sZWZ0LCByYW5nZS50by5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4ocmFuZ2UuZnJvbS50b3AsIHJhbmdlLnRvLnRvcCkgLSByYW5nZS5tYXJnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlLmZyb20ucmlnaHQsIHJhbmdlLnRvLnJpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgocmFuZ2UuZnJvbS5ib3R0b20sIHJhbmdlLnRvLmJvdHRvbSkgKyByYW5nZS5tYXJnaW4pO1xuICAgICAgICB0aGlzLnNjcm9sbFRvKHNQb3Muc2Nyb2xsTGVmdCwgc1Bvcy5zY3JvbGxUb3ApO1xuICAgICAgfVxuICAgIH0pLFxuXG4gICAgc2V0U2l6ZTogbWV0aG9kT3AoZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgdmFyIGNtID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGludGVycHJldCh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIiB8fCAvXlxcZCskLy50ZXN0KFN0cmluZyh2YWwpKSA/IHZhbCArIFwicHhcIiA6IHZhbDtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aCAhPSBudWxsKSBjbS5kaXNwbGF5LndyYXBwZXIuc3R5bGUud2lkdGggPSBpbnRlcnByZXQod2lkdGgpO1xuICAgICAgaWYgKGhlaWdodCAhPSBudWxsKSBjbS5kaXNwbGF5LndyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gaW50ZXJwcmV0KGhlaWdodCk7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUodGhpcyk7XG4gICAgICB2YXIgbGluZU5vID0gY20uZGlzcGxheS52aWV3RnJvbTtcbiAgICAgIGNtLmRvYy5pdGVyKGxpbmVObywgY20uZGlzcGxheS52aWV3VG8sIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUud2lkZ2V0cykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgaWYgKGxpbmUud2lkZ2V0c1tpXS5ub0hTY3JvbGwpIHsgcmVnTGluZUNoYW5nZShjbSwgbGluZU5vLCBcIndpZGdldFwiKTsgYnJlYWs7IH1cbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHNpZ25hbChjbSwgXCJyZWZyZXNoXCIsIHRoaXMpO1xuICAgIH0pLFxuXG4gICAgb3BlcmF0aW9uOiBmdW5jdGlvbihmKXtyZXR1cm4gcnVuSW5PcCh0aGlzLCBmKTt9LFxuXG4gICAgcmVmcmVzaDogbWV0aG9kT3AoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2xkSGVpZ2h0ID0gdGhpcy5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQ7XG4gICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgICB0aGlzLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpO1xuICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLmRvYy5zY3JvbGxMZWZ0LCB0aGlzLmRvYy5zY3JvbGxUb3ApO1xuICAgICAgdXBkYXRlR3V0dGVyU3BhY2UodGhpcyk7XG4gICAgICBpZiAob2xkSGVpZ2h0ID09IG51bGwgfHwgTWF0aC5hYnMob2xkSGVpZ2h0IC0gdGV4dEhlaWdodCh0aGlzLmRpc3BsYXkpKSA+IC41KVxuICAgICAgICBlc3RpbWF0ZUxpbmVIZWlnaHRzKHRoaXMpO1xuICAgICAgc2lnbmFsKHRoaXMsIFwicmVmcmVzaFwiLCB0aGlzKTtcbiAgICB9KSxcblxuICAgIHN3YXBEb2M6IG1ldGhvZE9wKGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIG9sZCA9IHRoaXMuZG9jO1xuICAgICAgb2xkLmNtID0gbnVsbDtcbiAgICAgIGF0dGFjaERvYyh0aGlzLCBkb2MpO1xuICAgICAgY2xlYXJDYWNoZXModGhpcyk7XG4gICAgICB0aGlzLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgIHRoaXMuc2Nyb2xsVG8oZG9jLnNjcm9sbExlZnQsIGRvYy5zY3JvbGxUb3ApO1xuICAgICAgdGhpcy5jdXJPcC5mb3JjZVNjcm9sbCA9IHRydWU7XG4gICAgICBzaWduYWxMYXRlcih0aGlzLCBcInN3YXBEb2NcIiwgdGhpcywgb2xkKTtcbiAgICAgIHJldHVybiBvbGQ7XG4gICAgfSksXG5cbiAgICBnZXRJbnB1dEZpZWxkOiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKTt9LFxuICAgIGdldFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkud3JhcHBlcjt9LFxuICAgIGdldFNjcm9sbGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LnNjcm9sbGVyO30sXG4gICAgZ2V0R3V0dGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5Lmd1dHRlcnM7fVxuICB9O1xuICBldmVudE1peGluKENvZGVNaXJyb3IpO1xuXG4gIC8vIE9QVElPTiBERUZBVUxUU1xuXG4gIC8vIFRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgdmFyIGRlZmF1bHRzID0gQ29kZU1pcnJvci5kZWZhdWx0cyA9IHt9O1xuICAvLyBGdW5jdGlvbnMgdG8gcnVuIHdoZW4gb3B0aW9ucyBhcmUgY2hhbmdlZC5cbiAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycyA9IHt9O1xuXG4gIGZ1bmN0aW9uIG9wdGlvbihuYW1lLCBkZWZsdCwgaGFuZGxlLCBub3RPbkluaXQpIHtcbiAgICBDb2RlTWlycm9yLmRlZmF1bHRzW25hbWVdID0gZGVmbHQ7XG4gICAgaWYgKGhhbmRsZSkgb3B0aW9uSGFuZGxlcnNbbmFtZV0gPVxuICAgICAgbm90T25Jbml0ID8gZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7aWYgKG9sZCAhPSBJbml0KSBoYW5kbGUoY20sIHZhbCwgb2xkKTt9IDogaGFuZGxlO1xuICB9XG5cbiAgLy8gUGFzc2VkIHRvIG9wdGlvbiBoYW5kbGVycyB3aGVuIHRoZXJlIGlzIG5vIG9sZCB2YWx1ZS5cbiAgdmFyIEluaXQgPSBDb2RlTWlycm9yLkluaXQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuIFwiQ29kZU1pcnJvci5Jbml0XCI7fX07XG5cbiAgLy8gVGhlc2UgdHdvIGFyZSwgb24gaW5pdCwgY2FsbGVkIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2UgdGhleVxuICAvLyBoYXZlIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSB0aGUgZWRpdG9yIGNhbiBzdGFydCBhdCBhbGwuXG4gIG9wdGlvbihcInZhbHVlXCIsIFwiXCIsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBjbS5zZXRWYWx1ZSh2YWwpO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwibW9kZVwiLCBudWxsLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uZG9jLm1vZGVPcHRpb24gPSB2YWw7XG4gICAgbG9hZE1vZGUoY20pO1xuICB9LCB0cnVlKTtcblxuICBvcHRpb24oXCJpbmRlbnRVbml0XCIsIDIsIGxvYWRNb2RlLCB0cnVlKTtcbiAgb3B0aW9uKFwiaW5kZW50V2l0aFRhYnNcIiwgZmFsc2UpO1xuICBvcHRpb24oXCJzbWFydEluZGVudFwiLCB0cnVlKTtcbiAgb3B0aW9uKFwidGFiU2l6ZVwiLCA0LCBmdW5jdGlvbihjbSkge1xuICAgIHJlc2V0TW9kZVN0YXRlKGNtKTtcbiAgICBjbGVhckNhY2hlcyhjbSk7XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImxpbmVTZXBhcmF0b3JcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRvYy5saW5lU2VwID0gdmFsO1xuICAgIGlmICghdmFsKSByZXR1cm47XG4gICAgdmFyIG5ld0JyZWFrcyA9IFtdLCBsaW5lTm8gPSBjbS5kb2MuZmlyc3Q7XG4gICAgY20uZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgZm9yICh2YXIgcG9zID0gMDs7KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGxpbmUudGV4dC5pbmRleE9mKHZhbCwgcG9zKTtcbiAgICAgICAgaWYgKGZvdW5kID09IC0xKSBicmVhaztcbiAgICAgICAgcG9zID0gZm91bmQgKyB2YWwubGVuZ3RoO1xuICAgICAgICBuZXdCcmVha3MucHVzaChQb3MobGluZU5vLCBmb3VuZCkpO1xuICAgICAgfVxuICAgICAgbGluZU5vKys7XG4gICAgfSk7XG4gICAgZm9yICh2YXIgaSA9IG5ld0JyZWFrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIHJlcGxhY2VSYW5nZShjbS5kb2MsIHZhbCwgbmV3QnJlYWtzW2ldLCBQb3MobmV3QnJlYWtzW2ldLmxpbmUsIG5ld0JyZWFrc1tpXS5jaCArIHZhbC5sZW5ndGgpKVxuICB9KTtcbiAgb3B0aW9uKFwic3BlY2lhbENoYXJzXCIsIC9bXFx0XFx1MDAwMC1cXHUwMDE5XFx1MDBhZFxcdTIwMGItXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1ZmVmZl0vZywgZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7XG4gICAgY20uc3RhdGUuc3BlY2lhbENoYXJzID0gbmV3IFJlZ0V4cCh2YWwuc291cmNlICsgKHZhbC50ZXN0KFwiXFx0XCIpID8gXCJcIiA6IFwifFxcdFwiKSwgXCJnXCIpO1xuICAgIGlmIChvbGQgIT0gQ29kZU1pcnJvci5Jbml0KSBjbS5yZWZyZXNoKCk7XG4gIH0pO1xuICBvcHRpb24oXCJzcGVjaWFsQ2hhclBsYWNlaG9sZGVyXCIsIGRlZmF1bHRTcGVjaWFsQ2hhclBsYWNlaG9sZGVyLCBmdW5jdGlvbihjbSkge2NtLnJlZnJlc2goKTt9LCB0cnVlKTtcbiAgb3B0aW9uKFwiZWxlY3RyaWNDaGFyc1wiLCB0cnVlKTtcbiAgb3B0aW9uKFwiaW5wdXRTdHlsZVwiLCBtb2JpbGUgPyBcImNvbnRlbnRlZGl0YWJsZVwiIDogXCJ0ZXh0YXJlYVwiLCBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dFN0eWxlIGNhbiBub3QgKHlldCkgYmUgY2hhbmdlZCBpbiBhIHJ1bm5pbmcgZWRpdG9yXCIpOyAvLyBGSVhNRVxuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwicnRsTW92ZVZpc3VhbGx5XCIsICF3aW5kb3dzKTtcbiAgb3B0aW9uKFwid2hvbGVMaW5lVXBkYXRlQmVmb3JlXCIsIHRydWUpO1xuXG4gIG9wdGlvbihcInRoZW1lXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbihjbSkge1xuICAgIHRoZW1lQ2hhbmdlZChjbSk7XG4gICAgZ3V0dGVyc0NoYW5nZWQoY20pO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwia2V5TWFwXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtcbiAgICB2YXIgbmV4dCA9IGdldEtleU1hcCh2YWwpO1xuICAgIHZhciBwcmV2ID0gb2xkICE9IENvZGVNaXJyb3IuSW5pdCAmJiBnZXRLZXlNYXAob2xkKTtcbiAgICBpZiAocHJldiAmJiBwcmV2LmRldGFjaCkgcHJldi5kZXRhY2goY20sIG5leHQpO1xuICAgIGlmIChuZXh0LmF0dGFjaCkgbmV4dC5hdHRhY2goY20sIHByZXYgfHwgbnVsbCk7XG4gIH0pO1xuICBvcHRpb24oXCJleHRyYUtleXNcIiwgbnVsbCk7XG5cbiAgb3B0aW9uKFwibGluZVdyYXBwaW5nXCIsIGZhbHNlLCB3cmFwcGluZ0NoYW5nZWQsIHRydWUpO1xuICBvcHRpb24oXCJndXR0ZXJzXCIsIFtdLCBmdW5jdGlvbihjbSkge1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhjbS5vcHRpb25zKTtcbiAgICBndXR0ZXJzQ2hhbmdlZChjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJmaXhlZEd1dHRlclwiLCB0cnVlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSB2YWwgPyBjb21wZW5zYXRlRm9ySFNjcm9sbChjbS5kaXNwbGF5KSArIFwicHhcIiA6IFwiMFwiO1xuICAgIGNtLnJlZnJlc2goKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyXCIsIGZhbHNlLCBmdW5jdGlvbihjbSkge3VwZGF0ZVNjcm9sbGJhcnMoY20pO30sIHRydWUpO1xuICBvcHRpb24oXCJzY3JvbGxiYXJTdHlsZVwiLCBcIm5hdGl2ZVwiLCBmdW5jdGlvbihjbSkge1xuICAgIGluaXRTY3JvbGxiYXJzKGNtKTtcbiAgICB1cGRhdGVTY3JvbGxiYXJzKGNtKTtcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGNtLmRvYy5zY3JvbGxUb3ApO1xuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGNtLmRvYy5zY3JvbGxMZWZ0KTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImxpbmVOdW1iZXJzXCIsIGZhbHNlLCBmdW5jdGlvbihjbSkge1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhjbS5vcHRpb25zKTtcbiAgICBndXR0ZXJzQ2hhbmdlZChjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJmaXJzdExpbmVOdW1iZXJcIiwgMSwgZ3V0dGVyc0NoYW5nZWQsIHRydWUpO1xuICBvcHRpb24oXCJsaW5lTnVtYmVyRm9ybWF0dGVyXCIsIGZ1bmN0aW9uKGludGVnZXIpIHtyZXR1cm4gaW50ZWdlcjt9LCBndXR0ZXJzQ2hhbmdlZCwgdHJ1ZSk7XG4gIG9wdGlvbihcInNob3dDdXJzb3JXaGVuU2VsZWN0aW5nXCIsIGZhbHNlLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuXG4gIG9wdGlvbihcInJlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudVwiLCB0cnVlKTtcbiAgb3B0aW9uKFwibGluZVdpc2VDb3B5Q3V0XCIsIHRydWUpO1xuXG4gIG9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgaWYgKHZhbCA9PSBcIm5vY3Vyc29yXCIpIHtcbiAgICAgIG9uQmx1cihjbSk7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LmJsdXIoKTtcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbS5kaXNwbGF5LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuaW5wdXQucmVhZE9ubHlDaGFuZ2VkKHZhbClcbiAgfSk7XG4gIG9wdGlvbihcImRpc2FibGVJbnB1dFwiLCBmYWxzZSwgZnVuY3Rpb24oY20sIHZhbCkge2lmICghdmFsKSBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KCk7fSwgdHJ1ZSk7XG4gIG9wdGlvbihcImRyYWdEcm9wXCIsIHRydWUsIGRyYWdEcm9wQ2hhbmdlZCk7XG4gIG9wdGlvbihcImFsbG93RHJvcEZpbGVUeXBlc1wiLCBudWxsKTtcblxuICBvcHRpb24oXCJjdXJzb3JCbGlua1JhdGVcIiwgNTMwKTtcbiAgb3B0aW9uKFwiY3Vyc29yU2Nyb2xsTWFyZ2luXCIsIDApO1xuICBvcHRpb24oXCJjdXJzb3JIZWlnaHRcIiwgMSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKTtcbiAgb3B0aW9uKFwic2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZVwiLCB0cnVlLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuICBvcHRpb24oXCJ3b3JrVGltZVwiLCAxMDApO1xuICBvcHRpb24oXCJ3b3JrRGVsYXlcIiwgMTAwKTtcbiAgb3B0aW9uKFwiZmxhdHRlblNwYW5zXCIsIHRydWUsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwiYWRkTW9kZUNsYXNzXCIsIGZhbHNlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gIG9wdGlvbihcInBvbGxJbnRlcnZhbFwiLCAxMDApO1xuICBvcHRpb24oXCJ1bmRvRGVwdGhcIiwgMjAwLCBmdW5jdGlvbihjbSwgdmFsKXtjbS5kb2MuaGlzdG9yeS51bmRvRGVwdGggPSB2YWw7fSk7XG4gIG9wdGlvbihcImhpc3RvcnlFdmVudERlbGF5XCIsIDEyNTApO1xuICBvcHRpb24oXCJ2aWV3cG9ydE1hcmdpblwiLCAxMCwgZnVuY3Rpb24oY20pe2NtLnJlZnJlc2goKTt9LCB0cnVlKTtcbiAgb3B0aW9uKFwibWF4SGlnaGxpZ2h0TGVuZ3RoXCIsIDEwMDAwLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gIG9wdGlvbihcIm1vdmVJbnB1dFdpdGhDdXJzb3JcIiwgdHJ1ZSwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGlmICghdmFsKSBjbS5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKTtcbiAgfSk7XG5cbiAgb3B0aW9uKFwidGFiaW5kZXhcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKS50YWJJbmRleCA9IHZhbCB8fCBcIlwiO1xuICB9KTtcbiAgb3B0aW9uKFwiYXV0b2ZvY3VzXCIsIG51bGwpO1xuXG4gIC8vIE1PREUgREVGSU5JVElPTiBBTkQgUVVFUllJTkdcblxuICAvLyBLbm93biBtb2RlcywgYnkgbmFtZSBhbmQgYnkgTUlNRVxuICB2YXIgbW9kZXMgPSBDb2RlTWlycm9yLm1vZGVzID0ge30sIG1pbWVNb2RlcyA9IENvZGVNaXJyb3IubWltZU1vZGVzID0ge307XG5cbiAgLy8gRXh0cmEgYXJndW1lbnRzIGFyZSBzdG9yZWQgYXMgdGhlIG1vZGUncyBkZXBlbmRlbmNpZXMsIHdoaWNoIGlzXG4gIC8vIHVzZWQgYnkgKGxlZ2FjeSkgbWVjaGFuaXNtcyBsaWtlIGxvYWRtb2RlLmpzIHRvIGF1dG9tYXRpY2FsbHlcbiAgLy8gbG9hZCBhIG1vZGUuIChQcmVmZXJyZWQgbWVjaGFuaXNtIGlzIHRoZSByZXF1aXJlL2RlZmluZSBjYWxscy4pXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZSA9IGZ1bmN0aW9uKG5hbWUsIG1vZGUpIHtcbiAgICBpZiAoIUNvZGVNaXJyb3IuZGVmYXVsdHMubW9kZSAmJiBuYW1lICE9IFwibnVsbFwiKSBDb2RlTWlycm9yLmRlZmF1bHRzLm1vZGUgPSBuYW1lO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMilcbiAgICAgIG1vZGUuZGVwZW5kZW5jaWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICBtb2Rlc1tuYW1lXSA9IG1vZGU7XG4gIH07XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FID0gZnVuY3Rpb24obWltZSwgc3BlYykge1xuICAgIG1pbWVNb2Rlc1ttaW1lXSA9IHNwZWM7XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBNSU1FIHR5cGUsIGEge25hbWUsIC4uLm9wdGlvbnN9IGNvbmZpZyBvYmplY3QsIG9yIGEgbmFtZVxuICAvLyBzdHJpbmcsIHJldHVybiBhIG1vZGUgY29uZmlnIG9iamVjdC5cbiAgQ29kZU1pcnJvci5yZXNvbHZlTW9kZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYykpIHtcbiAgICAgIHNwZWMgPSBtaW1lTW9kZXNbc3BlY107XG4gICAgfSBlbHNlIGlmIChzcGVjICYmIHR5cGVvZiBzcGVjLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYy5uYW1lKSkge1xuICAgICAgdmFyIGZvdW5kID0gbWltZU1vZGVzW3NwZWMubmFtZV07XG4gICAgICBpZiAodHlwZW9mIGZvdW5kID09IFwic3RyaW5nXCIpIGZvdW5kID0ge25hbWU6IGZvdW5kfTtcbiAgICAgIHNwZWMgPSBjcmVhdGVPYmooZm91bmQsIHNwZWMpO1xuICAgICAgc3BlYy5uYW1lID0gZm91bmQubmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCt4bWwkLy50ZXN0KHNwZWMpKSB7XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5yZXNvbHZlTW9kZShcImFwcGxpY2F0aW9uL3htbFwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIpIHJldHVybiB7bmFtZTogc3BlY307XG4gICAgZWxzZSByZXR1cm4gc3BlYyB8fCB7bmFtZTogXCJudWxsXCJ9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgbW9kZSBzcGVjIChhbnl0aGluZyB0aGF0IHJlc29sdmVNb2RlIGFjY2VwdHMpLCBmaW5kIGFuZFxuICAvLyBpbml0aWFsaXplIGFuIGFjdHVhbCBtb2RlIG9iamVjdC5cbiAgQ29kZU1pcnJvci5nZXRNb2RlID0gZnVuY3Rpb24ob3B0aW9ucywgc3BlYykge1xuICAgIHZhciBzcGVjID0gQ29kZU1pcnJvci5yZXNvbHZlTW9kZShzcGVjKTtcbiAgICB2YXIgbWZhY3RvcnkgPSBtb2Rlc1tzcGVjLm5hbWVdO1xuICAgIGlmICghbWZhY3RvcnkpIHJldHVybiBDb2RlTWlycm9yLmdldE1vZGUob3B0aW9ucywgXCJ0ZXh0L3BsYWluXCIpO1xuICAgIHZhciBtb2RlT2JqID0gbWZhY3Rvcnkob3B0aW9ucywgc3BlYyk7XG4gICAgaWYgKG1vZGVFeHRlbnNpb25zLmhhc093blByb3BlcnR5KHNwZWMubmFtZSkpIHtcbiAgICAgIHZhciBleHRzID0gbW9kZUV4dGVuc2lvbnNbc3BlYy5uYW1lXTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gZXh0cykge1xuICAgICAgICBpZiAoIWV4dHMuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAobW9kZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgbW9kZU9ialtcIl9cIiArIHByb3BdID0gbW9kZU9ialtwcm9wXTtcbiAgICAgICAgbW9kZU9ialtwcm9wXSA9IGV4dHNbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIG1vZGVPYmoubmFtZSA9IHNwZWMubmFtZTtcbiAgICBpZiAoc3BlYy5oZWxwZXJUeXBlKSBtb2RlT2JqLmhlbHBlclR5cGUgPSBzcGVjLmhlbHBlclR5cGU7XG4gICAgaWYgKHNwZWMubW9kZVByb3BzKSBmb3IgKHZhciBwcm9wIGluIHNwZWMubW9kZVByb3BzKVxuICAgICAgbW9kZU9ialtwcm9wXSA9IHNwZWMubW9kZVByb3BzW3Byb3BdO1xuXG4gICAgcmV0dXJuIG1vZGVPYmo7XG4gIH07XG5cbiAgLy8gTWluaW1hbCBkZWZhdWx0IG1vZGUuXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZShcIm51bGxcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHt0b2tlbjogZnVuY3Rpb24oc3RyZWFtKSB7c3RyZWFtLnNraXBUb0VuZCgpO319O1xuICB9KTtcbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC9wbGFpblwiLCBcIm51bGxcIik7XG5cbiAgLy8gVGhpcyBjYW4gYmUgdXNlZCB0byBhdHRhY2ggcHJvcGVydGllcyB0byBtb2RlIG9iamVjdHMgZnJvbVxuICAvLyBvdXRzaWRlIHRoZSBhY3R1YWwgbW9kZSBkZWZpbml0aW9uLlxuICB2YXIgbW9kZUV4dGVuc2lvbnMgPSBDb2RlTWlycm9yLm1vZGVFeHRlbnNpb25zID0ge307XG4gIENvZGVNaXJyb3IuZXh0ZW5kTW9kZSA9IGZ1bmN0aW9uKG1vZGUsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zLmhhc093blByb3BlcnR5KG1vZGUpID8gbW9kZUV4dGVuc2lvbnNbbW9kZV0gOiAobW9kZUV4dGVuc2lvbnNbbW9kZV0gPSB7fSk7XG4gICAgY29weU9iaihwcm9wZXJ0aWVzLCBleHRzKTtcbiAgfTtcblxuICAvLyBFWFRFTlNJT05TXG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24gPSBmdW5jdGlvbihuYW1lLCBmdW5jKSB7XG4gICAgQ29kZU1pcnJvci5wcm90b3R5cGVbbmFtZV0gPSBmdW5jO1xuICB9O1xuICBDb2RlTWlycm9yLmRlZmluZURvY0V4dGVuc2lvbiA9IGZ1bmN0aW9uKG5hbWUsIGZ1bmMpIHtcbiAgICBEb2MucHJvdG90eXBlW25hbWVdID0gZnVuYztcbiAgfTtcbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24gPSBvcHRpb247XG5cbiAgdmFyIGluaXRIb29rcyA9IFtdO1xuICBDb2RlTWlycm9yLmRlZmluZUluaXRIb29rID0gZnVuY3Rpb24oZikge2luaXRIb29rcy5wdXNoKGYpO307XG5cbiAgdmFyIGhlbHBlcnMgPSBDb2RlTWlycm9yLmhlbHBlcnMgPSB7fTtcbiAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSBoZWxwZXJzW3R5cGVdID0gQ29kZU1pcnJvclt0eXBlXSA9IHtfZ2xvYmFsOiBbXX07XG4gICAgaGVscGVyc1t0eXBlXVtuYW1lXSA9IHZhbHVlO1xuICB9O1xuICBDb2RlTWlycm9yLnJlZ2lzdGVyR2xvYmFsSGVscGVyID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgcHJlZGljYXRlLCB2YWx1ZSkge1xuICAgIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIodHlwZSwgbmFtZSwgdmFsdWUpO1xuICAgIGhlbHBlcnNbdHlwZV0uX2dsb2JhbC5wdXNoKHtwcmVkOiBwcmVkaWNhdGUsIHZhbDogdmFsdWV9KTtcbiAgfTtcblxuICAvLyBNT0RFIFNUQVRFIEhBTkRMSU5HXG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBzdGF0ZS4gRXhwb3J0ZWQgYmVjYXVzZSBuZXN0ZWRcbiAgLy8gbW9kZXMgbmVlZCB0byBkbyB0aGlzIGZvciB0aGVpciBpbm5lciBtb2Rlcy5cblxuICB2YXIgY29weVN0YXRlID0gQ29kZU1pcnJvci5jb3B5U3RhdGUgPSBmdW5jdGlvbihtb2RlLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkgcmV0dXJuIHN0YXRlO1xuICAgIGlmIChtb2RlLmNvcHlTdGF0ZSkgcmV0dXJuIG1vZGUuY29weVN0YXRlKHN0YXRlKTtcbiAgICB2YXIgbnN0YXRlID0ge307XG4gICAgZm9yICh2YXIgbiBpbiBzdGF0ZSkge1xuICAgICAgdmFyIHZhbCA9IHN0YXRlW25dO1xuICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5KSB2YWwgPSB2YWwuY29uY2F0KFtdKTtcbiAgICAgIG5zdGF0ZVtuXSA9IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG5zdGF0ZTtcbiAgfTtcblxuICB2YXIgc3RhcnRTdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZSA9IGZ1bmN0aW9uKG1vZGUsIGExLCBhMikge1xuICAgIHJldHVybiBtb2RlLnN0YXJ0U3RhdGUgPyBtb2RlLnN0YXJ0U3RhdGUoYTEsIGEyKSA6IHRydWU7XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBtb2RlIGFuZCBhIHN0YXRlIChmb3IgdGhhdCBtb2RlKSwgZmluZCB0aGUgaW5uZXIgbW9kZSBhbmRcbiAgLy8gc3RhdGUgYXQgdGhlIHBvc2l0aW9uIHRoYXQgdGhlIHN0YXRlIHJlZmVycyB0by5cbiAgQ29kZU1pcnJvci5pbm5lck1vZGUgPSBmdW5jdGlvbihtb2RlLCBzdGF0ZSkge1xuICAgIHdoaWxlIChtb2RlLmlubmVyTW9kZSkge1xuICAgICAgdmFyIGluZm8gPSBtb2RlLmlubmVyTW9kZShzdGF0ZSk7XG4gICAgICBpZiAoIWluZm8gfHwgaW5mby5tb2RlID09IG1vZGUpIGJyZWFrO1xuICAgICAgc3RhdGUgPSBpbmZvLnN0YXRlO1xuICAgICAgbW9kZSA9IGluZm8ubW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGluZm8gfHwge21vZGU6IG1vZGUsIHN0YXRlOiBzdGF0ZX07XG4gIH07XG5cbiAgLy8gU1RBTkRBUkQgQ09NTUFORFNcblxuICAvLyBDb21tYW5kcyBhcmUgcGFyYW1ldGVyLWxlc3MgYWN0aW9ucyB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgb24gYW5cbiAgLy8gZWRpdG9yLCBtb3N0bHkgdXNlZCBmb3Iga2V5YmluZGluZ3MuXG4gIHZhciBjb21tYW5kcyA9IENvZGVNaXJyb3IuY29tbWFuZHMgPSB7XG4gICAgc2VsZWN0QWxsOiBmdW5jdGlvbihjbSkge2NtLnNldFNlbGVjdGlvbihQb3MoY20uZmlyc3RMaW5lKCksIDApLCBQb3MoY20ubGFzdExpbmUoKSksIHNlbF9kb250U2Nyb2xsKTt9LFxuICAgIHNpbmdsZVNlbGVjdGlvbjogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLnNldFNlbGVjdGlvbihjbS5nZXRDdXJzb3IoXCJhbmNob3JcIiksIGNtLmdldEN1cnNvcihcImhlYWRcIiksIHNlbF9kb250U2Nyb2xsKTtcbiAgICB9LFxuICAgIGtpbGxMaW5lOiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgICB2YXIgbGVuID0gZ2V0TGluZShjbS5kb2MsIHJhbmdlLmhlYWQubGluZSkudGV4dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKHJhbmdlLmhlYWQuY2ggPT0gbGVuICYmIHJhbmdlLmhlYWQubGluZSA8IGNtLmxhc3RMaW5lKCkpXG4gICAgICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lICsgMSwgMCl9O1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IFBvcyhyYW5nZS5oZWFkLmxpbmUsIGxlbil9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmFuZ2UudG8oKX07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlTGluZTogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSxcbiAgICAgICAgICAgICAgICB0bzogY2xpcFBvcyhjbS5kb2MsIFBvcyhyYW5nZS50bygpLmxpbmUgKyAxLCAwKSl9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxMaW5lTGVmdDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSwgdG86IHJhbmdlLmZyb20oKX07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbFdyYXBwZWRMaW5lTGVmdDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHZhciBsZWZ0UG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiBsZWZ0UG9zLCB0bzogcmFuZ2UuZnJvbSgpfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsV3JhcHBlZExpbmVSaWdodDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICAgIHZhciByaWdodFBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IGNtLmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCArIDEwMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByaWdodFBvcyB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmRvOiBmdW5jdGlvbihjbSkge2NtLnVuZG8oKTt9LFxuICAgIHJlZG86IGZ1bmN0aW9uKGNtKSB7Y20ucmVkbygpO30sXG4gICAgdW5kb1NlbGVjdGlvbjogZnVuY3Rpb24oY20pIHtjbS51bmRvU2VsZWN0aW9uKCk7fSxcbiAgICByZWRvU2VsZWN0aW9uOiBmdW5jdGlvbihjbSkge2NtLnJlZG9TZWxlY3Rpb24oKTt9LFxuICAgIGdvRG9jU3RhcnQ6IGZ1bmN0aW9uKGNtKSB7Y20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5maXJzdExpbmUoKSwgMCkpO30sXG4gICAgZ29Eb2NFbmQ6IGZ1bmN0aW9uKGNtKSB7Y20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5sYXN0TGluZSgpKSk7fSxcbiAgICBnb0xpbmVTdGFydDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkgeyByZXR1cm4gbGluZVN0YXJ0KGNtLCByYW5nZS5oZWFkLmxpbmUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogMX0pO1xuICAgIH0sXG4gICAgZ29MaW5lU3RhcnRTbWFydDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpO1xuICAgICAgfSwge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAxfSk7XG4gICAgfSxcbiAgICBnb0xpbmVFbmQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHsgcmV0dXJuIGxpbmVFbmQoY20sIHJhbmdlLmhlYWQubGluZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAtMX0pO1xuICAgIH0sXG4gICAgZ29MaW5lUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IGNtLmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCArIDEwMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9LFxuICAgIGdvTGluZUxlZnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgfSxcbiAgICBnb0xpbmVMZWZ0U21hcnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICAgIGlmIChwb3MuY2ggPCBjbS5nZXRMaW5lKHBvcy5saW5lKS5zZWFyY2goL1xcUy8pKSByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0sXG4gICAgZ29MaW5lVXA6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoLTEsIFwibGluZVwiKTt9LFxuICAgIGdvTGluZURvd246IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoMSwgXCJsaW5lXCIpO30sXG4gICAgZ29QYWdlVXA6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoLTEsIFwicGFnZVwiKTt9LFxuICAgIGdvUGFnZURvd246IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZVYoMSwgXCJwYWdlXCIpO30sXG4gICAgZ29DaGFyTGVmdDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgtMSwgXCJjaGFyXCIpO30sXG4gICAgZ29DaGFyUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJjaGFyXCIpO30sXG4gICAgZ29Db2x1bW5MZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcImNvbHVtblwiKTt9LFxuICAgIGdvQ29sdW1uUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJjb2x1bW5cIik7fSxcbiAgICBnb1dvcmRMZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcIndvcmRcIik7fSxcbiAgICBnb0dyb3VwUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJncm91cFwiKTt9LFxuICAgIGdvR3JvdXBMZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcImdyb3VwXCIpO30sXG4gICAgZ29Xb3JkUmlnaHQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoMSwgXCJ3b3JkXCIpO30sXG4gICAgZGVsQ2hhckJlZm9yZTogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKC0xLCBcImNoYXJcIik7fSxcbiAgICBkZWxDaGFyQWZ0ZXI6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgxLCBcImNoYXJcIik7fSxcbiAgICBkZWxXb3JkQmVmb3JlOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoLTEsIFwid29yZFwiKTt9LFxuICAgIGRlbFdvcmRBZnRlcjogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKDEsIFwid29yZFwiKTt9LFxuICAgIGRlbEdyb3VwQmVmb3JlOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoLTEsIFwiZ3JvdXBcIik7fSxcbiAgICBkZWxHcm91cEFmdGVyOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoMSwgXCJncm91cFwiKTt9LFxuICAgIGluZGVudEF1dG86IGZ1bmN0aW9uKGNtKSB7Y20uaW5kZW50U2VsZWN0aW9uKFwic21hcnRcIik7fSxcbiAgICBpbmRlbnRNb3JlOiBmdW5jdGlvbihjbSkge2NtLmluZGVudFNlbGVjdGlvbihcImFkZFwiKTt9LFxuICAgIGluZGVudExlc3M6IGZ1bmN0aW9uKGNtKSB7Y20uaW5kZW50U2VsZWN0aW9uKFwic3VidHJhY3RcIik7fSxcbiAgICBpbnNlcnRUYWI6IGZ1bmN0aW9uKGNtKSB7Y20ucmVwbGFjZVNlbGVjdGlvbihcIlxcdFwiKTt9LFxuICAgIGluc2VydFNvZnRUYWI6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICB2YXIgc3BhY2VzID0gW10sIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcG9zID0gcmFuZ2VzW2ldLmZyb20oKTtcbiAgICAgICAgdmFyIGNvbCA9IGNvdW50Q29sdW1uKGNtLmdldExpbmUocG9zLmxpbmUpLCBwb3MuY2gsIHRhYlNpemUpO1xuICAgICAgICBzcGFjZXMucHVzaChuZXcgQXJyYXkodGFiU2l6ZSAtIGNvbCAlIHRhYlNpemUgKyAxKS5qb2luKFwiIFwiKSk7XG4gICAgICB9XG4gICAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhzcGFjZXMpO1xuICAgIH0sXG4gICAgZGVmYXVsdFRhYjogZnVuY3Rpb24oY20pIHtcbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSBjbS5pbmRlbnRTZWxlY3Rpb24oXCJhZGRcIik7XG4gICAgICBlbHNlIGNtLmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGFiXCIpO1xuICAgIH0sXG4gICAgdHJhbnNwb3NlQ2hhcnM6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIG5ld1NlbCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0uaGVhZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBjdXIubGluZSkudGV4dDtcbiAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgaWYgKGN1ci5jaCA9PSBsaW5lLmxlbmd0aCkgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMSk7XG4gICAgICAgICAgICBpZiAoY3VyLmNoID4gMCkge1xuICAgICAgICAgICAgICBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKTtcbiAgICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUuY2hhckF0KGN1ci5jaCAtIDEpICsgbGluZS5jaGFyQXQoY3VyLmNoIC0gMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDIpLCBjdXIsIFwiK3RyYW5zcG9zZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyLmxpbmUgPiBjbS5kb2MuZmlyc3QpIHtcbiAgICAgICAgICAgICAgdmFyIHByZXYgPSBnZXRMaW5lKGNtLmRvYywgY3VyLmxpbmUgLSAxKS50ZXh0O1xuICAgICAgICAgICAgICBpZiAocHJldilcbiAgICAgICAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZS5jaGFyQXQoMCkgKyBjbS5kb2MubGluZVNlcGFyYXRvcigpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jaGFyQXQocHJldi5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lIC0gMSwgcHJldi5sZW5ndGggLSAxKSwgUG9zKGN1ci5saW5lLCAxKSwgXCIrdHJhbnNwb3NlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdTZWwucHVzaChuZXcgUmFuZ2UoY3VyLCBjdXIpKTtcbiAgICAgICAgfVxuICAgICAgICBjbS5zZXRTZWxlY3Rpb25zKG5ld1NlbCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG5ld2xpbmVBbmRJbmRlbnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNtLmxpc3RTZWxlY3Rpb25zKCkubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJhbmdlID0gY20ubGlzdFNlbGVjdGlvbnMoKVtpXTtcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoY20uZG9jLmxpbmVTZXBhcmF0b3IoKSwgcmFuZ2UuYW5jaG9yLCByYW5nZS5oZWFkLCBcIitpbnB1dFwiKTtcbiAgICAgICAgICBjbS5pbmRlbnRMaW5lKHJhbmdlLmZyb20oKS5saW5lICsgMSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24oY20pIHtjbS50b2dnbGVPdmVyd3JpdGUoKTt9XG4gIH07XG5cblxuICAvLyBTVEFOREFSRCBLRVlNQVBTXG5cbiAgdmFyIGtleU1hcCA9IENvZGVNaXJyb3Iua2V5TWFwID0ge307XG5cbiAga2V5TWFwLmJhc2ljID0ge1xuICAgIFwiTGVmdFwiOiBcImdvQ2hhckxlZnRcIiwgXCJSaWdodFwiOiBcImdvQ2hhclJpZ2h0XCIsIFwiVXBcIjogXCJnb0xpbmVVcFwiLCBcIkRvd25cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJFbmRcIjogXCJnb0xpbmVFbmRcIiwgXCJIb21lXCI6IFwiZ29MaW5lU3RhcnRTbWFydFwiLCBcIlBhZ2VVcFwiOiBcImdvUGFnZVVwXCIsIFwiUGFnZURvd25cIjogXCJnb1BhZ2VEb3duXCIsXG4gICAgXCJEZWxldGVcIjogXCJkZWxDaGFyQWZ0ZXJcIiwgXCJCYWNrc3BhY2VcIjogXCJkZWxDaGFyQmVmb3JlXCIsIFwiU2hpZnQtQmFja3NwYWNlXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICAgIFwiVGFiXCI6IFwiZGVmYXVsdFRhYlwiLCBcIlNoaWZ0LVRhYlwiOiBcImluZGVudEF1dG9cIixcbiAgICBcIkVudGVyXCI6IFwibmV3bGluZUFuZEluZGVudFwiLCBcIkluc2VydFwiOiBcInRvZ2dsZU92ZXJ3cml0ZVwiLFxuICAgIFwiRXNjXCI6IFwic2luZ2xlU2VsZWN0aW9uXCJcbiAgfTtcbiAgLy8gTm90ZSB0aGF0IHRoZSBzYXZlIGFuZCBmaW5kLXJlbGF0ZWQgY29tbWFuZHMgYXJlbid0IGRlZmluZWQgYnlcbiAgLy8gZGVmYXVsdC4gVXNlciBjb2RlIG9yIGFkZG9ucyBjYW4gZGVmaW5lIHRoZW0uIFVua25vd24gY29tbWFuZHNcbiAgLy8gYXJlIHNpbXBseSBpZ25vcmVkLlxuICBrZXlNYXAucGNEZWZhdWx0ID0ge1xuICAgIFwiQ3RybC1BXCI6IFwic2VsZWN0QWxsXCIsIFwiQ3RybC1EXCI6IFwiZGVsZXRlTGluZVwiLCBcIkN0cmwtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DdHJsLVpcIjogXCJyZWRvXCIsIFwiQ3RybC1ZXCI6IFwicmVkb1wiLFxuICAgIFwiQ3RybC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDdHJsLVVwXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLURvd25cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJDdHJsLUxlZnRcIjogXCJnb0dyb3VwTGVmdFwiLCBcIkN0cmwtUmlnaHRcIjogXCJnb0dyb3VwUmlnaHRcIiwgXCJBbHQtTGVmdFwiOiBcImdvTGluZVN0YXJ0XCIsIFwiQWx0LVJpZ2h0XCI6IFwiZ29MaW5lRW5kXCIsXG4gICAgXCJDdHJsLUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQmVmb3JlXCIsIFwiQ3RybC1EZWxldGVcIjogXCJkZWxHcm91cEFmdGVyXCIsIFwiQ3RybC1TXCI6IFwic2F2ZVwiLCBcIkN0cmwtRlwiOiBcImZpbmRcIixcbiAgICBcIkN0cmwtR1wiOiBcImZpbmROZXh0XCIsIFwiU2hpZnQtQ3RybC1HXCI6IFwiZmluZFByZXZcIiwgXCJTaGlmdC1DdHJsLUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ3RybC1SXCI6IFwicmVwbGFjZUFsbFwiLFxuICAgIFwiQ3RybC1bXCI6IFwiaW5kZW50TGVzc1wiLCBcIkN0cmwtXVwiOiBcImluZGVudE1vcmVcIixcbiAgICBcIkN0cmwtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DdHJsLVVcIjogXCJyZWRvU2VsZWN0aW9uXCIsIFwiQWx0LVVcIjogXCJyZWRvU2VsZWN0aW9uXCIsXG4gICAgZmFsbHRocm91Z2g6IFwiYmFzaWNcIlxuICB9O1xuICAvLyBWZXJ5IGJhc2ljIHJlYWRsaW5lL2VtYWNzLXN0eWxlIGJpbmRpbmdzLCB3aGljaCBhcmUgc3RhbmRhcmQgb24gTWFjLlxuICBrZXlNYXAuZW1hY3N5ID0ge1xuICAgIFwiQ3RybC1GXCI6IFwiZ29DaGFyUmlnaHRcIiwgXCJDdHJsLUJcIjogXCJnb0NoYXJMZWZ0XCIsIFwiQ3RybC1QXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLU5cIjogXCJnb0xpbmVEb3duXCIsXG4gICAgXCJBbHQtRlwiOiBcImdvV29yZFJpZ2h0XCIsIFwiQWx0LUJcIjogXCJnb1dvcmRMZWZ0XCIsIFwiQ3RybC1BXCI6IFwiZ29MaW5lU3RhcnRcIiwgXCJDdHJsLUVcIjogXCJnb0xpbmVFbmRcIixcbiAgICBcIkN0cmwtVlwiOiBcImdvUGFnZURvd25cIiwgXCJTaGlmdC1DdHJsLVZcIjogXCJnb1BhZ2VVcFwiLCBcIkN0cmwtRFwiOiBcImRlbENoYXJBZnRlclwiLCBcIkN0cmwtSFwiOiBcImRlbENoYXJCZWZvcmVcIixcbiAgICBcIkFsdC1EXCI6IFwiZGVsV29yZEFmdGVyXCIsIFwiQWx0LUJhY2tzcGFjZVwiOiBcImRlbFdvcmRCZWZvcmVcIiwgXCJDdHJsLUtcIjogXCJraWxsTGluZVwiLCBcIkN0cmwtVFwiOiBcInRyYW5zcG9zZUNoYXJzXCJcbiAgfTtcbiAga2V5TWFwLm1hY0RlZmF1bHQgPSB7XG4gICAgXCJDbWQtQVwiOiBcInNlbGVjdEFsbFwiLCBcIkNtZC1EXCI6IFwiZGVsZXRlTGluZVwiLCBcIkNtZC1aXCI6IFwidW5kb1wiLCBcIlNoaWZ0LUNtZC1aXCI6IFwicmVkb1wiLCBcIkNtZC1ZXCI6IFwicmVkb1wiLFxuICAgIFwiQ21kLUhvbWVcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ21kLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkNtZC1FbmRcIjogXCJnb0RvY0VuZFwiLCBcIkNtZC1Eb3duXCI6IFwiZ29Eb2NFbmRcIiwgXCJBbHQtTGVmdFwiOiBcImdvR3JvdXBMZWZ0XCIsXG4gICAgXCJBbHQtUmlnaHRcIjogXCJnb0dyb3VwUmlnaHRcIiwgXCJDbWQtTGVmdFwiOiBcImdvTGluZUxlZnRcIiwgXCJDbWQtUmlnaHRcIjogXCJnb0xpbmVSaWdodFwiLCBcIkFsdC1CYWNrc3BhY2VcIjogXCJkZWxHcm91cEJlZm9yZVwiLFxuICAgIFwiQ3RybC1BbHQtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkFsdC1EZWxldGVcIjogXCJkZWxHcm91cEFmdGVyXCIsIFwiQ21kLVNcIjogXCJzYXZlXCIsIFwiQ21kLUZcIjogXCJmaW5kXCIsXG4gICAgXCJDbWQtR1wiOiBcImZpbmROZXh0XCIsIFwiU2hpZnQtQ21kLUdcIjogXCJmaW5kUHJldlwiLCBcIkNtZC1BbHQtRlwiOiBcInJlcGxhY2VcIiwgXCJTaGlmdC1DbWQtQWx0LUZcIjogXCJyZXBsYWNlQWxsXCIsXG4gICAgXCJDbWQtW1wiOiBcImluZGVudExlc3NcIiwgXCJDbWQtXVwiOiBcImluZGVudE1vcmVcIiwgXCJDbWQtQmFja3NwYWNlXCI6IFwiZGVsV3JhcHBlZExpbmVMZWZ0XCIsIFwiQ21kLURlbGV0ZVwiOiBcImRlbFdyYXBwZWRMaW5lUmlnaHRcIixcbiAgICBcIkNtZC1VXCI6IFwidW5kb1NlbGVjdGlvblwiLCBcIlNoaWZ0LUNtZC1VXCI6IFwicmVkb1NlbGVjdGlvblwiLCBcIkN0cmwtVXBcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ3RybC1Eb3duXCI6IFwiZ29Eb2NFbmRcIixcbiAgICBmYWxsdGhyb3VnaDogW1wiYmFzaWNcIiwgXCJlbWFjc3lcIl1cbiAgfTtcbiAga2V5TWFwW1wiZGVmYXVsdFwiXSA9IG1hYyA/IGtleU1hcC5tYWNEZWZhdWx0IDoga2V5TWFwLnBjRGVmYXVsdDtcblxuICAvLyBLRVlNQVAgRElTUEFUQ0hcblxuICBmdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KC8tKD8hJCkvKSwgbmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIHZhciBhbHQsIGN0cmwsIHNoaWZ0LCBjbWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIHZhciBtb2QgPSBwYXJ0c1tpXTtcbiAgICAgIGlmICgvXihjbWR8bWV0YXxtKSQvaS50ZXN0KG1vZCkpIGNtZCA9IHRydWU7XG4gICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIGFsdCA9IHRydWU7XG4gICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKSBjdHJsID0gdHJ1ZTtcbiAgICAgIGVsc2UgaWYgKC9ecyhoaWZ0KSQvaS50ZXN0KG1vZCkpIHNoaWZ0ID0gdHJ1ZTtcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKTtcbiAgICB9XG4gICAgaWYgKGFsdCkgbmFtZSA9IFwiQWx0LVwiICsgbmFtZTtcbiAgICBpZiAoY3RybCkgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7XG4gICAgaWYgKGNtZCkgbmFtZSA9IFwiQ21kLVwiICsgbmFtZTtcbiAgICBpZiAoc2hpZnQpIG5hbWUgPSBcIlNoaWZ0LVwiICsgbmFtZTtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgYSBrbHVkZ2UgdG8ga2VlcCBrZXltYXBzIG1vc3RseSB3b3JraW5nIGFzIHJhdyBvYmplY3RzXG4gIC8vIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkgd2hpbGUgYXQgdGhlIHNhbWUgdGltZSBzdXBwb3J0IGZlYXR1cmVzXG4gIC8vIGxpa2Ugbm9ybWFsaXphdGlvbiBhbmQgbXVsdGktc3Ryb2tlIGtleSBiaW5kaW5ncy4gSXQgY29tcGlsZXMgYVxuICAvLyBuZXcgbm9ybWFsaXplZCBrZXltYXAsIGFuZCB0aGVuIHVwZGF0ZXMgdGhlIG9sZCBvYmplY3QgdG8gcmVmbGVjdFxuICAvLyB0aGlzLlxuICBDb2RlTWlycm9yLm5vcm1hbGl6ZUtleU1hcCA9IGZ1bmN0aW9uKGtleW1hcCkge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgZm9yICh2YXIga2V5bmFtZSBpbiBrZXltYXApIGlmIChrZXltYXAuaGFzT3duUHJvcGVydHkoa2V5bmFtZSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGtleW1hcFtrZXluYW1lXTtcbiAgICAgIGlmICgvXihuYW1lfGZhbGx0aHJvdWdofChkZXxhdCl0YWNoKSQvLnRlc3Qoa2V5bmFtZSkpIGNvbnRpbnVlO1xuICAgICAgaWYgKHZhbHVlID09IFwiLi4uXCIpIHsgZGVsZXRlIGtleW1hcFtrZXluYW1lXTsgY29udGludWU7IH1cblxuICAgICAgdmFyIGtleXMgPSBtYXAoa2V5bmFtZS5zcGxpdChcIiBcIiksIG5vcm1hbGl6ZUtleU5hbWUpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwsIG5hbWU7XG4gICAgICAgIGlmIChpID09IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIG5hbWUgPSBrZXlzLmpvaW4oXCIgXCIpO1xuICAgICAgICAgIHZhbCA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5hbWUgPSBrZXlzLnNsaWNlKDAsIGkgKyAxKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICB2YWwgPSBcIi4uLlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2ID0gY29weVtuYW1lXTtcbiAgICAgICAgaWYgKCFwcmV2KSBjb3B5W25hbWVdID0gdmFsO1xuICAgICAgICBlbHNlIGlmIChwcmV2ICE9IHZhbCkgdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IGJpbmRpbmdzIGZvciBcIiArIG5hbWUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGtleW1hcFtrZXluYW1lXTtcbiAgICB9XG4gICAgZm9yICh2YXIgcHJvcCBpbiBjb3B5KSBrZXltYXBbcHJvcF0gPSBjb3B5W3Byb3BdO1xuICAgIHJldHVybiBrZXltYXA7XG4gIH07XG5cbiAgdmFyIGxvb2t1cEtleSA9IENvZGVNaXJyb3IubG9va3VwS2V5ID0gZnVuY3Rpb24oa2V5LCBtYXAsIGhhbmRsZSwgY29udGV4dCkge1xuICAgIG1hcCA9IGdldEtleU1hcChtYXApO1xuICAgIHZhciBmb3VuZCA9IG1hcC5jYWxsID8gbWFwLmNhbGwoa2V5LCBjb250ZXh0KSA6IG1hcFtrZXldO1xuICAgIGlmIChmb3VuZCA9PT0gZmFsc2UpIHJldHVybiBcIm5vdGhpbmdcIjtcbiAgICBpZiAoZm91bmQgPT09IFwiLi4uXCIpIHJldHVybiBcIm11bHRpXCI7XG4gICAgaWYgKGZvdW5kICE9IG51bGwgJiYgaGFuZGxlKGZvdW5kKSkgcmV0dXJuIFwiaGFuZGxlZFwiO1xuXG4gICAgaWYgKG1hcC5mYWxsdGhyb3VnaCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtYXAuZmFsbHRocm91Z2gpICE9IFwiW29iamVjdCBBcnJheV1cIilcbiAgICAgICAgcmV0dXJuIGxvb2t1cEtleShrZXksIG1hcC5mYWxsdGhyb3VnaCwgaGFuZGxlLCBjb250ZXh0KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmZhbGx0aHJvdWdoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkoa2V5LCBtYXAuZmFsbHRocm91Z2hbaV0sIGhhbmRsZSwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIE1vZGlmaWVyIGtleSBwcmVzc2VzIGRvbid0IGNvdW50IGFzICdyZWFsJyBrZXkgcHJlc3NlcyBmb3IgdGhlXG4gIC8vIHB1cnBvc2Ugb2Yga2V5bWFwIGZhbGx0aHJvdWdoLlxuICB2YXIgaXNNb2RpZmllcktleSA9IENvZGVNaXJyb3IuaXNNb2RpZmllcktleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIG5hbWUgPSB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IHZhbHVlIDoga2V5TmFtZXNbdmFsdWUua2V5Q29kZV07XG4gICAgcmV0dXJuIG5hbWUgPT0gXCJDdHJsXCIgfHwgbmFtZSA9PSBcIkFsdFwiIHx8IG5hbWUgPT0gXCJTaGlmdFwiIHx8IG5hbWUgPT0gXCJNb2RcIjtcbiAgfTtcblxuICAvLyBMb29rIHVwIHRoZSBuYW1lIG9mIGEga2V5IGFzIGluZGljYXRlZCBieSBhbiBldmVudCBvYmplY3QuXG4gIHZhciBrZXlOYW1lID0gQ29kZU1pcnJvci5rZXlOYW1lID0gZnVuY3Rpb24oZXZlbnQsIG5vU2hpZnQpIHtcbiAgICBpZiAocHJlc3RvICYmIGV2ZW50LmtleUNvZGUgPT0gMzQgJiYgZXZlbnRbXCJjaGFyXCJdKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGJhc2UgPSBrZXlOYW1lc1tldmVudC5rZXlDb2RlXSwgbmFtZSA9IGJhc2U7XG4gICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBldmVudC5hbHRHcmFwaEtleSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChldmVudC5hbHRLZXkgJiYgYmFzZSAhPSBcIkFsdFwiKSBuYW1lID0gXCJBbHQtXCIgKyBuYW1lO1xuICAgIGlmICgoZmxpcEN0cmxDbWQgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleSkgJiYgYmFzZSAhPSBcIkN0cmxcIikgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7XG4gICAgaWYgKChmbGlwQ3RybENtZCA/IGV2ZW50LmN0cmxLZXkgOiBldmVudC5tZXRhS2V5KSAmJiBiYXNlICE9IFwiQ21kXCIpIG5hbWUgPSBcIkNtZC1cIiArIG5hbWU7XG4gICAgaWYgKCFub1NoaWZ0ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGJhc2UgIT0gXCJTaGlmdFwiKSBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0S2V5TWFwKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCIgPyBrZXlNYXBbdmFsXSA6IHZhbDtcbiAgfVxuXG4gIC8vIEZST01URVhUQVJFQVxuXG4gIENvZGVNaXJyb3IuZnJvbVRleHRBcmVhID0gZnVuY3Rpb24odGV4dGFyZWEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fTtcbiAgICBvcHRpb25zLnZhbHVlID0gdGV4dGFyZWEudmFsdWU7XG4gICAgaWYgKCFvcHRpb25zLnRhYmluZGV4ICYmIHRleHRhcmVhLnRhYkluZGV4KVxuICAgICAgb3B0aW9ucy50YWJpbmRleCA9IHRleHRhcmVhLnRhYkluZGV4O1xuICAgIGlmICghb3B0aW9ucy5wbGFjZWhvbGRlciAmJiB0ZXh0YXJlYS5wbGFjZWhvbGRlcilcbiAgICAgIG9wdGlvbnMucGxhY2Vob2xkZXIgPSB0ZXh0YXJlYS5wbGFjZWhvbGRlcjtcbiAgICAvLyBTZXQgYXV0b2ZvY3VzIHRvIHRydWUgaWYgdGhpcyB0ZXh0YXJlYSBpcyBmb2N1c2VkLCBvciBpZiBpdCBoYXNcbiAgICAvLyBhdXRvZm9jdXMgYW5kIG5vIG90aGVyIGVsZW1lbnQgaXMgZm9jdXNlZC5cbiAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgPT0gbnVsbCkge1xuICAgICAgdmFyIGhhc0ZvY3VzID0gYWN0aXZlRWx0KCk7XG4gICAgICBvcHRpb25zLmF1dG9mb2N1cyA9IGhhc0ZvY3VzID09IHRleHRhcmVhIHx8XG4gICAgICAgIHRleHRhcmVhLmdldEF0dHJpYnV0ZShcImF1dG9mb2N1c1wiKSAhPSBudWxsICYmIGhhc0ZvY3VzID09IGRvY3VtZW50LmJvZHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZSgpIHt0ZXh0YXJlYS52YWx1ZSA9IGNtLmdldFZhbHVlKCk7fVxuICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICBvbih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKTtcbiAgICAgIC8vIERlcGxvcmFibGUgaGFjayB0byBtYWtlIHRoZSBzdWJtaXQgbWV0aG9kIGRvIHRoZSByaWdodCB0aGluZy5cbiAgICAgIGlmICghb3B0aW9ucy5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSB7XG4gICAgICAgIHZhciBmb3JtID0gdGV4dGFyZWEuZm9ybSwgcmVhbFN1Ym1pdCA9IGZvcm0uc3VibWl0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB3cmFwcGVkU3VibWl0ID0gZm9ybS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNhdmUoKTtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdDtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHdyYXBwZWRTdWJtaXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnMuZmluaXNoSW5pdCA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5zYXZlID0gc2F2ZTtcbiAgICAgIGNtLmdldFRleHRBcmVhID0gZnVuY3Rpb24oKSB7IHJldHVybiB0ZXh0YXJlYTsgfTtcbiAgICAgIGNtLnRvVGV4dEFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY20udG9UZXh0QXJlYSA9IGlzTmFOOyAvLyBQcmV2ZW50IHRoaXMgZnJvbSBiZWluZyByYW4gdHdpY2VcbiAgICAgICAgc2F2ZSgpO1xuICAgICAgICB0ZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNtLmdldFdyYXBwZXJFbGVtZW50KCkpO1xuICAgICAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgaWYgKHRleHRhcmVhLmZvcm0pIHtcbiAgICAgICAgICBvZmYodGV4dGFyZWEuZm9ybSwgXCJzdWJtaXRcIiwgc2F2ZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9IHJlYWxTdWJtaXQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgY20gPSBDb2RlTWlycm9yKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHRleHRhcmVhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRleHRhcmVhLm5leHRTaWJsaW5nKTtcbiAgICB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gY207XG4gIH07XG5cbiAgLy8gU1RSSU5HIFNUUkVBTVxuXG4gIC8vIEZlZCB0byB0aGUgbW9kZSBwYXJzZXJzLCBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIG1ha2VcbiAgLy8gcGFyc2VycyBtb3JlIHN1Y2NpbmN0LlxuXG4gIHZhciBTdHJpbmdTdHJlYW0gPSBDb2RlTWlycm9yLlN0cmluZ1N0cmVhbSA9IGZ1bmN0aW9uKHN0cmluZywgdGFiU2l6ZSkge1xuICAgIHRoaXMucG9zID0gdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgdGhpcy50YWJTaXplID0gdGFiU2l6ZSB8fCA4O1xuICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMubGFzdENvbHVtblZhbHVlID0gMDtcbiAgICB0aGlzLmxpbmVTdGFydCA9IDA7XG4gIH07XG5cbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZSA9IHtcbiAgICBlb2w6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnBvcyA+PSB0aGlzLnN0cmluZy5sZW5ndGg7fSxcbiAgICBzb2w6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnBvcyA9PSB0aGlzLmxpbmVTdGFydDt9LFxuICAgIHBlZWs6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpIHx8IHVuZGVmaW5lZDt9LFxuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucG9zIDwgdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspO1xuICAgIH0sXG4gICAgZWF0OiBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgdmFyIGNoID0gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2ggPT0gXCJzdHJpbmdcIikgdmFyIG9rID0gY2ggPT0gbWF0Y2g7XG4gICAgICBlbHNlIHZhciBvayA9IGNoICYmIChtYXRjaC50ZXN0ID8gbWF0Y2gudGVzdChjaCkgOiBtYXRjaChjaCkpO1xuICAgICAgaWYgKG9rKSB7Kyt0aGlzLnBvczsgcmV0dXJuIGNoO31cbiAgICB9LFxuICAgIGVhdFdoaWxlOiBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICB3aGlsZSAodGhpcy5lYXQobWF0Y2gpKXt9XG4gICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9LFxuICAgIGVhdFNwYWNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgd2hpbGUgKC9bXFxzXFx1MDBhMF0vLnRlc3QodGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSkpICsrdGhpcy5wb3M7XG4gICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9LFxuICAgIHNraXBUb0VuZDogZnVuY3Rpb24oKSB7dGhpcy5wb3MgPSB0aGlzLnN0cmluZy5sZW5ndGg7fSxcbiAgICBza2lwVG86IGZ1bmN0aW9uKGNoKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLnN0cmluZy5pbmRleE9mKGNoLCB0aGlzLnBvcyk7XG4gICAgICBpZiAoZm91bmQgPiAtMSkge3RoaXMucG9zID0gZm91bmQ7IHJldHVybiB0cnVlO31cbiAgICB9LFxuICAgIGJhY2tVcDogZnVuY3Rpb24obikge3RoaXMucG9zIC09IG47fSxcbiAgICBjb2x1bW46IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMubGFzdENvbHVtblBvcyA8IHRoaXMuc3RhcnQpIHtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5zdGFydCwgdGhpcy50YWJTaXplLCB0aGlzLmxhc3RDb2x1bW5Qb3MsIHRoaXMubGFzdENvbHVtblZhbHVlKTtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gdGhpcy5zdGFydDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmxhc3RDb2x1bW5WYWx1ZSAtICh0aGlzLmxpbmVTdGFydCA/IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLmxpbmVTdGFydCwgdGhpcy50YWJTaXplKSA6IDApO1xuICAgIH0sXG4gICAgaW5kZW50YXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCBudWxsLCB0aGlzLnRhYlNpemUpIC1cbiAgICAgICAgKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMCk7XG4gICAgfSxcbiAgICBtYXRjaDogZnVuY3Rpb24ocGF0dGVybiwgY29uc3VtZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgY2FzZWQgPSBmdW5jdGlvbihzdHIpIHtyZXR1cm4gY2FzZUluc2Vuc2l0aXZlID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBzdHI7fTtcbiAgICAgICAgdmFyIHN1YnN0ciA9IHRoaXMuc3RyaW5nLnN1YnN0cih0aGlzLnBvcywgcGF0dGVybi5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FzZWQoc3Vic3RyKSA9PSBjYXNlZChwYXR0ZXJuKSkge1xuICAgICAgICAgIGlmIChjb25zdW1lICE9PSBmYWxzZSkgdGhpcy5wb3MgKz0gcGF0dGVybi5sZW5ndGg7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChtYXRjaCAmJiBjb25zdW1lICE9PSBmYWxzZSkgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfSxcbiAgICBjdXJyZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLnBvcyk7fSxcbiAgICBoaWRlRmlyc3RDaGFyczogZnVuY3Rpb24obiwgaW5uZXIpIHtcbiAgICAgIHRoaXMubGluZVN0YXJ0ICs9IG47XG4gICAgICB0cnkgeyByZXR1cm4gaW5uZXIoKTsgfVxuICAgICAgZmluYWxseSB7IHRoaXMubGluZVN0YXJ0IC09IG47IH1cbiAgICB9XG4gIH07XG5cbiAgLy8gVEVYVE1BUktFUlNcblxuICAvLyBDcmVhdGVkIHdpdGggbWFya1RleHQgYW5kIHNldEJvb2ttYXJrIG1ldGhvZHMuIEEgVGV4dE1hcmtlciBpcyBhXG4gIC8vIGhhbmRsZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGNsZWFyIG9yIGZpbmQgYSBtYXJrZWQgcG9zaXRpb24gaW4gdGhlXG4gIC8vIGRvY3VtZW50LiBMaW5lIG9iamVjdHMgaG9sZCBhcnJheXMgKG1hcmtlZFNwYW5zKSBjb250YWluaW5nXG4gIC8vIHtmcm9tLCB0bywgbWFya2VyfSBvYmplY3QgcG9pbnRpbmcgdG8gc3VjaCBtYXJrZXIgb2JqZWN0cywgYW5kXG4gIC8vIGluZGljYXRpbmcgdGhhdCBzdWNoIGEgbWFya2VyIGlzIHByZXNlbnQgb24gdGhhdCBsaW5lLiBNdWx0aXBsZVxuICAvLyBsaW5lcyBtYXkgcG9pbnQgdG8gdGhlIHNhbWUgbWFya2VyIHdoZW4gaXQgc3BhbnMgYWNyb3NzIGxpbmVzLlxuICAvLyBUaGUgc3BhbnMgd2lsbCBoYXZlIG51bGwgZm9yIHRoZWlyIGZyb20vdG8gcHJvcGVydGllcyB3aGVuIHRoZVxuICAvLyBtYXJrZXIgY29udGludWVzIGJleW9uZCB0aGUgc3RhcnQvZW5kIG9mIHRoZSBsaW5lLiBNYXJrZXJzIGhhdmVcbiAgLy8gbGlua3MgYmFjayB0byB0aGUgbGluZXMgdGhleSBjdXJyZW50bHkgdG91Y2guXG5cbiAgdmFyIG5leHRNYXJrZXJJZCA9IDA7XG5cbiAgdmFyIFRleHRNYXJrZXIgPSBDb2RlTWlycm9yLlRleHRNYXJrZXIgPSBmdW5jdGlvbihkb2MsIHR5cGUpIHtcbiAgICB0aGlzLmxpbmVzID0gW107XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmRvYyA9IGRvYztcbiAgICB0aGlzLmlkID0gKytuZXh0TWFya2VySWQ7XG4gIH07XG4gIGV2ZW50TWl4aW4oVGV4dE1hcmtlcik7XG5cbiAgLy8gQ2xlYXIgdGhlIG1hcmtlci5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgcmV0dXJuO1xuICAgIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3aXRoT3AgPSBjbSAmJiAhY20uY3VyT3A7XG4gICAgaWYgKHdpdGhPcCkgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgIGlmIChoYXNIYW5kbGVyKHRoaXMsIFwiY2xlYXJcIikpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZCgpO1xuICAgICAgaWYgKGZvdW5kKSBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIsIGZvdW5kLmZyb20sIGZvdW5kLnRvKTtcbiAgICB9XG4gICAgdmFyIG1pbiA9IG51bGwsIG1heCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoY20gJiYgIXRoaXMuY29sbGFwc2VkKSByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lTm8obGluZSksIFwidGV4dFwiKTtcbiAgICAgIGVsc2UgaWYgKGNtKSB7XG4gICAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIG1heCA9IGxpbmVObyhsaW5lKTtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsKSBtaW4gPSBsaW5lTm8obGluZSk7XG4gICAgICB9XG4gICAgICBsaW5lLm1hcmtlZFNwYW5zID0gcmVtb3ZlTWFya2VkU3BhbihsaW5lLm1hcmtlZFNwYW5zLCBzcGFuKTtcbiAgICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCAmJiB0aGlzLmNvbGxhcHNlZCAmJiAhbGluZUlzSGlkZGVuKHRoaXMuZG9jLCBsaW5lKSAmJiBjbSlcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCB0ZXh0SGVpZ2h0KGNtLmRpc3BsYXkpKTtcbiAgICB9XG4gICAgaWYgKGNtICYmIHRoaXMuY29sbGFwc2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZSh0aGlzLmxpbmVzW2ldKSwgbGVuID0gbGluZUxlbmd0aCh2aXN1YWwpO1xuICAgICAgaWYgKGxlbiA+IGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmUgPSB2aXN1YWw7XG4gICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1pbiAhPSBudWxsICYmIGNtICYmIHRoaXMuY29sbGFwc2VkKSByZWdDaGFuZ2UoY20sIG1pbiwgbWF4ICsgMSk7XG4gICAgdGhpcy5saW5lcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuZXhwbGljaXRseUNsZWFyZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmF0b21pYyAmJiB0aGlzLmRvYy5jYW50RWRpdCkge1xuICAgICAgdGhpcy5kb2MuY2FudEVkaXQgPSBmYWxzZTtcbiAgICAgIGlmIChjbSkgcmVDaGVja1NlbGVjdGlvbihjbS5kb2MpO1xuICAgIH1cbiAgICBpZiAoY20pIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckNsZWFyZWRcIiwgY20sIHRoaXMpO1xuICAgIGlmICh3aXRoT3ApIGVuZE9wZXJhdGlvbihjbSk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5jbGVhcigpO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgaW4gdGhlIGRvY3VtZW50LiBSZXR1cm5zIGEge2Zyb20sXG4gIC8vIHRvfSBvYmplY3QgYnkgZGVmYXVsdC4gU2lkZSBjYW4gYmUgcGFzc2VkIHRvIGdldCBhIHNwZWNpZmljIHNpZGVcbiAgLy8gLS0gMCAoYm90aCksIC0xIChsZWZ0KSwgb3IgMSAocmlnaHQpLiBXaGVuIGxpbmVPYmogaXMgdHJ1ZSwgdGhlXG4gIC8vIFBvcyBvYmplY3RzIHJldHVybmVkIGNvbnRhaW4gYSBsaW5lIG9iamVjdCwgcmF0aGVyIHRoYW4gYSBsaW5lXG4gIC8vIG51bWJlciAodXNlZCB0byBwcmV2ZW50IGxvb2tpbmcgdXAgdGhlIHNhbWUgbGluZSB0d2ljZSkuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgaWYgKHNpZGUgPT0gbnVsbCAmJiB0aGlzLnR5cGUgPT0gXCJib29rbWFya1wiKSBzaWRlID0gMTtcbiAgICB2YXIgZnJvbSwgdG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwpIHtcbiAgICAgICAgZnJvbSA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi5mcm9tKTtcbiAgICAgICAgaWYgKHNpZGUgPT0gLTEpIHJldHVybiBmcm9tO1xuICAgICAgfVxuICAgICAgaWYgKHNwYW4udG8gIT0gbnVsbCkge1xuICAgICAgICB0byA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi50byk7XG4gICAgICAgIGlmIChzaWRlID09IDEpIHJldHVybiB0bztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyb20gJiYge2Zyb206IGZyb20sIHRvOiB0b307XG4gIH07XG5cbiAgLy8gU2lnbmFscyB0aGF0IHRoZSBtYXJrZXIncyB3aWRnZXQgY2hhbmdlZCwgYW5kIHN1cnJvdW5kaW5nIGxheW91dFxuICAvLyBzaG91bGQgYmUgcmVjb21wdXRlZC5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtO1xuICAgIGlmICghcG9zIHx8ICFjbSkgcmV0dXJuO1xuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxpbmUgPSBwb3MubGluZSwgbGluZU4gPSBsaW5lTm8ocG9zLmxpbmUpO1xuICAgICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3Iodmlldyk7XG4gICAgICAgIGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICAgIGlmICghbGluZUlzSGlkZGVuKHdpZGdldC5kb2MsIGxpbmUpICYmIHdpZGdldC5oZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gd2lkZ2V0LmhlaWdodDtcbiAgICAgICAgd2lkZ2V0LmhlaWdodCA9IG51bGw7XG4gICAgICAgIHZhciBkSGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0KHdpZGdldCkgLSBvbGRIZWlnaHQ7XG4gICAgICAgIGlmIChkSGVpZ2h0KVxuICAgICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICAgIGlmICghdGhpcy5saW5lcy5sZW5ndGggJiYgdGhpcy5kb2MuY20pIHtcbiAgICAgIHZhciBvcCA9IHRoaXMuZG9jLmNtLmN1ck9wO1xuICAgICAgaWYgKCFvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgaW5kZXhPZihvcC5tYXliZUhpZGRlbk1hcmtlcnMsIHRoaXMpID09IC0xKVxuICAgICAgICAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XG4gIH07XG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmRldGFjaExpbmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgdGhpcy5saW5lcy5zcGxpY2UoaW5kZXhPZih0aGlzLmxpbmVzLCBsaW5lKSwgMSk7XG4gICAgaWYgKCF0aGlzLmxpbmVzLmxlbmd0aCAmJiB0aGlzLmRvYy5jbSkge1xuICAgICAgdmFyIG9wID0gdGhpcy5kb2MuY20uY3VyT3A7XG4gICAgICAob3AubWF5YmVIaWRkZW5NYXJrZXJzIHx8IChvcC5tYXliZUhpZGRlbk1hcmtlcnMgPSBbXSkpLnB1c2godGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbGxhcHNlZCBtYXJrZXJzIGhhdmUgdW5pcXVlIGlkcywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBvcmRlclxuICAvLyB0aGVtLCB3aGljaCBpcyBuZWVkZWQgZm9yIHVuaXF1ZWx5IGRldGVybWluaW5nIGFuIG91dGVyIG1hcmtlclxuICAvLyB3aGVuIHRoZXkgb3ZlcmxhcCAodGhleSBtYXkgbmVzdCwgYnV0IG5vdCBwYXJ0aWFsbHkgb3ZlcmxhcCkuXG4gIHZhciBuZXh0TWFya2VySWQgPSAwO1xuXG4gIC8vIENyZWF0ZSBhIG1hcmtlciwgd2lyZSBpdCB1cCB0byB0aGUgcmlnaHQgbGluZXMsIGFuZFxuICBmdW5jdGlvbiBtYXJrVGV4dChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKSB7XG4gICAgLy8gU2hhcmVkIG1hcmtlcnMgKGFjcm9zcyBsaW5rZWQgZG9jdW1lbnRzKSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgLy8gKG1hcmtUZXh0U2hhcmVkIHdpbGwgY2FsbCBvdXQgdG8gdGhpcyBhZ2Fpbiwgb25jZSBwZXJcbiAgICAvLyBkb2N1bWVudCkuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpIHJldHVybiBtYXJrVGV4dFNoYXJlZChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKTtcbiAgICAvLyBFbnN1cmUgd2UgYXJlIGluIGFuIG9wZXJhdGlvbi5cbiAgICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApIHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYXJrVGV4dCkoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSk7XG5cbiAgICB2YXIgbWFya2VyID0gbmV3IFRleHRNYXJrZXIoZG9jLCB0eXBlKSwgZGlmZiA9IGNtcChmcm9tLCB0byk7XG4gICAgaWYgKG9wdGlvbnMpIGNvcHlPYmoob3B0aW9ucywgbWFya2VyLCBmYWxzZSk7XG4gICAgLy8gRG9uJ3QgY29ubmVjdCBlbXB0eSBtYXJrZXJzIHVubGVzcyBjbGVhcldoZW5FbXB0eSBpcyBmYWxzZVxuICAgIGlmIChkaWZmID4gMCB8fCBkaWZmID09IDAgJiYgbWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgaWYgKG1hcmtlci5yZXBsYWNlZFdpdGgpIHtcbiAgICAgIC8vIFNob3dpbmcgdXAgYXMgYSB3aWRnZXQgaW1wbGllcyBjb2xsYXBzZWQgKHdpZGdldCByZXBsYWNlcyB0ZXh0KVxuICAgICAgbWFya2VyLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICBtYXJrZXIud2lkZ2V0Tm9kZSA9IGVsdChcInNwYW5cIiwgW21hcmtlci5yZXBsYWNlZFdpdGhdLCBcIkNvZGVNaXJyb3Itd2lkZ2V0XCIpO1xuICAgICAgaWYgKCFvcHRpb25zLmhhbmRsZU1vdXNlRXZlbnRzKSBtYXJrZXIud2lkZ2V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmIChvcHRpb25zLmluc2VydExlZnQpIG1hcmtlci53aWRnZXROb2RlLmluc2VydExlZnQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkge1xuICAgICAgaWYgKGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBmcm9tLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpIHx8XG4gICAgICAgICAgZnJvbS5saW5lICE9IHRvLmxpbmUgJiYgY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIHRvLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnNlcnRpbmcgY29sbGFwc2VkIG1hcmtlciBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgYW4gZXhpc3Rpbmcgb25lXCIpO1xuICAgICAgc2F3Q29sbGFwc2VkU3BhbnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChtYXJrZXIuYWRkVG9IaXN0b3J5KVxuICAgICAgYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywge2Zyb206IGZyb20sIHRvOiB0bywgb3JpZ2luOiBcIm1hcmtUZXh0XCJ9LCBkb2Muc2VsLCBOYU4pO1xuXG4gICAgdmFyIGN1ckxpbmUgPSBmcm9tLmxpbmUsIGNtID0gZG9jLmNtLCB1cGRhdGVNYXhMaW5lO1xuICAgIGRvYy5pdGVyKGN1ckxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAoY20gJiYgbWFya2VyLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdmlzdWFsTGluZShsaW5lKSA9PSBjbS5kaXNwbGF5Lm1heExpbmUpXG4gICAgICAgIHVwZGF0ZU1heExpbmUgPSB0cnVlO1xuICAgICAgaWYgKG1hcmtlci5jb2xsYXBzZWQgJiYgY3VyTGluZSAhPSBmcm9tLmxpbmUpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCk7XG4gICAgICBhZGRNYXJrZWRTcGFuKGxpbmUsIG5ldyBNYXJrZWRTcGFuKG1hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluZSA9PSBmcm9tLmxpbmUgPyBmcm9tLmNoIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluZSA9PSB0by5saW5lID8gdG8uY2ggOiBudWxsKSk7XG4gICAgICArK2N1ckxpbmU7XG4gICAgfSk7XG4gICAgLy8gbGluZUlzSGlkZGVuIGRlcGVuZHMgb24gdGhlIHByZXNlbmNlIG9mIHRoZSBzcGFucywgc28gbmVlZHMgYSBzZWNvbmQgcGFzc1xuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSBkb2MuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCk7XG4gICAgfSk7XG5cbiAgICBpZiAobWFya2VyLmNsZWFyT25FbnRlcikgb24obWFya2VyLCBcImJlZm9yZUN1cnNvckVudGVyXCIsIGZ1bmN0aW9uKCkgeyBtYXJrZXIuY2xlYXIoKTsgfSk7XG5cbiAgICBpZiAobWFya2VyLnJlYWRPbmx5KSB7XG4gICAgICBzYXdSZWFkT25seVNwYW5zID0gdHJ1ZTtcbiAgICAgIGlmIChkb2MuaGlzdG9yeS5kb25lLmxlbmd0aCB8fCBkb2MuaGlzdG9yeS51bmRvbmUubGVuZ3RoKVxuICAgICAgICBkb2MuY2xlYXJIaXN0b3J5KCk7XG4gICAgfVxuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7XG4gICAgICBtYXJrZXIuaWQgPSArK25leHRNYXJrZXJJZDtcbiAgICAgIG1hcmtlci5hdG9taWMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY20pIHtcbiAgICAgIC8vIFN5bmMgZWRpdG9yIHN0YXRlXG4gICAgICBpZiAodXBkYXRlTWF4TGluZSkgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgICBpZiAobWFya2VyLmNvbGxhcHNlZClcbiAgICAgICAgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxKTtcbiAgICAgIGVsc2UgaWYgKG1hcmtlci5jbGFzc05hbWUgfHwgbWFya2VyLnRpdGxlIHx8IG1hcmtlci5zdGFydFN0eWxlIHx8IG1hcmtlci5lbmRTdHlsZSB8fCBtYXJrZXIuY3NzKVxuICAgICAgICBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDw9IHRvLmxpbmU7IGkrKykgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJ0ZXh0XCIpO1xuICAgICAgaWYgKG1hcmtlci5hdG9taWMpIHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckFkZGVkXCIsIGNtLCBtYXJrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWFya2VyO1xuICB9XG5cbiAgLy8gU0hBUkVEIFRFWFRNQVJLRVJTXG5cbiAgLy8gQSBzaGFyZWQgbWFya2VyIHNwYW5zIG11bHRpcGxlIGxpbmtlZCBkb2N1bWVudHMuIEl0IGlzXG4gIC8vIGltcGxlbWVudGVkIGFzIGEgbWV0YS1tYXJrZXItb2JqZWN0IGNvbnRyb2xsaW5nIG11bHRpcGxlIG5vcm1hbFxuICAvLyBtYXJrZXJzLlxuICB2YXIgU2hhcmVkVGV4dE1hcmtlciA9IENvZGVNaXJyb3IuU2hhcmVkVGV4dE1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcnMsIHByaW1hcnkpIHtcbiAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIHRoaXMucHJpbWFyeSA9IHByaW1hcnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgICAgbWFya2Vyc1tpXS5wYXJlbnQgPSB0aGlzO1xuICB9O1xuICBldmVudE1peGluKFNoYXJlZFRleHRNYXJrZXIpO1xuXG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZXhwbGljaXRseUNsZWFyZWQpIHJldHVybjtcbiAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7ICsraSlcbiAgICAgIHRoaXMubWFya2Vyc1tpXS5jbGVhcigpO1xuICAgIHNpZ25hbExhdGVyKHRoaXMsIFwiY2xlYXJcIik7XG4gIH07XG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgcmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHNpZGUsIGxpbmVPYmopO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1hcmtUZXh0U2hhcmVkKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIHtcbiAgICBvcHRpb25zID0gY29weU9iaihvcHRpb25zKTtcbiAgICBvcHRpb25zLnNoYXJlZCA9IGZhbHNlO1xuICAgIHZhciBtYXJrZXJzID0gW21hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpXSwgcHJpbWFyeSA9IG1hcmtlcnNbMF07XG4gICAgdmFyIHdpZGdldCA9IG9wdGlvbnMud2lkZ2V0Tm9kZTtcbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAod2lkZ2V0KSBvcHRpb25zLndpZGdldE5vZGUgPSB3aWRnZXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbWFya2Vycy5wdXNoKG1hcmtUZXh0KGRvYywgY2xpcFBvcyhkb2MsIGZyb20pLCBjbGlwUG9zKGRvYywgdG8pLCBvcHRpb25zLCB0eXBlKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSByZXR1cm47XG4gICAgICBwcmltYXJ5ID0gbHN0KG1hcmtlcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgU2hhcmVkVGV4dE1hcmtlcihtYXJrZXJzLCBwcmltYXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTaGFyZWRNYXJrZXJzKGRvYykge1xuICAgIHJldHVybiBkb2MuZmluZE1hcmtzKFBvcyhkb2MuZmlyc3QsIDApLCBkb2MuY2xpcFBvcyhQb3MoZG9jLmxhc3RMaW5lKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihtKSB7IHJldHVybiBtLnBhcmVudDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5U2hhcmVkTWFya2Vycyhkb2MsIG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBwb3MgPSBtYXJrZXIuZmluZCgpO1xuICAgICAgdmFyIG1Gcm9tID0gZG9jLmNsaXBQb3MocG9zLmZyb20pLCBtVG8gPSBkb2MuY2xpcFBvcyhwb3MudG8pO1xuICAgICAgaWYgKGNtcChtRnJvbSwgbVRvKSkge1xuICAgICAgICB2YXIgc3ViTWFyayA9IG1hcmtUZXh0KGRvYywgbUZyb20sIG1UbywgbWFya2VyLnByaW1hcnksIG1hcmtlci5wcmltYXJ5LnR5cGUpO1xuICAgICAgICBtYXJrZXIubWFya2Vycy5wdXNoKHN1Yk1hcmspO1xuICAgICAgICBzdWJNYXJrLnBhcmVudCA9IG1hcmtlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXRhY2hTaGFyZWRNYXJrZXJzKG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBsaW5rZWQgPSBbbWFya2VyLnByaW1hcnkuZG9jXTs7XG4gICAgICBsaW5rZWREb2NzKG1hcmtlci5wcmltYXJ5LmRvYywgZnVuY3Rpb24oZCkgeyBsaW5rZWQucHVzaChkKTsgfSk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcmtlci5tYXJrZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBzdWJNYXJrZXIgPSBtYXJrZXIubWFya2Vyc1tqXTtcbiAgICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkge1xuICAgICAgICAgIHN1Yk1hcmtlci5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgIG1hcmtlci5tYXJrZXJzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVEVYVE1BUktFUiBTUEFOU1xuXG4gIGZ1bmN0aW9uIE1hcmtlZFNwYW4obWFya2VyLCBmcm9tLCB0bykge1xuICAgIHRoaXMubWFya2VyID0gbWFya2VyO1xuICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgfVxuXG4gIC8vIFNlYXJjaCBhbiBhcnJheSBvZiBzcGFucyBmb3IgYSBzcGFuIG1hdGNoaW5nIHRoZSBnaXZlbiBtYXJrZXIuXG4gIGZ1bmN0aW9uIGdldE1hcmtlZFNwYW5Gb3Ioc3BhbnMsIG1hcmtlcikge1xuICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBzcGFuc1tpXTtcbiAgICAgIGlmIChzcGFuLm1hcmtlciA9PSBtYXJrZXIpIHJldHVybiBzcGFuO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmUgYSBzcGFuIGZyb20gYW4gYXJyYXksIHJldHVybmluZyB1bmRlZmluZWQgaWYgbm8gc3BhbnMgYXJlXG4gIC8vIGxlZnQgKHdlIGRvbid0IHN0b3JlIGFycmF5cyBmb3IgbGluZXMgd2l0aG91dCBzcGFucykuXG4gIGZ1bmN0aW9uIHJlbW92ZU1hcmtlZFNwYW4oc3BhbnMsIHNwYW4pIHtcbiAgICBmb3IgKHZhciByLCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgaWYgKHNwYW5zW2ldICE9IHNwYW4pIChyIHx8IChyID0gW10pKS5wdXNoKHNwYW5zW2ldKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuICAvLyBBZGQgYSBzcGFuIHRvIGEgbGluZS5cbiAgZnVuY3Rpb24gYWRkTWFya2VkU3BhbihsaW5lLCBzcGFuKSB7XG4gICAgbGluZS5tYXJrZWRTcGFucyA9IGxpbmUubWFya2VkU3BhbnMgPyBsaW5lLm1hcmtlZFNwYW5zLmNvbmNhdChbc3Bhbl0pIDogW3NwYW5dO1xuICAgIHNwYW4ubWFya2VyLmF0dGFjaExpbmUobGluZSk7XG4gIH1cblxuICAvLyBVc2VkIGZvciB0aGUgYWxnb3JpdGhtIHRoYXQgYWRqdXN0cyBtYXJrZXJzIGZvciBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIFRoZXNlIGZ1bmN0aW9ucyBjdXQgYW4gYXJyYXkgb2Ygc3BhbnMgYXQgYSBnaXZlblxuICAvLyBjaGFyYWN0ZXIgcG9zaXRpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiByZW1haW5pbmcgY2h1bmtzIChvclxuICAvLyB1bmRlZmluZWQgaWYgbm90aGluZyByZW1haW5zKS5cbiAgZnVuY3Rpb24gbWFya2VkU3BhbnNCZWZvcmUob2xkLCBzdGFydENoLCBpc0luc2VydCkge1xuICAgIGlmIChvbGQpIGZvciAodmFyIGkgPSAwLCBudzsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyO1xuICAgICAgdmFyIHN0YXJ0c0JlZm9yZSA9IHNwYW4uZnJvbSA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IHNwYW4uZnJvbSA8PSBzdGFydENoIDogc3Bhbi5mcm9tIDwgc3RhcnRDaCk7XG4gICAgICBpZiAoc3RhcnRzQmVmb3JlIHx8IHNwYW4uZnJvbSA9PSBzdGFydENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8ICFzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IHN0YXJ0Q2ggOiBzcGFuLnRvID4gc3RhcnRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzcGFuLmZyb20sIGVuZHNBZnRlciA/IG51bGwgOiBzcGFuLnRvKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudztcbiAgfVxuICBmdW5jdGlvbiBtYXJrZWRTcGFuc0FmdGVyKG9sZCwgZW5kQ2gsIGlzSW5zZXJ0KSB7XG4gICAgaWYgKG9sZCkgZm9yICh2YXIgaSA9IDAsIG53OyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IG9sZFtpXSwgbWFya2VyID0gc3Bhbi5tYXJrZXI7XG4gICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IGVuZENoIDogc3Bhbi50byA+IGVuZENoKTtcbiAgICAgIGlmIChlbmRzQWZ0ZXIgfHwgc3Bhbi5mcm9tID09IGVuZENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8IHNwYW4ubWFya2VyLmluc2VydExlZnQpKSB7XG4gICAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gZW5kQ2ggOiBzcGFuLmZyb20gPCBlbmRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzdGFydHNCZWZvcmUgPyBudWxsIDogc3Bhbi5mcm9tIC0gZW5kQ2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi50byA9PSBudWxsID8gbnVsbCA6IHNwYW4udG8gLSBlbmRDaCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnc7XG4gIH1cblxuICAvLyBHaXZlbiBhIGNoYW5nZSBvYmplY3QsIGNvbXB1dGUgdGhlIG5ldyBzZXQgb2YgbWFya2VyIHNwYW5zIHRoYXRcbiAgLy8gY292ZXIgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGNoYW5nZSB0b29rIHBsYWNlLiBSZW1vdmVzIHNwYW5zXG4gIC8vIGVudGlyZWx5IHdpdGhpbiB0aGUgY2hhbmdlLCByZWNvbm5lY3RzIHNwYW5zIGJlbG9uZ2luZyB0byB0aGVcbiAgLy8gc2FtZSBtYXJrZXIgdGhhdCBhcHBlYXIgb24gYm90aCBzaWRlcyBvZiB0aGUgY2hhbmdlLCBhbmQgY3V0cyBvZmZcbiAgLy8gc3BhbnMgcGFydGlhbGx5IHdpdGhpbiB0aGUgY2hhbmdlLiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwYW5cbiAgLy8gYXJyYXlzIHdpdGggb25lIGVsZW1lbnQgZm9yIGVhY2ggbGluZSBpbiAoYWZ0ZXIpIHRoZSBjaGFuZ2UuXG4gIGZ1bmN0aW9uIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLmZ1bGwpIHJldHVybiBudWxsO1xuICAgIHZhciBvbGRGaXJzdCA9IGlzTGluZShkb2MsIGNoYW5nZS5mcm9tLmxpbmUpICYmIGdldExpbmUoZG9jLCBjaGFuZ2UuZnJvbS5saW5lKS5tYXJrZWRTcGFucztcbiAgICB2YXIgb2xkTGFzdCA9IGlzTGluZShkb2MsIGNoYW5nZS50by5saW5lKSAmJiBnZXRMaW5lKGRvYywgY2hhbmdlLnRvLmxpbmUpLm1hcmtlZFNwYW5zO1xuICAgIGlmICghb2xkRmlyc3QgJiYgIW9sZExhc3QpIHJldHVybiBudWxsO1xuXG4gICAgdmFyIHN0YXJ0Q2ggPSBjaGFuZ2UuZnJvbS5jaCwgZW5kQ2ggPSBjaGFuZ2UudG8uY2gsIGlzSW5zZXJ0ID0gY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDA7XG4gICAgLy8gR2V0IHRoZSBzcGFucyB0aGF0ICdzdGljayBvdXQnIG9uIGJvdGggc2lkZXNcbiAgICB2YXIgZmlyc3QgPSBtYXJrZWRTcGFuc0JlZm9yZShvbGRGaXJzdCwgc3RhcnRDaCwgaXNJbnNlcnQpO1xuICAgIHZhciBsYXN0ID0gbWFya2VkU3BhbnNBZnRlcihvbGRMYXN0LCBlbmRDaCwgaXNJbnNlcnQpO1xuXG4gICAgLy8gTmV4dCwgbWVyZ2UgdGhvc2UgdHdvIGVuZHNcbiAgICB2YXIgc2FtZUxpbmUgPSBjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSwgb2Zmc2V0ID0gbHN0KGNoYW5nZS50ZXh0KS5sZW5ndGggKyAoc2FtZUxpbmUgPyBzdGFydENoIDogMCk7XG4gICAgaWYgKGZpcnN0KSB7XG4gICAgICAvLyBGaXggdXAgLnRvIHByb3BlcnRpZXMgb2YgZmlyc3RcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlyc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBmaXJzdFtpXTtcbiAgICAgICAgaWYgKHNwYW4udG8gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IobGFzdCwgc3Bhbi5tYXJrZXIpO1xuICAgICAgICAgIGlmICghZm91bmQpIHNwYW4udG8gPSBzdGFydENoO1xuICAgICAgICAgIGVsc2UgaWYgKHNhbWVMaW5lKSBzcGFuLnRvID0gZm91bmQudG8gPT0gbnVsbCA/IG51bGwgOiBmb3VuZC50byArIG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFzdCkge1xuICAgICAgLy8gRml4IHVwIC5mcm9tIGluIGxhc3QgKG9yIG1vdmUgdGhlbSBpbnRvIGZpcnN0IGluIGNhc2Ugb2Ygc2FtZUxpbmUpXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBsYXN0W2ldO1xuICAgICAgICBpZiAoc3Bhbi50byAhPSBudWxsKSBzcGFuLnRvICs9IG9mZnNldDtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSA9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gZ2V0TWFya2VkU3BhbkZvcihmaXJzdCwgc3Bhbi5tYXJrZXIpO1xuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHNwYW4uZnJvbSA9IG9mZnNldDtcbiAgICAgICAgICAgIGlmIChzYW1lTGluZSkgKGZpcnN0IHx8IChmaXJzdCA9IFtdKSkucHVzaChzcGFuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Bhbi5mcm9tICs9IG9mZnNldDtcbiAgICAgICAgICBpZiAoc2FtZUxpbmUpIChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHdlIGRpZG4ndCBjcmVhdGUgYW55IHplcm8tbGVuZ3RoIHNwYW5zXG4gICAgaWYgKGZpcnN0KSBmaXJzdCA9IGNsZWFyRW1wdHlTcGFucyhmaXJzdCk7XG4gICAgaWYgKGxhc3QgJiYgbGFzdCAhPSBmaXJzdCkgbGFzdCA9IGNsZWFyRW1wdHlTcGFucyhsYXN0KTtcblxuICAgIHZhciBuZXdNYXJrZXJzID0gW2ZpcnN0XTtcbiAgICBpZiAoIXNhbWVMaW5lKSB7XG4gICAgICAvLyBGaWxsIGdhcCB3aXRoIHdob2xlLWxpbmUtc3BhbnNcbiAgICAgIHZhciBnYXAgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAyLCBnYXBNYXJrZXJzO1xuICAgICAgaWYgKGdhcCA+IDAgJiYgZmlyc3QpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlyc3QubGVuZ3RoOyArK2kpXG4gICAgICAgICAgaWYgKGZpcnN0W2ldLnRvID09IG51bGwpXG4gICAgICAgICAgICAoZ2FwTWFya2VycyB8fCAoZ2FwTWFya2VycyA9IFtdKSkucHVzaChuZXcgTWFya2VkU3BhbihmaXJzdFtpXS5tYXJrZXIsIG51bGwsIG51bGwpKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FwOyArK2kpXG4gICAgICAgIG5ld01hcmtlcnMucHVzaChnYXBNYXJrZXJzKTtcbiAgICAgIG5ld01hcmtlcnMucHVzaChsYXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld01hcmtlcnM7XG4gIH1cblxuICAvLyBSZW1vdmUgc3BhbnMgdGhhdCBhcmUgZW1wdHkgYW5kIGRvbid0IGhhdmUgYSBjbGVhcldoZW5FbXB0eVxuICAvLyBvcHRpb24gb2YgZmFsc2UuXG4gIGZ1bmN0aW9uIGNsZWFyRW1wdHlTcGFucyhzcGFucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwgJiYgc3Bhbi5mcm9tID09IHNwYW4udG8gJiYgc3Bhbi5tYXJrZXIuY2xlYXJXaGVuRW1wdHkgIT09IGZhbHNlKVxuICAgICAgICBzcGFucy5zcGxpY2UoaS0tLCAxKTtcbiAgICB9XG4gICAgaWYgKCFzcGFucy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBzcGFucztcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHVuL3JlLWRvaW5nIGNoYW5nZXMgZnJvbSB0aGUgaGlzdG9yeS4gQ29tYmluZXMgdGhlXG4gIC8vIHJlc3VsdCBvZiBjb21wdXRpbmcgdGhlIGV4aXN0aW5nIHNwYW5zIHdpdGggdGhlIHNldCBvZiBzcGFucyB0aGF0XG4gIC8vIGV4aXN0ZWQgaW4gdGhlIGhpc3RvcnkgKHNvIHRoYXQgZGVsZXRpbmcgYXJvdW5kIGEgc3BhbiBhbmQgdGhlblxuICAvLyB1bmRvaW5nIGJyaW5ncyBiYWNrIHRoZSBzcGFuKS5cbiAgZnVuY3Rpb24gbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkge1xuICAgIHZhciBvbGQgPSBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSk7XG4gICAgdmFyIHN0cmV0Y2hlZCA9IHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGlmICghb2xkKSByZXR1cm4gc3RyZXRjaGVkO1xuICAgIGlmICghc3RyZXRjaGVkKSByZXR1cm4gb2xkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBvbGRDdXIgPSBvbGRbaV0sIHN0cmV0Y2hDdXIgPSBzdHJldGNoZWRbaV07XG4gICAgICBpZiAob2xkQ3VyICYmIHN0cmV0Y2hDdXIpIHtcbiAgICAgICAgc3BhbnM6IGZvciAodmFyIGogPSAwOyBqIDwgc3RyZXRjaEN1ci5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciBzcGFuID0gc3RyZXRjaEN1cltqXTtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG9sZEN1ci5sZW5ndGg7ICsraylcbiAgICAgICAgICAgIGlmIChvbGRDdXJba10ubWFya2VyID09IHNwYW4ubWFya2VyKSBjb250aW51ZSBzcGFucztcbiAgICAgICAgICBvbGRDdXIucHVzaChzcGFuKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJldGNoQ3VyKSB7XG4gICAgICAgIG9sZFtpXSA9IHN0cmV0Y2hDdXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvbGQ7XG4gIH1cblxuICAvLyBVc2VkIHRvICdjbGlwJyBvdXQgcmVhZE9ubHkgcmFuZ2VzIHdoZW4gbWFraW5nIGEgY2hhbmdlLlxuICBmdW5jdGlvbiByZW1vdmVSZWFkT25seVJhbmdlcyhkb2MsIGZyb20sIHRvKSB7XG4gICAgdmFyIG1hcmtlcnMgPSBudWxsO1xuICAgIGRvYy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG1hcmsgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLm1hcmtlcjtcbiAgICAgICAgaWYgKG1hcmsucmVhZE9ubHkgJiYgKCFtYXJrZXJzIHx8IGluZGV4T2YobWFya2VycywgbWFyaykgPT0gLTEpKVxuICAgICAgICAgIChtYXJrZXJzIHx8IChtYXJrZXJzID0gW10pKS5wdXNoKG1hcmspO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghbWFya2VycykgcmV0dXJuIG51bGw7XG4gICAgdmFyIHBhcnRzID0gW3tmcm9tOiBmcm9tLCB0bzogdG99XTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBtayA9IG1hcmtlcnNbaV0sIG0gPSBtay5maW5kKDApO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgcCA9IHBhcnRzW2pdO1xuICAgICAgICBpZiAoY21wKHAudG8sIG0uZnJvbSkgPCAwIHx8IGNtcChwLmZyb20sIG0udG8pID4gMCkgY29udGludWU7XG4gICAgICAgIHZhciBuZXdQYXJ0cyA9IFtqLCAxXSwgZGZyb20gPSBjbXAocC5mcm9tLCBtLmZyb20pLCBkdG8gPSBjbXAocC50bywgbS50byk7XG4gICAgICAgIGlmIChkZnJvbSA8IDAgfHwgIW1rLmluY2x1c2l2ZUxlZnQgJiYgIWRmcm9tKVxuICAgICAgICAgIG5ld1BhcnRzLnB1c2goe2Zyb206IHAuZnJvbSwgdG86IG0uZnJvbX0pO1xuICAgICAgICBpZiAoZHRvID4gMCB8fCAhbWsuaW5jbHVzaXZlUmlnaHQgJiYgIWR0bylcbiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBtLnRvLCB0bzogcC50b30pO1xuICAgICAgICBwYXJ0cy5zcGxpY2UuYXBwbHkocGFydHMsIG5ld1BhcnRzKTtcbiAgICAgICAgaiArPSBuZXdQYXJ0cy5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICAvLyBDb25uZWN0IG9yIGRpc2Nvbm5lY3Qgc3BhbnMgZnJvbSBhIGxpbmUuXG4gIGZ1bmN0aW9uIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpIHtcbiAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgIGlmICghc3BhbnMpIHJldHVybjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgc3BhbnNbaV0ubWFya2VyLmRldGFjaExpbmUobGluZSk7XG4gICAgbGluZS5tYXJrZWRTcGFucyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNoTWFya2VkU3BhbnMobGluZSwgc3BhbnMpIHtcbiAgICBpZiAoIXNwYW5zKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIHNwYW5zW2ldLm1hcmtlci5hdHRhY2hMaW5lKGxpbmUpO1xuICAgIGxpbmUubWFya2VkU3BhbnMgPSBzcGFucztcbiAgfVxuXG4gIC8vIEhlbHBlcnMgdXNlZCB3aGVuIGNvbXB1dGluZyB3aGljaCBvdmVybGFwcGluZyBjb2xsYXBzZWQgc3BhblxuICAvLyBjb3VudHMgYXMgdGhlIGxhcmdlciBvbmUuXG4gIGZ1bmN0aW9uIGV4dHJhTGVmdChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAwOyB9XG4gIGZ1bmN0aW9uIGV4dHJhUmlnaHQobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyAxIDogMDsgfVxuXG4gIC8vIFJldHVybnMgYSBudW1iZXIgaW5kaWNhdGluZyB3aGljaCBvZiB0d28gb3ZlcmxhcHBpbmcgY29sbGFwc2VkXG4gIC8vIHNwYW5zIGlzIGxhcmdlciAoYW5kIHRodXMgaW5jbHVkZXMgdGhlIG90aGVyKS4gRmFsbHMgYmFjayB0b1xuICAvLyBjb21wYXJpbmcgaWRzIHdoZW4gdGhlIHNwYW5zIGNvdmVyIGV4YWN0bHkgdGhlIHNhbWUgcmFuZ2UuXG4gIGZ1bmN0aW9uIGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGEsIGIpIHtcbiAgICB2YXIgbGVuRGlmZiA9IGEubGluZXMubGVuZ3RoIC0gYi5saW5lcy5sZW5ndGg7XG4gICAgaWYgKGxlbkRpZmYgIT0gMCkgcmV0dXJuIGxlbkRpZmY7XG4gICAgdmFyIGFQb3MgPSBhLmZpbmQoKSwgYlBvcyA9IGIuZmluZCgpO1xuICAgIHZhciBmcm9tQ21wID0gY21wKGFQb3MuZnJvbSwgYlBvcy5mcm9tKSB8fCBleHRyYUxlZnQoYSkgLSBleHRyYUxlZnQoYik7XG4gICAgaWYgKGZyb21DbXApIHJldHVybiAtZnJvbUNtcDtcbiAgICB2YXIgdG9DbXAgPSBjbXAoYVBvcy50bywgYlBvcy50bykgfHwgZXh0cmFSaWdodChhKSAtIGV4dHJhUmlnaHQoYik7XG4gICAgaWYgKHRvQ21wKSByZXR1cm4gdG9DbXA7XG4gICAgcmV0dXJuIGIuaWQgLSBhLmlkO1xuICB9XG5cbiAgLy8gRmluZCBvdXQgd2hldGhlciBhIGxpbmUgZW5kcyBvciBzdGFydHMgaW4gYSBjb2xsYXBzZWQgc3Bhbi4gSWZcbiAgLy8gc28sIHJldHVybiB0aGUgbWFya2VyIGZvciB0aGF0IHNwYW4uXG4gIGZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgc3RhcnQpIHtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucywgZm91bmQ7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICBzcCA9IHNwc1tpXTtcbiAgICAgIGlmIChzcC5tYXJrZXIuY29sbGFwc2VkICYmIChzdGFydCA/IHNwLmZyb20gOiBzcC50bykgPT0gbnVsbCAmJlxuICAgICAgICAgICghZm91bmQgfHwgY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoZm91bmQsIHNwLm1hcmtlcikgPCAwKSlcbiAgICAgICAgZm91bmQgPSBzcC5tYXJrZXI7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHRydWUpOyB9XG4gIGZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIGZhbHNlKTsgfVxuXG4gIC8vIFRlc3Qgd2hldGhlciB0aGVyZSBleGlzdHMgYSBjb2xsYXBzZWQgc3BhbiB0aGF0IHBhcnRpYWxseVxuICAvLyBvdmVybGFwcyAoY292ZXJzIHRoZSBzdGFydCBvciBlbmQsIGJ1dCBub3QgYm90aCkgb2YgYSBuZXcgc3Bhbi5cbiAgLy8gU3VjaCBvdmVybGFwIGlzIG5vdCBhbGxvd2VkLlxuICBmdW5jdGlvbiBjb25mbGljdGluZ0NvbGxhcHNlZFJhbmdlKGRvYywgbGluZU5vLCBmcm9tLCB0bywgbWFya2VyKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU5vKTtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoc3BzKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwID0gc3BzW2ldO1xuICAgICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSBjb250aW51ZTtcbiAgICAgIHZhciBmb3VuZCA9IHNwLm1hcmtlci5maW5kKDApO1xuICAgICAgdmFyIGZyb21DbXAgPSBjbXAoZm91bmQuZnJvbSwgZnJvbSkgfHwgZXh0cmFMZWZ0KHNwLm1hcmtlcikgLSBleHRyYUxlZnQobWFya2VyKTtcbiAgICAgIHZhciB0b0NtcCA9IGNtcChmb3VuZC50bywgdG8pIHx8IGV4dHJhUmlnaHQoc3AubWFya2VyKSAtIGV4dHJhUmlnaHQobWFya2VyKTtcbiAgICAgIGlmIChmcm9tQ21wID49IDAgJiYgdG9DbXAgPD0gMCB8fCBmcm9tQ21wIDw9IDAgJiYgdG9DbXAgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoZnJvbUNtcCA8PSAwICYmIChjbXAoZm91bmQudG8sIGZyb20pID4gMCB8fCAoc3AubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIG1hcmtlci5pbmNsdXNpdmVMZWZ0KSkgfHxcbiAgICAgICAgICBmcm9tQ21wID49IDAgJiYgKGNtcChmb3VuZC5mcm9tLCB0bykgPCAwIHx8IChzcC5tYXJrZXIuaW5jbHVzaXZlTGVmdCAmJiBtYXJrZXIuaW5jbHVzaXZlUmlnaHQpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gQSB2aXN1YWwgbGluZSBpcyBhIGxpbmUgYXMgZHJhd24gb24gdGhlIHNjcmVlbi4gRm9sZGluZywgZm9yXG4gIC8vIGV4YW1wbGUsIGNhbiBjYXVzZSBtdWx0aXBsZSBsb2dpY2FsIGxpbmVzIHRvIGFwcGVhciBvbiB0aGUgc2FtZVxuICAvLyB2aXN1YWwgbGluZS4gVGhpcyBmaW5kcyB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4gIC8vIGdpdmVuIGxpbmUgaXMgcGFydCBvZiAodXN1YWxseSB0aGF0IGlzIHRoZSBsaW5lIGl0c2VsZikuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmUobGluZSkge1xuICAgIHZhciBtZXJnZWQ7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGxpbmUpKVxuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKC0xLCB0cnVlKS5saW5lO1xuICAgIHJldHVybiBsaW5lO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhbiBhcnJheSBvZiBsb2dpY2FsIGxpbmVzIHRoYXQgY29udGludWUgdGhlIHZpc3VhbCBsaW5lXG4gIC8vIHN0YXJ0ZWQgYnkgdGhlIGFyZ3VtZW50LCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggbGluZXMuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVDb250aW51ZWQobGluZSkge1xuICAgIHZhciBtZXJnZWQsIGxpbmVzO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpIHtcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lO1xuICAgICAgKGxpbmVzIHx8IChsaW5lcyA9IFtdKSkucHVzaChsaW5lKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4gIC8vIGdpdmVuIGxpbmUgbnVtYmVyIGlzIHBhcnQgb2YuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVObyhkb2MsIGxpbmVOKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCB2aXMgPSB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIGlmIChsaW5lID09IHZpcykgcmV0dXJuIGxpbmVOO1xuICAgIHJldHVybiBsaW5lTm8odmlzKTtcbiAgfVxuICAvLyBHZXQgdGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBzdGFydCBvZiB0aGUgbmV4dCB2aXN1YWwgbGluZSBhZnRlclxuICAvLyB0aGUgZ2l2ZW4gbGluZS5cbiAgZnVuY3Rpb24gdmlzdWFsTGluZUVuZE5vKGRvYywgbGluZU4pIHtcbiAgICBpZiAobGluZU4gPiBkb2MubGFzdExpbmUoKSkgcmV0dXJuIGxpbmVOO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVOKSwgbWVyZ2VkO1xuICAgIGlmICghbGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHJldHVybiBsaW5lTjtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKVxuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmU7XG4gICAgcmV0dXJuIGxpbmVObyhsaW5lKSArIDE7XG4gIH1cblxuICAvLyBDb21wdXRlIHdoZXRoZXIgYSBsaW5lIGlzIGhpZGRlbi4gTGluZXMgY291bnQgYXMgaGlkZGVuIHdoZW4gdGhleVxuICAvLyBhcmUgcGFydCBvZiBhIHZpc3VhbCBsaW5lIHRoYXQgc3RhcnRzIHdpdGggYW5vdGhlciBsaW5lLCBvciB3aGVuXG4gIC8vIHRoZXkgYXJlIGVudGlyZWx5IGNvdmVyZWQgYnkgY29sbGFwc2VkLCBub24td2lkZ2V0IHNwYW4uXG4gIGZ1bmN0aW9uIGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpIHtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoc3BzKSBmb3IgKHZhciBzcCwgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHNwID0gc3BzW2ldO1xuICAgICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSBjb250aW51ZTtcbiAgICAgIGlmIChzcC5mcm9tID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHNwLm1hcmtlci53aWRnZXROb2RlKSBjb250aW51ZTtcbiAgICAgIGlmIChzcC5mcm9tID09IDAgJiYgc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgJiYgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGxpbmUsIHNwYW4pIHtcbiAgICBpZiAoc3Bhbi50byA9PSBudWxsKSB7XG4gICAgICB2YXIgZW5kID0gc3Bhbi5tYXJrZXIuZmluZCgxLCB0cnVlKTtcbiAgICAgIHJldHVybiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGVuZC5saW5lLCBnZXRNYXJrZWRTcGFuRm9yKGVuZC5saW5lLm1hcmtlZFNwYW5zLCBzcGFuLm1hcmtlcikpO1xuICAgIH1cbiAgICBpZiAoc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgc3Bhbi50byA9PSBsaW5lLnRleHQubGVuZ3RoKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgbGluZS5tYXJrZWRTcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldO1xuICAgICAgaWYgKHNwLm1hcmtlci5jb2xsYXBzZWQgJiYgIXNwLm1hcmtlci53aWRnZXROb2RlICYmIHNwLmZyb20gPT0gc3Bhbi50byAmJlxuICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IHNwLnRvICE9IHNwYW4uZnJvbSkgJiZcbiAgICAgICAgICAoc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgfHwgc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQpICYmXG4gICAgICAgICAgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIExJTkUgV0lER0VUU1xuXG4gIC8vIExpbmUgd2lkZ2V0cyBhcmUgYmxvY2sgZWxlbWVudHMgZGlzcGxheWVkIGFib3ZlIG9yIGJlbG93IGEgbGluZS5cblxuICB2YXIgTGluZVdpZGdldCA9IENvZGVNaXJyb3IuTGluZVdpZGdldCA9IGZ1bmN0aW9uKGRvYywgbm9kZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSlcbiAgICAgIHRoaXNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICB0aGlzLmRvYyA9IGRvYztcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICB9O1xuICBldmVudE1peGluKExpbmVXaWRnZXQpO1xuXG4gIGZ1bmN0aW9uIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpIHtcbiAgICBpZiAoaGVpZ2h0QXRMaW5lKGxpbmUpIDwgKChjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3ApIHx8IGNtLmRvYy5zY3JvbGxUb3ApKVxuICAgICAgYWRkVG9TY3JvbGxQb3MoY20sIG51bGwsIGRpZmYpO1xuICB9XG5cbiAgTGluZVdpZGdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY20gPSB0aGlzLmRvYy5jbSwgd3MgPSB0aGlzLmxpbmUud2lkZ2V0cywgbGluZSA9IHRoaXMubGluZSwgbm8gPSBsaW5lTm8obGluZSk7XG4gICAgaWYgKG5vID09IG51bGwgfHwgIXdzKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgaWYgKHdzW2ldID09IHRoaXMpIHdzLnNwbGljZShpLS0sIDEpO1xuICAgIGlmICghd3MubGVuZ3RoKSBsaW5lLndpZGdldHMgPSBudWxsO1xuICAgIHZhciBoZWlnaHQgPSB3aWRnZXRIZWlnaHQodGhpcyk7XG4gICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBNYXRoLm1heCgwLCBsaW5lLmhlaWdodCAtIGhlaWdodCkpO1xuICAgIGlmIChjbSkgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCAtaGVpZ2h0KTtcbiAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIG5vLCBcIndpZGdldFwiKTtcbiAgICB9KTtcbiAgfTtcbiAgTGluZVdpZGdldC5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbGRIID0gdGhpcy5oZWlnaHQsIGNtID0gdGhpcy5kb2MuY20sIGxpbmUgPSB0aGlzLmxpbmU7XG4gICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgIHZhciBkaWZmID0gd2lkZ2V0SGVpZ2h0KHRoaXMpIC0gb2xkSDtcbiAgICBpZiAoIWRpZmYpIHJldHVybjtcbiAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgZGlmZik7XG4gICAgaWYgKGNtKSBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHdpZGdldEhlaWdodCh3aWRnZXQpIHtcbiAgICBpZiAod2lkZ2V0LmhlaWdodCAhPSBudWxsKSByZXR1cm4gd2lkZ2V0LmhlaWdodDtcbiAgICB2YXIgY20gPSB3aWRnZXQuZG9jLmNtO1xuICAgIGlmICghY20pIHJldHVybiAwO1xuICAgIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7XG4gICAgICB2YXIgcGFyZW50U3R5bGUgPSBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIjtcbiAgICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpXG4gICAgICAgIHBhcmVudFN0eWxlICs9IFwibWFyZ2luLWxlZnQ6IC1cIiArIGNtLmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCArIFwicHg7XCI7XG4gICAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbClcbiAgICAgICAgcGFyZW50U3R5bGUgKz0gXCJ3aWR0aDogXCIgKyBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggKyBcInB4O1wiO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5tZWFzdXJlLCBlbHQoXCJkaXZcIiwgW3dpZGdldC5ub2RlXSwgbnVsbCwgcGFyZW50U3R5bGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpZGdldC5oZWlnaHQgPSB3aWRnZXQubm9kZS5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRMaW5lV2lkZ2V0KGRvYywgaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIHdpZGdldCA9IG5ldyBMaW5lV2lkZ2V0KGRvYywgbm9kZSwgb3B0aW9ucyk7XG4gICAgdmFyIGNtID0gZG9jLmNtO1xuICAgIGlmIChjbSAmJiB3aWRnZXQubm9IU2Nyb2xsKSBjbS5kaXNwbGF5LmFsaWduV2lkZ2V0cyA9IHRydWU7XG4gICAgY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgXCJ3aWRnZXRcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHdpZGdldHMgPSBsaW5lLndpZGdldHMgfHwgKGxpbmUud2lkZ2V0cyA9IFtdKTtcbiAgICAgIGlmICh3aWRnZXQuaW5zZXJ0QXQgPT0gbnVsbCkgd2lkZ2V0cy5wdXNoKHdpZGdldCk7XG4gICAgICBlbHNlIHdpZGdldHMuc3BsaWNlKE1hdGgubWluKHdpZGdldHMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgd2lkZ2V0Lmluc2VydEF0KSksIDAsIHdpZGdldCk7XG4gICAgICB3aWRnZXQubGluZSA9IGxpbmU7XG4gICAgICBpZiAoY20gJiYgIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7XG4gICAgICAgIHZhciBhYm92ZVZpc2libGUgPSBoZWlnaHRBdExpbmUobGluZSkgPCBkb2Muc2Nyb2xsVG9wO1xuICAgICAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgd2lkZ2V0SGVpZ2h0KHdpZGdldCkpO1xuICAgICAgICBpZiAoYWJvdmVWaXNpYmxlKSBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgd2lkZ2V0LmhlaWdodCk7XG4gICAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB3aWRnZXQ7XG4gIH1cblxuICAvLyBMSU5FIERBVEEgU1RSVUNUVVJFXG5cbiAgLy8gTGluZSBvYmplY3RzLiBUaGVzZSBob2xkIHN0YXRlIHJlbGF0ZWQgdG8gYSBsaW5lLCBpbmNsdWRpbmdcbiAgLy8gaGlnaGxpZ2h0aW5nIGluZm8gKHRoZSBzdHlsZXMgYXJyYXkpLlxuICB2YXIgTGluZSA9IENvZGVNaXJyb3IuTGluZSA9IGZ1bmN0aW9uKHRleHQsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgYXR0YWNoTWFya2VkU3BhbnModGhpcywgbWFya2VkU3BhbnMpO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXN0aW1hdGVIZWlnaHQgPyBlc3RpbWF0ZUhlaWdodCh0aGlzKSA6IDE7XG4gIH07XG4gIGV2ZW50TWl4aW4oTGluZSk7XG4gIExpbmUucHJvdG90eXBlLmxpbmVObyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGluZU5vKHRoaXMpOyB9O1xuXG4gIC8vIENoYW5nZSB0aGUgY29udGVudCAodGV4dCwgbWFya2Vycykgb2YgYSBsaW5lLiBBdXRvbWF0aWNhbGx5XG4gIC8vIGludmFsaWRhdGVzIGNhY2hlZCBpbmZvcm1hdGlvbiBhbmQgdHJpZXMgdG8gcmUtZXN0aW1hdGUgdGhlXG4gIC8vIGxpbmUncyBoZWlnaHQuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmUobGluZSwgdGV4dCwgbWFya2VkU3BhbnMsIGVzdGltYXRlSGVpZ2h0KSB7XG4gICAgbGluZS50ZXh0ID0gdGV4dDtcbiAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsO1xuICAgIGlmIChsaW5lLnN0eWxlcykgbGluZS5zdHlsZXMgPSBudWxsO1xuICAgIGlmIChsaW5lLm9yZGVyICE9IG51bGwpIGxpbmUub3JkZXIgPSBudWxsO1xuICAgIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpO1xuICAgIGF0dGFjaE1hcmtlZFNwYW5zKGxpbmUsIG1hcmtlZFNwYW5zKTtcbiAgICB2YXIgZXN0SGVpZ2h0ID0gZXN0aW1hdGVIZWlnaHQgPyBlc3RpbWF0ZUhlaWdodChsaW5lKSA6IDE7XG4gICAgaWYgKGVzdEhlaWdodCAhPSBsaW5lLmhlaWdodCkgdXBkYXRlTGluZUhlaWdodChsaW5lLCBlc3RIZWlnaHQpO1xuICB9XG5cbiAgLy8gRGV0YWNoIGEgbGluZSBmcm9tIHRoZSBkb2N1bWVudCB0cmVlIGFuZCBpdHMgbWFya2Vycy5cbiAgZnVuY3Rpb24gY2xlYW5VcExpbmUobGluZSkge1xuICAgIGxpbmUucGFyZW50ID0gbnVsbDtcbiAgICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dHJhY3RMaW5lQ2xhc3Nlcyh0eXBlLCBvdXRwdXQpIHtcbiAgICBpZiAodHlwZSkgZm9yICg7Oykge1xuICAgICAgdmFyIGxpbmVDbGFzcyA9IHR5cGUubWF0Y2goLyg/Ol58XFxzKylsaW5lLShiYWNrZ3JvdW5kLSk/KFxcUyspLyk7XG4gICAgICBpZiAoIWxpbmVDbGFzcykgYnJlYWs7XG4gICAgICB0eXBlID0gdHlwZS5zbGljZSgwLCBsaW5lQ2xhc3MuaW5kZXgpICsgdHlwZS5zbGljZShsaW5lQ2xhc3MuaW5kZXggKyBsaW5lQ2xhc3NbMF0ubGVuZ3RoKTtcbiAgICAgIHZhciBwcm9wID0gbGluZUNsYXNzWzFdID8gXCJiZ0NsYXNzXCIgOiBcInRleHRDbGFzc1wiO1xuICAgICAgaWYgKG91dHB1dFtwcm9wXSA9PSBudWxsKVxuICAgICAgICBvdXRwdXRbcHJvcF0gPSBsaW5lQ2xhc3NbMl07XG4gICAgICBlbHNlIGlmICghKG5ldyBSZWdFeHAoXCIoPzpefFxccylcIiArIGxpbmVDbGFzc1syXSArIFwiKD86JHxcXHMpXCIpKS50ZXN0KG91dHB1dFtwcm9wXSkpXG4gICAgICAgIG91dHB1dFtwcm9wXSArPSBcIiBcIiArIGxpbmVDbGFzc1syXTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSB7XG4gICAgaWYgKG1vZGUuYmxhbmtMaW5lKSByZXR1cm4gbW9kZS5ibGFua0xpbmUoc3RhdGUpO1xuICAgIGlmICghbW9kZS5pbm5lck1vZGUpIHJldHVybjtcbiAgICB2YXIgaW5uZXIgPSBDb2RlTWlycm9yLmlubmVyTW9kZShtb2RlLCBzdGF0ZSk7XG4gICAgaWYgKGlubmVyLm1vZGUuYmxhbmtMaW5lKSByZXR1cm4gaW5uZXIubW9kZS5ibGFua0xpbmUoaW5uZXIuc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUsIGlubmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBpZiAoaW5uZXIpIGlubmVyWzBdID0gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgc3RhdGUpLm1vZGU7XG4gICAgICB2YXIgc3R5bGUgPSBtb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpIHJldHVybiBzdHlsZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIiArIG1vZGUubmFtZSArIFwiIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIik7XG4gIH1cblxuICAvLyBVdGlsaXR5IGZvciBnZXRUb2tlbkF0IGFuZCBnZXRMaW5lVG9rZW5zXG4gIGZ1bmN0aW9uIHRha2VUb2tlbihjbSwgcG9zLCBwcmVjaXNlLCBhc0FycmF5KSB7XG4gICAgZnVuY3Rpb24gZ2V0T2JqKGNvcHkpIHtcbiAgICAgIHJldHVybiB7c3RhcnQ6IHN0cmVhbS5zdGFydCwgZW5kOiBzdHJlYW0ucG9zLFxuICAgICAgICAgICAgICBzdHJpbmc6IHN0cmVhbS5jdXJyZW50KCksXG4gICAgICAgICAgICAgIHR5cGU6IHN0eWxlIHx8IG51bGwsXG4gICAgICAgICAgICAgIHN0YXRlOiBjb3B5ID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZX07XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IGNtLmRvYywgbW9kZSA9IGRvYy5tb2RlLCBzdHlsZTtcbiAgICBwb3MgPSBjbGlwUG9zKGRvYywgcG9zKTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSksIHN0YXRlID0gZ2V0U3RhdGVCZWZvcmUoY20sIHBvcy5saW5lLCBwcmVjaXNlKTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbShsaW5lLnRleHQsIGNtLm9wdGlvbnMudGFiU2l6ZSksIHRva2VucztcbiAgICBpZiAoYXNBcnJheSkgdG9rZW5zID0gW107XG4gICAgd2hpbGUgKChhc0FycmF5IHx8IHN0cmVhbS5wb3MgPCBwb3MuY2gpICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgICBzdHlsZSA9IHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgIGlmIChhc0FycmF5KSB0b2tlbnMucHVzaChnZXRPYmoodHJ1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXNBcnJheSA/IHRva2VucyA6IGdldE9iaigpO1xuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBtb2RlJ3MgcGFyc2VyIG92ZXIgYSBsaW5lLCBjYWxsaW5nIGYgZm9yIGVhY2ggdG9rZW4uXG4gIGZ1bmN0aW9uIHJ1bk1vZGUoY20sIHRleHQsIG1vZGUsIHN0YXRlLCBmLCBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZCkge1xuICAgIHZhciBmbGF0dGVuU3BhbnMgPSBtb2RlLmZsYXR0ZW5TcGFucztcbiAgICBpZiAoZmxhdHRlblNwYW5zID09IG51bGwpIGZsYXR0ZW5TcGFucyA9IGNtLm9wdGlvbnMuZmxhdHRlblNwYW5zO1xuICAgIHZhciBjdXJTdGFydCA9IDAsIGN1clN0eWxlID0gbnVsbDtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpLCBzdHlsZTtcbiAgICB2YXIgaW5uZXIgPSBjbS5vcHRpb25zLmFkZE1vZGVDbGFzcyAmJiBbbnVsbF07XG4gICAgaWYgKHRleHQgPT0gXCJcIikgZXh0cmFjdExpbmVDbGFzc2VzKGNhbGxCbGFua0xpbmUobW9kZSwgc3RhdGUpLCBsaW5lQ2xhc3Nlcyk7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIGlmIChzdHJlYW0ucG9zID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgpIHtcbiAgICAgICAgZmxhdHRlblNwYW5zID0gZmFsc2U7XG4gICAgICAgIGlmIChmb3JjZVRvRW5kKSBwcm9jZXNzTGluZShjbSwgdGV4dCwgc3RhdGUsIHN0cmVhbS5wb3MpO1xuICAgICAgICBzdHJlYW0ucG9zID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHN0eWxlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlID0gZXh0cmFjdExpbmVDbGFzc2VzKHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlLCBpbm5lciksIGxpbmVDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICB2YXIgbU5hbWUgPSBpbm5lclswXS5uYW1lO1xuICAgICAgICBpZiAobU5hbWUpIHN0eWxlID0gXCJtLVwiICsgKHN0eWxlID8gbU5hbWUgKyBcIiBcIiArIHN0eWxlIDogbU5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbGF0dGVuU3BhbnMgfHwgY3VyU3R5bGUgIT0gc3R5bGUpIHtcbiAgICAgICAgd2hpbGUgKGN1clN0YXJ0IDwgc3RyZWFtLnN0YXJ0KSB7XG4gICAgICAgICAgY3VyU3RhcnQgPSBNYXRoLm1pbihzdHJlYW0uc3RhcnQsIGN1clN0YXJ0ICsgNTAwMDApO1xuICAgICAgICAgIGYoY3VyU3RhcnQsIGN1clN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJTdHlsZSA9IHN0eWxlO1xuICAgICAgfVxuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gICAgd2hpbGUgKGN1clN0YXJ0IDwgc3RyZWFtLnBvcykge1xuICAgICAgLy8gV2Via2l0IHNlZW1zIHRvIHJlZnVzZSB0byByZW5kZXIgdGV4dCBub2RlcyBsb25nZXIgdGhhbiA1NzQ0NCBjaGFyYWN0ZXJzXG4gICAgICB2YXIgcG9zID0gTWF0aC5taW4oc3RyZWFtLnBvcywgY3VyU3RhcnQgKyA1MDAwMCk7XG4gICAgICBmKHBvcywgY3VyU3R5bGUpO1xuICAgICAgY3VyU3RhcnQgPSBwb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSBhIHN0eWxlIGFycmF5IChhbiBhcnJheSBzdGFydGluZyB3aXRoIGEgbW9kZSBnZW5lcmF0aW9uXG4gIC8vIC0tIGZvciBpbnZhbGlkYXRpb24gLS0gZm9sbG93ZWQgYnkgcGFpcnMgb2YgZW5kIHBvc2l0aW9ucyBhbmRcbiAgLy8gc3R5bGUgc3RyaW5ncyksIHdoaWNoIGlzIHVzZWQgdG8gaGlnaGxpZ2h0IHRoZSB0b2tlbnMgb24gdGhlXG4gIC8vIGxpbmUuXG4gIGZ1bmN0aW9uIGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIHN0YXRlLCBmb3JjZVRvRW5kKSB7XG4gICAgLy8gQSBzdHlsZXMgYXJyYXkgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgbnVtYmVyIGlkZW50aWZ5aW5nIHRoZVxuICAgIC8vIG1vZGUvb3ZlcmxheXMgdGhhdCBpdCBpcyBiYXNlZCBvbiAoZm9yIGVhc3kgaW52YWxpZGF0aW9uKS5cbiAgICB2YXIgc3QgPSBbY20uc3RhdGUubW9kZUdlbl0sIGxpbmVDbGFzc2VzID0ge307XG4gICAgLy8gQ29tcHV0ZSB0aGUgYmFzZSBhcnJheSBvZiBzdHlsZXNcbiAgICBydW5Nb2RlKGNtLCBsaW5lLnRleHQsIGNtLmRvYy5tb2RlLCBzdGF0ZSwgZnVuY3Rpb24oZW5kLCBzdHlsZSkge1xuICAgICAgc3QucHVzaChlbmQsIHN0eWxlKTtcbiAgICB9LCBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZCk7XG5cbiAgICAvLyBSdW4gb3ZlcmxheXMsIGFkanVzdCBzdHlsZSBhcnJheS5cbiAgICBmb3IgKHZhciBvID0gMDsgbyA8IGNtLnN0YXRlLm92ZXJsYXlzLmxlbmd0aDsgKytvKSB7XG4gICAgICB2YXIgb3ZlcmxheSA9IGNtLnN0YXRlLm92ZXJsYXlzW29dLCBpID0gMSwgYXQgPSAwO1xuICAgICAgcnVuTW9kZShjbSwgbGluZS50ZXh0LCBvdmVybGF5Lm1vZGUsIHRydWUsIGZ1bmN0aW9uKGVuZCwgc3R5bGUpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gaTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZXJlJ3MgYSB0b2tlbiBlbmQgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24sIGFuZCB0aGF0IGkgcG9pbnRzIGF0IGl0XG4gICAgICAgIHdoaWxlIChhdCA8IGVuZCkge1xuICAgICAgICAgIHZhciBpX2VuZCA9IHN0W2ldO1xuICAgICAgICAgIGlmIChpX2VuZCA+IGVuZClcbiAgICAgICAgICAgIHN0LnNwbGljZShpLCAxLCBlbmQsIHN0W2krMV0sIGlfZW5kKTtcbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgYXQgPSBNYXRoLm1pbihlbmQsIGlfZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0eWxlKSByZXR1cm47XG4gICAgICAgIGlmIChvdmVybGF5Lm9wYXF1ZSkge1xuICAgICAgICAgIHN0LnNwbGljZShzdGFydCwgaSAtIHN0YXJ0LCBlbmQsIFwiY20tb3ZlcmxheSBcIiArIHN0eWxlKTtcbiAgICAgICAgICBpID0gc3RhcnQgKyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoOyBzdGFydCA8IGk7IHN0YXJ0ICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBjdXIgPSBzdFtzdGFydCsxXTtcbiAgICAgICAgICAgIHN0W3N0YXJ0KzFdID0gKGN1ciA/IGN1ciArIFwiIFwiIDogXCJcIikgKyBcImNtLW92ZXJsYXkgXCIgKyBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGxpbmVDbGFzc2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3N0eWxlczogc3QsIGNsYXNzZXM6IGxpbmVDbGFzc2VzLmJnQ2xhc3MgfHwgbGluZUNsYXNzZXMudGV4dENsYXNzID8gbGluZUNsYXNzZXMgOiBudWxsfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIHVwZGF0ZUZyb250aWVyKSB7XG4gICAgaWYgKCFsaW5lLnN0eWxlcyB8fCBsaW5lLnN0eWxlc1swXSAhPSBjbS5zdGF0ZS5tb2RlR2VuKSB7XG4gICAgICB2YXIgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgbGluZU5vKGxpbmUpKTtcbiAgICAgIHZhciByZXN1bHQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGggPyBjb3B5U3RhdGUoY20uZG9jLm1vZGUsIHN0YXRlKSA6IHN0YXRlKTtcbiAgICAgIGxpbmUuc3RhdGVBZnRlciA9IHN0YXRlO1xuICAgICAgbGluZS5zdHlsZXMgPSByZXN1bHQuc3R5bGVzO1xuICAgICAgaWYgKHJlc3VsdC5jbGFzc2VzKSBsaW5lLnN0eWxlQ2xhc3NlcyA9IHJlc3VsdC5jbGFzc2VzO1xuICAgICAgZWxzZSBpZiAobGluZS5zdHlsZUNsYXNzZXMpIGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbDtcbiAgICAgIGlmICh1cGRhdGVGcm9udGllciA9PT0gY20uZG9jLmZyb250aWVyKSBjbS5kb2MuZnJvbnRpZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGxpbmUuc3R5bGVzO1xuICB9XG5cbiAgLy8gTGlnaHR3ZWlnaHQgZm9ybSBvZiBoaWdobGlnaHQgLS0gcHJvY2VlZCBvdmVyIHRoaXMgbGluZSBhbmRcbiAgLy8gdXBkYXRlIHN0YXRlLCBidXQgZG9uJ3Qgc2F2ZSBhIHN0eWxlIGFycmF5LiBVc2VkIGZvciBsaW5lcyB0aGF0XG4gIC8vIGFyZW4ndCBjdXJyZW50bHkgdmlzaWJsZS5cbiAgZnVuY3Rpb24gcHJvY2Vzc0xpbmUoY20sIHRleHQsIHN0YXRlLCBzdGFydEF0KSB7XG4gICAgdmFyIG1vZGUgPSBjbS5kb2MubW9kZTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpO1xuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3MgPSBzdGFydEF0IHx8IDA7XG4gICAgaWYgKHRleHQgPT0gXCJcIikgY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSk7XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29udmVydCBhIHN0eWxlIGFzIHJldHVybmVkIGJ5IGEgbW9kZSAoZWl0aGVyIG51bGwsIG9yIGEgc3RyaW5nXG4gIC8vIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc3R5bGVzKSB0byBhIENTUyBzdHlsZS4gVGhpcyBpcyBjYWNoZWQsXG4gIC8vIGFuZCBhbHNvIGxvb2tzIGZvciBsaW5lLXdpZGUgc3R5bGVzLlxuICB2YXIgc3R5bGVUb0NsYXNzQ2FjaGUgPSB7fSwgc3R5bGVUb0NsYXNzQ2FjaGVXaXRoTW9kZSA9IHt9O1xuICBmdW5jdGlvbiBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzdHlsZSB8fCAvXlxccyokLy50ZXN0KHN0eWxlKSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGNhY2hlID0gb3B0aW9ucy5hZGRNb2RlQ2xhc3MgPyBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlIDogc3R5bGVUb0NsYXNzQ2FjaGU7XG4gICAgcmV0dXJuIGNhY2hlW3N0eWxlXSB8fFxuICAgICAgKGNhY2hlW3N0eWxlXSA9IHN0eWxlLnJlcGxhY2UoL1xcUysvZywgXCJjbS0kJlwiKSk7XG4gIH1cblxuICAvLyBSZW5kZXIgdGhlIERPTSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGV4dCBvZiBhIGxpbmUuIEFsc28gYnVpbGRzXG4gIC8vIHVwIGEgJ2xpbmUgbWFwJywgd2hpY2ggcG9pbnRzIGF0IHRoZSBET00gbm9kZXMgdGhhdCByZXByZXNlbnRcbiAgLy8gc3BlY2lmaWMgc3RyZXRjaGVzIG9mIHRleHQsIGFuZCBpcyB1c2VkIGJ5IHRoZSBtZWFzdXJpbmcgY29kZS5cbiAgLy8gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyB0aGUgRE9NIG5vZGUsIHRoaXMgbWFwLCBhbmRcbiAgLy8gaW5mb3JtYXRpb24gYWJvdXQgbGluZS13aWRlIHN0eWxlcyB0aGF0IHdlcmUgc2V0IGJ5IHRoZSBtb2RlLlxuICBmdW5jdGlvbiBidWlsZExpbmVDb250ZW50KGNtLCBsaW5lVmlldykge1xuICAgIC8vIFRoZSBwYWRkaW5nLXJpZ2h0IGZvcmNlcyB0aGUgZWxlbWVudCB0byBoYXZlIGEgJ2JvcmRlcicsIHdoaWNoXG4gICAgLy8gaXMgbmVlZGVkIG9uIFdlYmtpdCB0byBiZSBhYmxlIHRvIGdldCBsaW5lLWxldmVsIGJvdW5kaW5nXG4gICAgLy8gcmVjdGFuZ2xlcyBmb3IgaXQgKGluIG1lYXN1cmVDaGFyKS5cbiAgICB2YXIgY29udGVudCA9IGVsdChcInNwYW5cIiwgbnVsbCwgbnVsbCwgd2Via2l0ID8gXCJwYWRkaW5nLXJpZ2h0OiAuMXB4XCIgOiBudWxsKTtcbiAgICB2YXIgYnVpbGRlciA9IHtwcmU6IGVsdChcInByZVwiLCBbY29udGVudF0sIFwiQ29kZU1pcnJvci1saW5lXCIpLCBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgIGNvbDogMCwgcG9zOiAwLCBjbTogY20sXG4gICAgICAgICAgICAgICAgICAgc3BsaXRTcGFjZXM6IChpZSB8fCB3ZWJraXQpICYmIGNtLmdldE9wdGlvbihcImxpbmVXcmFwcGluZ1wiKX07XG4gICAgbGluZVZpZXcubWVhc3VyZSA9IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBsb2dpY2FsIGxpbmVzIHRoYXQgbWFrZSB1cCB0aGlzIHZpc3VhbCBsaW5lLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IChsaW5lVmlldy5yZXN0ID8gbGluZVZpZXcucmVzdC5sZW5ndGggOiAwKTsgaSsrKSB7XG4gICAgICB2YXIgbGluZSA9IGkgPyBsaW5lVmlldy5yZXN0W2kgLSAxXSA6IGxpbmVWaWV3LmxpbmUsIG9yZGVyO1xuICAgICAgYnVpbGRlci5wb3MgPSAwO1xuICAgICAgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW47XG4gICAgICAvLyBPcHRpb25hbGx5IHdpcmUgaW4gc29tZSBoYWNrcyBpbnRvIHRoZSB0b2tlbi1yZW5kZXJpbmdcbiAgICAgIC8vIGFsZ29yaXRobSwgdG8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzLlxuICAgICAgaWYgKGhhc0JhZEJpZGlSZWN0cyhjbS5kaXNwbGF5Lm1lYXN1cmUpICYmIChvcmRlciA9IGdldE9yZGVyKGxpbmUpKSlcbiAgICAgICAgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW5CYWRCaWRpKGJ1aWxkZXIuYWRkVG9rZW4sIG9yZGVyKTtcbiAgICAgIGJ1aWxkZXIubWFwID0gW107XG4gICAgICB2YXIgYWxsb3dGcm9udGllclVwZGF0ZSA9IGxpbmVWaWV3ICE9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCAmJiBsaW5lTm8obGluZSk7XG4gICAgICBpbnNlcnRMaW5lQ29udGVudChsaW5lLCBidWlsZGVyLCBnZXRMaW5lU3R5bGVzKGNtLCBsaW5lLCBhbGxvd0Zyb250aWVyVXBkYXRlKSk7XG4gICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMpIHtcbiAgICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzLmJnQ2xhc3MpXG4gICAgICAgICAgYnVpbGRlci5iZ0NsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcywgYnVpbGRlci5iZ0NsYXNzIHx8IFwiXCIpO1xuICAgICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMudGV4dENsYXNzKVxuICAgICAgICAgIGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMudGV4dENsYXNzLCBidWlsZGVyLnRleHRDbGFzcyB8fCBcIlwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIGF0IGxlYXN0IGEgc2luZ2xlIG5vZGUgaXMgcHJlc2VudCwgZm9yIG1lYXN1cmluZy5cbiAgICAgIGlmIChidWlsZGVyLm1hcC5sZW5ndGggPT0gMClcbiAgICAgICAgYnVpbGRlci5tYXAucHVzaCgwLCAwLCBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoemVyb1dpZHRoRWxlbWVudChjbS5kaXNwbGF5Lm1lYXN1cmUpKSk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBtYXAgYW5kIGEgY2FjaGUgb2JqZWN0IGZvciB0aGUgY3VycmVudCBsb2dpY2FsIGxpbmVcbiAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS5tYXAgPSBidWlsZGVyLm1hcDtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZSA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKGxpbmVWaWV3Lm1lYXN1cmUubWFwcyB8fCAobGluZVZpZXcubWVhc3VyZS5tYXBzID0gW10pKS5wdXNoKGJ1aWxkZXIubWFwKTtcbiAgICAgICAgKGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzIHx8IChsaW5lVmlldy5tZWFzdXJlLmNhY2hlcyA9IFtdKSkucHVzaCh7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VlIGlzc3VlICMyOTAxXG4gICAgaWYgKHdlYmtpdCAmJiAvXFxiY20tdGFiXFxiLy50ZXN0KGJ1aWxkZXIuY29udGVudC5sYXN0Q2hpbGQuY2xhc3NOYW1lKSlcbiAgICAgIGJ1aWxkZXIuY29udGVudC5jbGFzc05hbWUgPSBcImNtLXRhYi13cmFwLWhhY2tcIjtcblxuICAgIHNpZ25hbChjbSwgXCJyZW5kZXJMaW5lXCIsIGNtLCBsaW5lVmlldy5saW5lLCBidWlsZGVyLnByZSk7XG4gICAgaWYgKGJ1aWxkZXIucHJlLmNsYXNzTmFtZSlcbiAgICAgIGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMoYnVpbGRlci5wcmUuY2xhc3NOYW1lLCBidWlsZGVyLnRleHRDbGFzcyB8fCBcIlwiKTtcblxuICAgIHJldHVybiBidWlsZGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIoY2gpIHtcbiAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFwiXFx1MjAyMlwiLCBcImNtLWludmFsaWRjaGFyXCIpO1xuICAgIHRva2VuLnRpdGxlID0gXCJcXFxcdVwiICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7XG4gICAgdG9rZW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0b2tlbi50aXRsZSk7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG5cbiAgLy8gQnVpbGQgdXAgdGhlIERPTSByZXByZXNlbnRhdGlvbiBmb3IgYSBzaW5nbGUgdG9rZW4sIGFuZCBhZGQgaXQgdG9cbiAgLy8gdGhlIGxpbmUgbWFwLiBUYWtlcyBjYXJlIHRvIHJlbmRlciBzcGVjaWFsIGNoYXJhY3RlcnMgc2VwYXJhdGVseS5cbiAgZnVuY3Rpb24gYnVpbGRUb2tlbihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpdGxlLCBjc3MpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybjtcbiAgICB2YXIgZGlzcGxheVRleHQgPSBidWlsZGVyLnNwbGl0U3BhY2VzID8gdGV4dC5yZXBsYWNlKC8gezMsfS9nLCBzcGxpdFNwYWNlcykgOiB0ZXh0O1xuICAgIHZhciBzcGVjaWFsID0gYnVpbGRlci5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2U7XG4gICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHtcbiAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoO1xuICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dCk7XG4gICAgICBidWlsZGVyLm1hcC5wdXNoKGJ1aWxkZXIucG9zLCBidWlsZGVyLnBvcyArIHRleHQubGVuZ3RoLCBjb250ZW50KTtcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgbXVzdFdyYXAgPSB0cnVlO1xuICAgICAgYnVpbGRlci5wb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBwb3MgPSAwO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbC5sYXN0SW5kZXggPSBwb3M7XG4gICAgICAgIHZhciBtID0gc3BlY2lhbC5leGVjKHRleHQpO1xuICAgICAgICB2YXIgc2tpcHBlZCA9IG0gPyBtLmluZGV4IC0gcG9zIDogdGV4dC5sZW5ndGggLSBwb3M7XG4gICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3BsYXlUZXh0LnNsaWNlKHBvcywgcG9zICsgc2tpcHBlZCkpO1xuICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSk7XG4gICAgICAgICAgZWxzZSBjb250ZW50LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBza2lwcGVkLCB0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IHNraXBwZWQ7XG4gICAgICAgICAgYnVpbGRlci5wb3MgKz0gc2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW0pIGJyZWFrO1xuICAgICAgICBwb3MgKz0gc2tpcHBlZCArIDE7XG4gICAgICAgIGlmIChtWzBdID09IFwiXFx0XCIpIHtcbiAgICAgICAgICB2YXIgdGFiU2l6ZSA9IGJ1aWxkZXIuY20ub3B0aW9ucy50YWJTaXplLCB0YWJXaWR0aCA9IHRhYlNpemUgLSBidWlsZGVyLmNvbCAlIHRhYlNpemU7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBzcGFjZVN0cih0YWJXaWR0aCksIFwiY20tdGFiXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlxcdFwiKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChtWzBdID09IFwiXFxyXCIgfHwgbVswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBtWzBdID09IFwiXFxyXCIgPyBcIlxcdTI0MGRcIiA6IFwiXFx1MjQyNFwiLCBcImNtLWludmFsaWRjaGFyXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0eHQgPSBidWlsZGVyLmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihtWzBdKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBbdHh0XSkpO1xuICAgICAgICAgIGVsc2UgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQpO1xuICAgICAgICBidWlsZGVyLnBvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3R5bGUgfHwgc3RhcnRTdHlsZSB8fCBlbmRTdHlsZSB8fCBtdXN0V3JhcCB8fCBjc3MpIHtcbiAgICAgIHZhciBmdWxsU3R5bGUgPSBzdHlsZSB8fCBcIlwiO1xuICAgICAgaWYgKHN0YXJ0U3R5bGUpIGZ1bGxTdHlsZSArPSBzdGFydFN0eWxlO1xuICAgICAgaWYgKGVuZFN0eWxlKSBmdWxsU3R5bGUgKz0gZW5kU3R5bGU7XG4gICAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFtjb250ZW50XSwgZnVsbFN0eWxlLCBjc3MpO1xuICAgICAgaWYgKHRpdGxlKSB0b2tlbi50aXRsZSA9IHRpdGxlO1xuICAgICAgcmV0dXJuIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh0b2tlbik7XG4gICAgfVxuICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0U3BhY2VzKG9sZCkge1xuICAgIHZhciBvdXQgPSBcIiBcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGggLSAyOyArK2kpIG91dCArPSBpICUgMiA/IFwiIFwiIDogXCJcXHUwMGEwXCI7XG4gICAgb3V0ICs9IFwiIFwiO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBXb3JrIGFyb3VuZCBub25zZW5zZSBkaW1lbnNpb25zIGJlaW5nIHJlcG9ydGVkIGZvciBzdHJldGNoZXMgb2ZcbiAgLy8gcmlnaHQtdG8tbGVmdCB0ZXh0LlxuICBmdW5jdGlvbiBidWlsZFRva2VuQmFkQmlkaShpbm5lciwgb3JkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKSB7XG4gICAgICBzdHlsZSA9IHN0eWxlID8gc3R5bGUgKyBcIiBjbS1mb3JjZS1ib3JkZXJcIiA6IFwiY20tZm9yY2UtYm9yZGVyXCI7XG4gICAgICB2YXIgc3RhcnQgPSBidWlsZGVyLnBvcywgZW5kID0gc3RhcnQgKyB0ZXh0Lmxlbmd0aDtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgLy8gRmluZCB0aGUgcGFydCB0aGF0IG92ZXJsYXBzIHdpdGggdGhlIHN0YXJ0IG9mIHRoaXMgdGV4dFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcnQgPSBvcmRlcltpXTtcbiAgICAgICAgICBpZiAocGFydC50byA+IHN0YXJ0ICYmIHBhcnQuZnJvbSA8PSBzdGFydCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudG8gPj0gZW5kKSByZXR1cm4gaW5uZXIoYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKTtcbiAgICAgICAgaW5uZXIoYnVpbGRlciwgdGV4dC5zbGljZSgwLCBwYXJ0LnRvIC0gc3RhcnQpLCBzdHlsZSwgc3RhcnRTdHlsZSwgbnVsbCwgdGl0bGUsIGNzcyk7XG4gICAgICAgIHN0YXJ0U3R5bGUgPSBudWxsO1xuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZShwYXJ0LnRvIC0gc3RhcnQpO1xuICAgICAgICBzdGFydCA9IHBhcnQudG87XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkge1xuICAgIHZhciB3aWRnZXQgPSAhaWdub3JlV2lkZ2V0ICYmIG1hcmtlci53aWRnZXROb2RlO1xuICAgIGlmICh3aWRnZXQpIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2l6ZSwgd2lkZ2V0KTtcbiAgICBpZiAoIWlnbm9yZVdpZGdldCAmJiBidWlsZGVyLmNtLmRpc3BsYXkuaW5wdXQubmVlZHNDb250ZW50QXR0cmlidXRlKSB7XG4gICAgICBpZiAoIXdpZGdldClcbiAgICAgICAgd2lkZ2V0ID0gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTtcbiAgICAgIHdpZGdldC5zZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIiwgbWFya2VyLmlkKTtcbiAgICB9XG4gICAgaWYgKHdpZGdldCkge1xuICAgICAgYnVpbGRlci5jbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUod2lkZ2V0KTtcbiAgICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh3aWRnZXQpO1xuICAgIH1cbiAgICBidWlsZGVyLnBvcyArPSBzaXplO1xuICB9XG5cbiAgLy8gT3V0cHV0cyBhIG51bWJlciBvZiBzcGFucyB0byBtYWtlIHVwIGEgbGluZSwgdGFraW5nIGhpZ2hsaWdodGluZ1xuICAvLyBhbmQgbWFya2VkIHRleHQgaW50byBhY2NvdW50LlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lQ29udGVudChsaW5lLCBidWlsZGVyLCBzdHlsZXMpIHtcbiAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zLCBhbGxUZXh0ID0gbGluZS50ZXh0LCBhdCA9IDA7XG4gICAgaWYgKCFzcGFucykge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKz0yKVxuICAgICAgICBidWlsZGVyLmFkZFRva2VuKGJ1aWxkZXIsIGFsbFRleHQuc2xpY2UoYXQsIGF0ID0gc3R5bGVzW2ldKSwgaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSsxXSwgYnVpbGRlci5jbS5vcHRpb25zKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IGFsbFRleHQubGVuZ3RoLCBwb3MgPSAwLCBpID0gMSwgdGV4dCA9IFwiXCIsIHN0eWxlLCBjc3M7XG4gICAgdmFyIG5leHRDaGFuZ2UgPSAwLCBzcGFuU3R5bGUsIHNwYW5FbmRTdHlsZSwgc3BhblN0YXJ0U3R5bGUsIHRpdGxlLCBjb2xsYXBzZWQ7XG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKG5leHRDaGFuZ2UgPT0gcG9zKSB7IC8vIFVwZGF0ZSBjdXJyZW50IG1hcmtlciBzZXRcbiAgICAgICAgc3BhblN0eWxlID0gc3BhbkVuZFN0eWxlID0gc3BhblN0YXJ0U3R5bGUgPSB0aXRsZSA9IGNzcyA9IFwiXCI7XG4gICAgICAgIGNvbGxhcHNlZCA9IG51bGw7IG5leHRDaGFuZ2UgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIGZvdW5kQm9va21hcmtzID0gW107XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3BhbnMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICB2YXIgc3AgPSBzcGFuc1tqXSwgbSA9IHNwLm1hcmtlcjtcbiAgICAgICAgICBpZiAobS50eXBlID09IFwiYm9va21hcmtcIiAmJiBzcC5mcm9tID09IHBvcyAmJiBtLndpZGdldE5vZGUpIHtcbiAgICAgICAgICAgIGZvdW5kQm9va21hcmtzLnB1c2gobSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcC5mcm9tIDw9IHBvcyAmJiAoc3AudG8gPT0gbnVsbCB8fCBzcC50byA+IHBvcyB8fCBtLmNvbGxhcHNlZCAmJiBzcC50byA9PSBwb3MgJiYgc3AuZnJvbSA9PSBwb3MpKSB7XG4gICAgICAgICAgICBpZiAoc3AudG8gIT0gbnVsbCAmJiBzcC50byAhPSBwb3MgJiYgbmV4dENoYW5nZSA+IHNwLnRvKSB7XG4gICAgICAgICAgICAgIG5leHRDaGFuZ2UgPSBzcC50bztcbiAgICAgICAgICAgICAgc3BhbkVuZFN0eWxlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtLmNsYXNzTmFtZSkgc3BhblN0eWxlICs9IFwiIFwiICsgbS5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAobS5jc3MpIGNzcyA9IG0uY3NzO1xuICAgICAgICAgICAgaWYgKG0uc3RhcnRTdHlsZSAmJiBzcC5mcm9tID09IHBvcykgc3BhblN0YXJ0U3R5bGUgKz0gXCIgXCIgKyBtLnN0YXJ0U3R5bGU7XG4gICAgICAgICAgICBpZiAobS5lbmRTdHlsZSAmJiBzcC50byA9PSBuZXh0Q2hhbmdlKSBzcGFuRW5kU3R5bGUgKz0gXCIgXCIgKyBtLmVuZFN0eWxlO1xuICAgICAgICAgICAgaWYgKG0udGl0bGUgJiYgIXRpdGxlKSB0aXRsZSA9IG0udGl0bGU7XG4gICAgICAgICAgICBpZiAobS5jb2xsYXBzZWQgJiYgKCFjb2xsYXBzZWQgfHwgY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoY29sbGFwc2VkLm1hcmtlciwgbSkgPCAwKSlcbiAgICAgICAgICAgICAgY29sbGFwc2VkID0gc3A7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcC5mcm9tID4gcG9zICYmIG5leHRDaGFuZ2UgPiBzcC5mcm9tKSB7XG4gICAgICAgICAgICBuZXh0Q2hhbmdlID0gc3AuZnJvbTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbGxhcHNlZCAmJiAoY29sbGFwc2VkLmZyb20gfHwgMCkgPT0gcG9zKSB7XG4gICAgICAgICAgYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIChjb2xsYXBzZWQudG8gPT0gbnVsbCA/IGxlbiArIDEgOiBjb2xsYXBzZWQudG8pIC0gcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQubWFya2VyLCBjb2xsYXBzZWQuZnJvbSA9PSBudWxsKTtcbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IHBvcykgY29sbGFwc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb2xsYXBzZWQgJiYgZm91bmRCb29rbWFya3MubGVuZ3RoKSBmb3IgKHZhciBqID0gMDsgaiA8IGZvdW5kQm9va21hcmtzLmxlbmd0aDsgKytqKVxuICAgICAgICAgIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCAwLCBmb3VuZEJvb2ttYXJrc1tqXSk7XG4gICAgICB9XG4gICAgICBpZiAocG9zID49IGxlbikgYnJlYWs7XG5cbiAgICAgIHZhciB1cHRvID0gTWF0aC5taW4obGVuLCBuZXh0Q2hhbmdlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRleHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghY29sbGFwc2VkKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5UZXh0ID0gZW5kID4gdXB0byA/IHRleHQuc2xpY2UoMCwgdXB0byAtIHBvcykgOiB0ZXh0O1xuICAgICAgICAgICAgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCB0b2tlblRleHQsIHN0eWxlID8gc3R5bGUgKyBzcGFuU3R5bGUgOiBzcGFuU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5TdGFydFN0eWxlLCBwb3MgKyB0b2tlblRleHQubGVuZ3RoID09IG5leHRDaGFuZ2UgPyBzcGFuRW5kU3R5bGUgOiBcIlwiLCB0aXRsZSwgY3NzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVuZCA+PSB1cHRvKSB7dGV4dCA9IHRleHQuc2xpY2UodXB0byAtIHBvcyk7IHBvcyA9IHVwdG87IGJyZWFrO31cbiAgICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICAgICAgc3BhblN0YXJ0U3R5bGUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRleHQgPSBhbGxUZXh0LnNsaWNlKGF0LCBhdCA9IHN0eWxlc1tpKytdKTtcbiAgICAgICAgc3R5bGUgPSBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlc1tpKytdLCBidWlsZGVyLmNtLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIERPQ1VNRU5UIERBVEEgU1RSVUNUVVJFXG5cbiAgLy8gQnkgZGVmYXVsdCwgdXBkYXRlcyB0aGF0IHN0YXJ0IGFuZCBlbmQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgLy8gYXJlIHRyZWF0ZWQgc3BlY2lhbGx5LCBpbiBvcmRlciB0byBtYWtlIHRoZSBhc3NvY2lhdGlvbiBvZiBsaW5lXG4gIC8vIHdpZGdldHMgYW5kIG1hcmtlciBlbGVtZW50cyB3aXRoIHRoZSB0ZXh0IGJlaGF2ZSBtb3JlIGludHVpdGl2ZS5cbiAgZnVuY3Rpb24gaXNXaG9sZUxpbmVVcGRhdGUoZG9jLCBjaGFuZ2UpIHtcbiAgICByZXR1cm4gY2hhbmdlLmZyb20uY2ggPT0gMCAmJiBjaGFuZ2UudG8uY2ggPT0gMCAmJiBsc3QoY2hhbmdlLnRleHQpID09IFwiXCIgJiZcbiAgICAgICghZG9jLmNtIHx8IGRvYy5jbS5vcHRpb25zLndob2xlTGluZVVwZGF0ZUJlZm9yZSk7XG4gIH1cblxuICAvLyBQZXJmb3JtIGEgY2hhbmdlIG9uIHRoZSBkb2N1bWVudCBkYXRhIHN0cnVjdHVyZS5cbiAgZnVuY3Rpb24gdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgICBmdW5jdGlvbiBzcGFuc0ZvcihuKSB7cmV0dXJuIG1hcmtlZFNwYW5zID8gbWFya2VkU3BhbnNbbl0gOiBudWxsO31cbiAgICBmdW5jdGlvbiB1cGRhdGUobGluZSwgdGV4dCwgc3BhbnMpIHtcbiAgICAgIHVwZGF0ZUxpbmUobGluZSwgdGV4dCwgc3BhbnMsIGVzdGltYXRlSGVpZ2h0KTtcbiAgICAgIHNpZ25hbExhdGVyKGxpbmUsIFwiY2hhbmdlXCIsIGxpbmUsIGNoYW5nZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpbmVzRm9yKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydCwgcmVzdWx0ID0gW107IGkgPCBlbmQ7ICsraSlcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpbmUodGV4dFtpXSwgc3BhbnNGb3IoaSksIGVzdGltYXRlSGVpZ2h0KSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvLCB0ZXh0ID0gY2hhbmdlLnRleHQ7XG4gICAgdmFyIGZpcnN0TGluZSA9IGdldExpbmUoZG9jLCBmcm9tLmxpbmUpLCBsYXN0TGluZSA9IGdldExpbmUoZG9jLCB0by5saW5lKTtcbiAgICB2YXIgbGFzdFRleHQgPSBsc3QodGV4dCksIGxhc3RTcGFucyA9IHNwYW5zRm9yKHRleHQubGVuZ3RoIC0gMSksIG5saW5lcyA9IHRvLmxpbmUgLSBmcm9tLmxpbmU7XG5cbiAgICAvLyBBZGp1c3QgdGhlIGxpbmUgc3RydWN0dXJlXG4gICAgaWYgKGNoYW5nZS5mdWxsKSB7XG4gICAgICBkb2MuaW5zZXJ0KDAsIGxpbmVzRm9yKDAsIHRleHQubGVuZ3RoKSk7XG4gICAgICBkb2MucmVtb3ZlKHRleHQubGVuZ3RoLCBkb2Muc2l6ZSAtIHRleHQubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGlzV2hvbGVMaW5lVXBkYXRlKGRvYywgY2hhbmdlKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIHdob2xlLWxpbmUgcmVwbGFjZS4gVHJlYXRlZCBzcGVjaWFsbHkgdG8gbWFrZVxuICAgICAgLy8gc3VyZSBsaW5lIG9iamVjdHMgbW92ZSB0aGUgd2F5IHRoZXkgYXJlIHN1cHBvc2VkIHRvLlxuICAgICAgdmFyIGFkZGVkID0gbGluZXNGb3IoMCwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIHVwZGF0ZShsYXN0TGluZSwgbGFzdExpbmUudGV4dCwgbGFzdFNwYW5zKTtcbiAgICAgIGlmIChubGluZXMpIGRvYy5yZW1vdmUoZnJvbS5saW5lLCBubGluZXMpO1xuICAgICAgaWYgKGFkZGVkLmxlbmd0aCkgZG9jLmluc2VydChmcm9tLmxpbmUsIGFkZGVkKTtcbiAgICB9IGVsc2UgaWYgKGZpcnN0TGluZSA9PSBsYXN0TGluZSkge1xuICAgICAgaWYgKHRleHQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyBsYXN0VGV4dCArIGZpcnN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhZGRlZCA9IGxpbmVzRm9yKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGFkZGVkLnB1c2gobmV3IExpbmUobGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucywgZXN0aW1hdGVIZWlnaHQpKTtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIHNwYW5zRm9yKDApKTtcbiAgICAgIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICB1cGRhdGUobGFzdExpbmUsIGxhc3RUZXh0ICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucyk7XG4gICAgICB2YXIgYWRkZWQgPSBsaW5lc0ZvcigxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKG5saW5lcyA+IDEpIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzIC0gMSk7XG4gICAgICBkb2MuaW5zZXJ0KGZyb20ubGluZSArIDEsIGFkZGVkKTtcbiAgICB9XG5cbiAgICBzaWduYWxMYXRlcihkb2MsIFwiY2hhbmdlXCIsIGRvYywgY2hhbmdlKTtcbiAgfVxuXG4gIC8vIFRoZSBkb2N1bWVudCBpcyByZXByZXNlbnRlZCBhcyBhIEJUcmVlIGNvbnNpc3Rpbmcgb2YgbGVhdmVzLCB3aXRoXG4gIC8vIGNodW5rIG9mIGxpbmVzIGluIHRoZW0sIGFuZCBicmFuY2hlcywgd2l0aCB1cCB0byB0ZW4gbGVhdmVzIG9yXG4gIC8vIG90aGVyIGJyYW5jaCBub2RlcyBiZWxvdyB0aGVtLiBUaGUgdG9wIG5vZGUgaXMgYWx3YXlzIGEgYnJhbmNoXG4gIC8vIG5vZGUsIGFuZCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IGl0c2VsZiAobWVhbmluZyBpdCBoYXNcbiAgLy8gYWRkaXRpb25hbCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzKS5cbiAgLy9cbiAgLy8gQWxsIG5vZGVzIGhhdmUgcGFyZW50IGxpbmtzLiBUaGUgdHJlZSBpcyB1c2VkIGJvdGggdG8gZ28gZnJvbVxuICAvLyBsaW5lIG51bWJlcnMgdG8gbGluZSBvYmplY3RzLCBhbmQgdG8gZ28gZnJvbSBvYmplY3RzIHRvIG51bWJlcnMuXG4gIC8vIEl0IGFsc28gaW5kZXhlcyBieSBoZWlnaHQsIGFuZCBpcyB1c2VkIHRvIGNvbnZlcnQgYmV0d2VlbiBoZWlnaHRcbiAgLy8gYW5kIGxpbmUgb2JqZWN0LCBhbmQgdG8gZmluZCB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudC5cbiAgLy9cbiAgLy8gU2VlIGFsc28gaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nL2NvZGVtaXJyb3ItbGluZS10cmVlLmh0bWxcblxuICBmdW5jdGlvbiBMZWFmQ2h1bmsobGluZXMpIHtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBoZWlnaHQgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxpbmVzW2ldLnBhcmVudCA9IHRoaXM7XG4gICAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIExlYWZDaHVuay5wcm90b3R5cGUgPSB7XG4gICAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoOyB9LFxuICAgIC8vIFJlbW92ZSB0aGUgbiBsaW5lcyBhdCBvZmZzZXQgJ2F0Jy5cbiAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHtcbiAgICAgIGZvciAodmFyIGkgPSBhdCwgZSA9IGF0ICsgbjsgaSA8IGU7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICAgIHRoaXMuaGVpZ2h0IC09IGxpbmUuaGVpZ2h0O1xuICAgICAgICBjbGVhblVwTGluZShsaW5lKTtcbiAgICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJkZWxldGVcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmxpbmVzLnNwbGljZShhdCwgbik7XG4gICAgfSxcbiAgICAvLyBIZWxwZXIgdXNlZCB0byBjb2xsYXBzZSBhIHNtYWxsIGJyYW5jaCBpbnRvIGEgc2luZ2xlIGxlYWYuXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBsaW5lcy5wdXNoLmFwcGx5KGxpbmVzLCB0aGlzLmxpbmVzKTtcbiAgICB9LFxuICAgIC8vIEluc2VydCB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMgYXQgb2Zmc2V0ICdhdCcsIGNvdW50IHRoZW0gYXNcbiAgICAvLyBoYXZpbmcgdGhlIGdpdmVuIGhlaWdodC5cbiAgICBpbnNlcnRJbm5lcjogZnVuY3Rpb24oYXQsIGxpbmVzLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGhlaWdodDtcbiAgICAgIHRoaXMubGluZXMgPSB0aGlzLmxpbmVzLnNsaWNlKDAsIGF0KS5jb25jYXQobGluZXMpLmNvbmNhdCh0aGlzLmxpbmVzLnNsaWNlKGF0KSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSBsaW5lc1tpXS5wYXJlbnQgPSB0aGlzO1xuICAgIH0sXG4gICAgLy8gVXNlZCB0byBpdGVyYXRlIG92ZXIgYSBwYXJ0IG9mIHRoZSB0cmVlLlxuICAgIGl0ZXJOOiBmdW5jdGlvbihhdCwgbiwgb3ApIHtcbiAgICAgIGZvciAodmFyIGUgPSBhdCArIG47IGF0IDwgZTsgKythdClcbiAgICAgICAgaWYgKG9wKHRoaXMubGluZXNbYXRdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIEJyYW5jaENodW5rKGNoaWxkcmVuKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZhciBzaXplID0gMCwgaGVpZ2h0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgIHNpemUgKz0gY2guY2h1bmtTaXplKCk7IGhlaWdodCArPSBjaC5oZWlnaHQ7XG4gICAgICBjaC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIEJyYW5jaENodW5rLnByb3RvdHlwZSA9IHtcbiAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zaXplOyB9LFxuICAgIHJlbW92ZUlubmVyOiBmdW5jdGlvbihhdCwgbikge1xuICAgICAgdGhpcy5zaXplIC09IG47XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgcm0gPSBNYXRoLm1pbihuLCBzeiAtIGF0KSwgb2xkSGVpZ2h0ID0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGNoaWxkLnJlbW92ZUlubmVyKGF0LCBybSk7XG4gICAgICAgICAgdGhpcy5oZWlnaHQgLT0gb2xkSGVpZ2h0IC0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGlmIChzeiA9PSBybSkgeyB0aGlzLmNoaWxkcmVuLnNwbGljZShpLS0sIDEpOyBjaGlsZC5wYXJlbnQgPSBudWxsOyB9XG4gICAgICAgICAgaWYgKChuIC09IHJtKSA9PSAwKSBicmVhaztcbiAgICAgICAgICBhdCA9IDA7XG4gICAgICAgIH0gZWxzZSBhdCAtPSBzejtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgc21hbGxlciB0aGFuIDI1IGxpbmVzLCBlbnN1cmUgdGhhdCBpdCBpcyBhXG4gICAgICAvLyBzaW5nbGUgbGVhZiBub2RlLlxuICAgICAgaWYgKHRoaXMuc2l6ZSAtIG4gPCAyNSAmJlxuICAgICAgICAgICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEgfHwgISh0aGlzLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgTGVhZkNodW5rKSkpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICAgIHRoaXMuY29sbGFwc2UobGluZXMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW25ldyBMZWFmQ2h1bmsobGluZXMpXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblswXS5wYXJlbnQgPSB0aGlzO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHRoaXMuY2hpbGRyZW5baV0uY29sbGFwc2UobGluZXMpO1xuICAgIH0sXG4gICAgaW5zZXJ0SW5uZXI6IGZ1bmN0aW9uKGF0LCBsaW5lcywgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnNpemUgKz0gbGluZXMubGVuZ3RoO1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChhdCA8PSBzeikge1xuICAgICAgICAgIGNoaWxkLmluc2VydElubmVyKGF0LCBsaW5lcywgaGVpZ2h0KTtcbiAgICAgICAgICBpZiAoY2hpbGQubGluZXMgJiYgY2hpbGQubGluZXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZC5saW5lcy5sZW5ndGggPiA1MCkge1xuICAgICAgICAgICAgICB2YXIgc3BpbGxlZCA9IGNoaWxkLmxpbmVzLnNwbGljZShjaGlsZC5saW5lcy5sZW5ndGggLSAyNSwgMjUpO1xuICAgICAgICAgICAgICB2YXIgbmV3bGVhZiA9IG5ldyBMZWFmQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgICAgICAgIGNoaWxkLmhlaWdodCAtPSBuZXdsZWFmLmhlaWdodDtcbiAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSArIDEsIDAsIG5ld2xlYWYpO1xuICAgICAgICAgICAgICBuZXdsZWFmLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1heWJlU3BpbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXQgLT0gc3o7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBXaGVuIGEgbm9kZSBoYXMgZ3Jvd24sIGNoZWNrIHdoZXRoZXIgaXQgc2hvdWxkIGJlIHNwbGl0LlxuICAgIG1heWJlU3BpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIDw9IDEwKSByZXR1cm47XG4gICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgc3BpbGxlZCA9IG1lLmNoaWxkcmVuLnNwbGljZShtZS5jaGlsZHJlbi5sZW5ndGggLSA1LCA1KTtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBuZXcgQnJhbmNoQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgIGlmICghbWUucGFyZW50KSB7IC8vIEJlY29tZSB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgICB2YXIgY29weSA9IG5ldyBCcmFuY2hDaHVuayhtZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29weS5wYXJlbnQgPSBtZTtcbiAgICAgICAgICBtZS5jaGlsZHJlbiA9IFtjb3B5LCBzaWJsaW5nXTtcbiAgICAgICAgICBtZSA9IGNvcHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWUuc2l6ZSAtPSBzaWJsaW5nLnNpemU7XG4gICAgICAgICAgbWUuaGVpZ2h0IC09IHNpYmxpbmcuaGVpZ2h0O1xuICAgICAgICAgIHZhciBteUluZGV4ID0gaW5kZXhPZihtZS5wYXJlbnQuY2hpbGRyZW4sIG1lKTtcbiAgICAgICAgICBtZS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKG15SW5kZXggKyAxLCAwLCBzaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBzaWJsaW5nLnBhcmVudCA9IG1lLnBhcmVudDtcbiAgICAgIH0gd2hpbGUgKG1lLmNoaWxkcmVuLmxlbmd0aCA+IDEwKTtcbiAgICAgIG1lLnBhcmVudC5tYXliZVNwaWxsKCk7XG4gICAgfSxcbiAgICBpdGVyTjogZnVuY3Rpb24oYXQsIG4sIG9wKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgdXNlZCA9IE1hdGgubWluKG4sIHN6IC0gYXQpO1xuICAgICAgICAgIGlmIChjaGlsZC5pdGVyTihhdCwgdXNlZCwgb3ApKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBpZiAoKG4gLT0gdXNlZCkgPT0gMCkgYnJlYWs7XG4gICAgICAgICAgYXQgPSAwO1xuICAgICAgICB9IGVsc2UgYXQgLT0gc3o7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBuZXh0RG9jSWQgPSAwO1xuICB2YXIgRG9jID0gQ29kZU1pcnJvci5Eb2MgPSBmdW5jdGlvbih0ZXh0LCBtb2RlLCBmaXJzdExpbmUsIGxpbmVTZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRG9jKSkgcmV0dXJuIG5ldyBEb2ModGV4dCwgbW9kZSwgZmlyc3RMaW5lLCBsaW5lU2VwKTtcbiAgICBpZiAoZmlyc3RMaW5lID09IG51bGwpIGZpcnN0TGluZSA9IDA7XG5cbiAgICBCcmFuY2hDaHVuay5jYWxsKHRoaXMsIFtuZXcgTGVhZkNodW5rKFtuZXcgTGluZShcIlwiLCBudWxsKV0pXSk7XG4gICAgdGhpcy5maXJzdCA9IGZpcnN0TGluZTtcbiAgICB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsTGVmdCA9IDA7XG4gICAgdGhpcy5jYW50RWRpdCA9IGZhbHNlO1xuICAgIHRoaXMuY2xlYW5HZW5lcmF0aW9uID0gMTtcbiAgICB0aGlzLmZyb250aWVyID0gZmlyc3RMaW5lO1xuICAgIHZhciBzdGFydCA9IFBvcyhmaXJzdExpbmUsIDApO1xuICAgIHRoaXMuc2VsID0gc2ltcGxlU2VsZWN0aW9uKHN0YXJ0KTtcbiAgICB0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKTtcbiAgICB0aGlzLmlkID0gKytuZXh0RG9jSWQ7XG4gICAgdGhpcy5tb2RlT3B0aW9uID0gbW9kZTtcbiAgICB0aGlzLmxpbmVTZXAgPSBsaW5lU2VwO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpIHRleHQgPSB0aGlzLnNwbGl0TGluZXModGV4dCk7XG4gICAgdXBkYXRlRG9jKHRoaXMsIHtmcm9tOiBzdGFydCwgdG86IHN0YXJ0LCB0ZXh0OiB0ZXh0fSk7XG4gICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbihzdGFydCksIHNlbF9kb250U2Nyb2xsKTtcbiAgfTtcblxuICBEb2MucHJvdG90eXBlID0gY3JlYXRlT2JqKEJyYW5jaENodW5rLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiBEb2MsXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBkb2N1bWVudC4gU3VwcG9ydHMgdHdvIGZvcm1zIC0tIHdpdGggb25seSBvbmVcbiAgICAvLyBhcmd1bWVudCwgaXQgY2FsbHMgdGhhdCBmb3IgZWFjaCBsaW5lIGluIHRoZSBkb2N1bWVudC4gV2l0aFxuICAgIC8vIHRocmVlLCBpdCBpdGVyYXRlcyBvdmVyIHRoZSByYW5nZSBnaXZlbiBieSB0aGUgZmlyc3QgdHdvICh3aXRoXG4gICAgLy8gdGhlIHNlY29uZCBiZWluZyBub24taW5jbHVzaXZlKS5cbiAgICBpdGVyOiBmdW5jdGlvbihmcm9tLCB0bywgb3ApIHtcbiAgICAgIGlmIChvcCkgdGhpcy5pdGVyTihmcm9tIC0gdGhpcy5maXJzdCwgdG8gLSBmcm9tLCBvcCk7XG4gICAgICBlbHNlIHRoaXMuaXRlck4odGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSwgZnJvbSk7XG4gICAgfSxcblxuICAgIC8vIE5vbi1wdWJsaWMgaW50ZXJmYWNlIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGxpbmVzLlxuICAgIGluc2VydDogZnVuY3Rpb24oYXQsIGxpbmVzKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIGhlaWdodCArPSBsaW5lc1tpXS5oZWlnaHQ7XG4gICAgICB0aGlzLmluc2VydElubmVyKGF0IC0gdGhpcy5maXJzdCwgbGluZXMsIGhlaWdodCk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKGF0LCBuKSB7IHRoaXMucmVtb3ZlSW5uZXIoYXQgLSB0aGlzLmZpcnN0LCBuKTsgfSxcblxuICAgIC8vIEZyb20gaGVyZSwgdGhlIG1ldGhvZHMgYXJlIHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuIE1vc3RcbiAgICAvLyBhcmUgYWxzbyBhdmFpbGFibGUgZnJvbSBDb2RlTWlycm9yIChlZGl0b3IpIGluc3RhbmNlcy5cblxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgbGluZXMgPSBnZXRMaW5lcyh0aGlzLCB0aGlzLmZpcnN0LCB0aGlzLmZpcnN0ICsgdGhpcy5zaXplKTtcbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgcmV0dXJuIGxpbmVzO1xuICAgICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSk7XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSkge1xuICAgICAgdmFyIHRvcCA9IFBvcyh0aGlzLmZpcnN0LCAwKSwgbGFzdCA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxO1xuICAgICAgbWFrZUNoYW5nZSh0aGlzLCB7ZnJvbTogdG9wLCB0bzogUG9zKGxhc3QsIGdldExpbmUodGhpcywgbGFzdCkudGV4dC5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGUpLCBvcmlnaW46IFwic2V0VmFsdWVcIiwgZnVsbDogdHJ1ZX0sIHRydWUpO1xuICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbih0b3ApKTtcbiAgICB9KSxcbiAgICByZXBsYWNlUmFuZ2U6IGZ1bmN0aW9uKGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pIHtcbiAgICAgIGZyb20gPSBjbGlwUG9zKHRoaXMsIGZyb20pO1xuICAgICAgdG8gPSB0byA/IGNsaXBQb3ModGhpcywgdG8pIDogZnJvbTtcbiAgICAgIHJlcGxhY2VSYW5nZSh0aGlzLCBjb2RlLCBmcm9tLCB0bywgb3JpZ2luKTtcbiAgICB9LFxuICAgIGdldFJhbmdlOiBmdW5jdGlvbihmcm9tLCB0bywgbGluZVNlcCkge1xuICAgICAgdmFyIGxpbmVzID0gZ2V0QmV0d2Vlbih0aGlzLCBjbGlwUG9zKHRoaXMsIGZyb20pLCBjbGlwUG9zKHRoaXMsIHRvKSk7XG4gICAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHJldHVybiBsaW5lcztcbiAgICAgIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpO1xuICAgIH0sXG5cbiAgICBnZXRMaW5lOiBmdW5jdGlvbihsaW5lKSB7dmFyIGwgPSB0aGlzLmdldExpbmVIYW5kbGUobGluZSk7IHJldHVybiBsICYmIGwudGV4dDt9LFxuXG4gICAgZ2V0TGluZUhhbmRsZTogZnVuY3Rpb24obGluZSkge2lmIChpc0xpbmUodGhpcywgbGluZSkpIHJldHVybiBnZXRMaW5lKHRoaXMsIGxpbmUpO30sXG4gICAgZ2V0TGluZU51bWJlcjogZnVuY3Rpb24obGluZSkge3JldHVybiBsaW5lTm8obGluZSk7fSxcblxuICAgIGdldExpbmVIYW5kbGVWaXN1YWxTdGFydDogZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIGxpbmUgPSBnZXRMaW5lKHRoaXMsIGxpbmUpO1xuICAgICAgcmV0dXJuIHZpc3VhbExpbmUobGluZSk7XG4gICAgfSxcblxuICAgIGxpbmVDb3VudDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2l6ZTt9LFxuICAgIGZpcnN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3Q7fSxcbiAgICBsYXN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxO30sXG5cbiAgICBjbGlwUG9zOiBmdW5jdGlvbihwb3MpIHtyZXR1cm4gY2xpcFBvcyh0aGlzLCBwb3MpO30sXG5cbiAgICBnZXRDdXJzb3I6IGZ1bmN0aW9uKHN0YXJ0KSB7XG4gICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbC5wcmltYXJ5KCksIHBvcztcbiAgICAgIGlmIChzdGFydCA9PSBudWxsIHx8IHN0YXJ0ID09IFwiaGVhZFwiKSBwb3MgPSByYW5nZS5oZWFkO1xuICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gXCJhbmNob3JcIikgcG9zID0gcmFuZ2UuYW5jaG9yO1xuICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gXCJlbmRcIiB8fCBzdGFydCA9PSBcInRvXCIgfHwgc3RhcnQgPT09IGZhbHNlKSBwb3MgPSByYW5nZS50bygpO1xuICAgICAgZWxzZSBwb3MgPSByYW5nZS5mcm9tKCk7XG4gICAgICByZXR1cm4gcG9zO1xuICAgIH0sXG4gICAgbGlzdFNlbGVjdGlvbnM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zZWwucmFuZ2VzOyB9LFxuICAgIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5zZWwuc29tZXRoaW5nU2VsZWN0ZWQoKTt9LFxuXG4gICAgc2V0Q3Vyc29yOiBkb2NNZXRob2RPcChmdW5jdGlvbihsaW5lLCBjaCwgb3B0aW9ucykge1xuICAgICAgc2V0U2ltcGxlU2VsZWN0aW9uKHRoaXMsIGNsaXBQb3ModGhpcywgdHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIiA/IFBvcyhsaW5lLCBjaCB8fCAwKSA6IGxpbmUpLCBudWxsLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBzZXRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgICAgc2V0U2ltcGxlU2VsZWN0aW9uKHRoaXMsIGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvciksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGVhZCwgb3RoZXIsIG9wdGlvbnMpIHtcbiAgICAgIGV4dGVuZFNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGhlYWQpLCBvdGhlciAmJiBjbGlwUG9zKHRoaXMsIG90aGVyKSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgZXh0ZW5kU2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGVhZHMsIG9wdGlvbnMpIHtcbiAgICAgIGV4dGVuZFNlbGVjdGlvbnModGhpcywgY2xpcFBvc0FycmF5KHRoaXMsIGhlYWRzLCBvcHRpb25zKSk7XG4gICAgfSksXG4gICAgZXh0ZW5kU2VsZWN0aW9uc0J5OiBkb2NNZXRob2RPcChmdW5jdGlvbihmLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIG1hcCh0aGlzLnNlbC5yYW5nZXMsIGYpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBzZXRTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihyYW5nZXMsIHByaW1hcnksIG9wdGlvbnMpIHtcbiAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG91dCA9IFtdOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzLCByYW5nZXNbaV0uYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3ModGhpcywgcmFuZ2VzW2ldLmhlYWQpKTtcbiAgICAgIGlmIChwcmltYXJ5ID09IG51bGwpIHByaW1hcnkgPSBNYXRoLm1pbihyYW5nZXMubGVuZ3RoIC0gMSwgdGhpcy5zZWwucHJpbUluZGV4KTtcbiAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBwcmltYXJ5KSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgYWRkU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByYW5nZXMgPSB0aGlzLnNlbC5yYW5nZXMuc2xpY2UoMCk7XG4gICAgICByYW5nZXMucHVzaChuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzLCBhbmNob3IpLCBjbGlwUG9zKHRoaXMsIGhlYWQgfHwgYW5jaG9yKSkpO1xuICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIHJhbmdlcy5sZW5ndGggLSAxKSwgb3B0aW9ucyk7XG4gICAgfSksXG5cbiAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGxpbmVTZXApIHtcbiAgICAgIHZhciByYW5nZXMgPSB0aGlzLnNlbC5yYW5nZXMsIGxpbmVzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNlbCA9IGdldEJldHdlZW4odGhpcywgcmFuZ2VzW2ldLmZyb20oKSwgcmFuZ2VzW2ldLnRvKCkpO1xuICAgICAgICBsaW5lcyA9IGxpbmVzID8gbGluZXMuY29uY2F0KHNlbCkgOiBzZWw7XG4gICAgICB9XG4gICAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHJldHVybiBsaW5lcztcbiAgICAgIGVsc2UgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSk7XG4gICAgfSxcbiAgICBnZXRTZWxlY3Rpb25zOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgICB2YXIgcGFydHMgPSBbXSwgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNlbCA9IGdldEJldHdlZW4odGhpcywgcmFuZ2VzW2ldLmZyb20oKSwgcmFuZ2VzW2ldLnRvKCkpO1xuICAgICAgICBpZiAobGluZVNlcCAhPT0gZmFsc2UpIHNlbCA9IHNlbC5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpO1xuICAgICAgICBwYXJ0c1tpXSA9IHNlbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJ0cztcbiAgICB9LFxuICAgIHJlcGxhY2VTZWxlY3Rpb246IGZ1bmN0aW9uKGNvZGUsIGNvbGxhcHNlLCBvcmlnaW4pIHtcbiAgICAgIHZhciBkdXAgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICBkdXBbaV0gPSBjb2RlO1xuICAgICAgdGhpcy5yZXBsYWNlU2VsZWN0aW9ucyhkdXAsIGNvbGxhcHNlLCBvcmlnaW4gfHwgXCIraW5wdXRcIik7XG4gICAgfSxcbiAgICByZXBsYWNlU2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgICAgdmFyIGNoYW5nZXMgPSBbXSwgc2VsID0gdGhpcy5zZWw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgICAgY2hhbmdlc1tpXSA9IHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByYW5nZS50bygpLCB0ZXh0OiB0aGlzLnNwbGl0TGluZXMoY29kZVtpXSksIG9yaWdpbjogb3JpZ2lufTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTZWwgPSBjb2xsYXBzZSAmJiBjb2xsYXBzZSAhPSBcImVuZFwiICYmIGNvbXB1dGVSZXBsYWNlZFNlbCh0aGlzLCBjaGFuZ2VzLCBjb2xsYXBzZSk7XG4gICAgICBmb3IgKHZhciBpID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgbWFrZUNoYW5nZSh0aGlzLCBjaGFuZ2VzW2ldKTtcbiAgICAgIGlmIChuZXdTZWwpIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KHRoaXMsIG5ld1NlbCk7XG4gICAgICBlbHNlIGlmICh0aGlzLmNtKSBlbnN1cmVDdXJzb3JWaXNpYmxlKHRoaXMuY20pO1xuICAgIH0pLFxuICAgIHVuZG86IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInVuZG9cIik7fSksXG4gICAgcmVkbzogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwicmVkb1wiKTt9KSxcbiAgICB1bmRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJ1bmRvXCIsIHRydWUpO30pLFxuICAgIHJlZG9TZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInJlZG9cIiwgdHJ1ZSk7fSksXG5cbiAgICBzZXRFeHRlbmRpbmc6IGZ1bmN0aW9uKHZhbCkge3RoaXMuZXh0ZW5kID0gdmFsO30sXG4gICAgZ2V0RXh0ZW5kaW5nOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5leHRlbmQ7fSxcblxuICAgIGhpc3RvcnlTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBoaXN0ID0gdGhpcy5oaXN0b3J5LCBkb25lID0gMCwgdW5kb25lID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdC5kb25lLmxlbmd0aDsgaSsrKSBpZiAoIWhpc3QuZG9uZVtpXS5yYW5nZXMpICsrZG9uZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGlzdC51bmRvbmUubGVuZ3RoOyBpKyspIGlmICghaGlzdC51bmRvbmVbaV0ucmFuZ2VzKSArK3VuZG9uZTtcbiAgICAgIHJldHVybiB7dW5kbzogZG9uZSwgcmVkbzogdW5kb25lfTtcbiAgICB9LFxuICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7dGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pO30sXG5cbiAgICBtYXJrQ2xlYW46IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jbGVhbkdlbmVyYXRpb24gPSB0aGlzLmNoYW5nZUdlbmVyYXRpb24odHJ1ZSk7XG4gICAgfSxcbiAgICBjaGFuZ2VHZW5lcmF0aW9uOiBmdW5jdGlvbihmb3JjZVNwbGl0KSB7XG4gICAgICBpZiAoZm9yY2VTcGxpdClcbiAgICAgICAgdGhpcy5oaXN0b3J5Lmxhc3RPcCA9IHRoaXMuaGlzdG9yeS5sYXN0U2VsT3AgPSB0aGlzLmhpc3RvcnkubGFzdE9yaWdpbiA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb247XG4gICAgfSxcbiAgICBpc0NsZWFuOiBmdW5jdGlvbiAoZ2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb24gPT0gKGdlbiB8fCB0aGlzLmNsZWFuR2VuZXJhdGlvbik7XG4gICAgfSxcblxuICAgIGdldEhpc3Rvcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtkb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lKSxcbiAgICAgICAgICAgICAgdW5kb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS51bmRvbmUpfTtcbiAgICB9LFxuICAgIHNldEhpc3Rvcnk6IGZ1bmN0aW9uKGhpc3REYXRhKSB7XG4gICAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKTtcbiAgICAgIGhpc3QuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSk7XG4gICAgICBoaXN0LnVuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEudW5kb25lLnNsaWNlKDApLCBudWxsLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgYWRkTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMsIGhhbmRsZSwgd2hlcmUgPT0gXCJndXR0ZXJcIiA/IFwiZ3V0dGVyXCIgOiBcImNsYXNzXCIsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSBcInRleHRcIiA/IFwidGV4dENsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImJhY2tncm91bmRcIiA/IFwiYmdDbGFzc1wiXG4gICAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJndXR0ZXJcIiA/IFwiZ3V0dGVyQ2xhc3NcIiA6IFwid3JhcENsYXNzXCI7XG4gICAgICAgIGlmICghbGluZVtwcm9wXSkgbGluZVtwcm9wXSA9IGNscztcbiAgICAgICAgZWxzZSBpZiAoY2xhc3NUZXN0KGNscykudGVzdChsaW5lW3Byb3BdKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIGxpbmVbcHJvcF0gKz0gXCIgXCIgKyBjbHM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSksXG4gICAgcmVtb3ZlTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VMaW5lKHRoaXMsIGhhbmRsZSwgd2hlcmUgPT0gXCJndXR0ZXJcIiA/IFwiZ3V0dGVyXCIgOiBcImNsYXNzXCIsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSBcInRleHRcIiA/IFwidGV4dENsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImJhY2tncm91bmRcIiA/IFwiYmdDbGFzc1wiXG4gICAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJndXR0ZXJcIiA/IFwiZ3V0dGVyQ2xhc3NcIiA6IFwid3JhcENsYXNzXCI7XG4gICAgICAgIHZhciBjdXIgPSBsaW5lW3Byb3BdO1xuICAgICAgICBpZiAoIWN1cikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChjbHMgPT0gbnVsbCkgbGluZVtwcm9wXSA9IG51bGw7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGN1ci5tYXRjaChjbGFzc1Rlc3QoY2xzKSk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHZhciBlbmQgPSBmb3VuZC5pbmRleCArIGZvdW5kWzBdLmxlbmd0aDtcbiAgICAgICAgICBsaW5lW3Byb3BdID0gY3VyLnNsaWNlKDAsIGZvdW5kLmluZGV4KSArICghZm91bmQuaW5kZXggfHwgZW5kID09IGN1ci5sZW5ndGggPyBcIlwiIDogXCIgXCIpICsgY3VyLnNsaWNlKGVuZCkgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgYWRkTGluZVdpZGdldDogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYWRkTGluZVdpZGdldCh0aGlzLCBoYW5kbGUsIG5vZGUsIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIHJlbW92ZUxpbmVXaWRnZXQ6IGZ1bmN0aW9uKHdpZGdldCkgeyB3aWRnZXQuY2xlYXIoKTsgfSxcblxuICAgIG1hcmtUZXh0OiBmdW5jdGlvbihmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG1hcmtUZXh0KHRoaXMsIGNsaXBQb3ModGhpcywgZnJvbSksIGNsaXBQb3ModGhpcywgdG8pLCBvcHRpb25zLCBvcHRpb25zICYmIG9wdGlvbnMudHlwZSB8fCBcInJhbmdlXCIpO1xuICAgIH0sXG4gICAgc2V0Qm9va21hcms6IGZ1bmN0aW9uKHBvcywgb3B0aW9ucykge1xuICAgICAgdmFyIHJlYWxPcHRzID0ge3JlcGxhY2VkV2l0aDogb3B0aW9ucyAmJiAob3B0aW9ucy5ub2RlVHlwZSA9PSBudWxsID8gb3B0aW9ucy53aWRnZXQgOiBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMZWZ0OiBvcHRpb25zICYmIG9wdGlvbnMuaW5zZXJ0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhcldoZW5FbXB0eTogZmFsc2UsIHNoYXJlZDogb3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3VzZUV2ZW50czogb3B0aW9ucyAmJiBvcHRpb25zLmhhbmRsZU1vdXNlRXZlbnRzfTtcbiAgICAgIHBvcyA9IGNsaXBQb3ModGhpcywgcG9zKTtcbiAgICAgIHJldHVybiBtYXJrVGV4dCh0aGlzLCBwb3MsIHBvcywgcmVhbE9wdHMsIFwiYm9va21hcmtcIik7XG4gICAgfSxcbiAgICBmaW5kTWFya3NBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcyk7XG4gICAgICB2YXIgbWFya2VycyA9IFtdLCBzcGFucyA9IGdldExpbmUodGhpcywgcG9zLmxpbmUpLm1hcmtlZFNwYW5zO1xuICAgICAgaWYgKHNwYW5zKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICAgIGlmICgoc3Bhbi5mcm9tID09IG51bGwgfHwgc3Bhbi5mcm9tIDw9IHBvcy5jaCkgJiZcbiAgICAgICAgICAgIChzcGFuLnRvID09IG51bGwgfHwgc3Bhbi50byA+PSBwb3MuY2gpKVxuICAgICAgICAgIG1hcmtlcnMucHVzaChzcGFuLm1hcmtlci5wYXJlbnQgfHwgc3Bhbi5tYXJrZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcmtlcnM7XG4gICAgfSxcbiAgICBmaW5kTWFya3M6IGZ1bmN0aW9uKGZyb20sIHRvLCBmaWx0ZXIpIHtcbiAgICAgIGZyb20gPSBjbGlwUG9zKHRoaXMsIGZyb20pOyB0byA9IGNsaXBQb3ModGhpcywgdG8pO1xuICAgICAgdmFyIGZvdW5kID0gW10sIGxpbmVObyA9IGZyb20ubGluZTtcbiAgICAgIHRoaXMuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBzcGFucyA9IGxpbmUubWFya2VkU3BhbnM7XG4gICAgICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICAgICAgaWYgKCEobGluZU5vID09IGZyb20ubGluZSAmJiBmcm9tLmNoID4gc3Bhbi50byB8fFxuICAgICAgICAgICAgICAgIHNwYW4uZnJvbSA9PSBudWxsICYmIGxpbmVObyAhPSBmcm9tLmxpbmV8fFxuICAgICAgICAgICAgICAgIGxpbmVObyA9PSB0by5saW5lICYmIHNwYW4uZnJvbSA+IHRvLmNoKSAmJlxuICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXIoc3Bhbi5tYXJrZXIpKSlcbiAgICAgICAgICAgIGZvdW5kLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICArK2xpbmVObztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG4gICAgZ2V0QWxsTWFya3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmtlcnMgPSBbXTtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBzcHMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgICBpZiAoc3BzKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICBpZiAoc3BzW2ldLmZyb20gIT0gbnVsbCkgbWFya2Vycy5wdXNoKHNwc1tpXS5tYXJrZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9LFxuXG4gICAgcG9zRnJvbUluZGV4OiBmdW5jdGlvbihvZmYpIHtcbiAgICAgIHZhciBjaCwgbGluZU5vID0gdGhpcy5maXJzdDtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBzeiA9IGxpbmUudGV4dC5sZW5ndGggKyAxO1xuICAgICAgICBpZiAoc3ogPiBvZmYpIHsgY2ggPSBvZmY7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIG9mZiAtPSBzejtcbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbGlwUG9zKHRoaXMsIFBvcyhsaW5lTm8sIGNoKSk7XG4gICAgfSxcbiAgICBpbmRleEZyb21Qb3M6IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgIGNvb3JkcyA9IGNsaXBQb3ModGhpcywgY29vcmRzKTtcbiAgICAgIHZhciBpbmRleCA9IGNvb3Jkcy5jaDtcbiAgICAgIGlmIChjb29yZHMubGluZSA8IHRoaXMuZmlyc3QgfHwgY29vcmRzLmNoIDwgMCkgcmV0dXJuIDA7XG4gICAgICB0aGlzLml0ZXIodGhpcy5maXJzdCwgY29vcmRzLmxpbmUsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIGluZGV4ICs9IGxpbmUudGV4dC5sZW5ndGggKyAxO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcblxuICAgIGNvcHk6IGZ1bmN0aW9uKGNvcHlIaXN0b3J5KSB7XG4gICAgICB2YXIgZG9jID0gbmV3IERvYyhnZXRMaW5lcyh0aGlzLCB0aGlzLmZpcnN0LCB0aGlzLmZpcnN0ICsgdGhpcy5zaXplKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZU9wdGlvbiwgdGhpcy5maXJzdCwgdGhpcy5saW5lU2VwKTtcbiAgICAgIGRvYy5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcDsgZG9jLnNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbExlZnQ7XG4gICAgICBkb2Muc2VsID0gdGhpcy5zZWw7XG4gICAgICBkb2MuZXh0ZW5kID0gZmFsc2U7XG4gICAgICBpZiAoY29weUhpc3RvcnkpIHtcbiAgICAgICAgZG9jLmhpc3RvcnkudW5kb0RlcHRoID0gdGhpcy5oaXN0b3J5LnVuZG9EZXB0aDtcbiAgICAgICAgZG9jLnNldEhpc3RvcnkodGhpcy5nZXRIaXN0b3J5KCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvYztcbiAgICB9LFxuXG4gICAgbGlua2VkRG9jOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICAgIHZhciBmcm9tID0gdGhpcy5maXJzdCwgdG8gPSB0aGlzLmZpcnN0ICsgdGhpcy5zaXplO1xuICAgICAgaWYgKG9wdGlvbnMuZnJvbSAhPSBudWxsICYmIG9wdGlvbnMuZnJvbSA+IGZyb20pIGZyb20gPSBvcHRpb25zLmZyb207XG4gICAgICBpZiAob3B0aW9ucy50byAhPSBudWxsICYmIG9wdGlvbnMudG8gPCB0bykgdG8gPSBvcHRpb25zLnRvO1xuICAgICAgdmFyIGNvcHkgPSBuZXcgRG9jKGdldExpbmVzKHRoaXMsIGZyb20sIHRvKSwgb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZU9wdGlvbiwgZnJvbSwgdGhpcy5saW5lU2VwKTtcbiAgICAgIGlmIChvcHRpb25zLnNoYXJlZEhpc3QpIGNvcHkuaGlzdG9yeSA9IHRoaXMuaGlzdG9yeTtcbiAgICAgICh0aGlzLmxpbmtlZCB8fCAodGhpcy5saW5rZWQgPSBbXSkpLnB1c2goe2RvYzogY29weSwgc2hhcmVkSGlzdDogb3B0aW9ucy5zaGFyZWRIaXN0fSk7XG4gICAgICBjb3B5LmxpbmtlZCA9IFt7ZG9jOiB0aGlzLCBpc1BhcmVudDogdHJ1ZSwgc2hhcmVkSGlzdDogb3B0aW9ucy5zaGFyZWRIaXN0fV07XG4gICAgICBjb3B5U2hhcmVkTWFya2Vycyhjb3B5LCBmaW5kU2hhcmVkTWFya2Vycyh0aGlzKSk7XG4gICAgICByZXR1cm4gY29weTtcbiAgICB9LFxuICAgIHVubGlua0RvYzogZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENvZGVNaXJyb3IpIG90aGVyID0gb3RoZXIuZG9jO1xuICAgICAgaWYgKHRoaXMubGlua2VkKSBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlua2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5saW5rZWRbaV07XG4gICAgICAgIGlmIChsaW5rLmRvYyAhPSBvdGhlcikgY29udGludWU7XG4gICAgICAgIHRoaXMubGlua2VkLnNwbGljZShpLCAxKTtcbiAgICAgICAgb3RoZXIudW5saW5rRG9jKHRoaXMpO1xuICAgICAgICBkZXRhY2hTaGFyZWRNYXJrZXJzKGZpbmRTaGFyZWRNYXJrZXJzKHRoaXMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgaGlzdG9yaWVzIHdlcmUgc2hhcmVkLCBzcGxpdCB0aGVtIGFnYWluXG4gICAgICBpZiAob3RoZXIuaGlzdG9yeSA9PSB0aGlzLmhpc3RvcnkpIHtcbiAgICAgICAgdmFyIHNwbGl0SWRzID0gW290aGVyLmlkXTtcbiAgICAgICAgbGlua2VkRG9jcyhvdGhlciwgZnVuY3Rpb24oZG9jKSB7c3BsaXRJZHMucHVzaChkb2MuaWQpO30sIHRydWUpO1xuICAgICAgICBvdGhlci5oaXN0b3J5ID0gbmV3IEhpc3RvcnkobnVsbCk7XG4gICAgICAgIG90aGVyLmhpc3RvcnkuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LmRvbmUsIHNwbGl0SWRzKTtcbiAgICAgICAgb3RoZXIuaGlzdG9yeS51bmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS51bmRvbmUsIHNwbGl0SWRzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGl0ZXJMaW5rZWREb2NzOiBmdW5jdGlvbihmKSB7bGlua2VkRG9jcyh0aGlzLCBmKTt9LFxuXG4gICAgZ2V0TW9kZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMubW9kZTt9LFxuICAgIGdldEVkaXRvcjogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuY207fSxcblxuICAgIHNwbGl0TGluZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgaWYgKHRoaXMubGluZVNlcCkgcmV0dXJuIHN0ci5zcGxpdCh0aGlzLmxpbmVTZXApO1xuICAgICAgcmV0dXJuIHNwbGl0TGluZXNBdXRvKHN0cik7XG4gICAgfSxcbiAgICBsaW5lU2VwYXJhdG9yOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZVNlcCB8fCBcIlxcblwiOyB9XG4gIH0pO1xuXG4gIC8vIFB1YmxpYyBhbGlhcy5cbiAgRG9jLnByb3RvdHlwZS5lYWNoTGluZSA9IERvYy5wcm90b3R5cGUuaXRlcjtcblxuICAvLyBTZXQgdXAgbWV0aG9kcyBvbiBDb2RlTWlycm9yJ3MgcHJvdG90eXBlIHRvIHJlZGlyZWN0IHRvIHRoZSBlZGl0b3IncyBkb2N1bWVudC5cbiAgdmFyIGRvbnREZWxlZ2F0ZSA9IFwiaXRlciBpbnNlcnQgcmVtb3ZlIGNvcHkgZ2V0RWRpdG9yIGNvbnN0cnVjdG9yXCIuc3BsaXQoXCIgXCIpO1xuICBmb3IgKHZhciBwcm9wIGluIERvYy5wcm90b3R5cGUpIGlmIChEb2MucHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3ApICYmIGluZGV4T2YoZG9udERlbGVnYXRlLCBwcm9wKSA8IDApXG4gICAgQ29kZU1pcnJvci5wcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLmRvYywgYXJndW1lbnRzKTt9O1xuICAgIH0pKERvYy5wcm90b3R5cGVbcHJvcF0pO1xuXG4gIGV2ZW50TWl4aW4oRG9jKTtcblxuICAvLyBDYWxsIGYgZm9yIGFsbCBsaW5rZWQgZG9jdW1lbnRzLlxuICBmdW5jdGlvbiBsaW5rZWREb2NzKGRvYywgZiwgc2hhcmVkSGlzdE9ubHkpIHtcbiAgICBmdW5jdGlvbiBwcm9wYWdhdGUoZG9jLCBza2lwLCBzaGFyZWRIaXN0KSB7XG4gICAgICBpZiAoZG9jLmxpbmtlZCkgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2MubGlua2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciByZWwgPSBkb2MubGlua2VkW2ldO1xuICAgICAgICBpZiAocmVsLmRvYyA9PSBza2lwKSBjb250aW51ZTtcbiAgICAgICAgdmFyIHNoYXJlZCA9IHNoYXJlZEhpc3QgJiYgcmVsLnNoYXJlZEhpc3Q7XG4gICAgICAgIGlmIChzaGFyZWRIaXN0T25seSAmJiAhc2hhcmVkKSBjb250aW51ZTtcbiAgICAgICAgZihyZWwuZG9jLCBzaGFyZWQpO1xuICAgICAgICBwcm9wYWdhdGUocmVsLmRvYywgZG9jLCBzaGFyZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wYWdhdGUoZG9jLCBudWxsLCB0cnVlKTtcbiAgfVxuXG4gIC8vIEF0dGFjaCBhIGRvY3VtZW50IHRvIGFuIGVkaXRvci5cbiAgZnVuY3Rpb24gYXR0YWNoRG9jKGNtLCBkb2MpIHtcbiAgICBpZiAoZG9jLmNtKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgaW4gdXNlLlwiKTtcbiAgICBjbS5kb2MgPSBkb2M7XG4gICAgZG9jLmNtID0gY207XG4gICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyhjbSk7XG4gICAgbG9hZE1vZGUoY20pO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIGZpbmRNYXhMaW5lKGNtKTtcbiAgICBjbS5vcHRpb25zLm1vZGUgPSBkb2MubW9kZU9wdGlvbjtcbiAgICByZWdDaGFuZ2UoY20pO1xuICB9XG5cbiAgLy8gTElORSBVVElMSVRJRVNcblxuICAvLyBGaW5kIHRoZSBsaW5lIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci5cbiAgZnVuY3Rpb24gZ2V0TGluZShkb2MsIG4pIHtcbiAgICBuIC09IGRvYy5maXJzdDtcbiAgICBpZiAobiA8IDAgfHwgbiA+PSBkb2Muc2l6ZSkgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gbGluZSBcIiArIChuICsgZG9jLmZpcnN0KSArIFwiIGluIHRoZSBkb2N1bWVudC5cIik7XG4gICAgZm9yICh2YXIgY2h1bmsgPSBkb2M7ICFjaHVuay5saW5lczspIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNodW5rLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgICBpZiAobiA8IHN6KSB7IGNodW5rID0gY2hpbGQ7IGJyZWFrOyB9XG4gICAgICAgIG4gLT0gc3o7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaHVuay5saW5lc1tuXTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgcGFydCBvZiBhIGRvY3VtZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucywgYXMgYW4gYXJyYXkgb2ZcbiAgLy8gc3RyaW5ncy5cbiAgZnVuY3Rpb24gZ2V0QmV0d2Vlbihkb2MsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgb3V0ID0gW10sIG4gPSBzdGFydC5saW5lO1xuICAgIGRvYy5pdGVyKHN0YXJ0LmxpbmUsIGVuZC5saW5lICsgMSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHRleHQgPSBsaW5lLnRleHQ7XG4gICAgICBpZiAobiA9PSBlbmQubGluZSkgdGV4dCA9IHRleHQuc2xpY2UoMCwgZW5kLmNoKTtcbiAgICAgIGlmIChuID09IHN0YXJ0LmxpbmUpIHRleHQgPSB0ZXh0LnNsaWNlKHN0YXJ0LmNoKTtcbiAgICAgIG91dC5wdXNoKHRleHQpO1xuICAgICAgKytuO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLy8gR2V0IHRoZSBsaW5lcyBiZXR3ZWVuIGZyb20gYW5kIHRvLCBhcyBhcnJheSBvZiBzdHJpbmdzLlxuICBmdW5jdGlvbiBnZXRMaW5lcyhkb2MsIGZyb20sIHRvKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGRvYy5pdGVyKGZyb20sIHRvLCBmdW5jdGlvbihsaW5lKSB7IG91dC5wdXNoKGxpbmUudGV4dCk7IH0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHByb3BhZ2F0aW5nIHRoZSBoZWlnaHQgY2hhbmdlXG4gIC8vIHVwd2FyZHMgdG8gcGFyZW50IG5vZGVzLlxuICBmdW5jdGlvbiB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGhlaWdodCkge1xuICAgIHZhciBkaWZmID0gaGVpZ2h0IC0gbGluZS5oZWlnaHQ7XG4gICAgaWYgKGRpZmYpIGZvciAodmFyIG4gPSBsaW5lOyBuOyBuID0gbi5wYXJlbnQpIG4uaGVpZ2h0ICs9IGRpZmY7XG4gIH1cblxuICAvLyBHaXZlbiBhIGxpbmUgb2JqZWN0LCBmaW5kIGl0cyBsaW5lIG51bWJlciBieSB3YWxraW5nIHVwIHRocm91Z2hcbiAgLy8gaXRzIHBhcmVudCBsaW5rcy5cbiAgZnVuY3Rpb24gbGluZU5vKGxpbmUpIHtcbiAgICBpZiAobGluZS5wYXJlbnQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGN1ciA9IGxpbmUucGFyZW50LCBubyA9IGluZGV4T2YoY3VyLmxpbmVzLCBsaW5lKTtcbiAgICBmb3IgKHZhciBjaHVuayA9IGN1ci5wYXJlbnQ7IGNodW5rOyBjdXIgPSBjaHVuaywgY2h1bmsgPSBjaHVuay5wYXJlbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7XG4gICAgICAgIGlmIChjaHVuay5jaGlsZHJlbltpXSA9PSBjdXIpIGJyZWFrO1xuICAgICAgICBubyArPSBjaHVuay5jaGlsZHJlbltpXS5jaHVua1NpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vICsgY3VyLmZpcnN0O1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbGluZSBhdCB0aGUgZ2l2ZW4gdmVydGljYWwgcG9zaXRpb24sIHVzaW5nIHRoZSBoZWlnaHRcbiAgLy8gaW5mb3JtYXRpb24gaW4gdGhlIGRvY3VtZW50IHRyZWUuXG4gIGZ1bmN0aW9uIGxpbmVBdEhlaWdodChjaHVuaywgaCkge1xuICAgIHZhciBuID0gY2h1bmsuZmlyc3Q7XG4gICAgb3V0ZXI6IGRvIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baV0sIGNoID0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICBpZiAoaCA8IGNoKSB7IGNodW5rID0gY2hpbGQ7IGNvbnRpbnVlIG91dGVyOyB9XG4gICAgICAgIGggLT0gY2g7XG4gICAgICAgIG4gKz0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9IHdoaWxlICghY2h1bmsubGluZXMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV0sIGxoID0gbGluZS5oZWlnaHQ7XG4gICAgICBpZiAoaCA8IGxoKSBicmVhaztcbiAgICAgIGggLT0gbGg7XG4gICAgfVxuICAgIHJldHVybiBuICsgaTtcbiAgfVxuXG5cbiAgLy8gRmluZCB0aGUgaGVpZ2h0IGFib3ZlIHRoZSBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiBoZWlnaHRBdExpbmUobGluZU9iaikge1xuICAgIGxpbmVPYmogPSB2aXN1YWxMaW5lKGxpbmVPYmopO1xuXG4gICAgdmFyIGggPSAwLCBjaHVuayA9IGxpbmVPYmoucGFyZW50O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV07XG4gICAgICBpZiAobGluZSA9PSBsaW5lT2JqKSBicmVhaztcbiAgICAgIGVsc2UgaCArPSBsaW5lLmhlaWdodDtcbiAgICB9XG4gICAgZm9yICh2YXIgcCA9IGNodW5rLnBhcmVudDsgcDsgY2h1bmsgPSBwLCBwID0gY2h1bmsucGFyZW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1ciA9IHAuY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjdXIgPT0gY2h1bmspIGJyZWFrO1xuICAgICAgICBlbHNlIGggKz0gY3VyLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGg7XG4gIH1cblxuICAvLyBHZXQgdGhlIGJpZGkgb3JkZXJpbmcgZm9yIHRoZSBnaXZlbiBsaW5lIChhbmQgY2FjaGUgaXQpLiBSZXR1cm5zXG4gIC8vIGZhbHNlIGZvciBsaW5lcyB0aGF0IGFyZSBmdWxseSBsZWZ0LXRvLXJpZ2h0LCBhbmQgYW4gYXJyYXkgb2ZcbiAgLy8gQmlkaVNwYW4gb2JqZWN0cyBvdGhlcndpc2UuXG4gIGZ1bmN0aW9uIGdldE9yZGVyKGxpbmUpIHtcbiAgICB2YXIgb3JkZXIgPSBsaW5lLm9yZGVyO1xuICAgIGlmIChvcmRlciA9PSBudWxsKSBvcmRlciA9IGxpbmUub3JkZXIgPSBiaWRpT3JkZXJpbmcobGluZS50ZXh0KTtcbiAgICByZXR1cm4gb3JkZXI7XG4gIH1cblxuICAvLyBISVNUT1JZXG5cbiAgZnVuY3Rpb24gSGlzdG9yeShzdGFydEdlbikge1xuICAgIC8vIEFycmF5cyBvZiBjaGFuZ2UgZXZlbnRzIGFuZCBzZWxlY3Rpb25zLiBEb2luZyBzb21ldGhpbmcgYWRkcyBhblxuICAgIC8vIGV2ZW50IHRvIGRvbmUgYW5kIGNsZWFycyB1bmRvLiBVbmRvaW5nIG1vdmVzIGV2ZW50cyBmcm9tIGRvbmVcbiAgICAvLyB0byB1bmRvbmUsIHJlZG9pbmcgbW92ZXMgdGhlbSBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uLlxuICAgIHRoaXMuZG9uZSA9IFtdOyB0aGlzLnVuZG9uZSA9IFtdO1xuICAgIHRoaXMudW5kb0RlcHRoID0gSW5maW5pdHk7XG4gICAgLy8gVXNlZCB0byB0cmFjayB3aGVuIGNoYW5nZXMgY2FuIGJlIG1lcmdlZCBpbnRvIGEgc2luZ2xlIHVuZG9cbiAgICAvLyBldmVudFxuICAgIHRoaXMubGFzdE1vZFRpbWUgPSB0aGlzLmxhc3RTZWxUaW1lID0gMDtcbiAgICB0aGlzLmxhc3RPcCA9IHRoaXMubGFzdFNlbE9wID0gbnVsbDtcbiAgICB0aGlzLmxhc3RPcmlnaW4gPSB0aGlzLmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuICAgIC8vIFVzZWQgYnkgdGhlIGlzQ2xlYW4oKSBtZXRob2RcbiAgICB0aGlzLmdlbmVyYXRpb24gPSB0aGlzLm1heEdlbmVyYXRpb24gPSBzdGFydEdlbiB8fCAxO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgaGlzdG9yeSBjaGFuZ2UgZXZlbnQgZnJvbSBhbiB1cGRhdGVEb2Mtc3R5bGUgY2hhbmdlXG4gIC8vIG9iamVjdC5cbiAgZnVuY3Rpb24gaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgaGlzdENoYW5nZSA9IHtmcm9tOiBjb3B5UG9zKGNoYW5nZS5mcm9tKSwgdG86IGNoYW5nZUVuZChjaGFuZ2UpLCB0ZXh0OiBnZXRCZXR3ZWVuKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byl9O1xuICAgIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBoaXN0Q2hhbmdlLCBjaGFuZ2UuZnJvbS5saW5lLCBjaGFuZ2UudG8ubGluZSArIDEpO1xuICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbihkb2MpIHthdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKTt9LCB0cnVlKTtcbiAgICByZXR1cm4gaGlzdENoYW5nZTtcbiAgfVxuXG4gIC8vIFBvcCBhbGwgc2VsZWN0aW9uIGV2ZW50cyBvZmYgdGhlIGVuZCBvZiBhIGhpc3RvcnkgYXJyYXkuIFN0b3AgYXRcbiAgLy8gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGFycmF5KSB7XG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xuICAgICAgdmFyIGxhc3QgPSBsc3QoYXJyYXkpO1xuICAgICAgaWYgKGxhc3QucmFuZ2VzKSBhcnJheS5wb3AoKTtcbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCB0aGUgdG9wIGNoYW5nZSBldmVudCBpbiB0aGUgaGlzdG9yeS4gUG9wIG9mZiBzZWxlY3Rpb25cbiAgLy8gZXZlbnRzIHRoYXQgYXJlIGluIHRoZSB3YXkuXG4gIGZ1bmN0aW9uIGxhc3RDaGFuZ2VFdmVudChoaXN0LCBmb3JjZSkge1xuICAgIGlmIChmb3JjZSkge1xuICAgICAgY2xlYXJTZWxlY3Rpb25FdmVudHMoaGlzdC5kb25lKTtcbiAgICAgIHJldHVybiBsc3QoaGlzdC5kb25lKTtcbiAgICB9IGVsc2UgaWYgKGhpc3QuZG9uZS5sZW5ndGggJiYgIWxzdChoaXN0LmRvbmUpLnJhbmdlcykge1xuICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpO1xuICAgIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCA+IDEgJiYgIWhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMl0ucmFuZ2VzKSB7XG4gICAgICBoaXN0LmRvbmUucG9wKCk7XG4gICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVnaXN0ZXIgYSBjaGFuZ2UgaW4gdGhlIGhpc3RvcnkuIE1lcmdlcyBjaGFuZ2VzIHRoYXQgYXJlIHdpdGhpblxuICAvLyBhIHNpbmdsZSBvcGVyYXRpb24sIG9yZSBhcmUgY2xvc2UgdG9nZXRoZXIgd2l0aCBhbiBvcmlnaW4gdGhhdFxuICAvLyBhbGxvd3MgbWVyZ2luZyAoc3RhcnRpbmcgd2l0aCBcIitcIikgaW50byBhIHNpbmdsZSBldmVudC5cbiAgZnVuY3Rpb24gYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywgY2hhbmdlLCBzZWxBZnRlciwgb3BJZCkge1xuICAgIHZhciBoaXN0ID0gZG9jLmhpc3Rvcnk7XG4gICAgaGlzdC51bmRvbmUubGVuZ3RoID0gMDtcbiAgICB2YXIgdGltZSA9ICtuZXcgRGF0ZSwgY3VyO1xuXG4gICAgaWYgKChoaXN0Lmxhc3RPcCA9PSBvcElkIHx8XG4gICAgICAgICBoaXN0Lmxhc3RPcmlnaW4gPT0gY2hhbmdlLm9yaWdpbiAmJiBjaGFuZ2Uub3JpZ2luICYmXG4gICAgICAgICAoKGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiK1wiICYmIGRvYy5jbSAmJiBoaXN0Lmxhc3RNb2RUaW1lID4gdGltZSAtIGRvYy5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5KSB8fFxuICAgICAgICAgIGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiKlwiKSkgJiZcbiAgICAgICAgKGN1ciA9IGxhc3RDaGFuZ2VFdmVudChoaXN0LCBoaXN0Lmxhc3RPcCA9PSBvcElkKSkpIHtcbiAgICAgIC8vIE1lcmdlIHRoaXMgY2hhbmdlIGludG8gdGhlIGxhc3QgZXZlbnRcbiAgICAgIHZhciBsYXN0ID0gbHN0KGN1ci5jaGFuZ2VzKTtcbiAgICAgIGlmIChjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCAmJiBjbXAoY2hhbmdlLmZyb20sIGxhc3QudG8pID09IDApIHtcbiAgICAgICAgLy8gT3B0aW1pemVkIGNhc2UgZm9yIHNpbXBsZSBpbnNlcnRpb24gLS0gZG9uJ3Qgd2FudCB0byBhZGRcbiAgICAgICAgLy8gbmV3IGNoYW5nZXNldHMgZm9yIGV2ZXJ5IGNoYXJhY3RlciB0eXBlZFxuICAgICAgICBsYXN0LnRvID0gY2hhbmdlRW5kKGNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgbmV3IHN1Yi1ldmVudFxuICAgICAgICBjdXIuY2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENhbiBub3QgYmUgbWVyZ2VkLCBzdGFydCBhIG5ldyBldmVudC5cbiAgICAgIHZhciBiZWZvcmUgPSBsc3QoaGlzdC5kb25lKTtcbiAgICAgIGlmICghYmVmb3JlIHx8ICFiZWZvcmUucmFuZ2VzKVxuICAgICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KGRvYy5zZWwsIGhpc3QuZG9uZSk7XG4gICAgICBjdXIgPSB7Y2hhbmdlczogW2hpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKV0sXG4gICAgICAgICAgICAgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufTtcbiAgICAgIGhpc3QuZG9uZS5wdXNoKGN1cik7XG4gICAgICB3aGlsZSAoaGlzdC5kb25lLmxlbmd0aCA+IGhpc3QudW5kb0RlcHRoKSB7XG4gICAgICAgIGhpc3QuZG9uZS5zaGlmdCgpO1xuICAgICAgICBpZiAoIWhpc3QuZG9uZVswXS5yYW5nZXMpIGhpc3QuZG9uZS5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBoaXN0LmRvbmUucHVzaChzZWxBZnRlcik7XG4gICAgaGlzdC5nZW5lcmF0aW9uID0gKytoaXN0Lm1heEdlbmVyYXRpb247XG4gICAgaGlzdC5sYXN0TW9kVGltZSA9IGhpc3QubGFzdFNlbFRpbWUgPSB0aW1lO1xuICAgIGhpc3QubGFzdE9wID0gaGlzdC5sYXN0U2VsT3AgPSBvcElkO1xuICAgIGhpc3QubGFzdE9yaWdpbiA9IGhpc3QubGFzdFNlbE9yaWdpbiA9IGNoYW5nZS5vcmlnaW47XG5cbiAgICBpZiAoIWxhc3QpIHNpZ25hbChkb2MsIFwiaGlzdG9yeUFkZGVkXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0aW9uRXZlbnRDYW5CZU1lcmdlZChkb2MsIG9yaWdpbiwgcHJldiwgc2VsKSB7XG4gICAgdmFyIGNoID0gb3JpZ2luLmNoYXJBdCgwKTtcbiAgICByZXR1cm4gY2ggPT0gXCIqXCIgfHxcbiAgICAgIGNoID09IFwiK1wiICYmXG4gICAgICBwcmV2LnJhbmdlcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGggJiZcbiAgICAgIHByZXYuc29tZXRoaW5nU2VsZWN0ZWQoKSA9PSBzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSAmJlxuICAgICAgbmV3IERhdGUgLSBkb2MuaGlzdG9yeS5sYXN0U2VsVGltZSA8PSAoZG9jLmNtID8gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkgOiA1MDApO1xuICB9XG5cbiAgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZSBzZWxlY3Rpb24gY2hhbmdlcywgc2V0cyB0aGUgbmV3IHNlbGVjdGlvbiBhc1xuICAvLyB0aGUgcGVuZGluZyBzZWxlY3Rpb24gaW4gdGhlIGhpc3RvcnksIGFuZCBwdXNoZXMgdGhlIG9sZCBwZW5kaW5nXG4gIC8vIHNlbGVjdGlvbiBpbnRvIHRoZSAnZG9uZScgYXJyYXkgd2hlbiBpdCB3YXMgc2lnbmlmaWNhbnRseVxuICAvLyBkaWZmZXJlbnQgKGluIG51bWJlciBvZiBzZWxlY3RlZCByYW5nZXMsIGVtcHRpbmVzcywgb3IgdGltZSkuXG4gIGZ1bmN0aW9uIGFkZFNlbGVjdGlvblRvSGlzdG9yeShkb2MsIHNlbCwgb3BJZCwgb3B0aW9ucykge1xuICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIG9yaWdpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmlnaW47XG5cbiAgICAvLyBBIG5ldyBldmVudCBpcyBzdGFydGVkIHdoZW4gdGhlIHByZXZpb3VzIG9yaWdpbiBkb2VzIG5vdCBtYXRjaFxuICAgIC8vIHRoZSBjdXJyZW50LCBvciB0aGUgb3JpZ2lucyBkb24ndCBhbGxvdyBtYXRjaGluZy4gT3JpZ2luc1xuICAgIC8vIHN0YXJ0aW5nIHdpdGggKiBhcmUgYWx3YXlzIG1lcmdlZCwgdGhvc2Ugc3RhcnRpbmcgd2l0aCArIGFyZVxuICAgIC8vIG1lcmdlZCB3aGVuIHNpbWlsYXIgYW5kIGNsb3NlIHRvZ2V0aGVyIGluIHRpbWUuXG4gICAgaWYgKG9wSWQgPT0gaGlzdC5sYXN0U2VsT3AgfHxcbiAgICAgICAgKG9yaWdpbiAmJiBoaXN0Lmxhc3RTZWxPcmlnaW4gPT0gb3JpZ2luICYmXG4gICAgICAgICAoaGlzdC5sYXN0TW9kVGltZSA9PSBoaXN0Lmxhc3RTZWxUaW1lICYmIGhpc3QubGFzdE9yaWdpbiA9PSBvcmlnaW4gfHxcbiAgICAgICAgICBzZWxlY3Rpb25FdmVudENhbkJlTWVyZ2VkKGRvYywgb3JpZ2luLCBsc3QoaGlzdC5kb25lKSwgc2VsKSkpKVxuICAgICAgaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAxXSA9IHNlbDtcbiAgICBlbHNlXG4gICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgaGlzdC5kb25lKTtcblxuICAgIGhpc3QubGFzdFNlbFRpbWUgPSArbmV3IERhdGU7XG4gICAgaGlzdC5sYXN0U2VsT3JpZ2luID0gb3JpZ2luO1xuICAgIGhpc3QubGFzdFNlbE9wID0gb3BJZDtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNsZWFyUmVkbyAhPT0gZmFsc2UpXG4gICAgICBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LnVuZG9uZSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgZGVzdCkge1xuICAgIHZhciB0b3AgPSBsc3QoZGVzdCk7XG4gICAgaWYgKCEodG9wICYmIHRvcC5yYW5nZXMgJiYgdG9wLmVxdWFscyhzZWwpKSlcbiAgICAgIGRlc3QucHVzaChzZWwpO1xuICB9XG5cbiAgLy8gVXNlZCB0byBzdG9yZSBtYXJrZWQgc3BhbiBpbmZvcm1hdGlvbiBpbiB0aGUgaGlzdG9yeS5cbiAgZnVuY3Rpb24gYXR0YWNoTG9jYWxTcGFucyhkb2MsIGNoYW5nZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBjaGFuZ2VbXCJzcGFuc19cIiArIGRvYy5pZF0sIG4gPSAwO1xuICAgIGRvYy5pdGVyKE1hdGgubWF4KGRvYy5maXJzdCwgZnJvbSksIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCB0byksIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKVxuICAgICAgICAoZXhpc3RpbmcgfHwgKGV4aXN0aW5nID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdID0ge30pKVtuXSA9IGxpbmUubWFya2VkU3BhbnM7XG4gICAgICArK247XG4gICAgfSk7XG4gIH1cblxuICAvLyBXaGVuIHVuL3JlLWRvaW5nIHJlc3RvcmVzIHRleHQgY29udGFpbmluZyBtYXJrZWQgc3BhbnMsIHRob3NlXG4gIC8vIHRoYXQgaGF2ZSBiZWVuIGV4cGxpY2l0bHkgY2xlYXJlZCBzaG91bGQgbm90IGJlIHJlc3RvcmVkLlxuICBmdW5jdGlvbiByZW1vdmVDbGVhcmVkU3BhbnMoc3BhbnMpIHtcbiAgICBpZiAoIXNwYW5zKSByZXR1cm4gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMCwgb3V0OyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChzcGFuc1tpXS5tYXJrZXIuZXhwbGljaXRseUNsZWFyZWQpIHsgaWYgKCFvdXQpIG91dCA9IHNwYW5zLnNsaWNlKDAsIGkpOyB9XG4gICAgICBlbHNlIGlmIChvdXQpIG91dC5wdXNoKHNwYW5zW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuICFvdXQgPyBzcGFucyA6IG91dC5sZW5ndGggPyBvdXQgOiBudWxsO1xuICB9XG5cbiAgLy8gUmV0cmlldmUgYW5kIGZpbHRlciB0aGUgb2xkIG1hcmtlZCBzcGFucyBzdG9yZWQgaW4gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGdldE9sZFNwYW5zKGRvYywgY2hhbmdlKSB7XG4gICAgdmFyIGZvdW5kID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdO1xuICAgIGlmICghZm91bmQpIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBudyA9IFtdOyBpIDwgY2hhbmdlLnRleHQubGVuZ3RoOyArK2kpXG4gICAgICBudy5wdXNoKHJlbW92ZUNsZWFyZWRTcGFucyhmb3VuZFtpXSkpO1xuICAgIHJldHVybiBudztcbiAgfVxuXG4gIC8vIFVzZWQgYm90aCB0byBwcm92aWRlIGEgSlNPTi1zYWZlIG9iamVjdCBpbiAuZ2V0SGlzdG9yeSwgYW5kLCB3aGVuXG4gIC8vIGRldGFjaGluZyBhIGRvY3VtZW50LCB0byBzcGxpdCB0aGUgaGlzdG9yeSBpbiB0d29cbiAgZnVuY3Rpb24gY29weUhpc3RvcnlBcnJheShldmVudHMsIG5ld0dyb3VwLCBpbnN0YW50aWF0ZVNlbCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBjb3B5ID0gW107IGkgPCBldmVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgIGlmIChldmVudC5yYW5nZXMpIHtcbiAgICAgICAgY29weS5wdXNoKGluc3RhbnRpYXRlU2VsID8gU2VsZWN0aW9uLnByb3RvdHlwZS5kZWVwQ29weS5jYWxsKGV2ZW50KSA6IGV2ZW50KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgY2hhbmdlcyA9IGV2ZW50LmNoYW5nZXMsIG5ld0NoYW5nZXMgPSBbXTtcbiAgICAgIGNvcHkucHVzaCh7Y2hhbmdlczogbmV3Q2hhbmdlc30pO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFuZ2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2pdLCBtO1xuICAgICAgICBuZXdDaGFuZ2VzLnB1c2goe2Zyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlLnRvLCB0ZXh0OiBjaGFuZ2UudGV4dH0pO1xuICAgICAgICBpZiAobmV3R3JvdXApIGZvciAodmFyIHByb3AgaW4gY2hhbmdlKSBpZiAobSA9IHByb3AubWF0Y2goL15zcGFuc18oXFxkKykkLykpIHtcbiAgICAgICAgICBpZiAoaW5kZXhPZihuZXdHcm91cCwgTnVtYmVyKG1bMV0pKSA+IC0xKSB7XG4gICAgICAgICAgICBsc3QobmV3Q2hhbmdlcylbcHJvcF0gPSBjaGFuZ2VbcHJvcF07XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIC8vIFJlYmFzaW5nL3Jlc2V0dGluZyBoaXN0b3J5IHRvIGRlYWwgd2l0aCBleHRlcm5hbGx5LXNvdXJjZWQgY2hhbmdlc1xuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3RTZWxTaW5nbGUocG9zLCBmcm9tLCB0bywgZGlmZikge1xuICAgIGlmICh0byA8IHBvcy5saW5lKSB7XG4gICAgICBwb3MubGluZSArPSBkaWZmO1xuICAgIH0gZWxzZSBpZiAoZnJvbSA8IHBvcy5saW5lKSB7XG4gICAgICBwb3MubGluZSA9IGZyb207XG4gICAgICBwb3MuY2ggPSAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRyaWVzIHRvIHJlYmFzZSBhbiBhcnJheSBvZiBoaXN0b3J5IGV2ZW50cyBnaXZlbiBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIElmIHRoZSBjaGFuZ2UgdG91Y2hlcyB0aGUgc2FtZSBsaW5lcyBhcyB0aGUgZXZlbnQsIHRoZVxuICAvLyBldmVudCwgYW5kIGV2ZXJ5dGhpbmcgJ2JlaGluZCcgaXQsIGlzIGRpc2NhcmRlZC4gSWYgdGhlIGNoYW5nZSBpc1xuICAvLyBiZWZvcmUgdGhlIGV2ZW50LCB0aGUgZXZlbnQncyBwb3NpdGlvbnMgYXJlIHVwZGF0ZWQuIFVzZXMgYVxuICAvLyBjb3B5LW9uLXdyaXRlIHNjaGVtZSBmb3IgdGhlIHBvc2l0aW9ucywgdG8gYXZvaWQgaGF2aW5nIHRvXG4gIC8vIHJlYWxsb2NhdGUgdGhlbSBhbGwgb24gZXZlcnkgcmViYXNlLCBidXQgYWxzbyBhdm9pZCBwcm9ibGVtcyB3aXRoXG4gIC8vIHNoYXJlZCBwb3NpdGlvbiBvYmplY3RzIGJlaW5nIHVuc2FmZWx5IHVwZGF0ZWQuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3RBcnJheShhcnJheSwgZnJvbSwgdG8sIGRpZmYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3ViID0gYXJyYXlbaV0sIG9rID0gdHJ1ZTtcbiAgICAgIGlmIChzdWIucmFuZ2VzKSB7XG4gICAgICAgIGlmICghc3ViLmNvcGllZCkgeyBzdWIgPSBhcnJheVtpXSA9IHN1Yi5kZWVwQ29weSgpOyBzdWIuY29waWVkID0gdHJ1ZTsgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1Yi5yYW5nZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICByZWJhc2VIaXN0U2VsU2luZ2xlKHN1Yi5yYW5nZXNbal0uYW5jaG9yLCBmcm9tLCB0bywgZGlmZik7XG4gICAgICAgICAgcmViYXNlSGlzdFNlbFNpbmdsZShzdWIucmFuZ2VzW2pdLmhlYWQsIGZyb20sIHRvLCBkaWZmKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ViLmNoYW5nZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIGN1ciA9IHN1Yi5jaGFuZ2VzW2pdO1xuICAgICAgICBpZiAodG8gPCBjdXIuZnJvbS5saW5lKSB7XG4gICAgICAgICAgY3VyLmZyb20gPSBQb3MoY3VyLmZyb20ubGluZSArIGRpZmYsIGN1ci5mcm9tLmNoKTtcbiAgICAgICAgICBjdXIudG8gPSBQb3MoY3VyLnRvLmxpbmUgKyBkaWZmLCBjdXIudG8uY2gpO1xuICAgICAgICB9IGVsc2UgaWYgKGZyb20gPD0gY3VyLnRvLmxpbmUpIHtcbiAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIGFycmF5LnNwbGljZSgwLCBpICsgMSk7XG4gICAgICAgIGkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYmFzZUhpc3QoaGlzdCwgY2hhbmdlKSB7XG4gICAgdmFyIGZyb20gPSBjaGFuZ2UuZnJvbS5saW5lLCB0byA9IGNoYW5nZS50by5saW5lLCBkaWZmID0gY2hhbmdlLnRleHQubGVuZ3RoIC0gKHRvIC0gZnJvbSkgLSAxO1xuICAgIHJlYmFzZUhpc3RBcnJheShoaXN0LmRvbmUsIGZyb20sIHRvLCBkaWZmKTtcbiAgICByZWJhc2VIaXN0QXJyYXkoaGlzdC51bmRvbmUsIGZyb20sIHRvLCBkaWZmKTtcbiAgfVxuXG4gIC8vIEVWRU5UIFVUSUxJVElFU1xuXG4gIC8vIER1ZSB0byB0aGUgZmFjdCB0aGF0IHdlIHN0aWxsIHN1cHBvcnQganVyYXNzaWMgSUUgdmVyc2lvbnMsIHNvbWVcbiAgLy8gY29tcGF0aWJpbGl0eSB3cmFwcGVycyBhcmUgbmVlZGVkLlxuXG4gIHZhciBlX3ByZXZlbnREZWZhdWx0ID0gQ29kZU1pcnJvci5lX3ByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gIH07XG4gIHZhciBlX3N0b3BQcm9wYWdhdGlvbiA9IENvZGVNaXJyb3IuZV9zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGVsc2UgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICB9O1xuICBmdW5jdGlvbiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSkge1xuICAgIHJldHVybiBlLmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IGUuZGVmYXVsdFByZXZlbnRlZCA6IGUucmV0dXJuVmFsdWUgPT0gZmFsc2U7XG4gIH1cbiAgdmFyIGVfc3RvcCA9IENvZGVNaXJyb3IuZV9zdG9wID0gZnVuY3Rpb24oZSkge2VfcHJldmVudERlZmF1bHQoZSk7IGVfc3RvcFByb3BhZ2F0aW9uKGUpO307XG5cbiAgZnVuY3Rpb24gZV90YXJnZXQoZSkge3JldHVybiBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7fVxuICBmdW5jdGlvbiBlX2J1dHRvbihlKSB7XG4gICAgdmFyIGIgPSBlLndoaWNoO1xuICAgIGlmIChiID09IG51bGwpIHtcbiAgICAgIGlmIChlLmJ1dHRvbiAmIDEpIGIgPSAxO1xuICAgICAgZWxzZSBpZiAoZS5idXR0b24gJiAyKSBiID0gMztcbiAgICAgIGVsc2UgaWYgKGUuYnV0dG9uICYgNCkgYiA9IDI7XG4gICAgfVxuICAgIGlmIChtYWMgJiYgZS5jdHJsS2V5ICYmIGIgPT0gMSkgYiA9IDM7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICAvLyBFVkVOVCBIQU5ETElOR1xuXG4gIC8vIExpZ2h0d2VpZ2h0IGV2ZW50IGZyYW1ld29yay4gb24vb2ZmIGFsc28gd29yayBvbiBET00gbm9kZXMsXG4gIC8vIHJlZ2lzdGVyaW5nIG5hdGl2ZSBET00gaGFuZGxlcnMuXG5cbiAgdmFyIG9uID0gQ29kZU1pcnJvci5vbiA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgICBpZiAoZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGYsIGZhbHNlKTtcbiAgICBlbHNlIGlmIChlbWl0dGVyLmF0dGFjaEV2ZW50KVxuICAgICAgZW1pdHRlci5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBtYXAgPSBlbWl0dGVyLl9oYW5kbGVycyB8fCAoZW1pdHRlci5faGFuZGxlcnMgPSB7fSk7XG4gICAgICB2YXIgYXJyID0gbWFwW3R5cGVdIHx8IChtYXBbdHlwZV0gPSBbXSk7XG4gICAgICBhcnIucHVzaChmKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG5vSGFuZGxlcnMgPSBbXVxuICBmdW5jdGlvbiBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlLCBjb3B5KSB7XG4gICAgdmFyIGFyciA9IGVtaXR0ZXIuX2hhbmRsZXJzICYmIGVtaXR0ZXIuX2hhbmRsZXJzW3R5cGVdXG4gICAgaWYgKGNvcHkpIHJldHVybiBhcnIgJiYgYXJyLmxlbmd0aCA+IDAgPyBhcnIuc2xpY2UoKSA6IG5vSGFuZGxlcnNcbiAgICBlbHNlIHJldHVybiBhcnIgfHwgbm9IYW5kbGVyc1xuICB9XG5cbiAgdmFyIG9mZiA9IENvZGVNaXJyb3Iub2ZmID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSwgZikge1xuICAgIGlmIChlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuICAgIGVsc2UgaWYgKGVtaXR0ZXIuZGV0YWNoRXZlbnQpXG4gICAgICBlbWl0dGVyLmRldGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIGhhbmRsZXJzID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSwgZmFsc2UpXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT0gZikgeyBoYW5kbGVycy5zcGxpY2UoaSwgMSk7IGJyZWFrOyB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzaWduYWwgPSBDb2RlTWlycm9yLnNpZ25hbCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUgLyosIHZhbHVlcy4uLiovKSB7XG4gICAgdmFyIGhhbmRsZXJzID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSwgdHJ1ZSlcbiAgICBpZiAoIWhhbmRsZXJzLmxlbmd0aCkgcmV0dXJuO1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgKytpKSBoYW5kbGVyc1tpXS5hcHBseShudWxsLCBhcmdzKTtcbiAgfTtcblxuICB2YXIgb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IG51bGw7XG5cbiAgLy8gT2Z0ZW4sIHdlIHdhbnQgdG8gc2lnbmFsIGV2ZW50cyBhdCBhIHBvaW50IHdoZXJlIHdlIGFyZSBpbiB0aGVcbiAgLy8gbWlkZGxlIG9mIHNvbWUgd29yaywgYnV0IGRvbid0IHdhbnQgdGhlIGhhbmRsZXIgdG8gc3RhcnQgY2FsbGluZ1xuICAvLyBvdGhlciBtZXRob2RzIG9uIHRoZSBlZGl0b3IsIHdoaWNoIG1pZ2h0IGJlIGluIGFuIGluY29uc2lzdGVudFxuICAvLyBzdGF0ZSBvciBzaW1wbHkgbm90IGV4cGVjdCBhbnkgb3RoZXIgZXZlbnRzIHRvIGhhcHBlbi5cbiAgLy8gc2lnbmFsTGF0ZXIgbG9va3Mgd2hldGhlciB0aGVyZSBhcmUgYW55IGhhbmRsZXJzLCBhbmQgc2NoZWR1bGVzXG4gIC8vIHRoZW0gdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgbGFzdCBvcGVyYXRpb24gZW5kcywgb3IsIGlmIG5vXG4gIC8vIG9wZXJhdGlvbiBpcyBhY3RpdmUsIHdoZW4gYSB0aW1lb3V0IGZpcmVzLlxuICBmdW5jdGlvbiBzaWduYWxMYXRlcihlbWl0dGVyLCB0eXBlIC8qLCB2YWx1ZXMuLi4qLykge1xuICAgIHZhciBhcnIgPSBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlLCBmYWxzZSlcbiAgICBpZiAoIWFyci5sZW5ndGgpIHJldHVybjtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksIGxpc3Q7XG4gICAgaWYgKG9wZXJhdGlvbkdyb3VwKSB7XG4gICAgICBsaXN0ID0gb3BlcmF0aW9uR3JvdXAuZGVsYXllZENhbGxiYWNrcztcbiAgICB9IGVsc2UgaWYgKG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MpIHtcbiAgICAgIGxpc3QgPSBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IFtdO1xuICAgICAgc2V0VGltZW91dChmaXJlT3JwaGFuRGVsYXllZCwgMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJuZChmKSB7cmV0dXJuIGZ1bmN0aW9uKCl7Zi5hcHBseShudWxsLCBhcmdzKTt9O307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpXG4gICAgICBsaXN0LnB1c2goYm5kKGFycltpXSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZU9ycGhhbkRlbGF5ZWQoKSB7XG4gICAgdmFyIGRlbGF5ZWQgPSBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzO1xuICAgIG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsYXllZC5sZW5ndGg7ICsraSkgZGVsYXllZFtpXSgpO1xuICB9XG5cbiAgLy8gVGhlIERPTSBldmVudHMgdGhhdCBDb2RlTWlycm9yIGhhbmRsZXMgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAgLy8gcmVnaXN0ZXJpbmcgYSAobm9uLURPTSkgaGFuZGxlciBvbiB0aGUgZWRpdG9yIGZvciB0aGUgZXZlbnQgbmFtZSxcbiAgLy8gYW5kIHByZXZlbnREZWZhdWx0LWluZyB0aGUgZXZlbnQgaW4gdGhhdCBoYW5kbGVyLlxuICBmdW5jdGlvbiBzaWduYWxET01FdmVudChjbSwgZSwgb3ZlcnJpZGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICAgIGUgPSB7dHlwZTogZSwgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9fTtcbiAgICBzaWduYWwoY20sIG92ZXJyaWRlIHx8IGUudHlwZSwgY20sIGUpO1xuICAgIHJldHVybiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSkgfHwgZS5jb2RlbWlycm9ySWdub3JlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2lnbmFsQ3Vyc29yQWN0aXZpdHkoY20pIHtcbiAgICB2YXIgYXJyID0gY20uX2hhbmRsZXJzICYmIGNtLl9oYW5kbGVycy5jdXJzb3JBY3Rpdml0eTtcbiAgICBpZiAoIWFycikgcmV0dXJuO1xuICAgIHZhciBzZXQgPSBjbS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzIHx8IChjbS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzID0gW10pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSBpZiAoaW5kZXhPZihzZXQsIGFycltpXSkgPT0gLTEpXG4gICAgICBzZXQucHVzaChhcnJbaV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSGFuZGxlcihlbWl0dGVyLCB0eXBlKSB7XG4gICAgcmV0dXJuIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpLmxlbmd0aCA+IDBcbiAgfVxuXG4gIC8vIEFkZCBvbiBhbmQgb2ZmIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSwgdG8gbWFrZVxuICAvLyByZWdpc3RlcmluZyBldmVudHMgb24gc3VjaCBvYmplY3RzIG1vcmUgY29udmVuaWVudC5cbiAgZnVuY3Rpb24gZXZlbnRNaXhpbihjdG9yKSB7XG4gICAgY3Rvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBmKSB7b24odGhpcywgdHlwZSwgZik7fTtcbiAgICBjdG9yLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBmKSB7b2ZmKHRoaXMsIHR5cGUsIGYpO307XG4gIH1cblxuICAvLyBNSVNDIFVUSUxJVElFU1xuXG4gIC8vIE51bWJlciBvZiBwaXhlbHMgYWRkZWQgdG8gc2Nyb2xsZXIgYW5kIHNpemVyIHRvIGhpZGUgc2Nyb2xsYmFyXG4gIHZhciBzY3JvbGxlckdhcCA9IDMwO1xuXG4gIC8vIFJldHVybmVkIG9yIHRocm93biBieSB2YXJpb3VzIHByb3RvY29scyB0byBzaWduYWwgJ0knbSBub3RcbiAgLy8gaGFuZGxpbmcgdGhpcycuXG4gIHZhciBQYXNzID0gQ29kZU1pcnJvci5QYXNzID0ge3RvU3RyaW5nOiBmdW5jdGlvbigpe3JldHVybiBcIkNvZGVNaXJyb3IuUGFzc1wiO319O1xuXG4gIC8vIFJldXNlZCBvcHRpb24gb2JqZWN0cyBmb3Igc2V0U2VsZWN0aW9uICYgZnJpZW5kc1xuICB2YXIgc2VsX2RvbnRTY3JvbGwgPSB7c2Nyb2xsOiBmYWxzZX0sIHNlbF9tb3VzZSA9IHtvcmlnaW46IFwiKm1vdXNlXCJ9LCBzZWxfbW92ZSA9IHtvcmlnaW46IFwiK21vdmVcIn07XG5cbiAgZnVuY3Rpb24gRGVsYXllZCgpIHt0aGlzLmlkID0gbnVsbDt9XG4gIERlbGF5ZWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG1zLCBmKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaWQpO1xuICAgIHRoaXMuaWQgPSBzZXRUaW1lb3V0KGYsIG1zKTtcbiAgfTtcblxuICAvLyBDb3VudHMgdGhlIGNvbHVtbiBvZmZzZXQgaW4gYSBzdHJpbmcsIHRha2luZyB0YWJzIGludG8gYWNjb3VudC5cbiAgLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbiAgdmFyIGNvdW50Q29sdW1uID0gQ29kZU1pcnJvci5jb3VudENvbHVtbiA9IGZ1bmN0aW9uKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4LCBzdGFydFZhbHVlKSB7XG4gICAgaWYgKGVuZCA9PSBudWxsKSB7XG4gICAgICBlbmQgPSBzdHJpbmcuc2VhcmNoKC9bXlxcc1xcdTAwYTBdLyk7XG4gICAgICBpZiAoZW5kID09IC0xKSBlbmQgPSBzdHJpbmcubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBuID0gc3RhcnRWYWx1ZSB8fCAwOzspIHtcbiAgICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoXCJcXHRcIiwgaSk7XG4gICAgICBpZiAobmV4dFRhYiA8IDAgfHwgbmV4dFRhYiA+PSBlbmQpXG4gICAgICAgIHJldHVybiBuICsgKGVuZCAtIGkpO1xuICAgICAgbiArPSBuZXh0VGFiIC0gaTtcbiAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICBpID0gbmV4dFRhYiArIDE7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoZSBpbnZlcnNlIG9mIGNvdW50Q29sdW1uIC0tIGZpbmQgdGhlIG9mZnNldCB0aGF0IGNvcnJlc3BvbmRzIHRvXG4gIC8vIGEgcGFydGljdWxhciBjb2x1bW4uXG4gIHZhciBmaW5kQ29sdW1uID0gQ29kZU1pcnJvci5maW5kQ29sdW1uID0gZnVuY3Rpb24oc3RyaW5nLCBnb2FsLCB0YWJTaXplKSB7XG4gICAgZm9yICh2YXIgcG9zID0gMCwgY29sID0gMDs7KSB7XG4gICAgICB2YXIgbmV4dFRhYiA9IHN0cmluZy5pbmRleE9mKFwiXFx0XCIsIHBvcyk7XG4gICAgICBpZiAobmV4dFRhYiA9PSAtMSkgbmV4dFRhYiA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB2YXIgc2tpcHBlZCA9IG5leHRUYWIgLSBwb3M7XG4gICAgICBpZiAobmV4dFRhYiA9PSBzdHJpbmcubGVuZ3RoIHx8IGNvbCArIHNraXBwZWQgPj0gZ29hbClcbiAgICAgICAgcmV0dXJuIHBvcyArIE1hdGgubWluKHNraXBwZWQsIGdvYWwgLSBjb2wpO1xuICAgICAgY29sICs9IG5leHRUYWIgLSBwb3M7XG4gICAgICBjb2wgKz0gdGFiU2l6ZSAtIChjb2wgJSB0YWJTaXplKTtcbiAgICAgIHBvcyA9IG5leHRUYWIgKyAxO1xuICAgICAgaWYgKGNvbCA+PSBnb2FsKSByZXR1cm4gcG9zO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzcGFjZVN0cnMgPSBbXCJcIl07XG4gIGZ1bmN0aW9uIHNwYWNlU3RyKG4pIHtcbiAgICB3aGlsZSAoc3BhY2VTdHJzLmxlbmd0aCA8PSBuKVxuICAgICAgc3BhY2VTdHJzLnB1c2gobHN0KHNwYWNlU3RycykgKyBcIiBcIik7XG4gICAgcmV0dXJuIHNwYWNlU3Ryc1tuXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxzdChhcnIpIHsgcmV0dXJuIGFyclthcnIubGVuZ3RoLTFdOyB9XG5cbiAgdmFyIHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyBub2RlLnNlbGVjdCgpOyB9O1xuICBpZiAoaW9zKSAvLyBNb2JpbGUgU2FmYXJpIGFwcGFyZW50bHkgaGFzIGEgYnVnIHdoZXJlIHNlbGVjdCgpIGlzIGJyb2tlbi5cbiAgICBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3Rpb25TdGFydCA9IDA7IG5vZGUuc2VsZWN0aW9uRW5kID0gbm9kZS52YWx1ZS5sZW5ndGg7IH07XG4gIGVsc2UgaWYgKGllKSAvLyBTdXBwcmVzcyBteXN0ZXJpb3VzIElFMTAgZXJyb3JzXG4gICAgc2VsZWN0SW5wdXQgPSBmdW5jdGlvbihub2RlKSB7IHRyeSB7IG5vZGUuc2VsZWN0KCk7IH0gY2F0Y2goX2UpIHt9IH07XG5cbiAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWx0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSlcbiAgICAgIGlmIChhcnJheVtpXSA9PSBlbHQpIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBmdW5jdGlvbiBtYXAoYXJyYXksIGYpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgb3V0W2ldID0gZihhcnJheVtpXSwgaSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdGhpbmcoKSB7fVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iaihiYXNlLCBwcm9wcykge1xuICAgIHZhciBpbnN0O1xuICAgIGlmIChPYmplY3QuY3JlYXRlKSB7XG4gICAgICBpbnN0ID0gT2JqZWN0LmNyZWF0ZShiYXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90aGluZy5wcm90b3R5cGUgPSBiYXNlO1xuICAgICAgaW5zdCA9IG5ldyBub3RoaW5nKCk7XG4gICAgfVxuICAgIGlmIChwcm9wcykgY29weU9iaihwcm9wcywgaW5zdCk7XG4gICAgcmV0dXJuIGluc3Q7XG4gIH07XG5cbiAgZnVuY3Rpb24gY29weU9iaihvYmosIHRhcmdldCwgb3ZlcndyaXRlKSB7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKVxuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiAob3ZlcndyaXRlICE9PSBmYWxzZSB8fCAhdGFyZ2V0Lmhhc093blByb3BlcnR5KHByb3ApKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gb2JqW3Byb3BdO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBiaW5kKGYpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGYuYXBwbHkobnVsbCwgYXJncyk7fTtcbiAgfVxuXG4gIHZhciBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciA9IC9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztcbiAgdmFyIGlzV29yZENoYXJCYXNpYyA9IENvZGVNaXJyb3IuaXNXb3JkQ2hhciA9IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuIC9cXHcvLnRlc3QoY2gpIHx8IGNoID4gXCJcXHg4MFwiICYmXG4gICAgICAoY2gudG9VcHBlckNhc2UoKSAhPSBjaC50b0xvd2VyQ2FzZSgpIHx8IG5vbkFTQ0lJU2luZ2xlQ2FzZVdvcmRDaGFyLnRlc3QoY2gpKTtcbiAgfTtcbiAgZnVuY3Rpb24gaXNXb3JkQ2hhcihjaCwgaGVscGVyKSB7XG4gICAgaWYgKCFoZWxwZXIpIHJldHVybiBpc1dvcmRDaGFyQmFzaWMoY2gpO1xuICAgIGlmIChoZWxwZXIuc291cmNlLmluZGV4T2YoXCJcXFxcd1wiKSA+IC0xICYmIGlzV29yZENoYXJCYXNpYyhjaCkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBoZWxwZXIudGVzdChjaCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIGZvciAodmFyIG4gaW4gb2JqKSBpZiAob2JqLmhhc093blByb3BlcnR5KG4pICYmIG9ialtuXSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gRXh0ZW5kaW5nIHVuaWNvZGUgY2hhcmFjdGVycy4gQSBzZXJpZXMgb2YgYSBub24tZXh0ZW5kaW5nIGNoYXIgK1xuICAvLyBhbnkgbnVtYmVyIG9mIGV4dGVuZGluZyBjaGFycyBpcyB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgYXMgZmFyXG4gIC8vIGFzIGVkaXRpbmcgYW5kIG1lYXN1cmluZyBpcyBjb25jZXJuZWQuIFRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QsXG4gIC8vIHNpbmNlIHNvbWUgc2NyaXB0cy9mb250cy9icm93c2VycyBhbHNvIHRyZWF0IG90aGVyIGNvbmZpZ3VyYXRpb25zXG4gIC8vIG9mIGNvZGUgcG9pbnRzIGFzIGEgZ3JvdXAuXG4gIHZhciBleHRlbmRpbmdDaGFycyA9IC9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztcbiAgZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApID49IDc2OCAmJiBleHRlbmRpbmdDaGFycy50ZXN0KGNoKTsgfVxuXG4gIC8vIERPTSBVVElMSVRJRVNcblxuICBmdW5jdGlvbiBlbHQodGFnLCBjb250ZW50LCBjbGFzc05hbWUsIHN0eWxlKSB7XG4gICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKGNsYXNzTmFtZSkgZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgaWYgKHN0eWxlKSBlLnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT0gXCJzdHJpbmdcIikgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgZWxzZSBpZiAoY29udGVudCkgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgKytpKSBlLmFwcGVuZENoaWxkKGNvbnRlbnRbaV0pO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgdmFyIHJhbmdlO1xuICBpZiAoZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHJhbmdlID0gZnVuY3Rpb24obm9kZSwgc3RhcnQsIGVuZCwgZW5kTm9kZSkge1xuICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByLnNldEVuZChlbmROb2RlIHx8IG5vZGUsIGVuZCk7XG4gICAgci5zZXRTdGFydChub2RlLCBzdGFydCk7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIGVsc2UgcmFuZ2UgPSBmdW5jdGlvbihub2RlLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIHIgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgIHRyeSB7IHIubW92ZVRvRWxlbWVudFRleHQobm9kZS5wYXJlbnROb2RlKTsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIHI7IH1cbiAgICByLmNvbGxhcHNlKHRydWUpO1xuICAgIHIubW92ZUVuZChcImNoYXJhY3RlclwiLCBlbmQpO1xuICAgIHIubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIHN0YXJ0KTtcbiAgICByZXR1cm4gcjtcbiAgfTtcblxuICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihlKSB7XG4gICAgZm9yICh2YXIgY291bnQgPSBlLmNoaWxkTm9kZXMubGVuZ3RoOyBjb3VudCA+IDA7IC0tY291bnQpXG4gICAgICBlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7XG4gICAgcmV0dXJuIGU7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbkFuZEFkZChwYXJlbnQsIGUpIHtcbiAgICByZXR1cm4gcmVtb3ZlQ2hpbGRyZW4ocGFyZW50KS5hcHBlbmRDaGlsZChlKTtcbiAgfVxuXG4gIHZhciBjb250YWlucyA9IENvZGVNaXJyb3IuY29udGFpbnMgPSBmdW5jdGlvbihwYXJlbnQsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMpIC8vIEFuZHJvaWQgYnJvd3NlciBhbHdheXMgcmV0dXJucyBmYWxzZSB3aGVuIGNoaWxkIGlzIGEgdGV4dG5vZGVcbiAgICAgIGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50LmNvbnRhaW5zKVxuICAgICAgcmV0dXJuIHBhcmVudC5jb250YWlucyhjaGlsZCk7XG4gICAgZG8ge1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDExKSBjaGlsZCA9IGNoaWxkLmhvc3Q7XG4gICAgICBpZiAoY2hpbGQgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZTtcbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFjdGl2ZUVsdCgpIHtcbiAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5yb290ICYmIGFjdGl2ZUVsZW1lbnQucm9vdC5hY3RpdmVFbGVtZW50KVxuICAgICAgYWN0aXZlRWxlbWVudCA9IGFjdGl2ZUVsZW1lbnQucm9vdC5hY3RpdmVFbGVtZW50O1xuICAgIHJldHVybiBhY3RpdmVFbGVtZW50O1xuICB9XG4gIC8vIE9sZGVyIHZlcnNpb25zIG9mIElFIHRocm93cyB1bnNwZWNpZmllZCBlcnJvciB3aGVuIHRvdWNoaW5nXG4gIC8vIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gc29tZSBjYXNlcyAoZHVyaW5nIGxvYWRpbmcsIGluIGlmcmFtZSlcbiAgaWYgKGllICYmIGllX3ZlcnNpb24gPCAxMSkgYWN0aXZlRWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHsgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiBkb2N1bWVudC5ib2R5OyB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY2xhc3NUZXN0KGNscykgeyByZXR1cm4gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgY2xzICsgXCIoPzokfFxcXFxzKVxcXFxzKlwiKTsgfVxuICB2YXIgcm1DbGFzcyA9IENvZGVNaXJyb3Iucm1DbGFzcyA9IGZ1bmN0aW9uKG5vZGUsIGNscykge1xuICAgIHZhciBjdXJyZW50ID0gbm9kZS5jbGFzc05hbWU7XG4gICAgdmFyIG1hdGNoID0gY2xhc3NUZXN0KGNscykuZXhlYyhjdXJyZW50KTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHZhciBhZnRlciA9IGN1cnJlbnQuc2xpY2UobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgbm9kZS5jbGFzc05hbWUgPSBjdXJyZW50LnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIChhZnRlciA/IG1hdGNoWzFdICsgYWZ0ZXIgOiBcIlwiKTtcbiAgICB9XG4gIH07XG4gIHZhciBhZGRDbGFzcyA9IENvZGVNaXJyb3IuYWRkQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbHMpIHtcbiAgICB2YXIgY3VycmVudCA9IG5vZGUuY2xhc3NOYW1lO1xuICAgIGlmICghY2xhc3NUZXN0KGNscykudGVzdChjdXJyZW50KSkgbm9kZS5jbGFzc05hbWUgKz0gKGN1cnJlbnQgPyBcIiBcIiA6IFwiXCIpICsgY2xzO1xuICB9O1xuICBmdW5jdGlvbiBqb2luQ2xhc3NlcyhhLCBiKSB7XG4gICAgdmFyIGFzID0gYS5zcGxpdChcIiBcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChhc1tpXSAmJiAhY2xhc3NUZXN0KGFzW2ldKS50ZXN0KGIpKSBiICs9IFwiIFwiICsgYXNbaV07XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICAvLyBXSU5ET1ctV0lERSBFVkVOVFNcblxuICAvLyBUaGVzZSBtdXN0IGJlIGhhbmRsZWQgY2FyZWZ1bGx5LCBiZWNhdXNlIG5haXZlbHkgcmVnaXN0ZXJpbmcgYVxuICAvLyBoYW5kbGVyIGZvciBlYWNoIGVkaXRvciB3aWxsIGNhdXNlIHRoZSBlZGl0b3JzIHRvIG5ldmVyIGJlXG4gIC8vIGdhcmJhZ2UgY29sbGVjdGVkLlxuXG4gIGZ1bmN0aW9uIGZvckVhY2hDb2RlTWlycm9yKGYpIHtcbiAgICBpZiAoIWRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkgcmV0dXJuO1xuICAgIHZhciBieUNsYXNzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiQ29kZU1pcnJvclwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5Q2xhc3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjbSA9IGJ5Q2xhc3NbaV0uQ29kZU1pcnJvcjtcbiAgICAgIGlmIChjbSkgZihjbSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGdsb2JhbHNSZWdpc3RlcmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGVuc3VyZUdsb2JhbEhhbmRsZXJzKCkge1xuICAgIGlmIChnbG9iYWxzUmVnaXN0ZXJlZCkgcmV0dXJuO1xuICAgIHJlZ2lzdGVyR2xvYmFsSGFuZGxlcnMoKTtcbiAgICBnbG9iYWxzUmVnaXN0ZXJlZCA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpIHtcbiAgICAvLyBXaGVuIHRoZSB3aW5kb3cgcmVzaXplcywgd2UgbmVlZCB0byByZWZyZXNoIGFjdGl2ZSBlZGl0b3JzLlxuICAgIHZhciByZXNpemVUaW1lcjtcbiAgICBvbih3aW5kb3csIFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHJlc2l6ZVRpbWVyID09IG51bGwpIHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzaXplVGltZXIgPSBudWxsO1xuICAgICAgICBmb3JFYWNoQ29kZU1pcnJvcihvblJlc2l6ZSk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICAgIC8vIFdoZW4gdGhlIHdpbmRvdyBsb3NlcyBmb2N1cywgd2Ugd2FudCB0byBzaG93IHRoZSBlZGl0b3IgYXMgYmx1cnJlZFxuICAgIG9uKHdpbmRvdywgXCJibHVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgZm9yRWFjaENvZGVNaXJyb3Iob25CbHVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZFQVRVUkUgREVURUNUSU9OXG5cbiAgLy8gRGV0ZWN0IGRyYWctYW5kLWRyb3BcbiAgdmFyIGRyYWdBbmREcm9wID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVGhlcmUgaXMgKnNvbWUqIGtpbmQgb2YgZHJhZy1hbmQtZHJvcCBzdXBwb3J0IGluIElFNi04LCBidXQgSVxuICAgIC8vIGNvdWxkbid0IGdldCBpdCB0byB3b3JrIHlldC5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgZGl2ID0gZWx0KCdkaXYnKTtcbiAgICByZXR1cm4gXCJkcmFnZ2FibGVcIiBpbiBkaXYgfHwgXCJkcmFnRHJvcFwiIGluIGRpdjtcbiAgfSgpO1xuXG4gIHZhciB6d3NwU3VwcG9ydGVkO1xuICBmdW5jdGlvbiB6ZXJvV2lkdGhFbGVtZW50KG1lYXN1cmUpIHtcbiAgICBpZiAoendzcFN1cHBvcnRlZCA9PSBudWxsKSB7XG4gICAgICB2YXIgdGVzdCA9IGVsdChcInNwYW5cIiwgXCJcXHUyMDBiXCIpO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZWx0KFwic3BhblwiLCBbdGVzdCwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpXSkpO1xuICAgICAgaWYgKG1lYXN1cmUuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQgIT0gMClcbiAgICAgICAgendzcFN1cHBvcnRlZCA9IHRlc3Qub2Zmc2V0V2lkdGggPD0gMSAmJiB0ZXN0Lm9mZnNldEhlaWdodCA+IDIgJiYgIShpZSAmJiBpZV92ZXJzaW9uIDwgOCk7XG4gICAgfVxuICAgIHZhciBub2RlID0gendzcFN1cHBvcnRlZCA/IGVsdChcInNwYW5cIiwgXCJcXHUyMDBiXCIpIDpcbiAgICAgIGVsdChcInNwYW5cIiwgXCJcXHUwMGEwXCIsIG51bGwsIFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHhcIik7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIsIFwiXCIpO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLy8gRmVhdHVyZS1kZXRlY3QgSUUncyBjcnVtbXkgY2xpZW50IHJlY3QgcmVwb3J0aW5nIGZvciBiaWRpIHRleHRcbiAgdmFyIGJhZEJpZGlSZWN0cztcbiAgZnVuY3Rpb24gaGFzQmFkQmlkaVJlY3RzKG1lYXN1cmUpIHtcbiAgICBpZiAoYmFkQmlkaVJlY3RzICE9IG51bGwpIHJldHVybiBiYWRCaWRpUmVjdHM7XG4gICAgdmFyIHR4dCA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQVxcdTA2MmVBXCIpKTtcbiAgICB2YXIgcjAgPSByYW5nZSh0eHQsIDAsIDEpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICghcjAgfHwgcjAubGVmdCA9PSByMC5yaWdodCkgcmV0dXJuIGZhbHNlOyAvLyBTYWZhcmkgcmV0dXJucyBudWxsIGluIHNvbWUgY2FzZXMgKCMyNzgwKVxuICAgIHZhciByMSA9IHJhbmdlKHR4dCwgMSwgMikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGJhZEJpZGlSZWN0cyA9IChyMS5yaWdodCAtIHIwLnJpZ2h0IDwgMyk7XG4gIH1cblxuICAvLyBTZWUgaWYgXCJcIi5zcGxpdCBpcyB0aGUgYnJva2VuIElFIHZlcnNpb24sIGlmIHNvLCBwcm92aWRlIGFuXG4gIC8vIGFsdGVybmF0aXZlIHdheSB0byBzcGxpdCBsaW5lcy5cbiAgdmFyIHNwbGl0TGluZXNBdXRvID0gQ29kZU1pcnJvci5zcGxpdExpbmVzID0gXCJcXG5cXG5iXCIuc3BsaXQoL1xcbi8pLmxlbmd0aCAhPSAzID8gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgdmFyIHBvcyA9IDAsIHJlc3VsdCA9IFtdLCBsID0gc3RyaW5nLmxlbmd0aDtcbiAgICB3aGlsZSAocG9zIDw9IGwpIHtcbiAgICAgIHZhciBubCA9IHN0cmluZy5pbmRleE9mKFwiXFxuXCIsIHBvcyk7XG4gICAgICBpZiAobmwgPT0gLTEpIG5sID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHZhciBsaW5lID0gc3RyaW5nLnNsaWNlKHBvcywgc3RyaW5nLmNoYXJBdChubCAtIDEpID09IFwiXFxyXCIgPyBubCAtIDEgOiBubCk7XG4gICAgICB2YXIgcnQgPSBsaW5lLmluZGV4T2YoXCJcXHJcIik7XG4gICAgICBpZiAocnQgIT0gLTEpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobGluZS5zbGljZSgwLCBydCkpO1xuICAgICAgICBwb3MgKz0gcnQgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobGluZSk7XG4gICAgICAgIHBvcyA9IG5sICsgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSA6IGZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdCgvXFxyXFxuP3xcXG4vKTt9O1xuXG4gIHZhciBoYXNTZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gZnVuY3Rpb24odGUpIHtcbiAgICB0cnkgeyByZXR1cm4gdGUuc2VsZWN0aW9uU3RhcnQgIT0gdGUuc2VsZWN0aW9uRW5kOyB9XG4gICAgY2F0Y2goZSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgfSA6IGZ1bmN0aW9uKHRlKSB7XG4gICAgdHJ5IHt2YXIgcmFuZ2UgPSB0ZS5vd25lckRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO31cbiAgICBjYXRjaChlKSB7fVxuICAgIGlmICghcmFuZ2UgfHwgcmFuZ2UucGFyZW50RWxlbWVudCgpICE9IHRlKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHJhbmdlLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvRW5kXCIsIHJhbmdlKSAhPSAwO1xuICB9O1xuXG4gIHZhciBoYXNDb3B5RXZlbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGUgPSBlbHQoXCJkaXZcIik7XG4gICAgaWYgKFwib25jb3B5XCIgaW4gZSkgcmV0dXJuIHRydWU7XG4gICAgZS5zZXRBdHRyaWJ1dGUoXCJvbmNvcHlcIiwgXCJyZXR1cm47XCIpO1xuICAgIHJldHVybiB0eXBlb2YgZS5vbmNvcHkgPT0gXCJmdW5jdGlvblwiO1xuICB9KSgpO1xuXG4gIHZhciBiYWRab29tZWRSZWN0cyA9IG51bGw7XG4gIGZ1bmN0aW9uIGhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpIHtcbiAgICBpZiAoYmFkWm9vbWVkUmVjdHMgIT0gbnVsbCkgcmV0dXJuIGJhZFpvb21lZFJlY3RzO1xuICAgIHZhciBub2RlID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZWx0KFwic3BhblwiLCBcInhcIikpO1xuICAgIHZhciBub3JtYWwgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBmcm9tUmFuZ2UgPSByYW5nZShub2RlLCAwLCAxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gYmFkWm9vbWVkUmVjdHMgPSBNYXRoLmFicyhub3JtYWwubGVmdCAtIGZyb21SYW5nZS5sZWZ0KSA+IDE7XG4gIH1cblxuICAvLyBLRVkgTkFNRVNcblxuICB2YXIga2V5TmFtZXMgPSBDb2RlTWlycm9yLmtleU5hbWVzID0ge1xuICAgIDM6IFwiRW50ZXJcIiwgODogXCJCYWNrc3BhY2VcIiwgOTogXCJUYWJcIiwgMTM6IFwiRW50ZXJcIiwgMTY6IFwiU2hpZnRcIiwgMTc6IFwiQ3RybFwiLCAxODogXCJBbHRcIixcbiAgICAxOTogXCJQYXVzZVwiLCAyMDogXCJDYXBzTG9ja1wiLCAyNzogXCJFc2NcIiwgMzI6IFwiU3BhY2VcIiwgMzM6IFwiUGFnZVVwXCIsIDM0OiBcIlBhZ2VEb3duXCIsIDM1OiBcIkVuZFwiLFxuICAgIDM2OiBcIkhvbWVcIiwgMzc6IFwiTGVmdFwiLCAzODogXCJVcFwiLCAzOTogXCJSaWdodFwiLCA0MDogXCJEb3duXCIsIDQ0OiBcIlByaW50U2NyblwiLCA0NTogXCJJbnNlcnRcIixcbiAgICA0NjogXCJEZWxldGVcIiwgNTk6IFwiO1wiLCA2MTogXCI9XCIsIDkxOiBcIk1vZFwiLCA5MjogXCJNb2RcIiwgOTM6IFwiTW9kXCIsXG4gICAgMTA2OiBcIipcIiwgMTA3OiBcIj1cIiwgMTA5OiBcIi1cIiwgMTEwOiBcIi5cIiwgMTExOiBcIi9cIiwgMTI3OiBcIkRlbGV0ZVwiLFxuICAgIDE3MzogXCItXCIsIDE4NjogXCI7XCIsIDE4NzogXCI9XCIsIDE4ODogXCIsXCIsIDE4OTogXCItXCIsIDE5MDogXCIuXCIsIDE5MTogXCIvXCIsIDE5MjogXCJgXCIsIDIxOTogXCJbXCIsIDIyMDogXCJcXFxcXCIsXG4gICAgMjIxOiBcIl1cIiwgMjIyOiBcIidcIiwgNjMyMzI6IFwiVXBcIiwgNjMyMzM6IFwiRG93blwiLCA2MzIzNDogXCJMZWZ0XCIsIDYzMjM1OiBcIlJpZ2h0XCIsIDYzMjcyOiBcIkRlbGV0ZVwiLFxuICAgIDYzMjczOiBcIkhvbWVcIiwgNjMyNzU6IFwiRW5kXCIsIDYzMjc2OiBcIlBhZ2VVcFwiLCA2MzI3NzogXCJQYWdlRG93blwiLCA2MzMwMjogXCJJbnNlcnRcIlxuICB9O1xuICAoZnVuY3Rpb24oKSB7XG4gICAgLy8gTnVtYmVyIGtleXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGtleU5hbWVzW2kgKyA0OF0gPSBrZXlOYW1lc1tpICsgOTZdID0gU3RyaW5nKGkpO1xuICAgIC8vIEFscGhhYmV0aWMga2V5c1xuICAgIGZvciAodmFyIGkgPSA2NTsgaSA8PSA5MDsgaSsrKSBrZXlOYW1lc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG4gICAgLy8gRnVuY3Rpb24ga2V5c1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDEyOyBpKyspIGtleU5hbWVzW2kgKyAxMTFdID0ga2V5TmFtZXNbaSArIDYzMjM1XSA9IFwiRlwiICsgaTtcbiAgfSkoKTtcblxuICAvLyBCSURJIEhFTFBFUlNcblxuICBmdW5jdGlvbiBpdGVyYXRlQmlkaVNlY3Rpb25zKG9yZGVyLCBmcm9tLCB0bywgZikge1xuICAgIGlmICghb3JkZXIpIHJldHVybiBmKGZyb20sIHRvLCBcImx0clwiKTtcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgcGFydCA9IG9yZGVyW2ldO1xuICAgICAgaWYgKHBhcnQuZnJvbSA8IHRvICYmIHBhcnQudG8gPiBmcm9tIHx8IGZyb20gPT0gdG8gJiYgcGFydC50byA9PSBmcm9tKSB7XG4gICAgICAgIGYoTWF0aC5tYXgocGFydC5mcm9tLCBmcm9tKSwgTWF0aC5taW4ocGFydC50bywgdG8pLCBwYXJ0LmxldmVsID09IDEgPyBcInJ0bFwiIDogXCJsdHJcIik7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmb3VuZCkgZihmcm9tLCB0bywgXCJsdHJcIik7XG4gIH1cblxuICBmdW5jdGlvbiBiaWRpTGVmdChwYXJ0KSB7IHJldHVybiBwYXJ0LmxldmVsICUgMiA/IHBhcnQudG8gOiBwYXJ0LmZyb207IH1cbiAgZnVuY3Rpb24gYmlkaVJpZ2h0KHBhcnQpIHsgcmV0dXJuIHBhcnQubGV2ZWwgJSAyID8gcGFydC5mcm9tIDogcGFydC50bzsgfVxuXG4gIGZ1bmN0aW9uIGxpbmVMZWZ0KGxpbmUpIHsgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7IHJldHVybiBvcmRlciA/IGJpZGlMZWZ0KG9yZGVyWzBdKSA6IDA7IH1cbiAgZnVuY3Rpb24gbGluZVJpZ2h0KGxpbmUpIHtcbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTtcbiAgICBpZiAoIW9yZGVyKSByZXR1cm4gbGluZS50ZXh0Lmxlbmd0aDtcbiAgICByZXR1cm4gYmlkaVJpZ2h0KGxzdChvcmRlcikpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGluZVN0YXJ0KGNtLCBsaW5lTikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIGxpbmVOKTtcbiAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICBpZiAodmlzdWFsICE9IGxpbmUpIGxpbmVOID0gbGluZU5vKHZpc3VhbCk7XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIodmlzdWFsKTtcbiAgICB2YXIgY2ggPSAhb3JkZXIgPyAwIDogb3JkZXJbMF0ubGV2ZWwgJSAyID8gbGluZVJpZ2h0KHZpc3VhbCkgOiBsaW5lTGVmdCh2aXN1YWwpO1xuICAgIHJldHVybiBQb3MobGluZU4sIGNoKTtcbiAgfVxuICBmdW5jdGlvbiBsaW5lRW5kKGNtLCBsaW5lTikge1xuICAgIHZhciBtZXJnZWQsIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgbGluZU4pO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpIHtcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lO1xuICAgICAgbGluZU4gPSBudWxsO1xuICAgIH1cbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTtcbiAgICB2YXIgY2ggPSAhb3JkZXIgPyBsaW5lLnRleHQubGVuZ3RoIDogb3JkZXJbMF0ubGV2ZWwgJSAyID8gbGluZUxlZnQobGluZSkgOiBsaW5lUmlnaHQobGluZSk7XG4gICAgcmV0dXJuIFBvcyhsaW5lTiA9PSBudWxsID8gbGluZU5vKGxpbmUpIDogbGluZU4sIGNoKTtcbiAgfVxuICBmdW5jdGlvbiBsaW5lU3RhcnRTbWFydChjbSwgcG9zKSB7XG4gICAgdmFyIHN0YXJ0ID0gbGluZVN0YXJ0KGNtLCBwb3MubGluZSk7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgc3RhcnQubGluZSk7XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7XG4gICAgaWYgKCFvcmRlciB8fCBvcmRlclswXS5sZXZlbCA9PSAwKSB7XG4gICAgICB2YXIgZmlyc3ROb25XUyA9IE1hdGgubWF4KDAsIGxpbmUudGV4dC5zZWFyY2goL1xcUy8pKTtcbiAgICAgIHZhciBpbldTID0gcG9zLmxpbmUgPT0gc3RhcnQubGluZSAmJiBwb3MuY2ggPD0gZmlyc3ROb25XUyAmJiBwb3MuY2g7XG4gICAgICByZXR1cm4gUG9zKHN0YXJ0LmxpbmUsIGluV1MgPyAwIDogZmlyc3ROb25XUyk7XG4gICAgfVxuICAgIHJldHVybiBzdGFydDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhcmVCaWRpTGV2ZWwob3JkZXIsIGEsIGIpIHtcbiAgICB2YXIgbGluZWRpciA9IG9yZGVyWzBdLmxldmVsO1xuICAgIGlmIChhID09IGxpbmVkaXIpIHJldHVybiB0cnVlO1xuICAgIGlmIChiID09IGxpbmVkaXIpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gYSA8IGI7XG4gIH1cbiAgdmFyIGJpZGlPdGhlcjtcbiAgZnVuY3Rpb24gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zKSB7XG4gICAgYmlkaU90aGVyID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMCwgZm91bmQ7IGkgPCBvcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGN1ciA9IG9yZGVyW2ldO1xuICAgICAgaWYgKGN1ci5mcm9tIDwgcG9zICYmIGN1ci50byA+IHBvcykgcmV0dXJuIGk7XG4gICAgICBpZiAoKGN1ci5mcm9tID09IHBvcyB8fCBjdXIudG8gPT0gcG9zKSkge1xuICAgICAgICBpZiAoZm91bmQgPT0gbnVsbCkge1xuICAgICAgICAgIGZvdW5kID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wYXJlQmlkaUxldmVsKG9yZGVyLCBjdXIubGV2ZWwsIG9yZGVyW2ZvdW5kXS5sZXZlbCkpIHtcbiAgICAgICAgICBpZiAoY3VyLmZyb20gIT0gY3VyLnRvKSBiaWRpT3RoZXIgPSBmb3VuZDtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3VyLmZyb20gIT0gY3VyLnRvKSBiaWRpT3RoZXIgPSBpO1xuICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlSW5MaW5lKGxpbmUsIHBvcywgZGlyLCBieVVuaXQpIHtcbiAgICBpZiAoIWJ5VW5pdCkgcmV0dXJuIHBvcyArIGRpcjtcbiAgICBkbyBwb3MgKz0gZGlyO1xuICAgIHdoaWxlIChwb3MgPiAwICYmIGlzRXh0ZW5kaW5nQ2hhcihsaW5lLnRleHQuY2hhckF0KHBvcykpKTtcbiAgICByZXR1cm4gcG9zO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gbW92ZSAndmlzdWFsbHknIHRocm91Z2ggYmktZGlyZWN0aW9uYWxcbiAgLy8gdGV4dCAtLSBpLmUuLCBwcmVzc2luZyBsZWZ0IHNob3VsZCBtYWtlIHRoZSBjdXJzb3IgZ28gbGVmdCwgZXZlblxuICAvLyB3aGVuIGluIFJUTCB0ZXh0LiBUaGUgdHJpY2t5IHBhcnQgaXMgdGhlICdqdW1wcycsIHdoZXJlIFJUTCBhbmRcbiAgLy8gTFRSIHRleHQgdG91Y2ggZWFjaCBvdGhlci4gVGhpcyBvZnRlbiByZXF1aXJlcyB0aGUgY3Vyc29yIG9mZnNldFxuICAvLyB0byBtb3ZlIG1vcmUgdGhhbiBvbmUgdW5pdCwgaW4gb3JkZXIgdG8gdmlzdWFsbHkgbW92ZSBvbmUgdW5pdC5cbiAgZnVuY3Rpb24gbW92ZVZpc3VhbGx5KGxpbmUsIHN0YXJ0LCBkaXIsIGJ5VW5pdCkge1xuICAgIHZhciBiaWRpID0gZ2V0T3JkZXIobGluZSk7XG4gICAgaWYgKCFiaWRpKSByZXR1cm4gbW92ZUxvZ2ljYWxseShsaW5lLCBzdGFydCwgZGlyLCBieVVuaXQpO1xuICAgIHZhciBwb3MgPSBnZXRCaWRpUGFydEF0KGJpZGksIHN0YXJ0KSwgcGFydCA9IGJpZGlbcG9zXTtcbiAgICB2YXIgdGFyZ2V0ID0gbW92ZUluTGluZShsaW5lLCBzdGFydCwgcGFydC5sZXZlbCAlIDIgPyAtZGlyIDogZGlyLCBieVVuaXQpO1xuXG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKHRhcmdldCA+IHBhcnQuZnJvbSAmJiB0YXJnZXQgPCBwYXJ0LnRvKSByZXR1cm4gdGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldCA9PSBwYXJ0LmZyb20gfHwgdGFyZ2V0ID09IHBhcnQudG8pIHtcbiAgICAgICAgaWYgKGdldEJpZGlQYXJ0QXQoYmlkaSwgdGFyZ2V0KSA9PSBwb3MpIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIHBhcnQgPSBiaWRpW3BvcyArPSBkaXJdO1xuICAgICAgICByZXR1cm4gKGRpciA+IDApID09IHBhcnQubGV2ZWwgJSAyID8gcGFydC50byA6IHBhcnQuZnJvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnQgPSBiaWRpW3BvcyArPSBkaXJdO1xuICAgICAgICBpZiAoIXBhcnQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoKGRpciA+IDApID09IHBhcnQubGV2ZWwgJSAyKVxuICAgICAgICAgIHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC50bywgLTEsIGJ5VW5pdCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0YXJnZXQgPSBtb3ZlSW5MaW5lKGxpbmUsIHBhcnQuZnJvbSwgMSwgYnlVbml0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlTG9naWNhbGx5KGxpbmUsIHN0YXJ0LCBkaXIsIGJ5VW5pdCkge1xuICAgIHZhciB0YXJnZXQgPSBzdGFydCArIGRpcjtcbiAgICBpZiAoYnlVbml0KSB3aGlsZSAodGFyZ2V0ID4gMCAmJiBpc0V4dGVuZGluZ0NoYXIobGluZS50ZXh0LmNoYXJBdCh0YXJnZXQpKSkgdGFyZ2V0ICs9IGRpcjtcbiAgICByZXR1cm4gdGFyZ2V0IDwgMCB8fCB0YXJnZXQgPiBsaW5lLnRleHQubGVuZ3RoID8gbnVsbCA6IHRhcmdldDtcbiAgfVxuXG4gIC8vIEJpZGlyZWN0aW9uYWwgb3JkZXJpbmcgYWxnb3JpdGhtXG4gIC8vIFNlZSBodHRwOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvdHI5LTEzLmh0bWwgZm9yIHRoZSBhbGdvcml0aG1cbiAgLy8gdGhhdCB0aGlzIChwYXJ0aWFsbHkpIGltcGxlbWVudHMuXG5cbiAgLy8gT25lLWNoYXIgY29kZXMgdXNlZCBmb3IgY2hhcmFjdGVyIHR5cGVzOlxuICAvLyBMIChMKTogICBMZWZ0LXRvLVJpZ2h0XG4gIC8vIFIgKFIpOiAgIFJpZ2h0LXRvLUxlZnRcbiAgLy8gciAoQUwpOiAgUmlnaHQtdG8tTGVmdCBBcmFiaWNcbiAgLy8gMSAoRU4pOiAgRXVyb3BlYW4gTnVtYmVyXG4gIC8vICsgKEVTKTogIEV1cm9wZWFuIE51bWJlciBTZXBhcmF0b3JcbiAgLy8gJSAoRVQpOiAgRXVyb3BlYW4gTnVtYmVyIFRlcm1pbmF0b3JcbiAgLy8gbiAoQU4pOiAgQXJhYmljIE51bWJlclxuICAvLyAsIChDUyk6ICBDb21tb24gTnVtYmVyIFNlcGFyYXRvclxuICAvLyBtIChOU00pOiBOb24tU3BhY2luZyBNYXJrXG4gIC8vIGIgKEJOKTogIEJvdW5kYXJ5IE5ldXRyYWxcbiAgLy8gcyAoQik6ICAgUGFyYWdyYXBoIFNlcGFyYXRvclxuICAvLyB0IChTKTogICBTZWdtZW50IFNlcGFyYXRvclxuICAvLyB3IChXUyk6ICBXaGl0ZXNwYWNlXG4gIC8vIE4gKE9OKTogIE90aGVyIE5ldXRyYWxzXG5cbiAgLy8gUmV0dXJucyBudWxsIGlmIGNoYXJhY3RlcnMgYXJlIG9yZGVyZWQgYXMgdGhleSBhcHBlYXJcbiAgLy8gKGxlZnQtdG8tcmlnaHQpLCBvciBhbiBhcnJheSBvZiBzZWN0aW9ucyAoe2Zyb20sIHRvLCBsZXZlbH1cbiAgLy8gb2JqZWN0cykgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgb2NjdXIgdmlzdWFsbHkuXG4gIHZhciBiaWRpT3JkZXJpbmcgPSAoZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDAgdG8gMHhmZlxuICAgIHZhciBsb3dUeXBlcyA9IFwiYmJiYmJiYmJidHN0d3NiYmJiYmJiYmJiYmJiYnNzc3R3Tk4lJSVOTk5OTk4sTixOMTExMTExMTExMU5OTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTmJiYmJiYnNiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYixOJSUlJU5OTk5MTk5OTk4lJTExTkxOTk4xTE5OTk5OTExMTExMTExMTExMTExMTExMTExMTExOTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE5cIjtcbiAgICAvLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMHg2MDAgdG8gMHg2ZmZcbiAgICB2YXIgYXJhYmljVHlwZXMgPSBcInJycnJycnJycnJycixyTk5tbW1tbW1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tcnJycnJycm5ubm5ubm5ubm4lbm5ycnJtcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJtbW1tbW1tbW1tbW1tbW1tbW1tTm1tbW1cIjtcbiAgICBmdW5jdGlvbiBjaGFyVHlwZShjb2RlKSB7XG4gICAgICBpZiAoY29kZSA8PSAweGY3KSByZXR1cm4gbG93VHlwZXMuY2hhckF0KGNvZGUpO1xuICAgICAgZWxzZSBpZiAoMHg1OTAgPD0gY29kZSAmJiBjb2RlIDw9IDB4NWY0KSByZXR1cm4gXCJSXCI7XG4gICAgICBlbHNlIGlmICgweDYwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHg2ZWQpIHJldHVybiBhcmFiaWNUeXBlcy5jaGFyQXQoY29kZSAtIDB4NjAwKTtcbiAgICAgIGVsc2UgaWYgKDB4NmVlIDw9IGNvZGUgJiYgY29kZSA8PSAweDhhYykgcmV0dXJuIFwiclwiO1xuICAgICAgZWxzZSBpZiAoMHgyMDAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDIwMGIpIHJldHVybiBcIndcIjtcbiAgICAgIGVsc2UgaWYgKGNvZGUgPT0gMHgyMDBjKSByZXR1cm4gXCJiXCI7XG4gICAgICBlbHNlIHJldHVybiBcIkxcIjtcbiAgICB9XG5cbiAgICB2YXIgYmlkaVJFID0gL1tcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUwNzAwLVxcdTA4YWNdLztcbiAgICB2YXIgaXNOZXV0cmFsID0gL1tzdHdOXS8sIGlzU3Ryb25nID0gL1tMUnJdLywgY291bnRzQXNMZWZ0ID0gL1tMYjFuXS8sIGNvdW50c0FzTnVtID0gL1sxbl0vO1xuICAgIC8vIEJyb3dzZXJzIHNlZW0gdG8gYWx3YXlzIHRyZWF0IHRoZSBib3VuZGFyaWVzIG9mIGJsb2NrIGVsZW1lbnRzIGFzIGJlaW5nIEwuXG4gICAgdmFyIG91dGVyVHlwZSA9IFwiTFwiO1xuXG4gICAgZnVuY3Rpb24gQmlkaVNwYW4obGV2ZWwsIGZyb20sIHRvKSB7XG4gICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgICB0aGlzLmZyb20gPSBmcm9tOyB0aGlzLnRvID0gdG87XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cikge1xuICAgICAgaWYgKCFiaWRpUkUudGVzdChzdHIpKSByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIgbGVuID0gc3RyLmxlbmd0aCwgdHlwZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCB0eXBlOyBpIDwgbGVuOyArK2kpXG4gICAgICAgIHR5cGVzLnB1c2godHlwZSA9IGNoYXJUeXBlKHN0ci5jaGFyQ29kZUF0KGkpKSk7XG5cbiAgICAgIC8vIFcxLiBFeGFtaW5lIGVhY2ggbm9uLXNwYWNpbmcgbWFyayAoTlNNKSBpbiB0aGUgbGV2ZWwgcnVuLCBhbmRcbiAgICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91c1xuICAgICAgLy8gY2hhcmFjdGVyLiBJZiB0aGUgTlNNIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgbGV2ZWwgcnVuLCBpdCB3aWxsXG4gICAgICAvLyBnZXQgdGhlIHR5cGUgb2Ygc29yLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIHByZXYgPSBvdXRlclR5cGU7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PSBcIm1cIikgdHlwZXNbaV0gPSBwcmV2O1xuICAgICAgICBlbHNlIHByZXYgPSB0eXBlO1xuICAgICAgfVxuXG4gICAgICAvLyBXMi4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgICAvLyBBTCBpcyBmb3VuZCwgY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBFdXJvcGVhbiBudW1iZXIgdG8gQXJhYmljXG4gICAgICAvLyBudW1iZXIuXG4gICAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjdXIgPSBvdXRlclR5cGU7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PSBcIjFcIiAmJiBjdXIgPT0gXCJyXCIpIHR5cGVzW2ldID0gXCJuXCI7XG4gICAgICAgIGVsc2UgaWYgKGlzU3Ryb25nLnRlc3QodHlwZSkpIHsgY3VyID0gdHlwZTsgaWYgKHR5cGUgPT0gXCJyXCIpIHR5cGVzW2ldID0gXCJSXCI7IH1cbiAgICAgIH1cblxuICAgICAgLy8gVzQuIEEgc2luZ2xlIEV1cm9wZWFuIHNlcGFyYXRvciBiZXR3ZWVuIHR3byBFdXJvcGVhbiBudW1iZXJzXG4gICAgICAvLyBjaGFuZ2VzIHRvIGEgRXVyb3BlYW4gbnVtYmVyLiBBIHNpbmdsZSBjb21tb24gc2VwYXJhdG9yIGJldHdlZW5cbiAgICAgIC8vIHR3byBudW1iZXJzIG9mIHRoZSBzYW1lIHR5cGUgY2hhbmdlcyB0byB0aGF0IHR5cGUuXG4gICAgICBmb3IgKHZhciBpID0gMSwgcHJldiA9IHR5cGVzWzBdOyBpIDwgbGVuIC0gMTsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwiK1wiICYmIHByZXYgPT0gXCIxXCIgJiYgdHlwZXNbaSsxXSA9PSBcIjFcIikgdHlwZXNbaV0gPSBcIjFcIjtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIixcIiAmJiBwcmV2ID09IHR5cGVzW2krMV0gJiZcbiAgICAgICAgICAgICAgICAgKHByZXYgPT0gXCIxXCIgfHwgcHJldiA9PSBcIm5cIikpIHR5cGVzW2ldID0gcHJldjtcbiAgICAgICAgcHJldiA9IHR5cGU7XG4gICAgICB9XG5cbiAgICAgIC8vIFc1LiBBIHNlcXVlbmNlIG9mIEV1cm9wZWFuIHRlcm1pbmF0b3JzIGFkamFjZW50IHRvIEV1cm9wZWFuXG4gICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuXG4gICAgICAvLyBXNi4gT3RoZXJ3aXNlLCBzZXBhcmF0b3JzIGFuZCB0ZXJtaW5hdG9ycyBjaGFuZ2UgdG8gT3RoZXJcbiAgICAgIC8vIE5ldXRyYWwuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwiLFwiKSB0eXBlc1tpXSA9IFwiTlwiO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiJVwiKSB7XG4gICAgICAgICAgZm9yICh2YXIgZW5kID0gaSArIDE7IGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IFwiJVwiOyArK2VuZCkge31cbiAgICAgICAgICB2YXIgcmVwbGFjZSA9IChpICYmIHR5cGVzW2ktMV0gPT0gXCIhXCIpIHx8IChlbmQgPCBsZW4gJiYgdHlwZXNbZW5kXSA9PSBcIjFcIikgPyBcIjFcIiA6IFwiTlwiO1xuICAgICAgICAgIGZvciAodmFyIGogPSBpOyBqIDwgZW5kOyArK2opIHR5cGVzW2pdID0gcmVwbGFjZTtcbiAgICAgICAgICBpID0gZW5kIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXNy4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW4gTCBpc1xuICAgICAgLy8gZm91bmQsIHRoZW4gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBFdXJvcGVhbiBudW1iZXIgdG8gTC5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjdXIgPSBvdXRlclR5cGU7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAoY3VyID09IFwiTFwiICYmIHR5cGUgPT0gXCIxXCIpIHR5cGVzW2ldID0gXCJMXCI7XG4gICAgICAgIGVsc2UgaWYgKGlzU3Ryb25nLnRlc3QodHlwZSkpIGN1ciA9IHR5cGU7XG4gICAgICB9XG5cbiAgICAgIC8vIE4xLiBBIHNlcXVlbmNlIG9mIG5ldXRyYWxzIHRha2VzIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gICAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgICAgLy8gZGlyZWN0aW9uLiBFdXJvcGVhbiBhbmQgQXJhYmljIG51bWJlcnMgYWN0IGFzIGlmIHRoZXkgd2VyZSBSIGluXG4gICAgICAvLyB0ZXJtcyBvZiB0aGVpciBpbmZsdWVuY2Ugb24gbmV1dHJhbHMuIFN0YXJ0LW9mLWxldmVsLXJ1biAoc29yKVxuICAgICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgICAvLyBOMi4gQW55IHJlbWFpbmluZyBuZXV0cmFscyB0YWtlIHRoZSBlbWJlZGRpbmcgZGlyZWN0aW9uLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBpZiAoaXNOZXV0cmFsLnRlc3QodHlwZXNbaV0pKSB7XG4gICAgICAgICAgZm9yICh2YXIgZW5kID0gaSArIDE7IGVuZCA8IGxlbiAmJiBpc05ldXRyYWwudGVzdCh0eXBlc1tlbmRdKTsgKytlbmQpIHt9XG4gICAgICAgICAgdmFyIGJlZm9yZSA9IChpID8gdHlwZXNbaS0xXSA6IG91dGVyVHlwZSkgPT0gXCJMXCI7XG4gICAgICAgICAgdmFyIGFmdGVyID0gKGVuZCA8IGxlbiA/IHR5cGVzW2VuZF0gOiBvdXRlclR5cGUpID09IFwiTFwiO1xuICAgICAgICAgIHZhciByZXBsYWNlID0gYmVmb3JlIHx8IGFmdGVyID8gXCJMXCIgOiBcIlJcIjtcbiAgICAgICAgICBmb3IgKHZhciBqID0gaTsgaiA8IGVuZDsgKytqKSB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgaSA9IGVuZCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGVyZSB3ZSBkZXBhcnQgZnJvbSB0aGUgZG9jdW1lbnRlZCBhbGdvcml0aG0sIGluIG9yZGVyIHRvIGF2b2lkXG4gICAgICAvLyBidWlsZGluZyB1cCBhbiBhY3R1YWwgbGV2ZWxzIGFycmF5LiBTaW5jZSB0aGVyZSBhcmUgb25seSB0aHJlZVxuICAgICAgLy8gbGV2ZWxzICgwLCAxLCAyKSBpbiBhbiBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXNuJ3QgdGFrZVxuICAgICAgLy8gZXhwbGljaXQgZW1iZWRkaW5nIGludG8gYWNjb3VudCwgd2UgY2FuIGJ1aWxkIHVwIHRoZSBvcmRlciBvblxuICAgICAgLy8gdGhlIGZseSwgd2l0aG91dCBmb2xsb3dpbmcgdGhlIGxldmVsLWJhc2VkIGFsZ29yaXRobS5cbiAgICAgIHZhciBvcmRlciA9IFtdLCBtO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47KSB7XG4gICAgICAgIGlmIChjb3VudHNBc0xlZnQudGVzdCh0eXBlc1tpXSkpIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSBpO1xuICAgICAgICAgIGZvciAoKytpOyBpIDwgbGVuICYmIGNvdW50c0FzTGVmdC50ZXN0KHR5cGVzW2ldKTsgKytpKSB7fVxuICAgICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKDAsIHN0YXJ0LCBpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHBvcyA9IGksIGF0ID0gb3JkZXIubGVuZ3RoO1xuICAgICAgICAgIGZvciAoKytpOyBpIDwgbGVuICYmIHR5cGVzW2ldICE9IFwiTFwiOyArK2kpIHt9XG4gICAgICAgICAgZm9yICh2YXIgaiA9IHBvczsgaiA8IGk7KSB7XG4gICAgICAgICAgICBpZiAoY291bnRzQXNOdW0udGVzdCh0eXBlc1tqXSkpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcyA8IGopIG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDEsIHBvcywgaikpO1xuICAgICAgICAgICAgICB2YXIgbnN0YXJ0ID0gajtcbiAgICAgICAgICAgICAgZm9yICgrK2o7IGogPCBpICYmIGNvdW50c0FzTnVtLnRlc3QodHlwZXNbal0pOyArK2opIHt9XG4gICAgICAgICAgICAgIG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDIsIG5zdGFydCwgaikpO1xuICAgICAgICAgICAgICBwb3MgPSBqO1xuICAgICAgICAgICAgfSBlbHNlICsrajtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBvcyA8IGkpIG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDEsIHBvcywgaSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgPT0gMSAmJiAobSA9IHN0ci5tYXRjaCgvXlxccysvKSkpIHtcbiAgICAgICAgb3JkZXJbMF0uZnJvbSA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICBvcmRlci51bnNoaWZ0KG5ldyBCaWRpU3BhbigwLCAwLCBtWzBdLmxlbmd0aCkpO1xuICAgICAgfVxuICAgICAgaWYgKGxzdChvcmRlcikubGV2ZWwgPT0gMSAmJiAobSA9IHN0ci5tYXRjaCgvXFxzKyQvKSkpIHtcbiAgICAgICAgbHN0KG9yZGVyKS50byAtPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oMCwgbGVuIC0gbVswXS5sZW5ndGgsIGxlbikpO1xuICAgICAgfVxuICAgICAgaWYgKG9yZGVyWzBdLmxldmVsID09IDIpXG4gICAgICAgIG9yZGVyLnVuc2hpZnQobmV3IEJpZGlTcGFuKDEsIG9yZGVyWzBdLnRvLCBvcmRlclswXS50bykpO1xuICAgICAgaWYgKG9yZGVyWzBdLmxldmVsICE9IGxzdChvcmRlcikubGV2ZWwpXG4gICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKG9yZGVyWzBdLmxldmVsLCBsZW4sIGxlbikpO1xuXG4gICAgICByZXR1cm4gb3JkZXI7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvLyBUSEUgRU5EXG5cbiAgQ29kZU1pcnJvci52ZXJzaW9uID0gXCI1LjguMFwiO1xuXG4gIHJldHVybiBDb2RlTWlycm9yO1xufSk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwibWljcm9SZWFjdC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdmVuZG9yL21hcmtlZC5kLnRzXCIgLz5cbmltcG9ydCAqIGFzIG1pY3JvUmVhY3QgZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tIFwiLi9ydW50aW1lXCI7XG5pbXBvcnQge1VJUmVuZGVyZXJ9IGZyb20gXCIuL3VpUmVuZGVyZXJcIjtcbmltcG9ydCB7RU5WLCBERUJVRywgdXVpZH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuXG5leHBvcnQgdmFyIHN5bmNlZFRhYmxlcyA9IFtcIm1hbnVhbCBlYXZcIiwgXCJ2aWV3XCIsIFwiYWN0aW9uXCIsIFwiYWN0aW9uIHNvdXJjZVwiLCBcImFjdGlvbiBtYXBwaW5nXCIsIFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwgXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwgXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiLCBcImFkZCBjb2xsZWN0aW9uIGFjdGlvblwiLCBcImFkZCBlYXYgYWN0aW9uXCIsIFwiYWRkIGJpdCBhY3Rpb25cIl07XG5leHBvcnQgdmFyIGV2ZUxvY2FsU3RvcmFnZUtleSA9IFwiZXZlXCI7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZW5kZXJlclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIHBlcmZTdGF0cztcbnZhciBwZXJmU3RhdHNVaTtcbnZhciB1cGRhdGVTdGF0ID0gMDtcbmV4cG9ydCB2YXIgcmVuZGVyZXI7XG5leHBvcnQgdmFyIHVpUmVuZGVyZXI7XG5mdW5jdGlvbiBpbml0UmVuZGVyZXIoKSB7XG4gIHJlbmRlcmVyID0gbmV3IG1pY3JvUmVhY3QuUmVuZGVyZXIoKTtcbiAgdWlSZW5kZXJlciA9IG5ldyBVSVJlbmRlcmVyKGV2ZSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIuY29udGVudCk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlbmRlcik7XG4gIHBlcmZTdGF0c1VpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcGVyZlN0YXRzVWkuaWQgPSBcInBlcmZTdGF0c1wiO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBlcmZTdGF0c1VpKTtcbn1cblxuaWYoRU5WID09PSBcImJyb3dzZXJcIikgdmFyIHBlcmZvcm1hbmNlID0gd2luZG93W1wicGVyZm9ybWFuY2VcIl0gfHwgeyBub3c6ICgpID0+IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgfVxuXG5leHBvcnQgdmFyIHJlbmRlclJvb3RzID0ge307XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKCkge1xuICBpZighcmVuZGVyZXIgfHwgcmVuZGVyZXIucXVldWVkKSByZXR1cm47XG4gIHJlbmRlcmVyLnF1ZXVlZCA9IHRydWU7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICBsZXQgc3RhdHM6YW55ID0ge307XG4gICAgbGV0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICBsZXQgdHJlZXMgPSBbXTtcbiAgICBmb3IgKHZhciByb290IGluIHJlbmRlclJvb3RzKSB7XG4gICAgICB0cmVlcy5wdXNoKHJlbmRlclJvb3RzW3Jvb3RdKCkpO1xuICAgIH1cblxuICAgIHN0YXRzLnJvb3QgPSAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkudG9GaXhlZCgyKTtcbiAgICBpZiAoK3N0YXRzLnJvb3QgPiAxMCkgY29uc29sZS5pbmZvKFwiU2xvdyByb290OiBcIiArIHN0YXRzLnJvb3QpO1xuXG4gICAgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBsZXQgZHluYW1pY1VJID0gZXZlLmZpbmQoXCJzeXN0ZW0gdWlcIikubWFwKCh1aSkgPT4gdWlbXCJ0ZW1wbGF0ZVwiXSk7XG4gICAgaWYoREVCVUcgJiYgREVCVUcuVUlfQ09NUElMRSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiY29tcGlsaW5nXCIsIGR5bmFtaWNVSSk7XG4gICAgICBjb25zb2xlLmluZm8oXCIqXCIsIHVpUmVuZGVyZXIuY29tcGlsZShkeW5hbWljVUkpKTtcbiAgICB9XG4gICAgdHJlZXMucHVzaC5hcHBseSh0cmVlcywgdWlSZW5kZXJlci5jb21waWxlKGR5bmFtaWNVSSkpO1xuICAgIHN0YXRzLnVpQ29tcGlsZSA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgIGlmICgrc3RhdHMudWlDb21waWxlID4gMTApIGNvbnNvbGUuaW5mbyhcIlNsb3cgdWkgY29tcGlsZTogXCIgKyBzdGF0cy51aUNvbXBpbGUpO1xuXG4gICAgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICByZW5kZXJlci5yZW5kZXIodHJlZXMpO1xuICAgIHN0YXRzLnJlbmRlciA9IChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgIHN0YXRzLnVwZGF0ZSA9IHVwZGF0ZVN0YXQudG9GaXhlZCgyKTtcblxuICAgIHBlcmZTdGF0c1VpLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBwZXJmU3RhdHNVaS50ZXh0Q29udGVudCArPSBgcm9vdDogJHtzdGF0cy5yb290fWA7XG4gICAgcGVyZlN0YXRzVWkudGV4dENvbnRlbnQgKz0gYCB8IHVpIGNvbXBpbGU6ICR7c3RhdHMudWlDb21waWxlfWA7XG4gICAgcGVyZlN0YXRzVWkudGV4dENvbnRlbnQgKz0gYCB8IHJlbmRlcjogJHtzdGF0cy5yZW5kZXJ9YDtcbiAgICBwZXJmU3RhdHNVaS50ZXh0Q29udGVudCArPSBgIHwgdXBkYXRlOiAke3N0YXRzLnVwZGF0ZX1gO1xuICAgIHBlcmZTdGF0cyA9IHN0YXRzO1xuXG4gICAgcmVuZGVyZXIucXVldWVkID0gZmFsc2U7XG4gIH0pO1xufVxuXG52YXIgc3RvcmVRdWV1ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHN0b3JlTG9jYWxseSgpIHtcbiAgaWYoc3RvcmVRdWV1ZWQpIHJldHVybjtcbiAgc3RvcmVRdWV1ZWQgPSB0cnVlO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBsZXQgc2VyaWFsaXplZCA9IGV2ZS5zZXJpYWxpemUodHJ1ZSk7XG4gICAgaWYgKGV2ZUxvY2FsU3RvcmFnZUtleSA9PT0gXCJldmVcIikge1xuICAgICAgZm9yIChsZXQgc3luY2VkIG9mIHN5bmNlZFRhYmxlcykge1xuICAgICAgICBkZWxldGUgc2VyaWFsaXplZFtzeW5jZWRdO1xuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUgc2VyaWFsaXplZFtcInByb3ZlbmFuY2VcIl07XG4gICAgbG9jYWxTdG9yYWdlW2V2ZUxvY2FsU3RvcmFnZUtleV0gPSBKU09OLnN0cmluZ2lmeShzZXJpYWxpemVkKTtcbiAgICBzdG9yZVF1ZXVlZCA9IGZhbHNlO1xuICB9LCAxMDAwKTtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpc3BhdGNoXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgZGlzcGF0Y2hlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlKGV2ZW50LCBmdW5jKSB7XG4gIGlmIChkaXNwYXRjaGVzW2V2ZW50XSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYE92ZXJ3cml0aW5nIGhhbmRsZXIgZm9yICcke2V2ZW50fSdgKTtcbiAgfVxuICBkaXNwYXRjaGVzW2V2ZW50XSA9IGZ1bmM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChldmVudDogc3RyaW5nLCBpbmZvPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgZGlzcGF0Y2hJbmZvPykge1xuICBsZXQgcmVzdWx0ID0gZGlzcGF0Y2hJbmZvO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHJlc3VsdCA9IGV2ZS5kaWZmKCk7XG4gICAgcmVzdWx0Lm1ldGEucmVuZGVyID0gdHJ1ZTtcbiAgICByZXN1bHQubWV0YS5zdG9yZSA9IHRydWU7XG4gIH1cbiAgcmVzdWx0LmRpc3BhdGNoID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGV2ZW50LCBpbmZvLCByZXN1bHQpO1xuICB9O1xuICByZXN1bHQuY29tbWl0ID0gKCkgPT4ge1xuICAgIHZhciBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIC8vIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIGVudGl0eVwiLCB7ZW50aXR5OiBcInJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzXCJ9KTtcbiAgICAvLyByZXN1bHQuYWRkKFwiYnVpbHRpbiBlbnRpdHlcIiwge2VudGl0eTogXCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wiLCBjb250ZW50OiBgXG4gICAgLy8gIyBSZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljcyAoe2lzIGE6IHN5c3RlbX0pXG4gICAgLy8gcm9vdDoge3Jvb3Q6ICR7cGVyZlN0YXRzLnJvb3R9fVxuICAgIC8vIHVpIGNvbXBpbGU6IHt1aSBjb21waWxlOiAke3BlcmZTdGF0cy51aUNvbXBpbGV9fVxuICAgIC8vIHJlbmRlcjoge3JlbmRlcjogJHtwZXJmU3RhdHMucmVuZGVyfX1cbiAgICAvLyB1cGRhdGU6IHt1cGRhdGU6ICR7cGVyZlN0YXRzLnVwZGF0ZX19XG4gICAgLy8gSG9ycmlibGUgaGFjaywgZGlzcmVnYXJkIHRoaXM6IHtwZXJmIHN0YXRzOiByZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc31cbiAgICAvLyBgfSk7XG4gICAgaWYoIXJ1bnRpbWUuSU5DUkVNRU5UQUwpIHtcbiAgICAgIGV2ZS5hcHBseURpZmYocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlLmFwcGx5RGlmZkluY3JlbWVudGFsKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQubWV0YS5yZW5kZXIpIHtcbiAgICAgIHJlbmRlcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lm1ldGEuc3RvcmUpIHtcbiAgICAgIHN0b3JlTG9jYWxseSgpO1xuICAgICAgaWYgKGV2ZUxvY2FsU3RvcmFnZUtleSA9PT0gXCJldmVcIikge1xuICAgICAgICBzZW5kQ2hhbmdlU2V0KHJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVN0YXQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuICB9XG4gIGxldCBmdW5jID0gZGlzcGF0Y2hlc1tldmVudF07XG4gIGlmICghZnVuYykge1xuICAgIGNvbnNvbGUuZXJyb3IoYE5vIGRpc3BhdGNoZXMgZm9yICcke2V2ZW50fScgd2l0aCAke0pTT04uc3RyaW5naWZ5KGluZm8pIH1gKTtcbiAgfSBlbHNlIHtcbiAgICBmdW5jKHJlc3VsdCwgaW5mbyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdGVcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCB2YXIgZXZlID0gcnVudGltZS5pbmRleGVyKCk7XG5leHBvcnQgdmFyIGluaXRpYWxpemVycyA9IHt9O1xuZXhwb3J0IHZhciBhY3RpdmVTZWFyY2hlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChuYW1lLCBmdW5jKSB7XG4gIGluaXRpYWxpemVyc1tuYW1lXSA9IGZ1bmM7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVJbml0aWFsaXplcnMoKSB7XG4gIGZvciAobGV0IGluaXROYW1lIGluIGluaXRpYWxpemVycykge1xuICAgIGluaXRpYWxpemVyc1tpbml0TmFtZV0oKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gV2Vic29ja2V0XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgbWUgPSB1dWlkKCk7XG5pZih0aGlzLmxvY2FsU3RvcmFnZSkge1xuICBpZihsb2NhbFN0b3JhZ2VbXCJtZVwiXSkgbWUgPSBsb2NhbFN0b3JhZ2VbXCJtZVwiXTtcbiAgZWxzZSBsb2NhbFN0b3JhZ2VbXCJtZVwiXSA9IG1lO1xufVxuXG5leHBvcnQgdmFyIHNvY2tldDtcbmZ1bmN0aW9uIGNvbm5lY3RUb1NlcnZlcigpIHtcbiAgc29ja2V0ID0gbmV3IFdlYlNvY2tldChgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSB8fCBcImxvY2FsaG9zdFwifTo4MDgwYCk7XG4gIHNvY2tldC5vbmVycm9yID0gKCkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBzZXJ2ZXIsIGZhbGxpbmcgYmFjayB0byBsb2NhbCBzdG9yYWdlXCIpO1xuICAgIGV2ZUxvY2FsU3RvcmFnZUtleSA9IFwibG9jYWwtZXZlXCI7XG4gICAgZXhlY3V0ZUluaXRpYWxpemVycygpO1xuICAgIHJlbmRlcigpO1xuICB9XG4gIHNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgc2VuZFNlcnZlcihcImNvbm5lY3RcIiwgbWUpO1xuICB9XG4gIHNvY2tldC5vbm1lc3NhZ2UgPSAoZGF0YSkgPT4ge1xuICAgIGxldCBwYXJzZWQgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSk7XG4gICAgY29uc29sZS5sb2coXCJXUyBNRVNTQUdFOlwiLCBwYXJzZWQpO1xuXG4gICAgaWYgKHBhcnNlZC5raW5kID09PSBcImxvYWRcIikge1xuICAgICAgZXZlLmxvYWQocGFyc2VkLmRhdGEpO1xuICAgICAgZXhlY3V0ZUluaXRpYWxpemVycygpO1xuICAgICAgcmVuZGVyKCk7XG4gICAgfSBlbHNlIGlmIChwYXJzZWQua2luZCA9PT0gXCJjaGFuZ2VzZXRcIikge1xuICAgICAgbGV0IGRpZmYgPSBldmUuZGlmZigpO1xuICAgICAgZGlmZi50YWJsZXMgPSBwYXJzZWQuZGF0YTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICByZW5kZXIoKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNlbmRTZXJ2ZXIobWVzc2FnZUtpbmQsIGRhdGEpIHtcbiAgaWYgKCFzb2NrZXQpIHJldHVybjtcbiAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBraW5kOiBtZXNzYWdlS2luZCwgbWUsIHRpbWU6IChuZXcgRGF0ZSkuZ2V0VGltZSgpLCBkYXRhIH0pKTtcbn1cblxuZnVuY3Rpb24gc2VuZENoYW5nZVNldChjaGFuZ2VzZXQpIHtcbiAgaWYgKCFzb2NrZXQpIHJldHVybjtcbiAgbGV0IGNoYW5nZXMgPSB7fTtcbiAgbGV0IHNlbmQgPSBmYWxzZTtcbiAgZm9yIChsZXQgdGFibGUgb2Ygc3luY2VkVGFibGVzKSB7XG4gICAgaWYgKGNoYW5nZXNldC50YWJsZXNbdGFibGVdKSB7XG4gICAgICBzZW5kID0gdHJ1ZTtcbiAgICAgIGNoYW5nZXNbdGFibGVdID0gY2hhbmdlc2V0LnRhYmxlc1t0YWJsZV07XG4gICAgfVxuICB9XG4gIGlmIChzZW5kKSBzZW5kU2VydmVyKFwiY2hhbmdlc2V0XCIsIGNoYW5nZXMpO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR29cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pZihFTlYgPT09IFwiYnJvd3NlclwiKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaW5pdFJlbmRlcmVyKCk7XG4gICAgY29ubmVjdFRvU2VydmVyKCk7XG4gICAgcmVuZGVyKCk7XG4gIH0pO1xufVxuXG5pbml0KFwibG9hZCBkYXRhXCIsZnVuY3Rpb24oKSB7XG4gIGxldCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2VbZXZlTG9jYWxTdG9yYWdlS2V5XTtcbiAgaWYoc3RvcmVkKSB7XG4gICAgZXZlLmxvYWQoc3RvcmVkKTtcbiAgfVxufSk7XG5cbmRlY2xhcmUgdmFyIGV4cG9ydHM7XG5pZihFTlYgPT09IFwiYnJvd3NlclwiKSB3aW5kb3dbXCJhcHBcIl0gPSBleHBvcnRzOyIsImltcG9ydCB7dW5wYWQsIHRpdGxlY2FzZX0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tIFwiLi9ydW50aW1lXCJcbmltcG9ydCB7YWRkQml0QWN0aW9ufSBmcm9tIFwiLi93aWtpXCJcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi9hcHBcIlxuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiXG5pbXBvcnQge3F1ZXJ5VG9FeGVjdXRhYmxlfSBmcm9tIFwiLi9xdWVyeVBhcnNlci50c1wiXG5pbXBvcnQge3BhcnNlUGxhbiwgUGxhblN0ZXAsIHBhcnNlUXVlcnksIFF1ZXJ5U3RlcCwgcGFyc2VVSSwgVUlFbGVtLCBwYXJzZURTTCwgQXJ0aWZhY3RzfSBmcm9tIFwiLi9wYXJzZXJcIlxuaW1wb3J0IHtVSX0gZnJvbSBcIi4vdWlSZW5kZXJlclwiXG5cbmV4cG9ydCB2YXIgaXhlciA9IGV2ZTtcbmRlY2xhcmUgdmFyIHV1aWQ7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFV0aWxpdGllc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBxdWVyeUZyb21TZWFyY2goc2VhcmNoOnN0cmluZyk6cnVudGltZS5RdWVyeSB7XG4gIGxldCByZXN1bHQgPSBxdWVyeVRvRXhlY3V0YWJsZShzZWFyY2gpO1xuICByZXN1bHQuZXhlY3V0YWJsZS5vcmRpbmFsKClcbiAgcmV0dXJuIHJlc3VsdC5leGVjdXRhYmxlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5RnJvbVBsYW5EU0woc3RyOnN0cmluZyk6cnVudGltZS5RdWVyeSB7XG4gIHJldHVybiBxdWVyeVRvRXhlY3V0YWJsZShwYXJzZVBsYW4oc3RyKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcXVlcnlGcm9tUXVlcnlEU0woc3RyOnN0cmluZyk6cnVudGltZS5RdWVyeSB7XG4gIGxldCBwbGFuID0gcGFyc2VRdWVyeShzdHIpO1xuICBsZXQgcXVlcnkgPSBuZXcgcnVudGltZS5RdWVyeShpeGVyKTtcbiAgbGV0IGl4ID0gMDtcbiAgZm9yKGxldCBzdGVwIG9mIHBsYW4pIHtcbiAgICBsZXQgaWQgPSBzdGVwLmlkIHx8IGAke3N0ZXAudHlwZX18fCR7aXh9YDtcbiAgICBpZihzdGVwLnR5cGUgPT09IFwic2VsZWN0XCIpIHF1ZXJ5LnNlbGVjdChzdGVwW1widmlld1wiXSwgc3RlcFtcImpvaW5cIl0gfHwge30sIHN0ZXAuaWQpO1xuICAgIGVsc2UgaWYoc3RlcC50eXBlID09PSBcImRlc2VsZWN0XCIpIHF1ZXJ5LmRlc2VsZWN0KHN0ZXBbXCJ2aWV3XCJdLCBzdGVwW1wiam9pblwiXSB8fCB7fSk7XG4gICAgZWxzZSBpZihzdGVwLnR5cGUgPT09IFwiY2FsY3VsYXRlXCIpIHF1ZXJ5LmNhbGN1bGF0ZShzdGVwW1wiZnVuY1wiXSwgc3RlcFtcImFyZ3NcIl0sIHN0ZXAuaWQpO1xuICAgIGVsc2UgaWYoc3RlcC50eXBlID09PSBcImFnZ3JlZ2F0ZVwiKSBxdWVyeS5hZ2dyZWdhdGUoc3RlcFtcImZ1bmNcIl0sIHN0ZXBbXCJhcmdzXCJdLCBzdGVwLmlkKTtcbiAgICBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gXCJvcmRpbmFsXCIpIHF1ZXJ5Lm9yZGluYWwoKTtcbiAgICBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gXCJncm91cFwiKSBxdWVyeS5ncm91cChzdGVwW1wiZ3JvdXBzXCJdKTtcbiAgICBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gXCJzb3J0XCIpIHF1ZXJ5LnNvcnQoc3RlcFtcInNvcnRzXCJdKTtcbiAgICBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gXCJsaW1pdFwiKSBxdWVyeS5saW1pdChzdGVwW1wibGltaXRcIl0pO1xuICAgIGVsc2UgaWYoc3RlcC50eXBlID09PSBcInByb2plY3RcIikgcXVlcnkucHJvamVjdChzdGVwW1wibWFwcGluZ1wiXSk7XG4gICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcXVlcnkgc3RlcCB0eXBlICcke3N0ZXAudHlwZX0nYCk7XG4gIH1cbiAgcmV0dXJuIHF1ZXJ5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIFVJRnJvbURTTChzdHI6c3RyaW5nKTpVSSB7XG4gIGZ1bmN0aW9uIHByb2Nlc3NFbGVtKGRhdGE6VUlFbGVtKTpVSSB7XG4gICAgbGV0IGVsZW0gPSBuZXcgVUkoZGF0YS5pZCB8fCB1dWlkKCkpO1xuICAgIGlmKGRhdGEuYmluZGluZykgZWxlbS5iaW5kKGRhdGEuYmluZGluZ0tpbmQgPT09IFwicXVlcnlcIiA/IHF1ZXJ5RnJvbVF1ZXJ5RFNMKGRhdGEuYmluZGluZykgOiBxdWVyeUZyb21QbGFuRFNMKGRhdGEuYmluZGluZykpO1xuICAgIGlmKGRhdGEuZW1iZWRkZWQpIGVsZW0uZW1iZWQoZGF0YS5lbWJlZGRlZCk7XG4gICAgaWYoZGF0YS5hdHRyaWJ1dGVzKSBlbGVtLmF0dHJpYnV0ZXMoZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICBpZihkYXRhLmV2ZW50cykgZWxlbS5ldmVudHMoZGF0YS5ldmVudHMpO1xuICAgIGlmKGRhdGEuY2hpbGRyZW4pIHtcbiAgICAgIGZvcihsZXQgY2hpbGQgb2YgZGF0YS5jaGlsZHJlbikgZWxlbS5jaGlsZChwcm9jZXNzRWxlbShjaGlsZCkpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbTtcbiAgfVxuICByZXR1cm4gcHJvY2Vzc0VsZW0ocGFyc2VVSShzdHIpKTtcbn1cblxuY2xhc3MgQlNQaGFzZSB7XG4gIHByb3RlY3RlZCBfdmlld3M6e1t2aWV3OnN0cmluZ106IHN0cmluZ30gPSB7fTtcbiAgcHJvdGVjdGVkIF92aWV3RmllbGRzOntbdmlldzpzdHJpbmddOiBzdHJpbmdbXX0gPSB7fTtcbiAgcHJvdGVjdGVkIF9lbnRpdGllczpzdHJpbmdbXSA9IFtdO1xuICBwcm90ZWN0ZWQgX3Vpczp7W3VpOnN0cmluZ106IFVJfSA9IHt9O1xuICBwcm90ZWN0ZWQgX3F1ZXJpZXM6e1txdWVyeTpzdHJpbmddOiBydW50aW1lLlF1ZXJ5fSA9IHt9O1xuICBwcm90ZWN0ZWQgX25hbWVzOntbbmFtZTpzdHJpbmddOiBzdHJpbmd9ID0ge307XG5cbiAgY29uc3RydWN0b3IocHVibGljIGl4ZXI6cnVudGltZS5JbmRleGVyLCBwdWJsaWMgY2hhbmdlc2V0ID0gaXhlci5kaWZmKCkpIHt9XG5cbiAgdmlld0tpbmQodmlldzpzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3Nbdmlld107XG4gIH1cbiAgdmlld0ZpZWxkcyh2aWV3OnN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl92aWV3RmllbGRzW3ZpZXddO1xuICB9XG4gIGFwcGx5KG51a2VFeGlzdGluZz86Ym9vbGVhbikge1xuICAgIGZvcihsZXQgdmlldyBpbiB0aGlzLl92aWV3cykge1xuICAgICAgaWYodGhpcy5fdmlld3Nbdmlld10gPT09IFwidGFibGVcIikgaXhlci5hZGRUYWJsZSh2aWV3LCB0aGlzLl92aWV3RmllbGRzW3ZpZXddKTtcbiAgICB9XG4gICAgaWYobnVrZUV4aXN0aW5nKSB7XG4gICAgICBmb3IobGV0IHZpZXcgaW4gdGhpcy5fdmlld3MpIHtcbiAgICAgICAgaWYodGhpcy5fdmlld3Nbdmlld10gIT09IFwidGFibGVcIikgdGhpcy5jaGFuZ2VzZXQubWVyZ2UocnVudGltZS5RdWVyeS5yZW1vdmUodmlldywgdGhpcy5peGVyKSk7XG4gICAgICB9XG4gICAgICBmb3IobGV0IGVudGl0eSBvZiB0aGlzLl9lbnRpdGllcykgdGhpcy5jaGFuZ2VzZXQucmVtb3ZlKFwiYnVpbHRpbiBlbnRpdHlcIiwge2VudGl0eX0pO1xuICAgICAgZm9yKGxldCB1aSBpbiB0aGlzLl91aXMpIHRoaXMuY2hhbmdlc2V0Lm1lcmdlKFVJLnJlbW92ZSh1aSwgdGhpcy5peGVyKSk7XG4gICAgfVxuICAgIGl4ZXIuYXBwbHlEaWZmKHRoaXMuY2hhbmdlc2V0KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gTWFjcm9zXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgYWRkRmFjdCh0YWJsZTpzdHJpbmcsIGZhY3Q6e30pIHtcbiAgICB0aGlzLmNoYW5nZXNldC5hZGQodGFibGUsIGZhY3QpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkRW50aXR5KGVudGl0eTpzdHJpbmcsIG5hbWU6c3RyaW5nLCBraW5kczpzdHJpbmdbXSwgYXR0cmlidXRlcz86e30sIGV4dHJhQ29udGVudD86c3RyaW5nKSB7XG4gICAgZW50aXR5ID0gYEFVVE9HRU5FUkFURUQgJHtlbnRpdHl9IFRISVMgU0hPVUxETidUIFNIT1cgVVAgQU5ZV0hFUkVgO1xuICAgIHRoaXMuX25hbWVzW25hbWVdID0gZW50aXR5O1xuICAgIHRoaXMuX2VudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICB0aGlzLmFkZEZhY3QoXCJkaXNwbGF5IG5hbWVcIiwge2lkOiBlbnRpdHksIG5hbWU6IG5hbWV9KTtcbiAgICBsZXQgaXNBcyA9IFtdO1xuICAgIGZvcihsZXQga2luZCBvZiBraW5kcykge1xuICAgICAgICBsZXQgc291cmNlSWQgPSBgJHtlbnRpdHl9LGlzIGEsJHtraW5kfWA7XG4gICAgICAgIGlzQXMucHVzaChgeyR7a2luZH18ZWF2IHNvdXJjZSA9ICR7c291cmNlSWR9fWApO1xuICAgICAgICBsZXQgY29sbEVudGl0eSA9IGBBVVRPR0VORVJBVEVEICR7a2luZH0gVEhJUyBTSE9VTEROJ1QgU0hPVyBVUCBBTllXSEVSRWA7XG4gICAgICAgIHRoaXMuYWRkRmFjdChcImRpc3BsYXkgbmFtZVwiLCB7aWQ6IGNvbGxFbnRpdHksIG5hbWU6IGtpbmR9KTtcbiAgICAgICAgdGhpcy5hZGRGYWN0KFwic291cmNlZCBlYXZcIiwge2VudGl0eSwgYXR0cmlidXRlOiBcImlzIGFcIiwgdmFsdWU6IGNvbGxFbnRpdHksIHNvdXJjZTogc291cmNlSWR9KVxuICAgIH1cbiAgICBsZXQgY29sbGVjdGlvbnNUZXh0ID0gXCJcIjtcbiAgICBpZihpc0FzLmxlbmd0aClcbiAgICAgIGNvbGxlY3Rpb25zVGV4dCA9IGAke3RpdGxlY2FzZShuYW1lKX0gaXMgYSAke2lzQXMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0gJHtpc0FzLmxlbmd0aCA+IDEgPyBcImFuZFwiIDogXCJcIn0gJHtpc0FzW2lzQXMubGVuZ3RoIC0gMV19LmA7XG4gICAgbGV0IGNvbnRlbnQgPSB1bnBhZCg2KSBgXG4gICAgICAjICR7bmFtZX1cbiAgICAgICR7Y29sbGVjdGlvbnNUZXh0fVxuICAgIGA7XG4gICAgaWYoYXR0cmlidXRlcykge1xuICAgICAgY29udGVudCArPSBcIkF0dHJpYnV0ZXNcXG5cIjtcbiAgICAgIGZvcihsZXQgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgbGV0IHNvdXJjZUlkID0gYCR7ZW50aXR5fSwke2F0dHJ9LCR7YXR0cmlidXRlc1thdHRyXX1gO1xuICAgICAgICAgIGNvbnRlbnQgKz0gYCR7YXR0cn06IHske25hbWV9J3MgJHthdHRyfXxlYXYgc291cmNlID0gJHtzb3VyY2VJZH19XFxuICAgICAgYDtcbiAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9uYW1lc1thdHRyaWJ1dGVzW2F0dHJdXSB8fCBhdHRyaWJ1dGVzW2F0dHJdO1xuICAgICAgICAgIHRoaXMuYWRkRmFjdChcInNvdXJjZWQgZWF2XCIsIHtlbnRpdHksIGF0dHJpYnV0ZTogYXR0ciwgdmFsdWUsIHNvdXJjZTogc291cmNlSWR9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoZXh0cmFDb250ZW50KSBjb250ZW50ICs9IFwiXFxuXCIgKyBleHRyYUNvbnRlbnQ7XG4gICAgbGV0IHBhZ2UgPSBgJHtlbnRpdHl9fHJvb3RgO1xuICAgIHRoaXMuYWRkRmFjdChcInBhZ2UgY29udGVudFwiLCB7cGFnZSwgY29udGVudH0pO1xuICAgIHRoaXMuYWRkRmFjdChcImVudGl0eSBwYWdlXCIsIHtlbnRpdHksIHBhZ2V9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFZpZXcodmlldzpzdHJpbmcsIGtpbmQ6c3RyaW5nLCBmaWVsZHM6c3RyaW5nW10pIHtcbiAgICB0aGlzLl92aWV3c1t2aWV3XSA9IGtpbmQ7XG4gICAgdGhpcy5fdmlld0ZpZWxkc1t2aWV3XSA9IGZpZWxkcztcbiAgICB0aGlzLmFkZEZhY3QoXCJ2aWV3XCIsIHt2aWV3LCBraW5kOiBraW5kfSk7XG4gICAgZm9yKGxldCBmaWVsZCBvZiBmaWVsZHMpIHRoaXMuYWRkRmFjdChcImZpZWxkXCIsIHt2aWV3LCBmaWVsZH0pO1xuICAgIHRoaXMuYWRkRW50aXR5KHZpZXcsIHZpZXcsIFtcInN5c3RlbVwiLCBraW5kXSwgdW5kZWZpbmVkLCB1bnBhZCg2KSBgXG4gICAgICAjIyBGaWVsZHNcbiAgICAgICR7ZmllbGRzLm1hcCgoZmllbGQpID0+IGAqICR7ZmllbGR9YCkuam9pbihcIlxcbiAgICAgIFwiKX1cbiAgICBgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFRhYmxlKHZpZXc6c3RyaW5nLCBmaWVsZHM6c3RyaW5nW10pIHtcbiAgICB0aGlzLmFkZFZpZXcodmlldywgXCJ0YWJsZVwiLCBmaWVsZHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkVW5pb24odmlldzpzdHJpbmcsIGZpZWxkczpzdHJpbmdbXSwgYnVpbHRpbjpib29sZWFuID0gdHJ1ZSkge1xuICAgIHRoaXMuYWRkVmlldyh2aWV3LCBcInVuaW9uXCIsIGZpZWxkcyk7XG4gICAgaWYoYnVpbHRpbikge1xuICAgICAgbGV0IHRhYmxlID0gYGJ1aWx0aW4gJHt2aWV3fWA7XG4gICAgICB0aGlzLmFkZFRhYmxlKHRhYmxlLCBmaWVsZHMpO1xuICAgICAgdGhpcy5hZGRVbmlvbk1lbWJlcih2aWV3LCB0YWJsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRVbmlvbk1lbWJlcih1bmlvbjpzdHJpbmcsIG1lbWJlcjogc3RyaW5nLCBtYXBwaW5nPzp7fSkge1xuICAgIC8vIGFwcGx5IHRoZSBuYXR1cmFsIG1hcHBpbmcuXG4gICAgaWYoIW1hcHBpbmcpIHtcbiAgICAgIGlmKHRoaXMudmlld0tpbmQodW5pb24pICE9PSBcInVuaW9uXCIpIHRocm93IG5ldyBFcnJvcihgVW5pb24gJyR7dW5pb259JyBtdXN0IGJlIGFkZGVkIGJlZm9yZSBhZGRpbmcgbWVtYmVyc2ApO1xuICAgICAgbWFwcGluZyA9IHt9O1xuICAgICAgZm9yKGxldCBmaWVsZCBvZiB0aGlzLnZpZXdGaWVsZHModW5pb24pKSBtYXBwaW5nW2ZpZWxkXSA9IGZpZWxkO1xuICAgIH1cbiAgICBsZXQgYWN0aW9uID0gYCR7dW5pb259IDwtLSAke21lbWJlcn0gPC0tICR7SlNPTi5zdHJpbmdpZnkobWFwcGluZyl9YDtcbiAgICB0aGlzLmFkZEZhY3QoXCJhY3Rpb25cIiwge3ZpZXc6IHVuaW9uLCBhY3Rpb24sIGtpbmQ6IFwidW5pb25cIiwgaXg6IDB9KVxuICAgICAgLmFkZEZhY3QoXCJhY3Rpb24gc291cmNlXCIsIHthY3Rpb24sIFwic291cmNlIHZpZXdcIjogbWVtYmVyfSk7XG5cbiAgICBmb3IobGV0IGZpZWxkIGluIG1hcHBpbmcpIHtcbiAgICAgIGxldCBtYXBwZWQgPSBtYXBwaW5nW2ZpZWxkXTtcbiAgICAgIGlmKG1hcHBlZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgdGhpcy5hZGRGYWN0KFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbTogZmllbGQsIFwidmFsdWVcIjogbWFwcGVkWzBdfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZEZhY3QoXCJhY3Rpb24gbWFwcGluZ1wiLCB7YWN0aW9uLCBmcm9tOiBmaWVsZCwgXCJ0byBzb3VyY2VcIjogbWVtYmVyLCBcInRvIGZpZWxkXCI6IG1hcHBlZH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFF1ZXJ5KHZpZXc6c3RyaW5nLCBxdWVyeTpydW50aW1lLlF1ZXJ5KSB7XG4gICAgcXVlcnkubmFtZSA9IHZpZXc7XG4gICAgdGhpcy5fcXVlcmllc1t2aWV3XSA9IHF1ZXJ5O1xuICAgIHRoaXMuYWRkVmlldyh2aWV3LCBcInF1ZXJ5XCIsIE9iamVjdC5rZXlzKHF1ZXJ5LnByb2plY3Rpb25NYXAgfHwge30pKTtcbiAgICB0aGlzLmNoYW5nZXNldC5tZXJnZShxdWVyeS5jaGFuZ2VzZXQodGhpcy5peGVyKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRBcnRpZmFjdHMoYXJ0aWZhY3RzOkFydGlmYWN0cykge1xuICAgIGxldCB2aWV3cyA9IGFydGlmYWN0cy52aWV3cztcbiAgICBjb25zb2xlLmxvZyhcImFkZGluZyBhcnRpZmFjdHNcIiwgdmlld3MpO1xuICAgIGZvcihsZXQgaWQgaW4gdmlld3MpIHRoaXMuY2hhbmdlc2V0Lm1lcmdlKHZpZXdzW2lkXS5jaGFuZ2VzZXQoZXZlKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRVSShpZDpzdHJpbmcsIHVpOlVJKSB7XG4gICAgdWkuaWQgPSBpZDtcbiAgICB0aGlzLl91aXNbaWRdID0gdWk7XG4gICAgdGhpcy5hZGRFbnRpdHkoaWQsIGlkLCBbXCJzeXN0ZW1cIiwgXCJ1aVwiXSk7XG4gICAgdGhpcy5jaGFuZ2VzZXQubWVyZ2UodWkuY2hhbmdlc2V0KHRoaXMuaXhlcikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2VuZXJhdGVCaXRBY3Rpb24obmFtZTpzdHJpbmcsIHF1ZXJ5T3JOYW1lOnN0cmluZ3xydW50aW1lLlF1ZXJ5LCB0ZW1wbGF0ZTpzdHJpbmcpIHtcbiAgICBsZXQgcXVlcnk6cnVudGltZS5RdWVyeTtcbiAgICBpZih0eXBlb2YgcXVlcnlPck5hbWUgPT09IFwic3RyaW5nXCIpIHF1ZXJ5ID0gdGhpcy5fcXVlcmllc1txdWVyeU9yTmFtZV07XG4gICAgZWxzZSBxdWVyeSA9IHF1ZXJ5T3JOYW1lO1xuICAgIHRoaXMuY2hhbmdlc2V0Lm1lcmdlKGFkZEJpdEFjdGlvbihuYW1lLCB0ZW1wbGF0ZSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJ1bnRpbWUgU2V0dXBcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnJ1bnRpbWUuZGVmaW5lKFwicGFyc2UgbmF0dXJhbFwiLCB7bXVsdGk6IHRydWV9LCBmdW5jdGlvbih0ZXh0OnN0cmluZykge1xuICByZXR1cm4gcXVlcnlUb0V4ZWN1dGFibGUodGV4dCkucGxhbjtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcInBhcnNlIHBsYW5cIiwge211bHRpOiB0cnVlfSwgZnVuY3Rpb24odGV4dDpzdHJpbmcpIHtcbiAgcmV0dXJuIHBhcnNlUGxhbih0ZXh0KTtcbn0pO1xuXG5hcHAuaW5pdChcImJvb3RzdHJhcFwiLCBmdW5jdGlvbiBib290c3RyYXAoKSB7XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRW50aXR5IFN5c3RlbVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGxldCBwaGFzZSA9IG5ldyBCU1BoYXNlKGV2ZSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwibWFudWFsIGVudGl0eVwiLCBbXCJlbnRpdHlcIiwgXCJjb250ZW50XCJdKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJtYW51YWwgZWF2XCIsIFtcImVudGl0eVwiLCBcImF0dHJpYnV0ZVwiLCBcInZhbHVlXCJdKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJzb3VyY2VkIGVhdlwiLCBbXCJlbnRpdHlcIiwgXCJhdHRyaWJ1dGVcIiwgXCJ2YWx1ZVwiLCBcInNvdXJjZVwiXSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwicGFnZSBjb250ZW50XCIsIFtcInBhZ2VcIiwgXCJjb250ZW50XCJdKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJlbnRpdHkgcGFnZVwiLCBbXCJlbnRpdHlcIiwgXCJwYWdlXCJdKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJhY3Rpb24gZW50aXR5XCIsIFtcImVudGl0eVwiLCBcImNvbnRlbnRcIiwgXCJzb3VyY2VcIl0pO1xuICBwaGFzZS5hZGRFbnRpdHkoXCJjb2xsZWN0aW9uXCIsIFwiY29sbGVjdGlvblwiLCBbXCJzeXN0ZW1cIl0pXG4gICAgLmFkZEVudGl0eShcInN5c3RlbVwiLCBcInN5c3RlbVwiLCBbXCJjb2xsZWN0aW9uXCJdKVxuICAgIC5hZGRFbnRpdHkoXCJ1bmlvblwiLCBcInVuaW9uXCIsIFtcInN5c3RlbVwiLCBcImNvbGxlY3Rpb25cIl0pXG4gICAgLmFkZEVudGl0eShcInF1ZXJ5XCIsIFwicXVlcnlcIiwgW1wic3lzdGVtXCIsIFwiY29sbGVjdGlvblwiXSlcbiAgICAuYWRkRW50aXR5KFwidGFibGVcIiwgXCJ0YWJsZVwiLCBbXCJzeXN0ZW1cIiwgXCJjb2xsZWN0aW9uXCJdKVxuICAgIC5hZGRFbnRpdHkoXCJ1aVwiLCBcInVpXCIsIFtcInN5c3RlbVwiLCBcImNvbGxlY3Rpb25cIl0pO1xuXG4gIHBoYXNlLmFkZFF1ZXJ5KFwiZW50aXR5XCIsIHF1ZXJ5RnJvbVF1ZXJ5RFNMKHVucGFkKDQpIGBcbiAgICBzZWxlY3QgZW50aXR5IHBhZ2UgYXMgW2VudF1cbiAgICBzZWxlY3QgcGFnZSBjb250ZW50IHtwYWdlOiBbZW50LCBwYWdlXX0gYXMgW3BhZ2VdXG4gICAgcHJvamVjdCB7ZW50aXR5OiBbZW50LCBlbnRpdHldOyBjb250ZW50OiBbcGFnZSwgY29udGVudF19XG4gIGApKTtcblxuICBwaGFzZS5hZGRRdWVyeShcInVubW9kaWZpZWQgYWRkZWQgYml0c1wiLCBxdWVyeUZyb21RdWVyeURTTCh1bnBhZCg0KSBgXG4gICAgc2VsZWN0IGFkZGVkIGJpdHMgYXMgW2FkZGVkXVxuICAgIGRlc2VsZWN0IG1hbnVhbCBlbnRpdHkge2VudGl0eTogW2FkZGVkLCBlbnRpdHldfVxuICAgIHByb2plY3Qge2VudGl0eTogW2FkZGVkLCBlbnRpdHldOyBjb250ZW50OiBbYWRkZWQsIGNvbnRlbnRdfVxuICBgKSk7XG5cbiAgcGhhc2UuYWRkVW5pb24oXCJlbnRpdHkgZWF2c1wiLCBbXCJlbnRpdHlcIiwgXCJhdHRyaWJ1dGVcIiwgXCJ2YWx1ZVwiXSwgdHJ1ZSlcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJlbnRpdHkgZWF2c1wiLCBcIm1hbnVhbCBlYXZcIilcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJlbnRpdHkgZWF2c1wiLCBcImdlbmVyYXRlZCBlYXZcIiwge2VudGl0eTogXCJlbnRpdHlcIiwgYXR0cmlidXRlOiBcImF0dHJpYnV0ZVwiLCB2YWx1ZTogXCJ2YWx1ZVwifSlcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJlbnRpdHkgZWF2c1wiLCBcInNvdXJjZWQgZWF2XCIsIHtlbnRpdHk6IFwiZW50aXR5XCIsIGF0dHJpYnV0ZTogXCJhdHRyaWJ1dGVcIiwgdmFsdWU6IFwidmFsdWVcIn0pXG4gICAgLy8gdGhpcyBpcyBhIHN0b3JlZCB1bmlvbiB0aGF0IGlzIHVzZWQgYnkgdGhlIGFkZCBlYXYgYWN0aW9uIHRvIHRha2UgcXVlcnkgcmVzdWx0cyBhbmRcbiAgICAvLyBwdXNoIHRoZW0gaW50byBlYXZzLCBlLmcuIHN1bSBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudCAtPiBbdG90YWwgc2FsYXJ5ID0gKl1cbiAgICAuYWRkVW5pb25NZW1iZXIoXCJlbnRpdHkgZWF2c1wiLCBcImFkZGVkIGVhdnNcIik7XG5cbiAgcGhhc2UuYWRkUXVlcnkoXCJpcyBhIGF0dHJpYnV0ZXNcIiwgcXVlcnlGcm9tUXVlcnlEU0wodW5wYWQoNCkgYFxuICAgIHNlbGVjdCBlbnRpdHkgZWF2cyB7YXR0cmlidXRlOiBpcyBhfSBhcyBbaXMgYV1cbiAgICBwcm9qZWN0IHtjb2xsZWN0aW9uOiBbaXMgYSwgdmFsdWVdOyBlbnRpdHk6IFtpcyBhLCBlbnRpdHldfVxuICBgKSk7XG5cbiAgLy8gQEhBQ0s6IHRoaXMgdmlldyBpcyByZXF1aXJlZCBiZWNhdXNlIHlvdSBjYW4ndCBjdXJyZW50bHkgam9pbiBhIHNlbGVjdCBvbiB0aGUgcmVzdWx0IG9mIGEgZnVuY3Rpb24uXG4gIC8vIHNvIHdlIGNyZWF0ZSBhIHZlcnNpb24gb2YgdGhlIGVhdnMgdGFibGUgdGhhdCBhbHJlYWR5IGhhcyBldmVyeXRoaW5nIGxvd2VyY2FzZWQuXG4gIHBoYXNlLmFkZFF1ZXJ5KFwibG93ZXJjYXNlIGVhdnNcIiwgcXVlcnlGcm9tUXVlcnlEU0wodW5wYWQoNCkgYFxuICAgIHNlbGVjdCBlbnRpdHkgZWF2cyBhcyBbZWF2XVxuICAgIGNhbGN1bGF0ZSBsb3dlcmNhc2Uge3RleHQ6IFtlYXYsIHZhbHVlXX0gYXMgW2xvd2VyXVxuICAgIHByb2plY3Qge2VudGl0eTogW2VhdiwgZW50aXR5XTsgIGF0dHJpYnV0ZTogW2VhdiwgYXR0cmlidXRlXTsgdmFsdWU6IFtsb3dlciwgcmVzdWx0XX1cbiAgYCkpO1xuXG4gIHBoYXNlLmFkZFF1ZXJ5KFwiZWF2IGVudGl0eSBsaW5rc1wiLCBxdWVyeUZyb21RdWVyeURTTCh1bnBhZCg0KSBgXG4gICAgc2VsZWN0IGxvd2VyY2FzZSBlYXZzIGFzIFtlYXZdXG4gICAgc2VsZWN0IGVudGl0eSB7ZW50aXR5OiBbZWF2LCB2YWx1ZV19IGFzIFtlbnRpdHldXG4gICAgcHJvamVjdCB7ZW50aXR5OiBbZWF2LCBlbnRpdHldOyBsaW5rOiBbZW50aXR5LCBlbnRpdHldOyB0eXBlOiBbZWF2LCBhdHRyaWJ1dGVdfVxuICBgKSk7XG5cbiAgcGhhc2UuYWRkVW5pb24oXCJlbnRpdHkgbGlua3NcIiwgW1wiZW50aXR5XCIsIFwibGlua1wiLCBcInR5cGVcIl0pXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiZW50aXR5IGxpbmtzXCIsIFwiZWF2IGVudGl0eSBsaW5rc1wiKVxuICAgIC5hZGRVbmlvbk1lbWJlcihcImVudGl0eSBsaW5rc1wiLCBcImlzIGEgYXR0cmlidXRlc1wiLCB7ZW50aXR5OiBcImVudGl0eVwiLCBsaW5rOiBcImNvbGxlY3Rpb25cIiwgdHlwZTogW1wiaXMgYVwiXX0pO1xuXG4gIHBoYXNlLmFkZFVuaW9uKFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCBbXCJlbnRpdHlcIiwgXCJsaW5rXCJdKVxuICAgIC5hZGRVbmlvbk1lbWJlcihcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgXCJlbnRpdHkgbGlua3NcIilcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIFwiZW50aXR5IGxpbmtzXCIsIHtlbnRpdHk6IFwibGlua1wiLCBsaW5rOiBcImVudGl0eVwifSk7XG5cbiAgcGhhc2UuYWRkVW5pb24oXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIFtcImVudGl0eVwiLCBcImNvbGxlY3Rpb25cIl0pXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCBcImlzIGEgYXR0cmlidXRlc1wiKTtcblxuXG4gIHBoYXNlLmFkZFF1ZXJ5KFwiY29sbGVjdGlvblwiLCBxdWVyeUZyb21RdWVyeURTTCh1bnBhZCg0KSBgXG4gICAgc2VsZWN0IGlzIGEgYXR0cmlidXRlcyBhcyBbY29sbF1cbiAgICBncm91cCB7W2NvbGwsIGNvbGxlY3Rpb25dfVxuICAgIGFnZ3JlZ2F0ZSBjb3VudCBhcyBbY291bnRdXG4gICAgcHJvamVjdCB7Y29sbGVjdGlvbjogW2NvbGwsIGNvbGxlY3Rpb25dOyBjb3VudDogW2NvdW50LCBjb3VudF19XG4gIGApKTtcblxuICBwaGFzZS5hZGRUYWJsZShcInVpIHBhbmVcIiwgW1wicGFuZVwiLCBcImNvbnRhaW5zXCIsIFwia2luZFwiXSk7XG4gIGlmKGV2ZS5maW5kKFwidWkgcGFuZVwiKS5sZW5ndGggPT09IDApIHBoYXNlLmFkZEZhY3QoXCJ1aSBwYW5lXCIsIHtwYW5lOiBcInAxXCIsIGNvbnRhaW5zOiBcInBldFwiLCBraW5kOiAwfSk7XG5cbiAgLy8gcGhhc2UuYWRkQXJ0aWZhY3RzKHBhcnNlRFNMKHVucGFkKDQpIGBcbiAgLy8gICAocXVlcnlcbiAgLy8gICAgIChpcy1hLWF0dHJpYnV0ZXMgOmVudGl0eSBlbnRpdHkgOmNvbGxlY3Rpb24gXCJ1aSBwYW5lXCIpXG4gIC8vICAgICAoZW50aXR5LWVhdnMgOmF0dHJpYnV0ZSBcImNvbnRhaW5zXCIgOnZhbHVlIGNvbnRhaW5zKVxuICAvLyAgICAgKHByb2plY3QhIFwidWkgcGFuZVwiIDpwYW5lIGVudGl0eSA6Y29udGFpbnMgY29udGFpbnMpKVxuICAvLyBgKSk7XG5cbiAgcGhhc2UuYXBwbHkodHJ1ZSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBXaWtpIExvZ2ljXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgcGhhc2UgPSBuZXcgQlNQaGFzZShldmUpO1xuICBwaGFzZS5hZGRVbmlvbihcInNlYXJjaFwiLCBbXCJpZFwiLCBcInRvcFwiLCBcImxlZnRcIl0pO1xuICBwaGFzZS5hZGRVbmlvbihcInNlYXJjaCBxdWVyeVwiLCBbXCJpZFwiLCBcInNlYXJjaFwiXSk7XG4gIC8vIHBoYXNlLmFkZFF1ZXJ5KFwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbVwiLCBxdWVyeUZyb21RdWVyeURTTCh1bnBhZCg0KSBgXG4gIC8vICAgc2VsZWN0IHNlYXJjaCBhcyBbc2VhcmNoXVxuICAvLyAgIHNlbGVjdCBzZWFyY2ggcXVlcnkge2lkOiBbc2VhcmNoLCBpZF19IGFzIFtxdWVyeV1cbiAgLy8gICBwcm9qZWN0IHtpZDogW3NlYXJjaCwgaWRdOyB0ZXh0OiBbcXVlcnksIHNlYXJjaF07IHRvcDogW3NlYXJjaCwgdG9wXTsgbGVmdDogW3NlYXJjaCwgbGVmdF19XG4gIC8vIGApKTtcbi8vICAgcGhhc2UuZ2VuZXJhdGVCaXRBY3Rpb24oXCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsIFwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbVwiLCB1bnBhZCg0KSBgXG4vLyAgICAgIyB7aWR9XG4vLyAgICAgKHtpcyBhOiBzZWFyY2h9LCB7aXMgYTogc3lzdGVtfSlcbi8vICAgICBzZWFyY2g6IHtzZWFyY2g6IHtzZWFyY2h9fVxuLy8gICAgIGxlZnQ6IHtsZWZ0OiB7bGVmdH19XG4vLyAgICAgdG9wOiB7dG9wOiB7dG9wfX1cbi8vICAgYCk7XG5cbiAgcGhhc2UuYXBwbHkodHJ1ZSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBVSVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHBoYXNlID0gbmV3IEJTUGhhc2UoZXZlKTtcblxuICAvLyBARklYTUU6IFRoZXNlIHNob3VsZCBwcm9iYWJseSBiZSB1bmlvbml6ZWQuXG4gIGZ1bmN0aW9uIHJlc29sdmUodGFibGUsIGZpZWxkcykge1xuICAgIHJldHVybiBmaWVsZHMubWFwKChmaWVsZCkgPT4gYCR7dGFibGV9OiAke2ZpZWxkfWApO1xuICB9XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgdGVtcGxhdGVcIiwgcmVzb2x2ZShcInVpIHRlbXBsYXRlXCIsIFtcInRlbXBsYXRlXCIsIFwicGFyZW50XCIsIFwiaXhcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nXCIsIHJlc29sdmUoXCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nXCIsIFtcInRlbXBsYXRlXCIsIFwicXVlcnlcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSBlbWJlZFwiLCByZXNvbHZlKFwidWkgZW1iZWRcIiwgW1wiZW1iZWRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInBhcmVudFwiLCBcIml4XCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZW1iZWQgc2NvcGVcIiwgcmVzb2x2ZShcInVpIGVtYmVkIHNjb3BlXCIsIFtcImVtYmVkXCIsIFwia2V5XCIsIFwidmFsdWVcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIHJlc29sdmUoXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIFtcImVtYmVkXCIsIFwia2V5XCIsIFwic291cmNlXCIsIFwiYWxpYXNcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSBhdHRyaWJ1dGVcIiwgcmVzb2x2ZShcInVpIGF0dHJpYnV0ZVwiLCBbXCJ0ZW1wbGF0ZVwiLCBcInByb3BlcnR5XCIsIFwidmFsdWVcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSBhdHRyaWJ1dGUgYmluZGluZ1wiLCByZXNvbHZlKFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIiwgW1widGVtcGxhdGVcIiwgXCJwcm9wZXJ0eVwiLCBcInNvdXJjZVwiLCBcImFsaWFzXCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZXZlbnRcIiwgcmVzb2x2ZShcInVpIGV2ZW50XCIsIFtcInRlbXBsYXRlXCIsIFwiZXZlbnRcIl0pKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJ1aSBldmVudCBzdGF0ZVwiLCByZXNvbHZlKFwidWkgZXZlbnQgc3RhdGVcIiwgW1widGVtcGxhdGVcIiwgXCJldmVudFwiLCBcImtleVwiLCBcInZhbHVlXCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLCByZXNvbHZlKFwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLCBbXCJ0ZW1wbGF0ZVwiLCBcImV2ZW50XCIsIFwia2V5XCIsIFwic291cmNlXCIsIFwiYWxpYXNcIl0pKTtcblxuICBwaGFzZS5hZGRUYWJsZShcInN5c3RlbSB1aVwiLCBbXCJ0ZW1wbGF0ZVwiXSk7XG5cbiAgcGhhc2UuYXBwbHkodHJ1ZSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBUZXN0aW5nXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgcGhhc2UgPSBuZXcgQlNQaGFzZShldmUpO1xuICBsZXQgdGVzdERhdGEgPSB7XG4gICAgXCJ0ZXN0IGRhdGFcIjogW1wiY29sbGVjdGlvblwiXSxcbiAgICBwZXQ6IFtcImNvbGxlY3Rpb25cIl0sXG4gICAgZXhvdGljOiBbXCJjb2xsZWN0aW9uXCJdLFxuICAgIGRhbmdlcm91czogW1wiY29sbGVjdGlvblwiXSxcbiAgICBjYXQ6IFtcInBldFwiXSxcbiAgICBkb2c6IFtcInBldFwiXSxcbiAgICBmaXNoOiBbXCJwZXRcIl0sXG4gICAgc25ha2U6IFtcInBldFwiLCBcImV4b3RpY1wiXSxcbiAgICBrb2FsYTogW1wicGV0XCIsIFwiZXhvdGljXCJdLFxuICAgIHNsb3RoOiBbXCJwZXRcIiwgXCJleG90aWNcIl0sXG4gICAga2FuZ2Fyb286IFtcImV4b3RpY1wiXSxcbiAgICBnaXJhZmZlOiBbXCJleG90aWNcIl0sXG4gICAgZ29yaWxsYTogW1wiZXhvdGljXCIsIFwiZGFuZ2Vyb3VzXCJdLFxuXG4gICAga29kb3dhOiBbXCJjb21wYW55XCJdLFxuXG4gICAgZW5naW5lZXJpbmc6IFtcImRlcGFydG1lbnRcIl0sXG4gICAgb3BlcmF0aW9uczogW1wiZGVwYXJ0bWVudFwiXSxcbiAgICBtYWdpYzogW1wiZGVwYXJ0bWVudFwiXSxcblxuICAgIGpvc2g6IFtcImVtcGxveWVlXCJdLFxuICAgIGNvcmV5OiBbXCJlbXBsb3llZVwiXSxcbiAgICBqYW1pZTogW1wiZW1wbG95ZWVcIl0sXG4gICAgY2hyaXM6IFtcImVtcGxveWVlXCJdLFxuICAgIHJvYjogW1wiZW1wbG95ZWVcIl0sXG4gICAgZXJpYzogW1wiZW1wbG95ZWVcIl0sXG4gIH07XG4gIGxldCB0ZXN0QXR0cnMgPSB7XG4gICAgY2F0OiB7bGVuZ3RoOiA0fSxcbiAgICBkb2c6IHtsZW5ndGg6IDN9LFxuICAgIGZpc2g6IHtsZW5ndGg6IDF9LFxuICAgIHNuYWtlOiB7bGVuZ3RoOiA0fSxcbiAgICBrb2FsYToge2xlbmd0aDogM30sXG4gICAgc2xvdGg6IHtsZW5ndGg6IDN9LFxuICAgIGVuZ2luZWVyaW5nOiB7Y29tcGFueTogXCJrb2Rvd2FcIn0sXG4gICAgb3BlcmF0aW9uczoge2NvbXBhbnk6IFwia29kb3dhXCJ9LFxuICAgIG1hZ2ljOiB7Y29tcGFueTogXCJrb2Rvd2FcIn0sXG5cbiAgICBqb3NoOiB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBzYWxhcnk6IDd9LFxuICAgIGNvcmV5OiB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBzYWxhcnk6IDEwfSxcbiAgICBqYW1pZToge2RlcGFydG1lbnQ6IFwiZW5naW5lZXJpbmdcIiwgc2FsYXJ5OiA3fSxcbiAgICBjaHJpczoge2RlcGFydG1lbnQ6IFwiZW5naW5lZXJpbmdcIiwgc2FsYXJ5OiAxMH0sXG4gICAgZXJpYzoge2RlcGFydG1lbnQ6IFwiZW5naW5lZXJpbmdcIiwgc2FsYXJ5OiA3fSxcbiAgICByb2I6IHtkZXBhcnRtZW50OiBcIm9wZXJhdGlvbnNcIiwgc2FsYXJ5OiAxMH0sXG4gIH07XG4gIGZvcihsZXQgZW50aXR5IGluIHRlc3REYXRhKSBwaGFzZS5hZGRFbnRpdHkoZW50aXR5LCBlbnRpdHksIFtcInRlc3QgZGF0YVwiXS5jb25jYXQodGVzdERhdGFbZW50aXR5XSksIHRlc3RBdHRyc1tlbnRpdHldKTtcblxuICAvLyBwaGFzZS5hZGRUYWJsZShcImRlcGFydG1lbnRcIiwgW1wiZGVwYXJ0bWVudFwiXSlcbiAgLy8gICAuYWRkRmFjdChcImRlcGFydG1lbnRcIiwge2RlcGFydG1lbnQ6IFwiZW5naW5lZXJpbmdcIn0pXG4gIC8vICAgLmFkZEZhY3QoXCJkZXBhcnRtZW50XCIsIHtkZXBhcnRtZW50OiBcIm9wZXJhdGlvbnNcIn0pXG4gIC8vICAgLmFkZEZhY3QoXCJkZXBhcnRtZW50XCIsIHtkZXBhcnRtZW50OiBcIm1hZ2ljXCJ9KTtcbiAgLy8gcGhhc2UuYWRkVGFibGUoXCJlbXBsb3llZVwiLCBbXCJkZXBhcnRtZW50XCIsIFwiZW1wbG95ZWVcIiwgXCJzYWxhcnlcIl0pXG4gIC8vICAgLmFkZEZhY3QoXCJlbXBsb3llZVwiLCB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBlbXBsb3llZTogXCJqb3NoXCIsIHNhbGFyeTogMTB9KVxuICAvLyAgIC5hZGRGYWN0KFwiZW1wbG95ZWVcIiwge2RlcGFydG1lbnQ6IFwiZW5naW5lZXJpbmdcIiwgZW1wbG95ZWU6IFwiY29yZXlcIiwgc2FsYXJ5OiAxMX0pXG4gIC8vICAgLmFkZEZhY3QoXCJlbXBsb3llZVwiLCB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBlbXBsb3llZTogXCJjaHJpc1wiLCBzYWxhcnk6IDd9KVxuICAvLyAgIC5hZGRGYWN0KFwiZW1wbG95ZWVcIiwge2RlcGFydG1lbnQ6IFwib3BlcmF0aW9uc1wiLCBlbXBsb3llZTogXCJyb2JcIiwgc2FsYXJ5OiA3fSk7XG5cbiAgcGhhc2UuYXBwbHkodHJ1ZSk7XG4gIHdpbmRvd1tcInBcIl0gPSBwaGFzZTtcbn0pO1xuXG5kZWNsYXJlIHZhciBleHBvcnRzO1xud2luZG93W1wiYm9vdHN0cmFwXCJdID0gZXhwb3J0czsiLCJkZWNsYXJlIHZhciBWZWxvY2l0eTtcblxuZXhwb3J0IGludGVyZmFjZSBIYW5kbGVyPFQgZXh0ZW5kcyBFdmVudD4ge1xuICAoZXZ0OlQsIGVsZW06RWxlbWVudCk6IHZvaWRcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVySGFuZGxlciB7XG4gIChub2RlOkhUTUxFbGVtZW50LCBlbGVtOkVsZW1lbnQpOiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudCB7XG4gIHQ/OnN0cmluZ1xuICBjPzpzdHJpbmdcbiAgaWQ/OnN0cmluZ1xuICBwYXJlbnQ/OnN0cmluZ1xuICBjaGlsZHJlbj86RWxlbWVudFtdXG4gIGl4PzpudW1iZXJcbiAga2V5PzpzdHJpbmdcbiAgZGlydHk/OmJvb2xlYW5cbiAgc2VtYW50aWM/OnN0cmluZ1xuICB0d2Vlbj86IGFueVxuICBlbnRlcj86IGFueVxuICBsZWF2ZT86IGFueVxuICBkZWJ1Zz86YW55XG5cbiAgLy8gQ29udGVudFxuICBjb250ZW50RWRpdGFibGU/OmJvb2xlYW5cbiAgY2hlY2tlZD86Ym9vbGVhblxuICBkcmFnZ2FibGU/OmJvb2xlYW5cbiAgaHJlZj86c3RyaW5nXG4gIHBsYWNlaG9sZGVyPzpzdHJpbmdcbiAgc2VsZWN0ZWQ/OmJvb2xlYW5cbiAgdGFiaW5kZXg/Om51bWJlclxuICB0ZXh0PzpzdHJpbmdcbiAgc3RyaWN0VGV4dD86IGJvb2xlYW5cbiAgdHlwZT86c3RyaW5nXG4gIHZhbHVlPzpzdHJpbmdcbiAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/OnN0cmluZ1xuXG4gIHN0eWxlPzogc3RyaW5nLFxuXG4gIC8vIFN0eWxlcyAoU3RydWN0dXJlKVxuICBmbGV4PzpudW1iZXJ8c3RyaW5nXG4gIGxlZnQ/Om51bWJlcnxzdHJpbmdcbiAgdG9wPzpudW1iZXJ8c3RyaW5nXG4gIHdpZHRoPzpudW1iZXJ8c3RyaW5nXG4gIGhlaWdodD86bnVtYmVyfHN0cmluZ1xuICB0ZXh0QWxpZ24/OnN0cmluZ1xuICB0cmFuc2Zvcm0/OnN0cmluZ1xuICB2ZXJ0aWNhbEFsaWduPzpzdHJpbmdcbiAgekluZGV4PzpudW1iZXJcblxuICAvLyBTdHlsZXMgKEFlc3RoZXRpYylcbiAgYmFja2dyb3VuZENvbG9yPzpzdHJpbmdcbiAgYmFja2dyb3VuZEltYWdlPzpzdHJpbmdcbiAgYm9yZGVyPzpzdHJpbmdcbiAgYm9yZGVyQ29sb3I/OnN0cmluZ1xuICBib3JkZXJXaWR0aD86bnVtYmVyfHN0cmluZ1xuICBib3JkZXJSYWRpdXM/Om51bWJlcnxzdHJpbmdcbiAgY29sb3I/OnN0cmluZ1xuICBjb2xzcGFuPzpudW1iZXJcbiAgZm9udEZhbWlseT86c3RyaW5nXG4gIGZvbnRTaXplPzpzdHJpbmdcbiAgb3BhY2l0eT86bnVtYmVyXG5cbiAgLy8gU3ZnXG4gIHN2Zz86Ym9vbGVhblxuICB4PzpudW1iZXJ8c3RyaW5nXG4gIHk/Om51bWJlcnxzdHJpbmdcbiAgZHg/Om51bWJlcnxzdHJpbmdcbiAgZHk/Om51bWJlcnxzdHJpbmdcbiAgY3g/Om51bWJlcnxzdHJpbmdcbiAgY3k/Om51bWJlcnxzdHJpbmdcbiAgcj86bnVtYmVyfHN0cmluZ1xuICBkPzpudW1iZXJ8c3RyaW5nXG4gIGZpbGw/OnN0cmluZ1xuICBzdHJva2U/OnN0cmluZ1xuICBzdHJva2VXaWR0aD86c3RyaW5nXG4gIHN0YXJ0T2Zmc2V0PzpudW1iZXJ8c3RyaW5nXG4gIHRleHRBbmNob3I/OnN0cmluZ1xuICB2aWV3Qm94PzpzdHJpbmdcbiAgeGxpbmtocmVmPzpzdHJpbmdcblxuICAvLyBFdmVudHNcbiAgZGJsY2xpY2s/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgY2xpY2s/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgY29udGV4dG1lbnU/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgbW91c2Vkb3duPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIG1vdXNlbW92ZT86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZXVwPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIG1vdXNlb3Zlcj86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZW91dD86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZWxlYXZlPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIG1vdXNld2hlZWw/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgZHJhZ292ZXI/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgZHJhZ3N0YXJ0PzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGRyYWdlbmQ/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgZHJhZz86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBkcm9wPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIHNjcm9sbD86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBmb2N1cz86SGFuZGxlcjxGb2N1c0V2ZW50PlxuICBibHVyPzpIYW5kbGVyPEZvY3VzRXZlbnQ+XG4gIGlucHV0PzpIYW5kbGVyPEV2ZW50PlxuICBjaGFuZ2U/OkhhbmRsZXI8RXZlbnQ+XG4gIGtleXVwPzpIYW5kbGVyPEtleWJvYXJkRXZlbnQ+XG4gIGtleWRvd24/OkhhbmRsZXI8S2V5Ym9hcmRFdmVudD5cblxuICBwb3N0UmVuZGVyPzpSZW5kZXJIYW5kbGVyXG5cbiAgW2F0dHI6c3RyaW5nXTogYW55XG59XG5cbmZ1bmN0aW9uIG5vdygpIHtcbiAgaWYod2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuICByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbn1cblxuZnVuY3Rpb24gc2hhbGxvd0VxdWFscyhhLCBiKSB7XG4gIGlmKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBpZighYSB8fCAhYikgcmV0dXJuIGZhbHNlO1xuICBmb3IodmFyIGsgaW4gYSkge1xuICAgIGlmKGFba10gIT09IGJba10pIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IodmFyIGsgaW4gYikge1xuICAgIGlmKGJba10gIT09IGFba10pIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcG9zdEFuaW1hdGlvblJlbW92ZShlbGVtZW50cykge1xuICBmb3IobGV0IGVsZW0gb2YgZWxlbWVudHMpIHtcbiAgICBpZihlbGVtLnBhcmVudE5vZGUpIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xuICBjb250ZW50OiBIVE1MRWxlbWVudDtcbiAgZWxlbWVudENhY2hlOiB7W2lkOnN0cmluZ106IEhUTUxFbGVtZW50fTtcbiAgcHJldlRyZWU6e1tpZDpzdHJpbmddOiBFbGVtZW50fTtcbiAgdHJlZTp7W2lkOnN0cmluZ106IEVsZW1lbnR9O1xuICBwb3N0UmVuZGVyczogRWxlbWVudFtdO1xuICBsYXN0RGlmZjoge2FkZHM6IHN0cmluZ1tdLCB1cGRhdGVzOiB7fX07XG4gIHF1ZXVlZDogYm9vbGVhbjtcbiAgaGFuZGxlRXZlbnQ6IChhbnkpO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuY29udGVudC5jbGFzc05hbWUgPSBcIl9fcm9vdFwiO1xuICAgIHRoaXMuZWxlbWVudENhY2hlID0geyBcIl9fcm9vdFwiOiB0aGlzLmNvbnRlbnQgfTtcbiAgICB0aGlzLnByZXZUcmVlID0ge307XG4gICAgdGhpcy50cmVlID0ge307XG4gICAgdGhpcy5wb3N0UmVuZGVycyA9IFtdO1xuICAgIHRoaXMubGFzdERpZmYgPSB7YWRkczogW10sIHVwZGF0ZXM6IHt9fTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGU6IEV2ZW50KSB7XG4gICAgICB2YXIgaWQgPSAoZS5jdXJyZW50VGFyZ2V0IHx8IGUudGFyZ2V0KVtcIl9pZFwiXTtcbiAgICAgIHZhciBlbGVtID0gc2VsZi50cmVlW2lkXTtcbiAgICAgIGlmICghZWxlbSkgcmV0dXJuO1xuICAgICAgdmFyIGhhbmRsZXIgPSBlbGVtW2UudHlwZV07XG4gICAgICBpZiAoaGFuZGxlcikgeyBoYW5kbGVyKGUsIGVsZW0pOyB9XG4gICAgfTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnByZXZUcmVlID0gdGhpcy50cmVlO1xuICAgIHRoaXMudHJlZSA9IHt9O1xuICAgIHRoaXMucG9zdFJlbmRlcnMgPSBbXTtcbiAgfVxuXG4gIGRvbWlmeSgpIHtcbiAgICB2YXIgZmFrZVByZXY6RWxlbWVudCA9IHt9OyAvL2NyZWF0ZSBhbiBlbXB0eSBvYmplY3Qgb25jZSBpbnN0ZWFkIG9mIGV2ZXJ5IGluc3RhbmNlIG9mIHRoZSBsb29wXG4gICAgdmFyIGVsZW1lbnRzID0gdGhpcy50cmVlO1xuICAgIHZhciBwcmV2RWxlbWVudHMgPSB0aGlzLnByZXZUcmVlO1xuICAgIHZhciBkaWZmID0gdGhpcy5sYXN0RGlmZjtcbiAgICB2YXIgYWRkcyA9IGRpZmYuYWRkcztcbiAgICB2YXIgdXBkYXRlcyA9IGRpZmYudXBkYXRlcztcbiAgICB2YXIgZWxlbUtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKTtcbiAgICB2YXIgZWxlbWVudENhY2hlID0gdGhpcy5lbGVtZW50Q2FjaGU7XG4gICAgdmFyIHRlbXBUd2VlbjphbnkgPSB7fTtcblxuICAgIC8vQ3JlYXRlIGFsbCB0aGUgbmV3IGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0IHRoZXkncmUgdGhlcmUgd2hlbiB0aGV5IG5lZWQgdG8gYmVcbiAgICAvL3BhcmVudGVkXG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gYWRkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGlkID0gYWRkc1tpXTtcbiAgICAgIHZhciBjdXIgPSBlbGVtZW50c1tpZF07XG4gICAgICB2YXIgZGl2OiBhbnk7XG4gICAgICBpZiAoY3VyLnN2Zykge1xuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjdXIudCB8fCBcInJlY3RcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGN1ci50IHx8IFwiZGl2XCIpO1xuICAgICAgfVxuICAgICAgZGl2Ll9pZCA9IGlkO1xuICAgICAgZWxlbWVudENhY2hlW2lkXSA9IGRpdjtcbiAgICAgIGlmKGN1ci5lbnRlcikge1xuICAgICAgICBpZihjdXIuZW50ZXIuZGVsYXkpIHtcbiAgICAgICAgICBjdXIuZW50ZXIuZGlzcGxheSA9IFwiYXV0b1wiO1xuICAgICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICBWZWxvY2l0eShkaXYsIGN1ci5lbnRlciwgY3VyLmVudGVyKTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IGVsZW1LZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSBlbGVtS2V5c1tpXTtcbiAgICAgIHZhciBjdXIgPSBlbGVtZW50c1tpZF07XG4gICAgICB2YXIgcHJldiA9IHByZXZFbGVtZW50c1tpZF0gfHwgZmFrZVByZXY7XG4gICAgICB2YXIgdHlwZSA9IHVwZGF0ZXNbaWRdO1xuICAgICAgdmFyIGRpdjtcbiAgICAgIGlmKHR5cGUgPT09IFwicmVwbGFjZWRcIikge1xuICAgICAgICB2YXIgbWUgPSBlbGVtZW50Q2FjaGVbaWRdO1xuICAgICAgICBpZiAobWUucGFyZW50Tm9kZSkgbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZSk7XG4gICAgICAgIGlmIChjdXIuc3ZnKSB7XG4gICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY3VyLnQgfHwgXCJyZWN0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoY3VyLnQgfHwgXCJkaXZcIik7XG4gICAgICAgIH1cbiAgICAgICAgZGl2Ll9pZCA9IGlkO1xuICAgICAgICBlbGVtZW50Q2FjaGVbaWRdID0gZGl2O1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICAvL05PVEU6IEJhdGNoaW5nIHRoZSByZW1vdmVzIHN1Y2ggdGhhdCB5b3Ugb25seSByZW1vdmUgdGhlIHBhcmVudFxuICAgICAgICAvL2RpZG4ndCBhY3R1YWxseSBtYWtlIHRoaXMgZmFzdGVyIHN1cnByaXNpbmdseS4gR2l2ZW4gdGhhdCB0aGlzXG4gICAgICAgIC8vc3RyYXRlZ3kgaXMgbXVjaCBzaW1wbGVyIGFuZCB0aGVyZSdzIG5vIG5vdGljYWJsZSBwZXJmIGRpZmZlcmVuY2VcbiAgICAgICAgLy93ZSdsbCBqdXN0IGRvIHRoZSBkdW1iIHRoaW5nIGFuZCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvbmUgYnkgb25lLlxuICAgICAgICB2YXIgbWUgPSBlbGVtZW50Q2FjaGVbaWRdXG4gICAgICAgIGlmKHByZXYubGVhdmUpIHtcbiAgICAgICAgICBwcmV2LmxlYXZlLmNvbXBsZXRlID0gcG9zdEFuaW1hdGlvblJlbW92ZTtcbiAgICAgICAgICBpZihwcmV2LmxlYXZlLmFic29sdXRlKSB7XG4gICAgICAgICAgICBtZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgVmVsb2NpdHkobWUsIHByZXYubGVhdmUsIHByZXYubGVhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYobWUucGFyZW50Tm9kZSkgbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZSk7XG4gICAgICAgIGVsZW1lbnRDYWNoZVtpZF0gPSBudWxsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdiA9IGVsZW1lbnRDYWNoZVtpZF07XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbiAgICAgIGlmKGN1ci5jICE9PSBwcmV2LmMpIGRpdi5jbGFzc05hbWUgPSBjdXIuYztcbiAgICAgIGlmKGN1ci5kcmFnZ2FibGUgIT09IHByZXYuZHJhZ2dhYmxlKSBkaXYuZHJhZ2dhYmxlID0gY3VyLmRyYWdnYWJsZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IFwidHJ1ZVwiO1xuICAgICAgaWYoY3VyLmNvbnRlbnRFZGl0YWJsZSAhPT0gcHJldi5jb250ZW50RWRpdGFibGUpIGRpdi5jb250ZW50RWRpdGFibGUgPSBjdXIuY29udGVudEVkaXRhYmxlIHx8IFwiaW5oZXJpdFwiO1xuICAgICAgaWYoY3VyLmNvbHNwYW4gIT09IHByZXYuY29sc3BhbikgZGl2LmNvbFNwYW4gPSBjdXIuY29sc3BhbjtcbiAgICAgIGlmKGN1ci5wbGFjZWhvbGRlciAhPT0gcHJldi5wbGFjZWhvbGRlcikgZGl2LnBsYWNlaG9sZGVyID0gY3VyLnBsYWNlaG9sZGVyO1xuICAgICAgaWYoY3VyLnNlbGVjdGVkICE9PSBwcmV2LnNlbGVjdGVkKSBkaXYuc2VsZWN0ZWQgPSBjdXIuc2VsZWN0ZWQ7XG4gICAgICBpZihjdXIudmFsdWUgIT09IHByZXYudmFsdWUpIGRpdi52YWx1ZSA9IGN1ci52YWx1ZTtcbiAgICAgIGlmKGN1ci50ID09PSBcImlucHV0XCIgJiYgY3VyLnR5cGUgIT09IHByZXYudHlwZSkgZGl2LnR5cGUgPSBjdXIudHlwZTtcbiAgICAgIGlmKGN1ci50ID09PSBcImlucHV0XCIgJiYgY3VyLmNoZWNrZWQgIT09IHByZXYuY2hlY2tlZCkgZGl2LmNoZWNrZWQgPSBjdXIuY2hlY2tlZDtcbiAgICAgIGlmKChjdXIudGV4dCAhPT0gcHJldi50ZXh0IHx8IGN1ci5zdHJpY3RUZXh0KSAmJiBkaXYudGV4dENvbnRlbnQgIT09IGN1ci50ZXh0KSBkaXYudGV4dENvbnRlbnQgPSBjdXIudGV4dCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGN1ci50ZXh0O1xuICAgICAgaWYoY3VyLnRhYmluZGV4ICE9PSBwcmV2LnRhYmluZGV4KSBkaXYuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgY3VyLnRhYmluZGV4KTtcbiAgICAgIGlmKGN1ci5ocmVmICE9PSBwcmV2LmhyZWYpIGRpdi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGN1ci5ocmVmKTtcblxuICAgICAgLy8gYW5pbWF0ZWFibGUgcHJvcGVydGllc1xuICAgICAgdmFyIHR3ZWVuID0gY3VyLnR3ZWVuIHx8IHRlbXBUd2VlbjtcbiAgICAgIGlmKGN1ci5mbGV4ICE9PSBwcmV2LmZsZXgpIHtcbiAgICAgICAgaWYodHdlZW4uZmxleCkgdGVtcFR3ZWVuLmZsZXggPSBjdXIuZmxleDtcbiAgICAgICAgZWxzZSBzdHlsZS5mbGV4ID0gY3VyLmZsZXggPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBjdXIuZmxleDtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci5sZWZ0ICE9PSBwcmV2LmxlZnQpIHtcbiAgICAgICAgICBpZih0d2Vlbi5sZWZ0KSB0ZW1wVHdlZW4ubGVmdCA9IGN1ci5sZWZ0O1xuICAgICAgICAgIGVsc2Ugc3R5bGUubGVmdCA9IGN1ci5sZWZ0ID09PSB1bmRlZmluZWQgPyBcIlwiIDogY3VyLmxlZnQ7XG4gICAgICB9XG4gICAgICBpZihjdXIudG9wICE9PSBwcmV2LnRvcCkge1xuICAgICAgICBpZih0d2Vlbi50b3ApIHRlbXBUd2Vlbi50b3AgPSBjdXIudG9wO1xuICAgICAgICBlbHNlIHN0eWxlLnRvcCA9IGN1ci50b3AgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBjdXIudG9wO1xuICAgICAgfVxuICAgICAgaWYoY3VyLmhlaWdodCAhPT0gcHJldi5oZWlnaHQpIHtcbiAgICAgICAgaWYodHdlZW4uaGVpZ2h0KSB0ZW1wVHdlZW4uaGVpZ2h0ID0gY3VyLmhlaWdodDtcbiAgICAgICAgZWxzZSBzdHlsZS5oZWlnaHQgPSBjdXIuaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBcImF1dG9cIiA6IGN1ci5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZihjdXIud2lkdGggIT09IHByZXYud2lkdGgpIHtcbiAgICAgICAgaWYodHdlZW4ud2lkdGgpIHRlbXBUd2Vlbi53aWR0aCA9IGN1ci53aWR0aDtcbiAgICAgICAgZWxzZSBzdHlsZS53aWR0aCA9IGN1ci53aWR0aCA9PT0gdW5kZWZpbmVkID8gXCJhdXRvXCIgOiBjdXIud2lkdGg7XG4gICAgICB9XG4gICAgICBpZihjdXIuekluZGV4ICE9PSBwcmV2LnpJbmRleCkge1xuICAgICAgICBpZih0d2Vlbi56SW5kZXgpIHRlbXBUd2Vlbi56SW5kZXggPSBjdXIuekluZGV4O1xuICAgICAgICBlbHNlIHN0eWxlLnpJbmRleCA9IGN1ci56SW5kZXg7XG4gICAgICB9XG4gICAgICBpZihjdXIuYmFja2dyb3VuZENvbG9yICE9PSBwcmV2LmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICBpZih0d2Vlbi5iYWNrZ3JvdW5kQ29sb3IpIHRlbXBUd2Vlbi5iYWNrZ3JvdW5kQ29sb3IgPSBjdXIuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBlbHNlIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1ci5iYWNrZ3JvdW5kQ29sb3IgfHwgXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgfVxuICAgICAgaWYoY3VyLmJvcmRlckNvbG9yICE9PSBwcmV2LmJvcmRlckNvbG9yKSB7XG4gICAgICAgIGlmKHR3ZWVuLmJvcmRlckNvbG9yKSB0ZW1wVHdlZW4uYm9yZGVyQ29sb3IgPSBjdXIuYm9yZGVyQ29sb3I7XG4gICAgICAgIGVsc2Ugc3R5bGUuYm9yZGVyQ29sb3IgPSBjdXIuYm9yZGVyQ29sb3IgfHwgXCJub25lXCI7XG4gICAgICB9XG4gICAgICBpZihjdXIuYm9yZGVyV2lkdGggIT09IHByZXYuYm9yZGVyV2lkdGgpIHtcbiAgICAgICAgaWYodHdlZW4uYm9yZGVyV2lkdGgpIHRlbXBUd2Vlbi5ib3JkZXJXaWR0aCA9IGN1ci5ib3JkZXJXaWR0aDtcbiAgICAgICAgZWxzZSBzdHlsZS5ib3JkZXJXaWR0aCA9IGN1ci5ib3JkZXJXaWR0aCB8fCAwO1xuICAgICAgfVxuICAgICAgaWYoY3VyLmJvcmRlclJhZGl1cyAhPT0gcHJldi5ib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgaWYodHdlZW4uYm9yZGVyUmFkaXVzKSB0ZW1wVHdlZW4uYm9yZGVyUmFkaXVzID0gY3VyLmJvcmRlclJhZGl1cztcbiAgICAgICAgZWxzZSBzdHlsZS5ib3JkZXJSYWRpdXMgPSAoY3VyLmJvcmRlclJhZGl1cyB8fCAwKSArIFwicHhcIjtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci5vcGFjaXR5ICE9PSBwcmV2Lm9wYWNpdHkpIHtcbiAgICAgICAgaWYodHdlZW4ub3BhY2l0eSkgdGVtcFR3ZWVuLm9wYWNpdHkgPSBjdXIub3BhY2l0eTtcbiAgICAgICAgZWxzZSBzdHlsZS5vcGFjaXR5ID0gY3VyLm9wYWNpdHkgPT09IHVuZGVmaW5lZCA/IDEgOiBjdXIub3BhY2l0eTtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci5mb250U2l6ZSAhPT0gcHJldi5mb250U2l6ZSkge1xuICAgICAgICBpZih0d2Vlbi5mb250U2l6ZSkgdGVtcFR3ZWVuLmZvbnRTaXplID0gY3VyLmZvbnRTaXplO1xuICAgICAgICBlbHNlIHN0eWxlLmZvbnRTaXplID0gY3VyLmZvbnRTaXplO1xuICAgICAgfVxuICAgICAgaWYoY3VyLmNvbG9yICE9PSBwcmV2LmNvbG9yKSB7XG4gICAgICAgIGlmKHR3ZWVuLmNvbG9yKSB0ZW1wVHdlZW4uY29sb3IgPSBjdXIuY29sb3I7XG4gICAgICAgIGVsc2Ugc3R5bGUuY29sb3IgPSBjdXIuY29sb3IgfHwgXCJpbmhlcml0XCI7XG4gICAgICB9XG5cbiAgICAgIGxldCBhbmltS2V5cyA9IE9iamVjdC5rZXlzKHRlbXBUd2Vlbik7XG4gICAgICBpZihhbmltS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgVmVsb2NpdHkoZGl2LCB0ZW1wVHdlZW4sIHR3ZWVuKTtcbiAgICAgICAgdGVtcFR3ZWVuID0ge307XG4gICAgICB9XG5cbiAgICAgIC8vIG5vbi1hbmltYXRpb24gc3R5bGUgcHJvcGVydGllc1xuICAgICAgaWYoY3VyLmJhY2tncm91bmRJbWFnZSAhPT0gcHJldi5iYWNrZ3JvdW5kSW1hZ2UpIHN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7Y3VyLmJhY2tncm91bmRJbWFnZX0nKWA7XG4gICAgICBpZihjdXIuYm9yZGVyICE9PSBwcmV2LmJvcmRlcikgc3R5bGUuYm9yZGVyID0gY3VyLmJvcmRlciB8fCBcIm5vbmVcIjtcbiAgICAgIGlmKGN1ci50ZXh0QWxpZ24gIT09IHByZXYudGV4dEFsaWduKSB7XG4gICAgICAgIHN0eWxlLmFsaWduSXRlbXMgPSBjdXIudGV4dEFsaWduO1xuICAgICAgICBpZihjdXIudGV4dEFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgfSBlbHNlIGlmKGN1ci50ZXh0QWxpZ24gPT09IFwiZmxleC1lbmRcIikge1xuICAgICAgICAgIHN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYoY3VyLnZlcnRpY2FsQWxpZ24gIT09IHByZXYudmVydGljYWxBbGlnbikgc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBjdXIudmVydGljYWxBbGlnbjtcbiAgICAgIGlmKGN1ci5mb250RmFtaWx5ICE9PSBwcmV2LmZvbnRGYW1pbHkpIHN0eWxlLmZvbnRGYW1pbHkgPSBjdXIuZm9udEZhbWlseSB8fCBcImluaGVyaXRcIjtcbiAgICAgIGlmKGN1ci50cmFuc2Zvcm0gIT09IHByZXYudHJhbnNmb3JtKSBzdHlsZS50cmFuc2Zvcm0gPSBjdXIudHJhbnNmb3JtIHx8IFwibm9uZVwiO1xuICAgICAgaWYoY3VyLnN0eWxlICE9PSBwcmV2LnN0eWxlKSBkaXYuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgY3VyLnN0eWxlKTtcblxuICAgICAgaWYoY3VyLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9PSBwcmV2LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSBkaXYuaW5uZXJIVE1MID0gY3VyLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXG4gICAgICAvLyBkZWJ1Zy9wcm9ncmFtbWF0aWMgcHJvcGVydGllc1xuICAgICAgaWYoY3VyLnNlbWFudGljICE9PSBwcmV2LnNlbWFudGljKSBkaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1zZW1hbnRpY1wiLCBjdXIuc2VtYW50aWMpO1xuICAgICAgaWYoY3VyLmRlYnVnICE9PSBwcmV2LmRlYnVnKSBkaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1kZWJ1Z1wiLCBjdXIuZGVidWcpO1xuXG4gICAgICAvLyBTVkcgcHJvcGVydGllc1xuICAgICAgaWYoY3VyLnN2Zykge1xuICAgICAgICBpZihjdXIuZmlsbCAhPT0gcHJldi5maWxsKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIGN1ci5maWxsKTtcbiAgICAgICAgaWYoY3VyLnN0cm9rZSAhPT0gcHJldi5zdHJva2UpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZVwiLCBjdXIuc3Ryb2tlKTtcbiAgICAgICAgaWYoY3VyLnN0cm9rZVdpZHRoICE9PSBwcmV2LnN0cm9rZVdpZHRoKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2Utd2lkdGhcIiwgY3VyLnN0cm9rZVdpZHRoKTtcbiAgICAgICAgaWYoY3VyLmQgIT09IHByZXYuZCkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBjdXIuZCk7XG4gICAgICAgIGlmKGN1ci5jICE9PSBwcmV2LmMpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIGN1ci5jKTtcbiAgICAgICAgaWYoY3VyLnggIT09IHByZXYueCkgIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgY3VyLngpO1xuICAgICAgICBpZihjdXIueSAhPT0gcHJldi55KSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIGN1ci55KTtcbiAgICAgICAgaWYoY3VyLmR4ICE9PSBwcmV2LmR4KSAgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZHhcIiwgY3VyLmR4KTtcbiAgICAgICAgaWYoY3VyLmR5ICE9PSBwcmV2LmR5KSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkeVwiLCBjdXIuZHkpO1xuICAgICAgICBpZihjdXIuY3ggIT09IHByZXYuY3gpICBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCBjdXIuY3gpO1xuICAgICAgICBpZihjdXIuY3kgIT09IHByZXYuY3kpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIGN1ci5jeSk7XG4gICAgICAgIGlmKGN1ci5yICE9PSBwcmV2LnIpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgY3VyLnIpO1xuICAgICAgICBpZihjdXIuaGVpZ2h0ICE9PSBwcmV2LmhlaWdodCkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIGN1ci5oZWlnaHQpO1xuICAgICAgICBpZihjdXIud2lkdGggIT09IHByZXYud2lkdGgpICBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBjdXIud2lkdGgpO1xuICAgICAgICBpZihjdXIueGxpbmtocmVmICE9PSBwcmV2LnhsaW5raHJlZikgIGRpdi5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIFwiaHJlZlwiLCBjdXIueGxpbmtocmVmKTtcbiAgICAgICAgaWYoY3VyLnN0YXJ0T2Zmc2V0ICE9PSBwcmV2LnN0YXJ0T2Zmc2V0KSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdGFydE9mZnNldFwiLCBjdXIuc3RhcnRPZmZzZXQpO1xuICAgICAgICBpZihjdXIuaWQgIT09IHByZXYuaWQpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImlkXCIsIGN1ci5pZCk7XG4gICAgICAgIGlmKGN1ci52aWV3Qm94ICE9PSBwcmV2LnZpZXdCb3gpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgY3VyLnZpZXdCb3gpO1xuICAgICAgICBpZihjdXIudHJhbnNmb3JtICE9PSBwcmV2LnRyYW5zZm9ybSkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIGN1ci50cmFuc2Zvcm0pO1xuICAgICAgICBpZihjdXIuZHJhZ2dhYmxlICE9PSBwcmV2LmRyYWdnYWJsZSkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZHJhZ2dhYmxlXCIsIGN1ci5kcmFnZ2FibGUpO1xuICAgICAgICBpZihjdXIudGV4dEFuY2hvciAhPT0gcHJldi50ZXh0QW5jaG9yKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0ZXh0LWFuY2hvclwiLCBjdXIudGV4dEFuY2hvcik7XG4gICAgICB9XG5cbiAgICAgIC8vZXZlbnRzXG4gICAgICBpZihjdXIuZGJsY2xpY2sgIT09IHByZXYuZGJsY2xpY2spIGRpdi5vbmRibGNsaWNrID0gY3VyLmRibGNsaWNrICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmNsaWNrICE9PSBwcmV2LmNsaWNrKSBkaXYub25jbGljayA9IGN1ci5jbGljayAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5jb250ZXh0bWVudSAhPT0gcHJldi5jb250ZXh0bWVudSkgZGl2Lm9uY29udGV4dG1lbnUgPSBjdXIuY29udGV4dG1lbnUgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2Vkb3duICE9PSBwcmV2Lm1vdXNlZG93bikgZGl2Lm9ubW91c2Vkb3duID0gY3VyLm1vdXNlZG93biAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5tb3VzZW1vdmUgIT09IHByZXYubW91c2Vtb3ZlKSBkaXYub25tb3VzZW1vdmUgPSBjdXIubW91c2Vtb3ZlICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLm1vdXNldXAgIT09IHByZXYubW91c2V1cCkgZGl2Lm9ubW91c2V1cCA9IGN1ci5tb3VzZXVwICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLm1vdXNlb3ZlciAhPT0gcHJldi5tb3VzZW92ZXIpIGRpdi5vbm1vdXNlb3ZlciA9IGN1ci5tb3VzZW92ZXIgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2VvdXQgIT09IHByZXYubW91c2VvdXQpIGRpdi5vbm1vdXNlb3V0ID0gY3VyLm1vdXNlb3V0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLm1vdXNlbGVhdmUgIT09IHByZXYubW91c2VsZWF2ZSkgZGl2Lm9ubW91c2VsZWF2ZSA9IGN1ci5tb3VzZWxlYXZlICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLm1vdXNld2hlZWwgIT09IHByZXYubW91c2V3aGVlbCkgZGl2Lm9ubW91c2VoZWVsID0gY3VyLm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuZHJhZ292ZXIgIT09IHByZXYuZHJhZ292ZXIpIGRpdi5vbmRyYWdvdmVyID0gY3VyLmRyYWdvdmVyICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmRyYWdzdGFydCAhPT0gcHJldi5kcmFnc3RhcnQpIGRpdi5vbmRyYWdzdGFydCA9IGN1ci5kcmFnc3RhcnQgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuZHJhZ2VuZCAhPT0gcHJldi5kcmFnZW5kKSBkaXYub25kcmFnZW5kID0gY3VyLmRyYWdlbmQgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuZHJhZyAhPT0gcHJldi5kcmFnKSBkaXYub25kcmFnID0gY3VyLmRyYWcgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuZHJvcCAhPT0gcHJldi5kcm9wKSBkaXYub25kcm9wID0gY3VyLmRyb3AgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuc2Nyb2xsICE9PSBwcmV2LnNjcm9sbCkgZGl2Lm9uc2Nyb2xsID0gY3VyLnNjcm9sbCAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5mb2N1cyAhPT0gcHJldi5mb2N1cykgZGl2Lm9uZm9jdXMgPSBjdXIuZm9jdXMgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuYmx1ciAhPT0gcHJldi5ibHVyKSBkaXYub25ibHVyID0gY3VyLmJsdXIgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuaW5wdXQgIT09IHByZXYuaW5wdXQpIGRpdi5vbmlucHV0ID0gY3VyLmlucHV0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmNoYW5nZSAhPT0gcHJldi5jaGFuZ2UpIGRpdi5vbmNoYW5nZSA9IGN1ci5jaGFuZ2UgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIua2V5dXAgIT09IHByZXYua2V5dXApIGRpdi5vbmtleXVwID0gY3VyLmtleXVwICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmtleWRvd24gIT09IHByZXYua2V5ZG93bikgZGl2Lm9ua2V5ZG93biA9IGN1ci5rZXlkb3duICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuXG4gICAgICBpZih0eXBlID09PSBcImFkZGVkXCIgfHwgdHlwZSA9PT0gXCJyZXBsYWNlZFwiIHx8IHR5cGUgPT09IFwibW92ZWRcIikge1xuICAgICAgICB2YXIgcGFyZW50RWwgPSBlbGVtZW50Q2FjaGVbY3VyLnBhcmVudF07XG4gICAgICAgIGlmKHBhcmVudEVsKSB7XG4gICAgICAgICAgaWYoY3VyLml4ID49IHBhcmVudEVsLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKGRpdiwgcGFyZW50RWwuY2hpbGRyZW5bY3VyLml4XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGlmZigpIHtcbiAgICB2YXIgYSA9IHRoaXMucHJldlRyZWU7XG4gICAgdmFyIGIgPSB0aGlzLnRyZWU7XG4gICAgdmFyIGFzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJzID0gT2JqZWN0LmtleXMoYik7XG4gICAgdmFyIHVwZGF0ZWQgPSB7fTtcbiAgICB2YXIgYWRkcyA9IFtdO1xuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IGFzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSBhc1tpXTtcbiAgICAgIHZhciBjdXJBID0gYVtpZF07XG4gICAgICB2YXIgY3VyQiA9IGJbaWRdO1xuICAgICAgaWYoY3VyQiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRbaWRdID0gXCJyZW1vdmVkXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYoY3VyQS50ICE9PSBjdXJCLnQpIHtcbiAgICAgICAgdXBkYXRlZFtpZF0gPSBcInJlcGxhY2VkXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYoY3VyQS5peCAhPT0gY3VyQi5peCB8fCBjdXJBLnBhcmVudCAhPT0gY3VyQi5wYXJlbnQpIHtcbiAgICAgICAgdXBkYXRlZFtpZF0gPSBcIm1vdmVkXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZighY3VyQi5kaXJ0eVxuICAgICAgICAgICYmIGN1ckEuYyA9PT0gY3VyQi5jXG4gICAgICAgICAgJiYgY3VyQS5rZXkgPT09IGN1ckIua2V5XG4gICAgICAgICAgJiYgY3VyQS5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gY3VyQi5kYW5nZXJvdXNseVNldElubmVySFRNTFxuICAgICAgICAgICYmIGN1ckEudGFiaW5kZXggPT09IGN1ckIudGFiaW5kZXhcbiAgICAgICAgICAmJiBjdXJBLmhyZWYgPT09IGN1ckIuaHJlZlxuICAgICAgICAgICYmIGN1ckEucGxhY2Vob2xkZXIgPT09IGN1ckIucGxhY2Vob2xkZXJcbiAgICAgICAgICAmJiBjdXJBLnNlbGVjdGVkID09PSBjdXJCLnNlbGVjdGVkXG4gICAgICAgICAgJiYgY3VyQS5kcmFnZ2FibGUgPT09IGN1ckIuZHJhZ2dhYmxlXG4gICAgICAgICAgJiYgY3VyQS5jb250ZW50RWRpdGFibGUgPT09IGN1ckIuY29udGVudEVkaXRhYmxlXG4gICAgICAgICAgJiYgY3VyQS52YWx1ZSA9PT0gY3VyQi52YWx1ZVxuICAgICAgICAgICYmIGN1ckEudHlwZSA9PT0gY3VyQi50eXBlXG4gICAgICAgICAgJiYgY3VyQS5jaGVja2VkID09PSBjdXJCLmNoZWNrZWRcbiAgICAgICAgICAmJiBjdXJBLnRleHQgPT09IGN1ckIudGV4dFxuICAgICAgICAgICYmIGN1ckEudG9wID09PSBjdXJCLnRvcFxuICAgICAgICAgICYmIGN1ckEuZmxleCA9PT0gY3VyQi5mbGV4XG4gICAgICAgICAgJiYgY3VyQS5sZWZ0ID09PSBjdXJCLmxlZnRcbiAgICAgICAgICAmJiBjdXJBLndpZHRoID09PSBjdXJCLndpZHRoXG4gICAgICAgICAgJiYgY3VyQS5oZWlnaHQgPT09IGN1ckIuaGVpZ2h0XG4gICAgICAgICAgJiYgY3VyQS56SW5kZXggPT09IGN1ckIuekluZGV4XG4gICAgICAgICAgJiYgY3VyQS5iYWNrZ3JvdW5kQ29sb3IgPT09IGN1ckIuYmFja2dyb3VuZENvbG9yXG4gICAgICAgICAgJiYgY3VyQS5iYWNrZ3JvdW5kSW1hZ2UgPT09IGN1ckIuYmFja2dyb3VuZEltYWdlXG4gICAgICAgICAgJiYgY3VyQS5jb2xvciA9PT0gY3VyQi5jb2xvclxuICAgICAgICAgICYmIGN1ckEuY29sc3BhbiA9PT0gY3VyQi5jb2xzcGFuXG4gICAgICAgICAgJiYgY3VyQS5ib3JkZXIgPT09IGN1ckIuYm9yZGVyXG4gICAgICAgICAgJiYgY3VyQS5ib3JkZXJDb2xvciA9PT0gY3VyQi5ib3JkZXJDb2xvclxuICAgICAgICAgICYmIGN1ckEuYm9yZGVyV2lkdGggPT09IGN1ckIuYm9yZGVyV2lkdGhcbiAgICAgICAgICAmJiBjdXJBLmJvcmRlclJhZGl1cyA9PT0gY3VyQi5ib3JkZXJSYWRpdXNcbiAgICAgICAgICAmJiBjdXJBLm9wYWNpdHkgPT09IGN1ckIub3BhY2l0eVxuICAgICAgICAgICYmIGN1ckEuZm9udEZhbWlseSA9PT0gY3VyQi5mb250RmFtaWx5XG4gICAgICAgICAgJiYgY3VyQS5mb250U2l6ZSA9PT0gY3VyQi5mb250U2l6ZVxuICAgICAgICAgICYmIGN1ckEudGV4dEFsaWduID09PSBjdXJCLnRleHRBbGlnblxuICAgICAgICAgICYmIGN1ckEudHJhbnNmb3JtID09PSBjdXJCLnRyYW5zZm9ybVxuICAgICAgICAgICYmIGN1ckEudmVydGljYWxBbGlnbiA9PT0gY3VyQi52ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgJiYgY3VyQS5zZW1hbnRpYyA9PT0gY3VyQi5zZW1hbnRpY1xuICAgICAgICAgICYmIGN1ckEuZGVidWcgPT09IGN1ckIuZGVidWdcbiAgICAgICAgICAmJiBjdXJBLnN0eWxlID09PSBjdXJCLnN0eWxlXG4gICAgICAgICAgJiYgKGN1ckIuc3ZnID09PSB1bmRlZmluZWQgfHwgKFxuICAgICAgICAgICAgICBjdXJBLnggPT09IGN1ckIueFxuICAgICAgICAgICAgICAmJiBjdXJBLnkgPT09IGN1ckIueVxuICAgICAgICAgICAgICAmJiBjdXJBLmR4ID09PSBjdXJCLmR4XG4gICAgICAgICAgICAgICYmIGN1ckEuZHkgPT09IGN1ckIuZHlcbiAgICAgICAgICAgICAgJiYgY3VyQS5jeCA9PT0gY3VyQi5jeFxuICAgICAgICAgICAgICAmJiBjdXJBLmN5ID09PSBjdXJCLmN5XG4gICAgICAgICAgICAgICYmIGN1ckEuciA9PT0gY3VyQi5yXG4gICAgICAgICAgICAgICYmIGN1ckEuZCA9PT0gY3VyQi5kXG4gICAgICAgICAgICAgICYmIGN1ckEuZmlsbCA9PT0gY3VyQi5maWxsXG4gICAgICAgICAgICAgICYmIGN1ckEuc3Ryb2tlID09PSBjdXJCLnN0cm9rZVxuICAgICAgICAgICAgICAmJiBjdXJBLnN0cm9rZVdpZHRoID09PSBjdXJCLnN0cm9rZVdpZHRoXG4gICAgICAgICAgICAgICYmIGN1ckEuc3RhcnRPZmZzZXQgPT09IGN1ckIuc3RhcnRPZmZzZXRcbiAgICAgICAgICAgICAgJiYgY3VyQS50ZXh0QW5jaG9yID09PSBjdXJCLnRleHRBbmNob3JcbiAgICAgICAgICAgICAgJiYgY3VyQS52aWV3Qm94ID09PSBjdXJCLnZpZXdCb3hcbiAgICAgICAgICAgICAgJiYgY3VyQS54bGlua2hyZWYgPT09IGN1ckIueGxpbmtocmVmKSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdXBkYXRlZFtpZF0gPSBcInVwZGF0ZWRcIjtcbiAgICB9XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gYnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IGJzW2ldO1xuICAgICAgdmFyIGN1ckEgPSBhW2lkXTtcbiAgICAgIGlmKGN1ckEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGRzLnB1c2goaWQpO1xuICAgICAgICB1cGRhdGVkW2lkXSA9IFwiYWRkZWRcIjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGFzdERpZmYgPSB7YWRkczogYWRkcywgdXBkYXRlczogdXBkYXRlZH07XG4gICAgcmV0dXJuIHRoaXMubGFzdERpZmY7XG4gIH1cblxuICBwcmVwYXJlKHJvb3Q6RWxlbWVudCkge1xuICAgIHZhciBlbGVtTGVuID0gMTtcbiAgICB2YXIgdHJlZSA9IHRoaXMudHJlZTtcbiAgICB2YXIgZWxlbWVudHMgPSBbcm9vdF07XG4gICAgdmFyIGVsZW06RWxlbWVudDtcbiAgICBmb3IodmFyIGVsZW1JeCA9IDA7IGVsZW1JeCA8IGVsZW1MZW47IGVsZW1JeCsrKSB7XG4gICAgICBlbGVtID0gZWxlbWVudHNbZWxlbUl4XTtcbiAgICAgIGlmKGVsZW0ucGFyZW50ID09PSB1bmRlZmluZWQpIGVsZW0ucGFyZW50ID0gXCJfX3Jvb3RcIjtcbiAgICAgIGlmKGVsZW0uaWQgPT09IHVuZGVmaW5lZCkgZWxlbS5pZCA9IFwiX19yb290X19cIiArIGVsZW1JeDtcbiAgICAgIHRyZWVbZWxlbS5pZF0gPSBlbGVtO1xuICAgICAgaWYoZWxlbS5wb3N0UmVuZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5wb3N0UmVuZGVycy5wdXNoKGVsZW0pO1xuICAgICAgfVxuICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbS5jaGlsZHJlbjtcbiAgICAgIGlmKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yKHZhciBjaGlsZEl4ID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEl4IDwgbGVuOyBjaGlsZEl4KyspIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltjaGlsZEl4XTtcbiAgICAgICAgICBpZihjaGlsZCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICBpZihjaGlsZC5pZCA9PT0gdW5kZWZpbmVkKSB7IGNoaWxkLmlkID0gZWxlbS5pZCArIFwiX19cIiArIGNoaWxkSXg7IH1cbiAgICAgICAgICBpZihjaGlsZC5peCA9PT0gdW5kZWZpbmVkKSB7IGNoaWxkLml4ID0gY2hpbGRJeDsgfVxuICAgICAgICAgIGlmKGNoaWxkLnBhcmVudCA9PT0gdW5kZWZpbmVkKSB7IGNoaWxkLnBhcmVudCA9IGVsZW0uaWQ7IH1cbiAgICAgICAgICBlbGVtZW50cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICBlbGVtTGVuKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyZWU7XG4gIH1cblxuICBwb3N0RG9taWZ5KCkge1xuICAgIHZhciBwb3N0UmVuZGVycyA9IHRoaXMucG9zdFJlbmRlcnM7XG4gICAgdmFyIGRpZmYgPSB0aGlzLmxhc3REaWZmLnVwZGF0ZXM7XG4gICAgdmFyIGVsZW1lbnRDYWNoZSA9IHRoaXMuZWxlbWVudENhY2hlO1xuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHBvc3RSZW5kZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZWxlbSA9IHBvc3RSZW5kZXJzW2ldO1xuICAgICAgdmFyIGlkID0gZWxlbS5pZDtcbiAgICAgIGlmKGRpZmZbaWRdID09PSBcInVwZGF0ZWRcIiB8fCBkaWZmW2lkXSA9PT0gXCJhZGRlZFwiIHx8IGRpZmZbaWRdID09PSBcInJlcGxhY2VkXCIgfHwgZWxlbS5kaXJ0eSkge1xuICAgICAgICBlbGVtLnBvc3RSZW5kZXIoZWxlbWVudENhY2hlW2VsZW0uaWRdLCBlbGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoZWxlbXM6RWxlbWVudFtdKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgLy8gV2Ugc29ydCBlbGVtZW50cyBieSBkZXB0aCB0byBhbGxvdyB0aGVtIHRvIGJlIHNlbGYgcmVmZXJlbnRpYWwuXG4gICAgZWxlbXMuc29ydCgoYSwgYikgPT4gKGEucGFyZW50ID8gYS5wYXJlbnQuc3BsaXQoXCJfX1wiKS5sZW5ndGggOiAwKSAtIChiLnBhcmVudCA/IGIucGFyZW50LnNwbGl0KFwiX19cIikubGVuZ3RoIDogMCkpO1xuICAgIGxldCBzdGFydCA9IG5vdygpO1xuICAgIGZvcihsZXQgZWxlbSBvZiBlbGVtcykge1xuICAgICAgbGV0IHBvc3QgPSB0aGlzLnByZXBhcmUoZWxlbSk7XG5cbiAgICB9XG4gICAgbGV0IHByZXBhcmUgPSBub3coKTtcbiAgICBsZXQgZCA9IHRoaXMuZGlmZigpO1xuICAgIGxldCBkaWZmID0gbm93KCk7XG4gICAgdGhpcy5kb21pZnkoKTtcbiAgICBsZXQgZG9taWZ5ID0gbm93KCk7XG4gICAgdGhpcy5wb3N0RG9taWZ5KCk7XG4gICAgbGV0IHBvc3REb21pZnkgPSBub3coKTtcbiAgICBsZXQgdGltZSA9IG5vdygpIC0gc3RhcnQ7XG4gICAgaWYodGltZSA+IDUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic2xvdyByZW5kZXIgKD4gNW1zKTogXCIsIHRpbWUsIHtcbiAgICAgICAgcHJlcGFyZTogcHJlcGFyZSAtIHN0YXJ0LFxuICAgICAgICBkaWZmOiBkaWZmIC0gcHJlcGFyZSxcbiAgICAgICAgZG9taWZ5OiBkb21pZnkgLSBkaWZmLFxuICAgICAgICBwb3N0RG9taWZ5OiBwb3N0RG9taWZ5IC0gZG9taWZ5XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7RU5WLCBERUJVRywgdXVpZCwgdW5wYWQsIHVuZGVybGluZSwgY29lcmNlSW5wdXR9IGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSBcIi4vcnVudGltZVwiXG5pbXBvcnQge2V2ZX0gZnJvbSBcIi4vYXBwXCJcbmltcG9ydCB7cmVwZWF0fSBmcm9tIFwiLi91dGlsc1wiXG5cbnR5cGUgU291cmNlQXR0ciA9IFtzdHJpbmcsIHN0cmluZ107XG5pbnRlcmZhY2UgTWFwQXJncyB7XG4gIC8vIHZhbHVlIG1heSBiZSBhIFtzb3VyY2UsIGFsaWFzXSBwYWlyIHRvIGJlIGFwcGxpZWQgb3IgYSBjb25zdGFudFxuICBbcGFyYW06c3RyaW5nXTpTb3VyY2VBdHRyfGFueVxufVxuXG5pbnRlcmZhY2UgTGlzdEFyZ3Mge1xuICAvLyB2YWx1ZSBtYXkgYmUgYSBbc291cmNlLCBhbGlhc10gcGFpciB0byBiZSBhcHBsaWVkIG9yIGEgY29uc3RhbnRcbiAgW3BhcmFtOiBudW1iZXJdOlNvdXJjZUF0dHJ8YW55XG59XG5cbmNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWU6IHN0cmluZyA9IFwiUGFyc2UgRXJyb3JcIjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbWVzc2FnZTpzdHJpbmcsIHB1YmxpYyBsaW5lOnN0cmluZywgcHVibGljIGxpbmVJeD86bnVtYmVyLCBwdWJsaWMgY2hhckl4Om51bWJlciA9IDAsIHB1YmxpYyBsZW5ndGg6bnVtYmVyID0gbGluZSAmJiAobGluZS5sZW5ndGggLSBjaGFySXgpKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHVucGFkKDYpIGBcbiAgICAgICR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9XG4gICAgICAke3RoaXMubGluZUl4ICE9PSB1bmRlZmluZWQgPyBgT24gbGluZSAke3RoaXMubGluZUl4ICsgMX06JHt0aGlzLmNoYXJJeH1gIDogXCJcIn1cbiAgICAgICR7dGhpcy5saW5lfVxuICAgICAgJHt1bmRlcmxpbmUodGhpcy5jaGFySXgsIHRoaXMubGVuZ3RoKX1cbiAgICBgO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1heWJlPFQ+KHZhbDpFcnJvcnxUKTpUIHtcbiAgaWYodmFsIGluc3RhbmNlb2YgRXJyb3IpIHRocm93IEVycm9yO1xuICByZXR1cm4gPFQ+dmFsO1xufVxuXG5mdW5jdGlvbiByZWFkV2hpbGUoc3RyOnN0cmluZywgc3Vic3RyaW5nOnN0cmluZywgc3RhcnRJeDpudW1iZXIpOnN0cmluZyB7XG4gIGxldCBlbmRJeCA9IHN0YXJ0SXg7XG4gIHdoaWxlKHN0cltlbmRJeF0gPT09IHN1YnN0cmluZykgZW5kSXgrKztcbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVbnRpbChzdHI6c3RyaW5nLCBzZW50aW5lbDpzdHJpbmcsIHN0YXJ0SXg6bnVtYmVyKTpzdHJpbmc7XG5mdW5jdGlvbiByZWFkVW50aWwoc3RyOnN0cmluZywgc2VudGluZWw6c3RyaW5nLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI6IEVycm9yKTpzdHJpbmd8RXJyb3I7XG5mdW5jdGlvbiByZWFkVW50aWwoc3RyOnN0cmluZywgc2VudGluZWw6c3RyaW5nLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI/OiBFcnJvcik6YW55IHtcbiAgbGV0IGVuZEl4ID0gc3RyLmluZGV4T2Yoc2VudGluZWwsIHN0YXJ0SXgpO1xuICBpZihlbmRJeCA9PT0gLTEpIHtcbiAgICBpZih1bnNhdGlzZmllZEVycikgcmV0dXJuIHVuc2F0aXNmaWVkRXJyO1xuICAgIHJldHVybiBzdHIuc2xpY2Uoc3RhcnRJeCk7XG4gIH1cbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVbnRpbEFueShzdHI6c3RyaW5nLCBzZW50aW5lbHM6c3RyaW5nW10sIHN0YXJ0SXg6bnVtYmVyKTpzdHJpbmc7XG5mdW5jdGlvbiByZWFkVW50aWxBbnkoc3RyOnN0cmluZywgc2VudGluZWxzOnN0cmluZ1tdLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI6IEVycm9yKTpzdHJpbmd8RXJyb3I7XG5mdW5jdGlvbiByZWFkVW50aWxBbnkoc3RyOnN0cmluZywgc2VudGluZWxzOnN0cmluZ1tdLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI/OiBFcnJvcik6YW55IHtcbiAgbGV0IGVuZEl4ID0gLTE7XG4gIGZvcihsZXQgc2VudGluZWwgb2Ygc2VudGluZWxzKSB7XG4gICAgbGV0IGl4ID0gc3RyLmluZGV4T2Yoc2VudGluZWwsIHN0YXJ0SXgpO1xuICAgIGlmKGl4ID09PSAtMSB8fCBlbmRJeCAhPT0gLTEgJiYgaXggPiBlbmRJeCkgY29udGludWU7XG4gICAgZW5kSXggPSBpeDtcbiAgfVxuICBpZihlbmRJeCA9PT0gLTEpIHtcbiAgICBpZih1bnNhdGlzZmllZEVycikgcmV0dXJuIHVuc2F0aXNmaWVkRXJyO1xuICAgIHJldHVybiBzdHIuc2xpY2Uoc3RhcnRJeCk7XG4gIH1cbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbmZ1bmN0aW9uIGdldEFsaWFzKGxpbmU6c3RyaW5nLCBsaW5lSXg6IG51bWJlciwgY2hhckl4OiBudW1iZXIpOltzdHJpbmcsIG51bWJlcl0ge1xuICBsZXQgYWxpYXM6YW55ID0gdXVpZCgpO1xuICBsZXQgYWxpYXNJeCA9IGxpbmUubGFzdEluZGV4T2YoXCJhcyBbXCIpO1xuICBpZihhbGlhc0l4ICE9PSAtMSkge1xuICAgIGFsaWFzID0gcmVhZFVudGlsKGxpbmUsIFwiXVwiLCBhbGlhc0l4ICsgNCwgbmV3IFBhcnNlRXJyb3IoYEFsaWFzIG11c3QgdGVybWluYXRlIGluIGEgY2xvc2luZyAnXSdgLCBsaW5lLCBsaW5lSXgsIGxpbmUubGVuZ3RoKSk7XG4gICAgaWYoYWxpYXMgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGFsaWFzO1xuICB9IGVsc2UgYWxpYXNJeCA9IHVuZGVmaW5lZDtcbiAgcmV0dXJuIFthbGlhcywgYWxpYXNJeF07XG59XG5cbmZ1bmN0aW9uIG1heWJlQ29lcmNlQWxpYXMobWF5YmVBbGlhczpzdHJpbmcpOkVycm9yfGFueSB7XG4gIGlmKG1heWJlQWxpYXNbMF0gPT09IFwiW1wiKSB7XG4gICAgaWYobWF5YmVBbGlhc1ttYXliZUFsaWFzLmxlbmd0aCAtIDFdICE9PSBcIl1cIikgcmV0dXJuIG5ldyBFcnJvcihcIkF0dHJpYnV0ZSBhbGlhc2VzIG11c3QgdGVybWluYXRlIGluIGEgY2xvc2luZyAnXSdcIilcbiAgICBsZXQgW3NvdXJjZSwgYXR0cmlidXRlXSA9IG1heWJlQWxpYXMuc2xpY2UoMSwgLTEpLnNwbGl0KFwiLFwiKTtcbiAgICBpZighYXR0cmlidXRlKSByZXR1cm4gbmV3IEVycm9yKFwiQXR0cmlidXRlIGFsaWFzZXMgbXVzdCBjb250YWluIGEgc291cmNlLCBhdHRyaWJ1dGUgcGFpclwiKTtcbiAgICByZXR1cm4gW3NvdXJjZS50cmltKCksIGF0dHJpYnV0ZS50cmltKCldO1xuICB9XG4gIHJldHVybiBjb2VyY2VJbnB1dChtYXliZUFsaWFzKTtcbn1cblxuZnVuY3Rpb24gZ2V0TWFwQXJncyhsaW5lOnN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKTpbRXJyb3IsIG51bWJlcl18W01hcEFyZ3MsIG51bWJlcl0ge1xuICBsZXQgYXJncyA9IHt9O1xuICBpZihsaW5lW2NoYXJJeF0gPT09IFwie1wiKSB7XG4gICAgbGV0IGVuZEl4ID0gbGluZS5pbmRleE9mKFwifVwiLCBjaGFySXgpO1xuICAgIGlmKGVuZEl4ID09PSAtMSkgcmV0dXJuIFtuZXcgUGFyc2VFcnJvcihgQXJncyBtdXN0IHRlcm1pbmF0ZSBpbiBhIGNsb3NpbmcgJ30nYCwgbGluZSwgbGluZUl4LCBsaW5lLmxlbmd0aCksIGxpbmUubGVuZ3RoXTtcbiAgICBsZXQgc3ludGF4RXJyb3JJeCA9IGxpbmUuaW5kZXhPZihcIl0sXCIpO1xuICAgIGlmKHN5bnRheEVycm9ySXggIT09IC0xKSByZXR1cm4gW25ldyBQYXJzZUVycm9yKGBBcmdzIGFyZSBkZWxpbWl0ZWQgYnkgJzsnLCBub3QgJywnYCwgbGluZSwgbGluZUl4LCBzeW50YXhFcnJvckl4ICsgMSwgMCksIGNoYXJJeF07XG4gICAgZm9yKGxldCBwYWlyIG9mIGxpbmUuc2xpY2UoKytjaGFySXgsIGVuZEl4KS5zcGxpdChcIjtcIikpIHtcbiAgICAgIGxldCBba2V5LCB2YWxdID0gcGFpci5zcGxpdChcIjpcIik7XG4gICAgICBpZihrZXkgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIFtuZXcgUGFyc2VFcnJvcihgQXJncyBtdXN0IGJlIHNwZWNpZmllZCBpbiBrZXk6IHZhbHVlIHBhaXJzYCwgbGluZSwgbGluZUl4LCBjaGFySXgsIHBhaXIubGVuZ3RoKSwgY2hhckl4ICsgcGFpci5sZW5ndGggKyAxXTtcblxuICAgICAgbGV0IGNvZXJjZWQgPSBhcmdzW2tleS50cmltKCldID0gbWF5YmVDb2VyY2VBbGlhcyh2YWwudHJpbSgpKTtcbiAgICAgIGlmKGNvZXJjZWQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBsZXQgdmFsSXggPSBjaGFySXggKyBwYWlyLmluZGV4T2YoXCJbXCIpO1xuICAgICAgICByZXR1cm4gW25ldyBQYXJzZUVycm9yKGNvZXJjZWQubWVzc2FnZSwgbGluZSwgbGluZUl4LCB2YWxJeCksIHZhbEl4XTtcbiAgICAgIH1cblxuICAgICAgY2hhckl4ICs9IHBhaXIubGVuZ3RoICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIFthcmdzLCBlbmRJeCArIDFdO1xuICB9XG4gIHJldHVybiBbdW5kZWZpbmVkLCBjaGFySXhdO1xufVxuXG5mdW5jdGlvbiBnZXRMaXN0QXJncyhsaW5lOnN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKTpbRXJyb3IsIG51bWJlcl18W0xpc3RBcmdzLCBudW1iZXJdIHtcbiAgbGV0IGFyZ3MgPSBbXTtcbiAgaWYobGluZVtjaGFySXhdID09PSBcIntcIikge1xuICAgIGxldCBlbmRJeCA9IGxpbmUuaW5kZXhPZihcIn1cIiwgY2hhckl4KTtcbiAgICBpZihlbmRJeCA9PT0gLTEpIHJldHVybiBbbmV3IFBhcnNlRXJyb3IoYEFyZ3MgbXVzdCB0ZXJtaW5hdGUgaW4gYSBjbG9zaW5nICd9J2AsIGxpbmUsIGxpbmVJeCwgbGluZS5sZW5ndGgpLCBsaW5lLmxlbmd0aF07XG4gICAgbGV0IHN5bnRheEVycm9ySXggPSBsaW5lLmluZGV4T2YoXCJdLFwiKTtcbiAgICBpZihzeW50YXhFcnJvckl4ICE9PSAtMSkgcmV0dXJuIFtuZXcgUGFyc2VFcnJvcihgQXJncyBhcmUgZGVsaW1pdGVkIGJ5ICc7Jywgbm90ICcsJ2AsIGxpbmUsIGxpbmVJeCwgc3ludGF4RXJyb3JJeCArIDEsIDApLCBjaGFySXhdO1xuICAgIGZvcihsZXQgdmFsIG9mIGxpbmUuc2xpY2UoKytjaGFySXgsIGVuZEl4KS5zcGxpdChcIjtcIikpIHtcbiAgICAgIGxldCBjb2VyY2VkID0gbWF5YmVDb2VyY2VBbGlhcyh2YWwudHJpbSgpKTtcbiAgICAgIGlmKGNvZXJjZWQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBsZXQgdmFsSXggPSBjaGFySXggKyB2YWwuaW5kZXhPZihcIltcIik7XG4gICAgICAgIHJldHVybiBbbmV3IFBhcnNlRXJyb3IoY29lcmNlZC5tZXNzYWdlLCBsaW5lLCBsaW5lSXgsIHZhbEl4KSwgdmFsSXhdO1xuICAgICAgfVxuXG4gICAgICBhcmdzLnB1c2goY29lcmNlZCk7XG4gICAgICBjaGFySXggKz0gYWxlcnQubGVuZ3RoICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIFthcmdzLCBjaGFySXhdO1xuICB9XG4gIHJldHVybiBbdW5kZWZpbmVkLCBjaGFySXhdO1xufVxuXG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGxhbiBEU0wgUGFyc2VyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgaW50ZXJmYWNlIFBsYW5TdGVwIHtcbiAgaWQ6IHN0cmluZ1xuICBzaXplPzogbnVtYmVyXG4gIG5hbWU/OiBzdHJpbmdcbiAgdHlwZT86IHN0cmluZyAvLyBmaW5kIHwgPG90aGVyPlxuICByZWxhdGVkVG8/OiBQbGFuU3RlcFxufVxuaW50ZXJmYWNlIFBsYW5GaW5kIGV4dGVuZHMgUGxhblN0ZXAgeyBlbnRpdHk/OiBzdHJpbmcgfVxuaW50ZXJmYWNlIFBsYW5HYXRoZXIgZXh0ZW5kcyBQbGFuU3RlcCB7IGNvbGxlY3Rpb24/OiBzdHJpbmcgfVxuaW50ZXJmYWNlIFBsYW5Mb29rdXAgZXh0ZW5kcyBQbGFuU3RlcCB7IGRlc2VsZWN0PzogYm9vbGVhbiwgYXR0cmlidXRlOiBzdHJpbmcgfVxuaW50ZXJmYWNlIFBsYW5JbnRlcnNlY3QgZXh0ZW5kcyBQbGFuU3RlcCB7IGRlc2VsZWN0PzogYm9vbGVhbiwgY29sbGVjdGlvbjogc3RyaW5nLCBlbnRpdHk/OiBzdHJpbmcgfVxuaW50ZXJmYWNlIFBsYW5GaWx0ZXJCeUVudGl0eSBleHRlbmRzIFBsYW5TdGVwIHsgZGVzZWxlY3Q/OiBib29sZWFuLCBlbnRpdHk6IHN0cmluZyB9XG5pbnRlcmZhY2UgUGxhbkZpbHRlciBleHRlbmRzIFBsYW5TdGVwIHsgZnVuYzogc3RyaW5nLCBhcmdzOiBNYXBBcmdzIH1cbmludGVyZmFjZSBQbGFuQ2FsY3VsYXRlIGV4dGVuZHMgUGxhblN0ZXAgeyBmdW5jOiBzdHJpbmcsIGFyZ3M6IE1hcEFyZ3MgfVxuaW50ZXJmYWNlIFBsYW5BZ2dyZWdhdGUgZXh0ZW5kcyBQbGFuU3RlcCB7IGFnZ3JlZ2F0ZTogc3RyaW5nLCBhcmdzOiBNYXBBcmdzIH1cbmludGVyZmFjZSBQbGFuR3JvdXAgZXh0ZW5kcyBQbGFuU3RlcCB7IGdyb3VwczogYW55IH1cbmludGVyZmFjZSBQbGFuU29ydCBleHRlbmRzIFBsYW5TdGVwIHsgc29ydDogYW55IH1cbmludGVyZmFjZSBQbGFuTGltaXQgZXh0ZW5kcyBQbGFuU3RlcCB7IGxpbWl0OiBhbnkgfVxuXG5mdW5jdGlvbiBnZXREZXNlbGVjdChsaW5lLCBsaW5lSXgsIGNoYXJJeCk6W2Jvb2xlYW4sIG51bWJlcl0ge1xuICBsZXQgZGVzZWxlY3QgPSBmYWxzZTtcbiAgaWYobGluZVtjaGFySXhdID09PSBcIiFcIikge1xuICAgIGRlc2VsZWN0ID0gdHJ1ZTtcbiAgICBjaGFySXgrKztcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgfVxuICByZXR1cm4gW2Rlc2VsZWN0LCBjaGFySXhdO1xufVxuXG5sZXQgcGFyc2VQbGFuU3RlcDp7W3N0ZXA6IHN0cmluZ106IChsaW5lOiBzdHJpbmcsIGxpbmVJeDogbnVtYmVyLCBjaGFySXg6IG51bWJlciwgcmVsYXRlZD86IFBsYW5TdGVwKSA9PiBFcnJvcnxQbGFuU3RlcH0gPSB7XG4gIFtcIiNcIl0oKSB7IC8vIENvbW1lbnQgbm9vcFxuICAgIHJldHVybjtcbiAgfSxcbiAgLy8gU291cmNlc1xuICBmaW5kKGxpbmUsIGxpbmVJeCwgY2hhckl4KSB7XG4gICAgd2hpbGUobGluZVtjaGFySXhdID09PSBcIiBcIikgY2hhckl4Kys7XG4gICAgbGV0IFthbGlhcywgYWxpYXNJeF0gPSBnZXRBbGlhcyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgbGV0IGVudGl0eSA9IGxpbmUuc2xpY2UoY2hhckl4LCBhbGlhc0l4KS50cmltKCk7XG4gICAgaWYoIWVudGl0eSlcbiAgICAgIHJldHVybiBuZXcgUGFyc2VFcnJvcihgRmluZCBzdGVwIG11c3Qgc3BlY2lmeSBhIHZhbGlkIGVudGl0eSBpZGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgc3RlcDpQbGFuRmluZCA9IHt0eXBlOiBcImZpbmRcIiwgaWQ6IGFsaWFzLCBlbnRpdHl9O1xuICAgIHJldHVybiBzdGVwO1xuICB9LFxuICBnYXRoZXIobGluZSwgbGluZUl4LCBjaGFySXgsIHJlbGF0ZWRUbykge1xuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGxldCBbYWxpYXMsIGFsaWFzSXhdID0gZ2V0QWxpYXMobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBjb2xsZWN0aW9uID0gbGluZS5zbGljZShjaGFySXgsIGFsaWFzSXgpLnRyaW0oKTtcbiAgICBpZighY29sbGVjdGlvbilcbiAgICAgIHJldHVybiBuZXcgUGFyc2VFcnJvcihgR2F0aGVyIHN0ZXAgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgY29sbGVjdGlvbiBpZGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgc3RlcDpQbGFuR2F0aGVyID0ge3R5cGU6IFwiZ2F0aGVyXCIsIGlkOiBhbGlhcywgY29sbGVjdGlvbiwgcmVsYXRlZFRvfTtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcblxuICAvLyBKb2luc1xuICBsb29rdXAobGluZSwgbGluZUl4LCBjaGFySXgsIHJlbGF0ZWRUbykge1xuICAgIGlmKCFyZWxhdGVkVG8pIHJldHVybiBuZXcgUGFyc2VFcnJvcihgTG9va3VwIHN0ZXAgbXVzdCBiZSBhIGNoaWxkIG9mIGEgcm9vdGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICBsZXQgW2FsaWFzLCBhbGlhc0l4XSA9IGdldEFsaWFzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgZGVzZWxlY3Q7XG4gICAgW2Rlc2VsZWN0LCBjaGFySXhdID0gZ2V0RGVzZWxlY3QobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBhdHRyaWJ1dGUgPSBsaW5lLnNsaWNlKGNoYXJJeCwgYWxpYXNJeCkudHJpbSgpO1xuICAgIGlmKCFhdHRyaWJ1dGUpXG4gICAgICByZXR1cm4gbmV3IFBhcnNlRXJyb3IoYExvb2t1cCBzdGVwIG11c3Qgc3BlY2lmeSBhIHZhbGlkIGF0dHJpYnV0ZSBpZC5gLCBsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgbGV0IHN0ZXA6UGxhbkxvb2t1cCA9IHt0eXBlOiBcImxvb2t1cFwiLCBpZDogYWxpYXMsIG5hbWU6IGFsaWFzLCBhdHRyaWJ1dGUsIGRlc2VsZWN0LCByZWxhdGVkVG99O1xuICAgIHJldHVybiBzdGVwO1xuICB9LFxuICBpbnRlcnNlY3QobGluZSwgbGluZUl4LCBjaGFySXgsIHJlbGF0ZWRUbykge1xuICAgIGlmKCFyZWxhdGVkVG8pIHJldHVybiBuZXcgUGFyc2VFcnJvcihgTG9va3VwIHN0ZXAgbXVzdCBiZSBhIGNoaWxkIG9mIGEgcm9vdGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICBsZXQgW2FsaWFzLCBhbGlhc0l4XSA9IGdldEFsaWFzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgZGVzZWxlY3Q7XG4gICAgW2Rlc2VsZWN0LCBjaGFySXhdID0gZ2V0RGVzZWxlY3QobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBjb2xsZWN0aW9uID0gbGluZS5zbGljZShjaGFySXgsIGFsaWFzSXgpLnRyaW0oKTtcblxuICAgIGlmKCFjb2xsZWN0aW9uKVxuICAgICAgcmV0dXJuIG5ldyBQYXJzZUVycm9yKGBJbnRlcnNlY3Qgc3RlcCBtdXN0IHNwZWNpZnkgYSB2YWxpZCBjb2xsZWN0aW9uIGlkYCwgbGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBzdGVwOlBsYW5JbnRlcnNlY3QgPSB7dHlwZTogXCJpbnRlcnNlY3RcIiwgaWQ6IGFsaWFzLCBjb2xsZWN0aW9uLCBkZXNlbGVjdCwgcmVsYXRlZFRvfTtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcbiAgZmlsdGVyQnlFbnRpdHkobGluZSwgbGluZUl4LCBjaGFySXgsIHJlbGF0ZWRUbykge1xuICAgIGlmKCFyZWxhdGVkVG8pIHJldHVybiBuZXcgUGFyc2VFcnJvcihgTG9va3VwIHN0ZXAgbXVzdCBiZSBhIGNoaWxkIG9mIGEgcm9vdGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICBsZXQgW2FsaWFzLCBhbGlhc0l4XSA9IGdldEFsaWFzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgZGVzZWxlY3Q7XG4gICAgW2Rlc2VsZWN0LCBjaGFySXhdID0gZ2V0RGVzZWxlY3QobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBlbnRpdHkgPSBsaW5lLnNsaWNlKGNoYXJJeCwgYWxpYXNJeCkudHJpbSgpO1xuICAgIGlmKCFlbnRpdHkpXG4gICAgICByZXR1cm4gbmV3IFBhcnNlRXJyb3IoYEludGVyc2VjdCBzdGVwIG11c3Qgc3BlY2lmeSBhIHZhbGlkIGVudGl0eSBpZGAsIGxpbmUsIGxpbmVJeCwgY2hhckl4LCBlbnRpdHkubGVuZ3RoKTtcbiAgICBsZXQgc3RlcDpQbGFuRmlsdGVyQnlFbnRpdHkgPSB7dHlwZTogXCJmaWx0ZXIgYnkgZW50aXR5XCIsIGlkOiBhbGlhcywgZW50aXR5LCBkZXNlbGVjdCwgcmVsYXRlZFRvfTtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcblxuICAvLyBDYWxjdWxhdGlvbnNcbiAgZmlsdGVyKGxpbmUsIGxpbmVJeCwgY2hhckl4KSB7XG4gICAgLy8gZmlsdGVyIHBvc2l0aXZlXG4gICAgLy8gZmlsdGVyID47IGE6IDcsIGI6IFtwZXJzb24gYWdlXVxuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGxldCBbYWxpYXMsIGFsaWFzSXhdID0gZ2V0QWxpYXMobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGxldCBsYXN0SXggPSBjaGFySXg7XG4gICAgbGV0IGZpbHRlciA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KTsgLy8gQE5PVEU6IE5lZWQgdG8gcmVtb3ZlIGFsaWFzXG4gICAgY2hhckl4ICs9IGZpbHRlci5sZW5ndGg7XG4gICAgZmlsdGVyID0gZmlsdGVyLnRyaW0oKTtcbiAgICBpZighZmlsdGVyKVxuICAgICAgcmV0dXJuIG5ldyBQYXJzZUVycm9yKGBGaWx0ZXIgc3RlcCBtdXN0IHNwZWNpZnkgYSB2YWxpZCBmaWx0ZXIgZm5gLCBsaW5lLCBsaW5lSXgsIGxhc3RJeCk7XG5cbiAgICBsZXQgYXJncztcbiAgICBbYXJncywgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGlmKGFyZ3MgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGFyZ3M7XG4gICAgaWYobGluZS5sZW5ndGggPiBjaGFySXgpIHJldHVybiBuZXcgUGFyc2VFcnJvcihgRmlsdGVyIHN0ZXAgY29udGFpbnMgZXh0cmFuZW91cyB0ZXh0YCwgbGluZSwgbGluZUl4LCBjaGFySXgpO1xuXG4gICAgbGV0IHN0ZXA6UGxhbkZpbHRlciA9IHt0eXBlOiBcImZpbHRlclwiLCBpZDogYWxpYXMsIGZ1bmM6IGZpbHRlciwgYXJnc307XG4gICAgcmV0dXJuIHN0ZXA7XG4gIH0sXG4gIGNhbGN1bGF0ZShsaW5lLCBsaW5lSXgsIGNoYXJJeCkge1xuICAgIC8vIGZpbHRlciBwb3NpdGl2ZVxuICAgIC8vIGZpbHRlciA+OyBhOiA3LCBiOiBbcGVyc29uIGFnZV1cbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICBsZXQgW2FsaWFzLCBhbGlhc0l4XSA9IGdldEFsaWFzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBsZXQgbGFzdEl4ID0gY2hhckl4O1xuICAgIGxldCBmaWx0ZXIgPSByZWFkVW50aWwobGluZSwgXCJ7XCIsIGNoYXJJeCk7IC8vIEBOT1RFOiBOZWVkIHRvIHJlbW92ZSBhbGlhc1xuICAgIGNoYXJJeCArPSBmaWx0ZXIubGVuZ3RoO1xuICAgIGZpbHRlciA9IGZpbHRlci50cmltKCk7XG4gICAgaWYoIWZpbHRlcilcbiAgICAgIHJldHVybiBuZXcgUGFyc2VFcnJvcihgQ2FsY3VsYXRlIHN0ZXAgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgY2FsY3VsYXRlIGZuYCwgbGluZSwgbGluZUl4LCBsYXN0SXgpO1xuXG4gICAgbGV0IGFyZ3M7XG4gICAgW2FyZ3MsIGNoYXJJeF0gPSBnZXRNYXBBcmdzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBpZihhcmdzIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBhcmdzO1xuXG4gICAgbGV0IHN0ZXA6UGxhbkZpbHRlciA9IHt0eXBlOiBcImNhbGN1bGF0ZVwiLCBpZDogYWxpYXMsIGZ1bmM6IGZpbHRlciwgYXJnc307XG4gICAgcmV0dXJuIHN0ZXA7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBsYW4oc3RyOnN0cmluZyk6UGxhblN0ZXBbXSB7XG4gIGxldCBwbGFuOlBsYW5TdGVwW10gPSBbXTtcbiAgbGV0IGVycm9ycyA9IFtdO1xuICBsZXQgbGluZUl4ID0gMDtcbiAgbGV0IGxpbmVzID0gc3RyLnNwbGl0KFwiXFxuXCIpXG4gIGxldCBzdGFjazp7aW5kZW50OiBudW1iZXIsIHN0ZXA6IFBsYW5TdGVwfVtdID0gW107XG4gIGZvcihsZXQgbGluZSBvZiBsaW5lcykge1xuICAgIGxldCBjaGFySXggPSAwO1xuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGxldCBpbmRlbnQgPSBjaGFySXg7XG4gICAgaWYobGluZVtjaGFySXhdID09PSB1bmRlZmluZWQpICBjb250aW51ZTtcbiAgICBsZXQgcmVsYXRlZDtcbiAgICBmb3IobGV0IHN0YWNrSXggPSBzdGFjay5sZW5ndGggLSAxOyBzdGFja0l4ID49IDA7IHN0YWNrSXgtLSkge1xuICAgICAgaWYoaW5kZW50ID4gc3RhY2tbc3RhY2tJeF0uaW5kZW50KSB7XG4gICAgICAgIHJlbGF0ZWQgPSBzdGFja1tzdGFja0l4XS5zdGVwO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBzdGFjay5wb3AoKTtcbiAgICB9XG4gICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWwobGluZSwgXCIgXCIsIGNoYXJJeCk7XG4gICAgY2hhckl4ICs9IGtleXdvcmQubGVuZ3RoO1xuICAgIGxldCBzdGVwOkVycm9yfFBsYW5TdGVwO1xuICAgIGlmKHBhcnNlUGxhblN0ZXBba2V5d29yZF0pIHN0ZXAgPSBwYXJzZVBsYW5TdGVwW2tleXdvcmRdKGxpbmUsIGxpbmVJeCwgY2hhckl4LCByZWxhdGVkKTtcbiAgICBlbHNlIHN0ZXAgPSBuZXcgUGFyc2VFcnJvcihgS2V5d29yZCAnJHtrZXl3b3JkfScgaXMgbm90IGEgdmFsaWQgcGxhbiBzdGVwLCBpZ25vcmluZ2AsIGxpbmUsIGxpbmVJeCwgY2hhckl4IC0ga2V5d29yZC5sZW5ndGgsIGtleXdvcmQubGVuZ3RoKTtcblxuICAgIGlmKHN0ZXAgJiYgc3RlcFtcImFyZ3NcIl0pIHtcbiAgICAgIGxldCBhcmdzID0gc3RlcFtcImFyZ3NcIl07XG4gICAgICBmb3IobGV0IGFyZyBpbiBhcmdzKSB7XG4gICAgICAgIGlmKGFyZ3NbYXJnXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgbGV0IFtzb3VyY2VdID0gYXJnc1thcmddO1xuICAgICAgICAgIGxldCB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIGZvcihsZXQgc3RlcCBvZiBwbGFuKSB7XG4gICAgICAgICAgICBpZihzdGVwLmlkID09PSBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoIXZhbGlkKSB7XG4gICAgICAgICAgICBzdGVwID0gbmV3IFBhcnNlRXJyb3IoYEFsaWFzIHNvdXJjZSAnJHtzb3VyY2V9JyBkb2VzIG5vdCBleGlzdCBpbiBwbGFuYCwgbGluZSwgbGluZUl4LCBsaW5lLmluZGV4T2YoYFske3NvdXJjZX0sYCkgKyAxLCBzb3VyY2UubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihzdGVwIGluc3RhbmNlb2YgRXJyb3IpIGVycm9ycy5wdXNoKHN0ZXApO1xuICAgIGVsc2UgaWYoc3RlcCkge1xuICAgICAgcGxhbi5wdXNoKDxQbGFuU3RlcD5zdGVwKTtcbiAgICAgIHN0YWNrLnB1c2goe2luZGVudCwgc3RlcDogPFBsYW5TdGVwPnN0ZXB9KTtcbiAgICB9XG5cbiAgICBsaW5lSXgrKztcbiAgfVxuICBpZihlcnJvcnMubGVuZ3RoKSB7XG4gICAgZm9yKGxldCBlcnIgb2YgZXJyb3JzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9XG4gIHJldHVybiBwbGFuO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBRdWVyeSBEU0wgUGFyc2VyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5U3RlcCB7IHR5cGU6IHN0cmluZywgaWQ/OiBzdHJpbmcgfVxuaW50ZXJmYWNlIFF1ZXJ5U2VsZWN0IGV4dGVuZHMgUXVlcnlTdGVwIHsgdmlldzogc3RyaW5nLCBqb2luPzogTWFwQXJncyB9XG5pbnRlcmZhY2UgUXVlcnlDYWxjdWxhdGUgZXh0ZW5kcyBRdWVyeVN0ZXAgeyBmdW5jOiBzdHJpbmcsIGFyZ3M6IE1hcEFyZ3MgfVxuaW50ZXJmYWNlIFF1ZXJ5T3JkaW5hbCBleHRlbmRzIFF1ZXJ5U3RlcCB7fVxuaW50ZXJmYWNlIFF1ZXJ5R3JvdXAgZXh0ZW5kcyBRdWVyeVN0ZXAgeyBncm91cHM6IExpc3RBcmdzIH1cbmludGVyZmFjZSBRdWVyeVNvcnQgZXh0ZW5kcyBRdWVyeVN0ZXAgeyBzb3J0czogTGlzdEFyZ3MgfVxuaW50ZXJmYWNlIFF1ZXJ5TGltaXQgZXh0ZW5kcyBRdWVyeVN0ZXAgeyBsaW1pdDogTGlzdEFyZ3MgfVxuaW50ZXJmYWNlIFF1ZXJ5UHJvamVjdCBleHRlbmRzIFF1ZXJ5U3RlcCB7IG1hcHBpbmc6IExpc3RBcmdzIH1cblxubGV0IHBhcnNlUXVlcnlTdGVwOntbc3RlcDogc3RyaW5nXTogKGxpbmU6IHN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKSA9PiBFcnJvcnxRdWVyeVN0ZXB9ID0ge1xuICBbXCIjXCJdKCkgeyAvLyBDb21tZW50IG5vb3BcbiAgICByZXR1cm47XG4gIH0sXG4gIHNlbGVjdChsaW5lOiBzdHJpbmcsIGxpbmVJeDogbnVtYmVyLCBjaGFySXg6IG51bWJlcikge1xuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGxldCBbYWxpYXMsIGFsaWFzSXhdID0gZ2V0QWxpYXMobGluZSwgbGluZUl4LCBjaGFySXgpO1xuXG4gICAgbGV0IGxhc3RJeCA9IGNoYXJJeDtcbiAgICBsZXQgdmlld1JhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KS5zbGljZSgwLCBhbGlhc0l4ID8gYWxpYXNJeCAtIGNoYXJJeDogdW5kZWZpbmVkKTtcbiAgICBjaGFySXggKz0gdmlld1Jhdy5sZW5ndGg7XG4gICAgbGV0IHZpZXcgPSB2aWV3UmF3LnRyaW0oKTtcbiAgICBpZighdmlldylcbiAgICAgIHJldHVybiBuZXcgUGFyc2VFcnJvcihgU2VsZWN0IHN0ZXAgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgdmlldyBpZGAsIGxpbmUsIGxpbmVJeCwgbGFzdEl4LCB2aWV3UmF3Lmxlbmd0aCk7XG5cbiAgICBsZXQgam9pbjtcbiAgICBbam9pbiwgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGlmKGpvaW4gaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGpvaW47XG5cbiAgICBsZXQgc3RlcDpRdWVyeVNlbGVjdCA9IHt0eXBlOiBcInNlbGVjdFwiLCBpZDogYWxpYXMsIHZpZXcsIGpvaW59O1xuICAgIHJldHVybiBzdGVwO1xuICB9LFxuICBkZXNlbGVjdChsaW5lOiBzdHJpbmcsIGxpbmVJeDogbnVtYmVyLCBjaGFySXg6IG51bWJlcikge1xuICAgIGxldCBzdGVwID0gcGFyc2VRdWVyeVN0ZXBbXCJzZWxlY3RcIl0obGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGlmKHN0ZXAgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHN0ZXA7XG4gICAgKDxRdWVyeVN0ZXA+c3RlcCkudHlwZSA9IFwiZGVzZWxlY3RcIjtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcbiAgY2FsY3VsYXRlKGxpbmU6IHN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKSB7XG4gICAgd2hpbGUobGluZVtjaGFySXhdID09PSBcIiBcIikgY2hhckl4Kys7XG4gICAgbGV0IFthbGlhcywgYWxpYXNJeF0gPSBnZXRBbGlhcyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgbGV0IGxhc3RJeCA9IGNoYXJJeDtcbiAgICBsZXQgZnVuY1JhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KS5zbGljZSgwLCBhbGlhc0l4ID8gYWxpYXNJeCAtIGNoYXJJeDogdW5kZWZpbmVkKTtcbiAgICBjaGFySXggKz0gZnVuY1Jhdy5sZW5ndGg7XG4gICAgbGV0IGZ1bmMgPSBmdW5jUmF3LnRyaW0oKTtcblxuICAgIGlmKCFmdW5jKVxuICAgICAgcmV0dXJuIG5ldyBQYXJzZUVycm9yKGBDYWxjdWxhdGUgc3RlcCBtdXN0IHNwZWNpZnkgYSB2YWxpZCBmdW5jdGlvbiBpZGAsIGxpbmUsIGxpbmVJeCwgbGFzdEl4LCBmdW5jUmF3Lmxlbmd0aCk7XG5cbiAgICBsZXQgYXJncztcbiAgICBbYXJncywgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgIGlmKGFyZ3MgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGFyZ3M7XG5cbiAgICBsZXQgc3RlcDpRdWVyeUNhbGN1bGF0ZSA9IHt0eXBlOiBcImNhbGN1bGF0ZVwiLCBpZDogYWxpYXMsIGZ1bmMsIGFyZ3N9O1xuICAgIHJldHVybiBzdGVwO1xuICB9LFxuICBhZ2dyZWdhdGUobGluZTogc3RyaW5nLCBsaW5lSXg6IG51bWJlciwgY2hhckl4OiBudW1iZXIpIHtcbiAgICBsZXQgc3RlcCA9IHBhcnNlUXVlcnlTdGVwW1wiY2FsY3VsYXRlXCJdKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBpZihzdGVwIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBzdGVwO1xuICAgICg8UXVlcnlTdGVwPnN0ZXApLnR5cGUgPSBcImFnZ3JlZ2F0ZVwiO1xuICAgIHJldHVybiBzdGVwO1xuICB9LFxuICBvcmRpbmFsKGxpbmU6IHN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKSB7XG4gICAgbGV0IHN0ZXA6UXVlcnlPcmRpbmFsID0ge3R5cGU6IFwib3JkaW5hbFwifTtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcbiAgZ3JvdXAobGluZTogc3RyaW5nLCBsaW5lSXg6IG51bWJlciwgY2hhckl4OiBudW1iZXIpIHtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcblxuICAgIGxldCBncm91cHM7XG4gICAgW2dyb3VwcywgY2hhckl4XSA9IGdldExpc3RBcmdzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBpZihncm91cHMgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGdyb3VwcztcblxuICAgIGxldCBzdGVwOlF1ZXJ5R3JvdXAgPSB7dHlwZTogXCJncm91cFwiLCBncm91cHN9XG4gICAgcmV0dXJuIHN0ZXA7XG4gIH0sXG4gIHNvcnQobGluZTogc3RyaW5nLCBsaW5lSXg6IG51bWJlciwgY2hhckl4OiBudW1iZXIpIHtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcblxuICAgIGxldCBzb3J0cztcbiAgICBbc29ydHMsIGNoYXJJeF0gPSBnZXRMaXN0QXJncyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgaWYoc29ydHMgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHNvcnRzO1xuXG4gICAgbGV0IHN0ZXA6UXVlcnlTb3J0ID0ge3R5cGU6IFwic29ydFwiLCAgc29ydHN9XG4gICAgcmV0dXJuIHN0ZXA7XG4gIH0sXG4gIGxpbWl0KGxpbmU6IHN0cmluZywgbGluZUl4OiBudW1iZXIsIGNoYXJJeDogbnVtYmVyKSB7XG4gICAgd2hpbGUobGluZVtjaGFySXhdID09PSBcIiBcIikgY2hhckl4Kys7XG4gICAgbGV0IGFyZ3M7XG4gICAgW2FyZ3MsIGNoYXJJeF0gPSBnZXRNYXBBcmdzKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBpZihhcmdzIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBhcmdzO1xuICAgIGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKGFyZ3MpKSB7XG4gICAgICBpZihrZXkgIT09IFwicmVzdWx0c1wiICYmIGtleSAhPT0gXCJwZXJHcm91cFwiKSByZXR1cm4gbmV3IFBhcnNlRXJyb3IoYExpbWl0IG1heSBvbmx5IGFwcGx5IHBlckdyb3VwIG9yIHRvIHJlc3VsdHNgLCBsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgfVxuXG4gICAgbGV0IHN0ZXA6UXVlcnlMaW1pdCA9IHt0eXBlOiBcImxpbWl0XCIsIGxpbWl0OiBhcmdzfTtcbiAgICByZXR1cm4gc3RlcDtcbiAgfSxcbiAgcHJvamVjdChsaW5lOiBzdHJpbmcsIGxpbmVJeDogbnVtYmVyLCBjaGFySXg6IG51bWJlcikge1xuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGxldCBhcmdzO1xuICAgIFthcmdzLCBjaGFySXhdID0gZ2V0TWFwQXJncyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgaWYoYXJncyBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gYXJncztcblxuICAgIGxldCBzdGVwOlF1ZXJ5UHJvamVjdCA9IHt0eXBlOiBcInByb2plY3RcIiwgbWFwcGluZzogYXJnc307XG4gICAgcmV0dXJuIHN0ZXA7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5KHN0cjpzdHJpbmcpOlF1ZXJ5U3RlcFtdIHtcbiAgbGV0IHBsYW46UXVlcnlTdGVwW10gPSBbXTtcbiAgbGV0IGVycm9ycyA9IFtdO1xuICBsZXQgbGluZUl4ID0gMDtcbiAgbGV0IGxpbmVzID0gc3RyLnNwbGl0KFwiXFxuXCIpXG4gIGZvcihsZXQgbGluZSBvZiBsaW5lcykge1xuICAgIGxldCBjaGFySXggPSAwO1xuICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgIGlmKGxpbmVbY2hhckl4XSA9PT0gdW5kZWZpbmVkKSAgY29udGludWU7XG4gICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWwobGluZSwgXCIgXCIsIGNoYXJJeCk7XG4gICAgY2hhckl4ICs9IGtleXdvcmQubGVuZ3RoO1xuICAgIGxldCBzdGVwOkVycm9yfFF1ZXJ5U3RlcDtcbiAgICBpZihwYXJzZVF1ZXJ5U3RlcFtrZXl3b3JkXSkgc3RlcCA9IHBhcnNlUXVlcnlTdGVwW2tleXdvcmRdKGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICBlbHNlIHN0ZXAgPSBuZXcgUGFyc2VFcnJvcihgS2V5d29yZCAnJHtrZXl3b3JkfScgaXMgbm90IGEgdmFsaWQgcXVlcnkgc3RlcCwgaWdub3JpbmdgLCBsaW5lLCBsaW5lSXgsIGNoYXJJeCAtIGtleXdvcmQubGVuZ3RoLCBrZXl3b3JkLmxlbmd0aCk7XG5cbiAgICBpZihzdGVwICYmIHN0ZXBbXCJhcmdzXCJdKSB7XG4gICAgICBsZXQgYXJncyA9IHN0ZXBbXCJhcmdzXCJdO1xuICAgICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgICBpZihhcmdzW2FyZ10gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGxldCBbc291cmNlXSA9IGFyZ3NbYXJnXTtcbiAgICAgICAgICBsZXQgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBmb3IobGV0IHN0ZXAgb2YgcGxhbikge1xuICAgICAgICAgICAgaWYoc3RlcC5pZCA9PT0gc291cmNlKSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCF2YWxpZCkge1xuICAgICAgICAgICAgc3RlcCA9IG5ldyBQYXJzZUVycm9yKGBBbGlhcyBzb3VyY2UgJyR7c291cmNlfScgZG9lcyBub3QgZXhpc3QgaW4gcXVlcnlgLCBsaW5lLCBsaW5lSXgsIGxpbmUuaW5kZXhPZihgWyR7c291cmNlfSxgKSArIDEsIHNvdXJjZS5sZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHN0ZXAgaW5zdGFuY2VvZiBFcnJvcikgZXJyb3JzLnB1c2goc3RlcCk7XG4gICAgZWxzZSBpZihzdGVwKSBwbGFuLnB1c2goPFF1ZXJ5U3RlcD5zdGVwKTtcblxuICAgIGxpbmVJeCsrO1xuICB9XG4gIGlmKGVycm9ycy5sZW5ndGgpIHtcbiAgICAvLyBARklYTUU6IFJldHVybiBlcnJvcnMgaW5zdGVhZCBvZiBsb2dnaW5nIHRoZW0uXG4gICAgZm9yKGxldCBlcnIgb2YgZXJyb3JzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyci50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBsYW47XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVJIERTTCBQYXJzZXJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBpbnRlcmZhY2UgVUlFbGVtIHtcbiAgaWQ/OiBzdHJpbmdcbiAgY2hpbGRyZW4/OiBVSUVsZW1bXVxuICBlbWJlZGRlZD86IE1hcEFyZ3MgLy8gVW5kZWZpbmVkIG9yIHRoZSByZXN0cmljdGVkIHNjb3BlIG9mIHRoZSBlbWJlZGRlZCBjaGlsZC5cbiAgYmluZGluZz86IHN0cmluZ1xuICBiaW5kaW5nS2luZD86IHN0cmluZ1xuICBhdHRyaWJ1dGVzPzogTWFwQXJnc1xuICBldmVudHM/OiB7W2V2ZW50OnN0cmluZ106IE1hcEFyZ3N9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVJKHN0cjpzdHJpbmcpOlVJRWxlbSB7XG4gIGxldCByb290OlVJRWxlbSA9IHt9O1xuICBsZXQgZXJyb3JzID0gW107XG4gIGxldCBsaW5lSXggPSAwO1xuICBsZXQgbGluZXMgPSBzdHIuc3BsaXQoXCJcXG5cIik7XG4gIGxldCBzdGFjazp7aW5kZW50OiBudW1iZXIsIGVsZW06IFVJRWxlbX1bXSA9IFt7aW5kZW50OiAtMiwgZWxlbTogcm9vdH1dO1xuICAvLyBARklYTUU6IENodW5rIGludG8gZWxlbWVudCBjaHVua3MgaW5zdGVhZCBvZiBsaW5lcyB0byBlbmFibGUgaW4tYXJndW1lbnQgY29udGludWF0aW9uLlxuICBmb3IobGV0IGxpbmUgb2YgbGluZXMpIHtcbiAgICBsZXQgY2hhckl4ID0gMDtcbiAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICBsZXQgaW5kZW50ID0gY2hhckl4O1xuICAgIGlmKGxpbmVbY2hhckl4XSA9PT0gdW5kZWZpbmVkKSAgY29udGludWU7XG4gICAgbGV0IHBhcmVudDpVSUVsZW07XG4gICAgZm9yKGxldCBzdGFja0l4ID0gc3RhY2subGVuZ3RoIC0gMTsgc3RhY2tJeCA+PSAwOyBzdGFja0l4LS0pIHtcbiAgICAgIGlmKGluZGVudCA+IHN0YWNrW3N0YWNrSXhdLmluZGVudCkge1xuICAgICAgICBwYXJlbnQgPSBzdGFja1tzdGFja0l4XS5lbGVtO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBzdGFjay5wb3AoKTtcbiAgICB9XG4gICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWwobGluZSwgXCIgXCIsIGNoYXJJeCk7XG4gICAgY2hhckl4ICs9IGtleXdvcmQubGVuZ3RoO1xuXG4gICAgaWYoa2V5d29yZFswXSA9PT0gXCJ+XCIgfHwga2V5d29yZFswXSA9PT0gXCIlXCIpIHsgLy8gSGFuZGxlIGJpbmRpbmdcbiAgICAgIGNoYXJJeCAtPSBrZXl3b3JkLmxlbmd0aCAtIDE7XG4gICAgICBsZXQga2luZCA9IGtleXdvcmRbMF0gPT09IFwiflwiID8gXCJwbGFuXCIgOiBcInF1ZXJ5XCI7XG4gICAgICBpZighcGFyZW50LmJpbmRpbmcpIHtcbiAgICAgICAgcGFyZW50LmJpbmRpbmcgPSBsaW5lLnNsaWNlKGNoYXJJeCk7XG4gICAgICAgIHBhcmVudC5iaW5kaW5nS2luZCA9IGtpbmQ7XG4gICAgICB9IGVsc2UgaWYoa2luZCA9PT0gcGFyZW50LmJpbmRpbmdLaW5kKSBwYXJlbnQuYmluZGluZyArPSBcIlxcblwiICsgbGluZS5zbGljZShjaGFySXgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGVycm9ycy5wdXNoKG5ldyBQYXJzZUVycm9yKGBVSSBtdXN0IGJlIGJvdW5kIHRvIGEgc2luZ2xlIHR5cGUgb2YgcXVlcnkuYCwgbGluZSwgbGluZUl4KSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY2hhckl4ID0gbGluZS5sZW5ndGg7XG5cbiAgICB9IGVsc2UgaWYoa2V5d29yZFswXSA9PT0gXCJAXCIpIHsgLy8gSGFuZGxlIGV2ZW50XG4gICAgICBjaGFySXggLT0ga2V5d29yZC5sZW5ndGggLSAxO1xuICAgICAgbGV0IGVycjtcbiAgICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuICAgICAgbGV0IGxhc3RJeCA9IGNoYXJJeDtcbiAgICAgIGxldCBldmVudFJhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KTtcbiAgICAgIGNoYXJJeCArPSBldmVudFJhdy5sZW5ndGg7XG4gICAgICBsZXQgZXZlbnQgPSBldmVudFJhdy50cmltKCk7XG5cbiAgICAgIGlmKCFldmVudCkgZXJyID0gbmV3IFBhcnNlRXJyb3IoYFVJIGV2ZW50IG11c3Qgc3BlY2lmeSBhIHZhbGlkIGV2ZW50IG5hbWVgLCBsaW5lLCBsaW5lSXgsIGxhc3RJeCwgZXZlbnRSYXcubGVuZ3RoKTtcbiAgICAgIGxldCBzdGF0ZTtcbiAgICAgIFtzdGF0ZSwgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgaWYoc3RhdGUgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyKSBlcnIgPSBzdGF0ZTtcbiAgICAgIGlmKGVycikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICBsaW5lSXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmKCFwYXJlbnQuZXZlbnRzKSBwYXJlbnQuZXZlbnRzID0ge307XG4gICAgICBwYXJlbnQuZXZlbnRzW2V2ZW50XSA9IHN0YXRlO1xuXG4gICAgfSBlbHNlIGlmKGtleXdvcmRbMF0gPT09IFwiPlwiKSB7IC8vIEhhbmRsZSBlbWJlZFxuICAgICAgY2hhckl4IC09IGtleXdvcmQubGVuZ3RoIC0gMTtcbiAgICAgIGxldCBlcnI7XG4gICAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICAgIGxldCBsYXN0SXggPSBjaGFySXg7XG4gICAgICBsZXQgZW1iZWRJZFJhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KTtcbiAgICAgIGNoYXJJeCArPSBlbWJlZElkUmF3Lmxlbmd0aDtcbiAgICAgIGxldCBlbWJlZElkID0gZW1iZWRJZFJhdy50cmltKCk7XG5cbiAgICAgIGlmKCFlbWJlZElkKSBlcnIgPSBuZXcgUGFyc2VFcnJvcihgVUkgZW1iZWQgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgZWxlbWVudCBpZGAsIGxpbmUsIGxpbmVJeCwgbGFzdEl4LCBlbWJlZElkUmF3Lmxlbmd0aCk7XG4gICAgICBsZXQgc2NvcGU7XG4gICAgICBbc2NvcGUgPSB7fSwgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgaWYoc2NvcGUgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyKSBlcnIgPSBzY29wZTtcbiAgICAgIGlmKGVycikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICBsaW5lSXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBlbGVtID0ge2VtYmVkZGVkOiBzY29wZSwgaWQ6IGVtYmVkSWR9O1xuICAgICAgaWYoIXBhcmVudC5jaGlsZHJlbikgcGFyZW50LmNoaWxkcmVuID0gW107XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChlbGVtKTtcbiAgICAgIHN0YWNrLnB1c2goe2luZGVudCwgZWxlbX0pO1xuXG4gICAgfSBlbHNlIHsgLy8gSGFuZGxlIGVsZW1lbnRcbiAgICAgIGxldCBlcnI7XG4gICAgICBpZigha2V5d29yZCkgZXJyID0gbmV3IFBhcnNlRXJyb3IoYFVJIGVsZW1lbnQgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgdGFnIG5hbWVgLCBsaW5lLCBsaW5lSXgsIGNoYXJJeCwgMCk7XG4gICAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbiAgICAgIGxldCBjbGFzc2VzUmF3ID0gcmVhZFVudGlsKGxpbmUsIFwie1wiLCBjaGFySXgpO1xuICAgICAgY2hhckl4ICs9IGNsYXNzZXNSYXcubGVuZ3RoO1xuICAgICAgbGV0IGNsYXNzZXMgPSBjbGFzc2VzUmF3LnRyaW0oKTtcblxuICAgICAgbGV0IGF0dHJpYnV0ZXM7XG4gICAgICBbYXR0cmlidXRlcyA9IHt9LCBjaGFySXhdID0gZ2V0TWFwQXJncyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgICBpZihhdHRyaWJ1dGVzIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycikgZXJyID0gYXR0cmlidXRlcztcbiAgICAgIGlmKGVycikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICBsaW5lSXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzW1widFwiXSA9IGtleXdvcmQ7XG4gICAgICBpZihjbGFzc2VzKSBhdHRyaWJ1dGVzW1wiY1wiXSA9IGNsYXNzZXM7XG4gICAgICBsZXQgZWxlbTpVSUVsZW0gPSB7aWQ6IGF0dHJpYnV0ZXNbXCJpZFwiXSwgYXR0cmlidXRlc307XG4gICAgICBpZighcGFyZW50LmNoaWxkcmVuKSBwYXJlbnQuY2hpbGRyZW4gPSBbXTtcbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKGVsZW0pO1xuICAgICAgc3RhY2sucHVzaCh7aW5kZW50LCBlbGVtfSk7XG4gICAgfVxuXG4gICAgbGluZUl4Kys7XG4gIH1cblxuICBpZihlcnJvcnMubGVuZ3RoKSB7XG4gICAgZm9yKGxldCBlcnIgb2YgZXJyb3JzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV2ZSBEU0wgUGFyc2VyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5lbnVtIFRPS0VOX1RZUEUgeyBFWFBSLCBJREVOVElGSUVSLCBLRVlXT1JELCBTVFJJTkcsIExJVEVSQUwgfTtcbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHN0YXRpYyBUWVBFID0gVE9LRU5fVFlQRTtcbiAgc3RhdGljIGlkZW50aWZpZXIodmFsdWU6c3RyaW5nLCBsaW5lSXg/OiBudW1iZXIsIGNoYXJJeD86IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVG9rZW4oVG9rZW4uVFlQRS5JREVOVElGSUVSLCB2YWx1ZSwgbGluZUl4LCBjaGFySXgpO1xuICB9XG4gIHN0YXRpYyBrZXl3b3JkKHZhbHVlOnN0cmluZywgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuS0VZV09SRCwgdmFsdWUsIGxpbmVJeCwgY2hhckl4KTtcbiAgfVxuICBzdGF0aWMgc3RyaW5nKHZhbHVlOnN0cmluZywgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuU1RSSU5HLCB2YWx1ZSwgbGluZUl4LCBjaGFySXgpO1xuICB9XG4gIHN0YXRpYyBsaXRlcmFsKHZhbHVlOmFueSwgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuTElURVJBTCwgdmFsdWUsIGxpbmVJeCwgY2hhckl4KTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0eXBlPzogVE9LRU5fVFlQRSwgcHVibGljIHZhbHVlPzogYW55LCBwdWJsaWMgbGluZUl4PzogbnVtYmVyLCBwdWJsaWMgY2hhckl4PzogbnVtYmVyKSB7fVxuICB0b1N0cmluZygpIHtcbiAgICBpZih0aGlzLnR5cGUgPT09IFRva2VuLlRZUEUuS0VZV09SRCkgcmV0dXJuIGA6JHt0aGlzLnZhbHVlfWA7XG4gICAgZWxzZSBpZih0aGlzLnR5cGUgPT09IFRva2VuLlRZUEUuU1RSSU5HKSByZXR1cm4gYFwiJHt0aGlzLnZhbHVlfVwiYDtcbiAgICBlbHNlIHJldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNleHByIHtcbiAgc3RhdGljIGxpc3QodmFsdWU6KFRva2VufFNleHByKVtdID0gW10sIGxpbmVJeD86IG51bWJlciwgY2hhckl4PzogbnVtYmVyLCBzeW50YXg/OiBib29sZWFuKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgpO1xuICAgIHZhbHVlLnVuc2hpZnQoVG9rZW4uaWRlbnRpZmllcihcImxpc3RcIiwgbGluZUl4LCBjaGFySXggPyBjaGFySXggKyAxIDogdW5kZWZpbmVkKSk7XG4gICAgcmV0dXJuIG5ldyBTZXhwcih2YWx1ZSwgbGluZUl4LCBjaGFySXgsIHN5bnRheCA/IFwibGlzdFwiIDogdW5kZWZpbmVkKTtcbiAgfVxuICBzdGF0aWMgaGFzaCh2YWx1ZTooVG9rZW58U2V4cHIpW10gPSBbXSwgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIsIHN5bnRheD86IGJvb2xlYW4pIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKCk7XG4gICAgdmFsdWUudW5zaGlmdChUb2tlbi5pZGVudGlmaWVyKFwiaGFzaFwiLCBsaW5lSXgsIGNoYXJJeCA/IGNoYXJJeCArIDEgOiB1bmRlZmluZWQpKTtcbiAgICByZXR1cm4gbmV3IFNleHByKHZhbHVlLCBsaW5lSXgsIGNoYXJJeCwgc3ludGF4ID8gXCJoYXNoXCIgOiB1bmRlZmluZWQpO1xuICB9XG4gIHN0YXRpYyBhc1NleHBycyh2YWx1ZXM6KFRva2VufFNleHByKVtdKTpTZXhwcltdIHtcbiAgICBmb3IobGV0IHJhdyBvZiB2YWx1ZXMpIHtcbiAgICAgaWYoIShyYXcgaW5zdGFuY2VvZiBTZXhwcikpIHRocm93IG5ldyBQYXJzZUVycm9yKGBBbGwgdG9wIGxldmVsIGVudHJpZXMgbXVzdCBiZSBleHByZXNzaW9ucyAoZ290ICR7cmF3fSlgLCB1bmRlZmluZWQsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBvcCA9IHJhdy5vcGVyYXRvcjtcbiAgICAgICAgaWYob3AudHlwZSAhPT0gVG9rZW4uVFlQRS5JREVOVElGSUVSKVxuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUVycm9yKGBBbGwgZXhwcmVzc2lvbnMgbXVzdCBiZWdpbiB3aXRoIGFuIGlkZW50aWZpZXJgLCB1bmRlZmluZWQsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gPFNleHByW10+dmFsdWVzO1xuICB9XG5cbiAgcHVibGljIHR5cGUgPSBUb2tlbi5UWVBFLkVYUFI7XG4gIHB1YmxpYyB2YWx1ZTooVG9rZW58U2V4cHIpW107XG5cbiAgY29uc3RydWN0b3IodmFsPzogKFRva2VufFNleHByKVtdLCBwdWJsaWMgbGluZUl4PzogbnVtYmVyLCBwdWJsaWMgY2hhckl4PzogbnVtYmVyLCBwdWJsaWMgc3ludGF4ID0gXCJleHByXCIpIHtcbiAgICBpZih2YWwpIHRoaXMudmFsdWUgPSB2YWwuc2xpY2UoKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgY29udGVudCA9IHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS5tYXAoKHRva2VuKSA9PiB0b2tlbi50b1N0cmluZygpKS5qb2luKFwiIFwiKTtcbiAgICBsZXQgYXJnc0NvbnRlbnQgPSB0aGlzLnZhbHVlICYmIHRoaXMuYXJndW1lbnRzLm1hcCgodG9rZW4pID0+IHRva2VuLnRvU3RyaW5nKCkpLmpvaW4oXCIgXCIpO1xuICAgIGlmKHRoaXMuc3ludGF4ID09PSBcImhhc2hcIikgcmV0dXJuIGB7JHthcmdzQ29udGVudH19YDtcbiAgICBlbHNlIGlmKHRoaXMuc3ludGF4ID09PSBcImxpc3RcIikgcmV0dXJuIGBbJHthcmdzQ29udGVudH1dYDtcbiAgICBlbHNlIHJldHVybiBgKCR7Y29udGVudH0pYDtcbiAgfVxuXG4gIHB1c2godmFsOlRva2VufFNleHByKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgfHwgW107XG4gICAgcmV0dXJuIHRoaXMudmFsdWUucHVzaCh2YWwpO1xuICB9XG4gIG50aChuLCB2YWw/OlRva2VufFNleHByKSB7XG4gICAgaWYodmFsKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCBbXTtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlW25dID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlW25dO1xuICB9XG4gIGdldCBvcGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlWzBdO1xuICB9XG4gIHNldCBvcGVyYXRvcihvcDogVG9rZW58U2V4cHIpIHtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCBbXTtcbiAgICB0aGlzLnZhbHVlWzBdID0gb3A7XG4gIH1cbiAgZ2V0IGFyZ3VtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLnNsaWNlKDEpO1xuICB9XG4gIHNldCBhcmd1bWVudHMoYXJnczogKFRva2VufFNleHByKVtdKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgfHwgW107XG4gICAgdGhpcy52YWx1ZS5sZW5ndGggPSAxO1xuICAgIHRoaXMudmFsdWUucHVzaC5hcHBseSh0aGlzLnZhbHVlLCBhcmdzKTtcbiAgfVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoO1xuICB9XG59XG5cbmNvbnN0IFRPS0VOX1RPX1RZUEUgPSB7XG4gIFwiKFwiOiBcImV4cHJcIixcbiAgXCIpXCI6IFwiZXhwclwiLFxuICBcIltcIjogXCJsaXN0XCIsXG4gIFwiXVwiOiBcImxpc3RcIixcbiAgXCJ7XCI6IFwiaGFzaFwiLFxuICBcIn1cIjogXCJoYXNoXCJcbn07XG5cbmxldCBoeWdpZW5pY1N5bWJvbENvdW50ZXIgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhZFNleHBycyh0ZXh0OnN0cmluZyk6U2V4cHIge1xuICBsZXQgcm9vdCA9IFNleHByLmxpc3QoKTtcbiAgbGV0IHRva2VuOlRva2VuO1xuICBsZXQgc2V4cHI6U2V4cHIgPSByb290O1xuICBsZXQgc2V4cHJzOlNleHByW10gPSBbcm9vdF07XG5cbiAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcbiAgbGV0IGxpbmVJeCA9IDA7XG4gIGxldCBtb2RlOnN0cmluZztcbiAgZm9yKGxldCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgbGV0IGxpbmUgPSBsaW5lc1tsaW5lSXhdO1xuICAgIGxldCBjaGFySXggPSAwO1xuXG4gICAgaWYobW9kZSA9PT0gXCJzdHJpbmdcIikgdG9rZW4udmFsdWUgKz0gXCJcXG5cIjtcblxuICAgIHdoaWxlKGNoYXJJeCA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICBpZihtb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmKGxpbmVbY2hhckl4XSA9PT0gXCJcXFwiXCIgJiYgbGluZVtjaGFySXggLSAxXSAhPT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICBzZXhwci5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbiA9IG1vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgY2hhckl4Kys7XG5cbiAgICAgICAgfSBlbHNlIHRva2VuLnZhbHVlICs9IGxpbmVbY2hhckl4KytdO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGFkZGluZyA9IHJlYWRXaGlsZShsaW5lLCBcIiBcIiwgY2hhckl4KTtcbiAgICAgIGNoYXJJeCArPSBwYWRkaW5nLmxlbmd0aDtcbiAgICAgIGlmKHBhZGRpbmcubGVuZ3RoKSB7XG4gICAgICAgIGlmKHRva2VuKSBzZXhwci5wdXNoKHRva2VuKTtcbiAgICAgICAgdG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZihjaGFySXggPj0gbGluZS5sZW5ndGgpIGNvbnRpbnVlO1xuXG4gICAgICBpZihsaW5lW2NoYXJJeF0gPT09IFwiO1wiKSB7XG4gICAgICAgIGNoYXJJeCA9IGxpbmUubGVuZ3RoO1xuXG4gICAgICB9IGVsc2UgaWYobGluZVtjaGFySXhdID09PSBcIlxcXCJcIikge1xuICAgICAgICBpZighc2V4cHIubGVuZ3RoKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgTGl0ZXJhbCBtdXN0IGJlIGFuIGFyZ3VtZW50IGluIGEgc2V4cHIuYCwgbGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgICBtb2RlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgdG9rZW4gPSBUb2tlbi5zdHJpbmcoXCJcIiwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgICBjaGFySXgrKztcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCI6XCIpIHtcbiAgICAgICAgaWYoIXNleHByLmxlbmd0aCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYExpdGVyYWwgbXVzdCBiZSBhbiBhcmd1bWVudCBpbiBhIHNleHByLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWxBbnkobGluZSwgW1wiIFwiLCBcIilcIiwgXCJdXCIsIFwifVwiXSwgKytjaGFySXgpO1xuICAgICAgICBzZXhwci5wdXNoKFRva2VuLmtleXdvcmQoa2V5d29yZCwgbGluZUl4LCBjaGFySXggLSAxKSk7XG4gICAgICAgIGNoYXJJeCArPSBrZXl3b3JkLmxlbmd0aDtcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCIoXCIgfHwgbGluZVtjaGFySXhdID09PSBcIltcIiB8fCBsaW5lW2NoYXJJeF0gPT09IFwie1wiKSB7XG4gICAgICAgIGlmKHRva2VuKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgU2V4cHIgYXJndW1lbnRzIG11c3QgYmUgc3BhY2Ugc2VwYXJhdGVkLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgbGV0IHR5cGUgPSBUT0tFTl9UT19UWVBFW2xpbmVbY2hhckl4XV07XG4gICAgICAgIGlmKHR5cGUgPT09IFwiaGFzaFwiKSBzZXhwciA9IFNleHByLmhhc2godW5kZWZpbmVkLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgICAgIGVsc2UgaWYodHlwZSA9PT0gXCJsaXN0XCIpIHNleHByID0gU2V4cHIubGlzdCh1bmRlZmluZWQsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgZWxzZSBzZXhwciA9IG5ldyBTZXhwcih1bmRlZmluZWQsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIuc3ludGF4ID0gdHlwZTtcbiAgICAgICAgc2V4cHJzLnB1c2goc2V4cHIpO1xuICAgICAgICBjaGFySXgrKztcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCIpXCIgfHwgbGluZVtjaGFySXhdID09PSBcIl1cIiB8fCBsaW5lW2NoYXJJeF0gPT09IFwifVwiKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHNleHBycy5wb3AoKTtcbiAgICAgICAgbGV0IHR5cGUgPSBUT0tFTl9UT19UWVBFW2xpbmVbY2hhckl4XV07XG4gICAgICAgIGlmKGNoaWxkLnN5bnRheCAhPT0gdHlwZSkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYE11c3QgdGVybWluYXRlICR7Y2hpbGQuc3ludGF4fSBiZWZvcmUgdGVybWluYXRpbmcgJHt0eXBlfWAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIgPSBzZXhwcnNbc2V4cHJzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZighc2V4cHIpIHRocm93IG5ldyBQYXJzZUVycm9yKGBUb28gbWFueSBjbG9zaW5nIHBhcmVuc2AsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIucHVzaChjaGlsZCk7XG4gICAgICAgIGNoYXJJeCsrO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbGl0ZXJhbCA9IHJlYWRVbnRpbEFueShsaW5lLCBbXCIgXCIsIFwiKVwiLCBcIl1cIiwgXCJ9XCJdLCBjaGFySXgpO1xuICAgICAgICBsZXQgbGVuZ3RoID0gbGl0ZXJhbC5sZW5ndGg7XG4gICAgICAgIGxpdGVyYWwgPSBjb2VyY2VJbnB1dChsaXRlcmFsKTtcbiAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgbGl0ZXJhbCA9PT0gXCJzdHJpbmdcIiA/IFwiaWRlbnRpZmllclwiIDogXCJsaXRlcmFsXCI7XG4gICAgICAgIGlmKCFzZXhwci5sZW5ndGggJiYgdHlwZSAhPT0gXCJpZGVudGlmaWVyXCIpIHRocm93IG5ldyBQYXJzZUVycm9yKGBFeHByIG11c3QgYmVnaW4gd2l0aCBpZGVudGlmaWVyLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgaWYodHlwZSA9PT0gXCJpZGVudGlmaWVyXCIpIHtcbiAgICAgICAgICBsZXQgZG90SXggPSBsaXRlcmFsLmluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgIGlmKGRvdEl4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkOlNleHByID0gbmV3IFNleHByKFtcbiAgICAgICAgICAgICAgVG9rZW4uaWRlbnRpZmllcihcImdldFwiLCBsaW5lSXgsIGNoYXJJeCArIDEpLFxuICAgICAgICAgICAgICBUb2tlbi5pZGVudGlmaWVyKGxpdGVyYWwuc2xpY2UoMCwgZG90SXgpLCBsaW5lSXgsIGNoYXJJeCArIDMpLFxuICAgICAgICAgICAgICBUb2tlbi5zdHJpbmcobGl0ZXJhbC5zbGljZShkb3RJeCArIDEpLCBsaW5lSXgsIGNoYXJJeCArIDUgKyBkb3RJeClcbiAgICAgICAgICAgIF0sIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgICAgIHNleHByLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgfSBlbHNlIHNleHByLnB1c2goVG9rZW4uaWRlbnRpZmllcihsaXRlcmFsLCBsaW5lSXgsIGNoYXJJeCkpO1xuXG4gICAgICAgIH0gZWxzZSBzZXhwci5wdXNoKFRva2VuLmxpdGVyYWwobGl0ZXJhbCwgbGluZUl4LCBjaGFySXgpKTtcbiAgICAgICAgY2hhckl4ICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGluZUl4Kys7XG4gIH1cbiAgaWYodG9rZW4pIHRocm93IG5ldyBQYXJzZUVycm9yKGBVbnRlcm1pbmF0ZWQgJHtUT0tFTl9UWVBFW3Rva2VuLnR5cGVdfSB0b2tlbmAsIGxpbmVzW2xpbmVJeCAtIDFdLCBsaW5lSXggLSAxKTtcbiAgbGV0IGxhc3RJeCA9IGxpbmVzLmxlbmd0aCAtIDE7XG4gIGlmKHNleHBycy5sZW5ndGggPiAxKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgVG9vIGZldyBjbG9zaW5nIHBhcmVuc2AsIGxpbmVzW2xhc3RJeF0sIGxhc3RJeCwgbGluZXNbbGFzdEl4XS5sZW5ndGgpO1xuXG4gIHJldHVybiByb290O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFjcm9leHBhbmREU0woc2V4cHI6U2V4cHIpOlNleHByIHtcbiAgLy8gQFRPRE86IEltcGxlbWVudCBtZS5cbiAgbGV0IG9wID0gc2V4cHIub3BlcmF0b3I7XG4gIGlmKG9wLnZhbHVlID09PSBcImVhdlwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQFRPRE86IEltcGxlbWVudCBtZSFcIik7XG5cbiAgfSBlbHNlIGlmKG9wLnZhbHVlID09PSBcIm9uZS1vZlwiKSB7XG4gICAgLy8gKG9uZS1vZiAocXVlcnkgLi4uYm9keSkgKHF1ZXJ5IC4uLmJvZHkpIC4uLikgPT5cbiAgICAvLyAodW5pb25cbiAgICAvLyAgIChkZWYgcTEgKHF1ZXJ5IC4uLmJvZHkxKSlcbiAgICAvLyAgIChkZWYgcTIgKHF1ZXJ5IChuZWdhdGUgcTEpIC4uLmJvZHkyKSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQFRPRE86IEltcGxlbWVudCBtZSFcIik7XG5cbiAgfSBlbHNlIGlmKG9wLnZhbHVlID09PSBcIm5lZ2F0ZVwiKSB7XG4gICAgaWYoc2V4cHIubGVuZ3RoID4gMikgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYE5lZ2F0ZSBvbmx5IHRha2UgYSBzaW5nbGUgYm9keWAsIHVuZGVmaW5lZCwgc2V4cHIubGluZUl4LCBzZXhwci5jaGFySXgpO1xuICAgIGxldCBzZWxlY3QgPSBtYWNyb2V4cGFuZERTTChTZXhwci5hc1NleHBycyhzZXhwci5hcmd1bWVudHMpWzBdKTtcbiAgICBzZWxlY3QucHVzaChUb2tlbi5rZXl3b3JkKFwiJCRuZWdhdGVkXCIpKTtcbiAgICBzZWxlY3QucHVzaChUb2tlbi5saXRlcmFsKHRydWUpKTtcbiAgICByZXR1cm4gc2VsZWN0O1xuXG4gIH0gZWxzZSBpZihbXCJoYXNoXCIsIFwibGlzdFwiLCBcImdldFwiLCBcImRlZlwiLCBcInF1ZXJ5XCIsIFwidW5pb25cIiwgXCJzZWxlY3RcIiwgXCJtZW1iZXJcIiwgXCJwcm9qZWN0IVwiLCBcImluc2VydCFcIiwgXCJyZW1vdmUhXCIsIFwibG9hZCFcIl0uaW5kZXhPZihvcC52YWx1ZSkgPT09IC0xKSB7XG4gICAgLy8gKGZvby1iYXIgOmEgNSkgPT4gKHNlbGVjdCBcImZvbyBiYXJcIiA6YSA1KVxuICAgIGxldCBzb3VyY2UgPSBvcDtcbiAgICBzb3VyY2UudHlwZSA9IFRva2VuLlRZUEUuU1RSSU5HO1xuICAgIHNvdXJjZS52YWx1ZSA9IHNvdXJjZS52YWx1ZS5yZXBsYWNlKC8oLj8pLSguKS9nLCBcIiQxICQyXCIpO1xuICAgIGxldCBhcmdzID0gc2V4cHIuYXJndW1lbnRzO1xuICAgIGFyZ3MudW5zaGlmdChzb3VyY2UpO1xuICAgIHNleHByLmFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgc2V4cHIub3BlcmF0b3IgPSBUb2tlbi5pZGVudGlmaWVyKFwic2VsZWN0XCIpO1xuICB9XG4gIHJldHVybiBzZXhwcjtcbn1cbmVudW0gVkFMVUUgeyBOVUxMLCBTQ0FMQVIsIFNFVCwgVklFVyB9O1xuZXhwb3J0IHR5cGUgQXJ0aWZhY3RzID0ge2NoYW5nZXNldD86IHJ1bnRpbWUuRGlmZiwgdmlld3M6IHtbcXVlcnk6c3RyaW5nXTogcnVudGltZS5RdWVyeXxydW50aW1lLlVuaW9ufX07XG50eXBlIFZhcmlhYmxlID0ge25hbWU6IHN0cmluZywgdHlwZTogVkFMVUUsIHN0YXRpYz86IGJvb2xlYW4sIHZhbHVlPzogYW55LCBwcm9qZWN0aW9uPzogc3RyaW5nLCBjb25zdHJhaW50czogW3N0cmluZywgc3RyaW5nXVtdfTtcbnR5cGUgVmFyaWFibGVDb250ZXh0ID0gVmFyaWFibGVbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRFNMKHRleHQ6c3RyaW5nKTpBcnRpZmFjdHMge1xuICBsZXQgYXJ0aWZhY3RzOkFydGlmYWN0cyA9IHt2aWV3czoge319O1xuICBsZXQgbGluZXMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICBsZXQgcm9vdCA9IHJlYWRTZXhwcnModGV4dCk7XG5cbiAgZm9yKGxldCByYXcgb2YgU2V4cHIuYXNTZXhwcnMocm9vdC5hcmd1bWVudHMpKSBwYXJzZURTTFNleHByKHJhdywgYXJ0aWZhY3RzKTtcbiAgcmV0dXJuIGFydGlmYWN0cztcbn1cbmNvbnN0IHByaW1pdGl2ZXMgPSB7XG4gIFwiK1wiOiBcImNhbGN1bGF0ZVwiLFxuICBcIi1cIjogXCJjYWxjdWxhdGVcIixcbiAgXCIqXCI6IFwiY2FsY3VsYXRlXCIsXG4gIFwiL1wiOiBcImNhbGN1bGF0ZVwiLFxuICBcIj1cIjogXCJmaWx0ZXJcIixcbiAgXCI8XCI6IFwiZmlsdGVyXCIsXG4gIFwiPD1cIjogXCJmaWx0ZXJcIixcbiAgXCJzdW1cIjogXCJhZ2dyZWdhdGVcIixcbiAgXCJjb3VudFwiOiBcImFnZ3JlZ2F0ZVwiLFxuICBcIm1heFwiOiBcImFnZ3JlZ2F0ZVwiXG4gIC8vQFRPRE86IEZpbmlzaCBtZS5cbn07XG50eXBlIFNleHByUmVzdWx0ID0ge3R5cGU6VkFMVUUsIHZhbHVlPzphbnksIHByb2plY3RlZD86YW55LCBjb250ZXh0PzphbnksIG1hcHBpbmdzPzphbnksIGFnZ3JlZ2F0ZWQ/OmJvb2xlYW59O1xuZnVuY3Rpb24gcGFyc2VEU0xTZXhwcihyYXc6U2V4cHIsIGFydGlmYWN0czpBcnRpZmFjdHMsIGNvbnRleHQ/OlZhcmlhYmxlQ29udGV4dCwgcGFyZW50PzpydW50aW1lLlF1ZXJ5fHJ1bnRpbWUuVW5pb24sIHJlc3VsdFZhcmlhYmxlPzpzdHJpbmcpOlNleHByUmVzdWx0IHtcbiAgaWYocGFyZW50IGluc3RhbmNlb2YgcnVudGltZS5RdWVyeSkgdmFyIHF1ZXJ5ID0gcGFyZW50O1xuICBlbHNlIHZhciB1bmlvbiA9IDxydW50aW1lLlVuaW9uPnBhcmVudDtcbiAgbGV0IHNleHByID0gbWFjcm9leHBhbmREU0wocmF3KTtcbiAgbGV0IG9wID0gc2V4cHIub3BlcmF0b3I7XG4gIGlmKG9wLnR5cGUgIT09IFRva2VuLlRZUEUuSURFTlRJRklFUilcbiAgICB0aHJvdyBuZXcgUGFyc2VFcnJvcihgRXZhbHVhdGVkIHNleHByIG11c3QgYmVnaW4gd2l0aCBhbiBpZGVudGlmaWVyICgnJHtvcH0nIGlzIGEgJHtUb2tlbi5UWVBFW29wLnR5cGVdfSlgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcblxuICBpZihvcC52YWx1ZSA9PT0gXCJsaXN0XCIpIHtcbiAgICBsZXQgeyQkYm9keX0gPSBwYXJzZUFyZ3VtZW50cyhzZXhwciwgdW5kZWZpbmVkLCBcIiQkYm9keVwiKTtcbiAgICByZXR1cm4ge3R5cGU6IFZBTFVFLlNDQUxBUiwgdmFsdWU6ICg8YW55PiQkYm9keSkubWFwKCh0b2tlbiwgaXgpID0+IHJlc29sdmVUb2tlblZhbHVlKGBsaXN0IGl0ZW0gJHtpeH1gLCB0b2tlbiwgY29udGV4dCkpfTtcbiAgfVxuICBpZihvcC52YWx1ZSA9PT0gXCJoYXNoXCIpIHtcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByKTtcbiAgICBmb3IobGV0IGFyZyBpbiBhcmdzKSBhcmdzW2FyZ10gPSByZXNvbHZlVG9rZW5WYWx1ZShgaGFzaCBpdGVtICR7YXJnfWAsIGFyZ3NbYXJnXSwgY29udGV4dCk7XG4gICAgcmV0dXJuIHt0eXBlOiBWQUxVRS5TRVQsIHZhbHVlOiBhcmdzfTtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcImluc2VydCFcIikge1xuICAgICAgbGV0IGNoYW5nZXNldCA9IGFydGlmYWN0cy5jaGFuZ2VzZXQgfHwgZXZlLmRpZmYoKTtcbiAgICAgIGZvcihsZXQgYXJnIG9mIHNleHByLmFyZ3VtZW50cykge1xuICAgICAgICAgIGxldCB0YWJsZSA9IGFyZy52YWx1ZVswXTtcbiAgICAgICAgICBsZXQgZmFjdCA9IHt9O1xuICAgICAgICAgIGZvcihsZXQgaXggPSAxOyBpeCA8IGFyZy52YWx1ZS5sZW5ndGg7IGl4ICs9IDIpIHtcbiAgICAgICAgICAgICAgbGV0IGtleSA9IGFyZy52YWx1ZVtpeF07XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGFyZy52YWx1ZVtpeCsxXTtcbiAgICAgICAgICAgICAgZmFjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYW5nZXNldC5hZGQodGFibGUudmFsdWUsIGZhY3QpO1xuICAgICAgfVxuICAgICAgYXJ0aWZhY3RzLmNoYW5nZXNldCA9IGNoYW5nZXNldDtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcInJlbW92ZSFcIikge1xuICAgICAgbGV0IGNoYW5nZXNldCA9IGFydGlmYWN0cy5jaGFuZ2VzZXQgfHwgZXZlLmRpZmYoKTtcbiAgICAgIGZvcihsZXQgYXJnIG9mIHNleHByLmFyZ3VtZW50cykge1xuICAgICAgICAgIGxldCB0YWJsZSA9IGFyZy52YWx1ZVswXTtcbiAgICAgICAgICBsZXQgZmFjdCA9IHt9O1xuICAgICAgICAgIGZvcihsZXQgaXggPSAxOyBpeCA8IGFyZy52YWx1ZS5sZW5ndGg7IGl4ICs9IDIpIHtcbiAgICAgICAgICAgICAgbGV0IGtleSA9IGFyZy52YWx1ZVtpeF07XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGFyZy52YWx1ZVtpeCsxXTtcbiAgICAgICAgICAgICAgZmFjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYW5nZXNldC5yZW1vdmUodGFibGUudmFsdWUsIGZhY3QpO1xuICAgICAgfVxuICAgICAgYXJ0aWZhY3RzLmNoYW5nZXNldCA9IGNoYW5nZXNldDtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcImxvYWQhXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIihsb2FkISAuLikgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIHlldFwiKTtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcInF1ZXJ5XCIpIHtcbiAgICBsZXQgbmV1ZUNvbnRleHQ6VmFyaWFibGVDb250ZXh0ID0gW107XG4gICAgbGV0IHskJHZpZXcsICQkbmVnYXRlZCwgJCRib2R5fSA9IHBhcnNlQXJndW1lbnRzKHNleHByLCB1bmRlZmluZWQsIFwiJCRib2R5XCIpO1xuICAgIGxldCBxdWVyeUlkID0gJCR2aWV3ID8gcmVzb2x2ZVRva2VuVmFsdWUoXCJ2aWV3XCIsICQkdmlldywgY29udGV4dCwgVkFMVUUuU0NBTEFSKSA6IHV1aWQoKTtcbiAgICBsZXQgbmV1ZSA9IG5ldyBydW50aW1lLlF1ZXJ5KGV2ZSwgcXVlcnlJZCk7XG4gICAgaWYoREVCVUcuaW5zdHJ1bWVudFF1ZXJ5KSBpbnN0cnVtZW50UXVlcnkobmV1ZSwgREVCVUcuaW5zdHJ1bWVudFF1ZXJ5KTtcbiAgICBhcnRpZmFjdHMudmlld3NbcXVlcnlJZF0gPSBuZXVlO1xuICAgIGxldCBhZ2dyZWdhdGVkID0gZmFsc2U7XG4gICAgZm9yKGxldCByYXcgb2YgU2V4cHIuYXNTZXhwcnMoPGFueT4kJGJvZHkpKSB7XG4gICAgICBsZXQgc3RhdGUgPSBwYXJzZURTTFNleHByKHJhdywgYXJ0aWZhY3RzLCBuZXVlQ29udGV4dCwgbmV1ZSk7XG4gICAgICBpZihzdGF0ZSAmJiBzdGF0ZS5hZ2dyZWdhdGVkKSBhZ2dyZWdhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgcHJvamVjdGlvbk1hcCA9IG5ldWUucHJvamVjdGlvbk1hcDtcbiAgICBsZXQgcHJvamVjdGVkID0gdHJ1ZTtcbiAgICBpZighcHJvamVjdGlvbk1hcCkge1xuICAgICAgcHJvamVjdGlvbk1hcCA9IHt9O1xuICAgICAgcHJvamVjdGVkID0gZmFsc2U7XG4gICAgICBmb3IobGV0IHZhcmlhYmxlIG9mIG5ldWVDb250ZXh0KSBwcm9qZWN0aW9uTWFwW3ZhcmlhYmxlLm5hbWVdID0gdmFyaWFibGUudmFsdWU7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHByb2plY3Rpb25NYXApLmxlbmd0aCkgbmV1ZS5wcm9qZWN0KHByb2plY3Rpb25NYXApO1xuXG4gICAgLy8gSm9pbiBzdWJxdWVyeSB0byBwYXJlbnQuXG4gICAgaWYocGFyZW50KSB7XG4gICAgICBsZXQgc2VsZWN0ID0gbmV3IFNleHByKFtUb2tlbi5pZGVudGlmaWVyKHF1ZXJ5ID8gXCJzZWxlY3RcIiA6IFwibWVtYmVyXCIpLCBUb2tlbi5zdHJpbmcocXVlcnlJZCldLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICAgIGxldCBncm91cHMgPSBbXTtcblxuICAgICAgZm9yKGxldCB2YXJpYWJsZSBvZiBuZXVlQ29udGV4dCkge1xuICAgICAgICBpZihwcm9qZWN0ZWQgJiYgIXZhcmlhYmxlLnByb2plY3Rpb24pIGNvbnRpbnVlO1xuICAgICAgICBsZXQgZmllbGQgPSB2YXJpYWJsZS5wcm9qZWN0aW9uIHx8IHZhcmlhYmxlLm5hbWU7XG4gICAgICAgIHNlbGVjdC5wdXNoKFRva2VuLmtleXdvcmQoZmllbGQpKTtcbiAgICAgICAgaWYocXVlcnkpIHNlbGVjdC5wdXNoKFRva2VuLmlkZW50aWZpZXIodmFyaWFibGUubmFtZSkpO1xuICAgICAgICBlbHNlIHNlbGVjdC5wdXNoKFNleHByLmxpc3QoW1Rva2VuLnN0cmluZyhmaWVsZCldKSk7XG5cbiAgICAgICAgaWYoY29udGV4dCkge1xuICAgICAgICAgIGZvcihsZXQgcGFyZW50VmFyIG9mIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmKHBhcmVudFZhci5uYW1lID09PSB2YXJpYWJsZS5uYW1lKSBncm91cHMucHVzaCh2YXJpYWJsZS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKCQkbmVnYXRlZCkge1xuICAgICAgICBzZWxlY3QucHVzaChUb2tlbi5rZXl3b3JkKFwiJCRuZWdhdGVkXCIpKTtcbiAgICAgICAgc2VsZWN0LnB1c2goJCRuZWdhdGVkKTtcbiAgICAgIH1cbiAgICAgIGlmKGdyb3Vwcy5sZW5ndGggJiYgYWdncmVnYXRlZCkgbmV1ZS5ncm91cChncm91cHMpO1xuICAgICAgcGFyc2VEU0xTZXhwcihzZWxlY3QsIGFydGlmYWN0cywgY29udGV4dCwgcGFyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3ZhbHVlOiBxdWVyeUlkLCB0eXBlOiBWQUxVRS5WSUVXLCBwcm9qZWN0ZWQsIGNvbnRleHQ6IG5ldWVDb250ZXh0fTtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcInVuaW9uXCIpIHtcbiAgICBsZXQgeyQkdmlldywgJCRib2R5LCAkJG5lZ2F0ZWR9ID0gcGFyc2VBcmd1bWVudHMoc2V4cHIsIHVuZGVmaW5lZCwgXCIkJGJvZHlcIik7XG4gICAgbGV0IHVuaW9uSWQgPSAkJHZpZXcgPyByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpIDogdXVpZCgpO1xuICAgIGxldCBuZXVlID0gbmV3IHJ1bnRpbWUuVW5pb24oZXZlLCB1bmlvbklkKTtcbiAgICBpZihERUJVRy5pbnN0cnVtZW50UXVlcnkpIGluc3RydW1lbnRRdWVyeShuZXVlLCBERUJVRy5pbnN0cnVtZW50UXVlcnkpO1xuICAgIGFydGlmYWN0cy52aWV3c1t1bmlvbklkXSA9IG5ldWU7XG4gICAgbGV0IG1hcHBpbmdzID0ge307XG4gICAgZm9yKGxldCByYXcgb2YgU2V4cHIuYXNTZXhwcnMoPGFueT4kJGJvZHkpKSB7XG4gICAgICBsZXQgY2hpbGQgPSBtYWNyb2V4cGFuZERTTChyYXcpO1xuICAgICAgaWYoY2hpbGQub3BlcmF0b3IudmFsdWUgIT09IFwicXVlcnlcIiAmJiBjaGlsZC5vcGVyYXRvci52YWx1ZSAhPT0gXCJ1bmlvblwiKVxuICAgICAgICB0aHJvdyBuZXcgUGFyc2VFcnJvcihcIlVuaW9ucyBtYXkgb25seSBjb250YWluIHF1ZXJpZXNcIiwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgICBsZXQgcmVzID0gcGFyc2VEU0xTZXhwcihjaGlsZCwgYXJ0aWZhY3RzLCBjb250ZXh0LCBuZXVlKTtcbiAgICAgIGZvcihsZXQgdmFyaWFibGUgb2YgcmVzLmNvbnRleHQpIHtcbiAgICAgICAgaWYocmVzLnByb2plY3RlZCAmJiAhdmFyaWFibGUucHJvamVjdGlvbikgY29udGludWU7XG4gICAgICAgIGxldCBmaWVsZCA9IHZhcmlhYmxlLnByb2plY3Rpb24gfHwgdmFyaWFibGUubmFtZTtcbiAgICAgICAgaWYoIW1hcHBpbmdzW2ZpZWxkXSkgbWFwcGluZ3NbZmllbGRdID0ge307XG4gICAgICAgIG1hcHBpbmdzW2ZpZWxkXVt2YXJpYWJsZS5uYW1lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSm9pbiBzdWJ1bmlvbiB0byBwYXJlbnRcbiAgICBpZihwYXJlbnQpIHtcbiAgICAgIGxldCBzZWxlY3QgPSBuZXcgU2V4cHIoW1Rva2VuLmlkZW50aWZpZXIocXVlcnkgPyBcInNlbGVjdFwiIDogXCJtZW1iZXJcIiksIFRva2VuLnN0cmluZyh1bmlvbklkKV0sIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgIGZvcihsZXQgZmllbGQgaW4gbWFwcGluZ3MpIHtcbiAgICAgICAgIGxldCBtYXBwaW5nVmFyaWFibGVzID0gT2JqZWN0LmtleXMobWFwcGluZ3NbZmllbGRdKTtcbiAgICAgICAgIGlmKG1hcHBpbmdWYXJpYWJsZXMubGVuZ3RoID4gMSlcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFcnJvcihcbiAgICAgICAgICAgIGBBbGwgdmFyaWFibGVzIHByb2plY3RlZCB0byBhIHNpbmdsZSB1bmlvbiBmaWVsZCBtdXN0IGhhdmUgdGhlIHNhbWUgbmFtZS4gRmllbGQgJyR7ZmllbGR9JyBoYXMgJHttYXBwaW5nVmFyaWFibGVzLmxlbmd0aH0gZmllbGRzICgke21hcHBpbmdWYXJpYWJsZXMuam9pbihcIiwgXCIpfSlgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICAgICAgc2VsZWN0LnB1c2goVG9rZW4ua2V5d29yZChmaWVsZCkpO1xuICAgICAgICBzZWxlY3QucHVzaChUb2tlbi5pZGVudGlmaWVyKG1hcHBpbmdWYXJpYWJsZXNbMF0pKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJ1bmlvbiBzZWxlY3RcIiwgc2VsZWN0LnRvU3RyaW5nKCkpO1xuICAgICAgcGFyc2VEU0xTZXhwcihzZWxlY3QsIGFydGlmYWN0cywgY29udGV4dCwgcGFyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3R5cGU6IFZBTFVFLlZJRVcsIHZhbHVlOiB1bmlvbklkLCBtYXBwaW5nc307XG4gIH1cblxuICBpZihvcC52YWx1ZSA9PT0gXCJtZW1iZXJcIikge1xuICAgIGlmKCF1bmlvbikgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYENhbm5vdCBhZGQgbWVtYmVyIHRvIG5vbi11bmlvbiBwYXJlbnRgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByLCBbXCIkJHZpZXdcIl0pO1xuICAgIGxldCB7JCR2aWV3LCAkJG5lZ2F0ZWR9ID0gYXJncztcbiAgICBsZXQgdmlldyA9IHJlc29sdmVUb2tlblZhbHVlKFwidmlld1wiLCAkJHZpZXcsIGNvbnRleHQsIFZBTFVFLlNDQUxBUik7XG4gICAgaWYodmlldyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihcIk11c3Qgc3BlY2lmeSBhIHZpZXcgdG8gYmUgdW5pb25lZFwiLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcblxuICAgIGxldCBqb2luID0ge307XG4gICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgaWYoYXJnID09PSBcIiQkdmlld1wiIHx8IGFyZyA9PT0gXCIkJG5lZ2F0ZWRcIikgY29udGludWU7XG4gICAgICBqb2luW2FyZ10gPSByZXNvbHZlVG9rZW5WYWx1ZShcIm1lbWJlciBmaWVsZFwiLCBhcmdzW2FyZ10sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZihwcmltaXRpdmVzW3ZpZXddKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgQ2Fubm90IHVuaW9uIHByaW1pdGl2ZSB2aWV3ICcke3ZpZXd9J2AsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgIHVuaW9uLnVuaW9uKHZpZXcsIGpvaW4pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmKCFwYXJlbnQpIHRocm93IG5ldyBQYXJzZUVycm9yKGBOb24tcXVlcnkgb3IgdW5pb24gc2V4cHJzIG11c3QgYmUgY29udGFpbmVkIHdpdGhpbiBhIHF1ZXJ5IG9yIHVuaW9uYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG5cbiAgaWYob3AudmFsdWUgPT09IFwic2VsZWN0XCIpIHtcbiAgICBpZighcXVlcnkpIHRocm93IG5ldyBQYXJzZUVycm9yKGBDYW5ub3QgYWRkIHNlbGVjdCB0byBub24tcXVlcnkgcGFyZW50YCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgbGV0IHNlbGVjdElkID0gdXVpZCgpO1xuICAgIGxldCAkJHZpZXcgPSBnZXRBcmd1bWVudChzZXhwciwgXCIkJHZpZXdcIiwgW1wiJCR2aWV3XCJdKTtcbiAgICBsZXQgdmlldyA9IHJlc29sdmVUb2tlblZhbHVlKFwidmlld1wiLCAkJHZpZXcsIGNvbnRleHQsIFZBTFVFLlNDQUxBUik7XG4gICAgaWYodmlldyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihcIk11c3Qgc3BlY2lmeSBhIHZpZXcgdG8gYmUgc2VsZWN0ZWRcIiwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgLy9AVE9ETzogTW92ZSB0aGlzIHRvIGFuIGV2ZSB0YWJsZSB0byBhbGxvdyB1c2VyIGRlZmluZWQgZGVmYXVsdHNcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByLCBbXCIkJHZpZXdcIl0uY29uY2F0KGdldERlZmF1bHRzKHZpZXcpKSk7XG4gICAgbGV0IHskJG5lZ2F0ZWR9ID0gYXJncztcblxuICAgIGxldCBqb2luID0ge307XG4gICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgbGV0IHZhbHVlID0gYXJnc1thcmddO1xuICAgICAgbGV0IHZhcmlhYmxlO1xuICAgICAgaWYoYXJnID09PSBcIiQkdmlld1wiIHx8IGFyZyA9PT0gXCIkJG5lZ2F0ZWRcIikgY29udGludWU7XG5cbiAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgVG9rZW4gJiYgdmFsdWUudHlwZSAhPT0gVG9rZW4uVFlQRS5JREVOVElGSUVSKSB7XG4gICAgICAgIGpvaW5bYXJnXSA9IGFyZ3NbYXJnXS52YWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgU2V4cHIpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHBhcnNlRFNMU2V4cHIodmFsdWUsIGFydGlmYWN0cywgY29udGV4dCwgcGFyZW50LCBgJCR0ZW1wLSR7aHlnaWVuaWNTeW1ib2xDb3VudGVyKyt9LSR7YXJnfWApO1xuICAgICAgICBpZighcmVzdWx0IHx8IHJlc3VsdC50eXBlID09PSBWQUxVRS5OVUxMKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzZXQgcGFyYW1ldGVyICcke2FyZ30nIHRvIG51bGwgdmFsdWUgJyR7dmFsdWUudG9TdHJpbmcoKX0nYCk7XG4gICAgICAgIGlmKHJlc3VsdC50eXBlID09PSBWQUxVRS5WSUVXKSB7XG4gICAgICAgICAgbGV0IHZpZXcgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgbGV0IHJlc3VsdEZpZWxkID0gZ2V0UmVzdWx0KHZpZXcpO1xuICAgICAgICAgIGlmKCFyZXN1bHRGaWVsZCkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0IHBhcmFtZXRlciAnJHthcmd9JyB0byBzZWxlY3Qgd2l0aG91dCBkZWZhdWx0IHJlc3VsdCBmaWVsZGApO1xuICAgICAgICAgIGZvcihsZXQgY3VyVmFyIG9mIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGZvcihsZXQgY29uc3RyYWludCBvZiBjdXJWYXIuY29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgaWYoY29uc3RyYWludFswXSA9PT0gdmlldyAmJiBjb25zdHJhaW50WzFdID09PSByZXN1bHRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gY3VyVmFyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgdmFyaWFibGUgPSBnZXREU0xWYXJpYWJsZSh2YWx1ZS52YWx1ZSwgY29udGV4dCk7XG5cbiAgICAgIGlmKHZhcmlhYmxlKSB7XG4gICAgICAgIGpvaW5bYXJnXSA9IHZhcmlhYmxlLnZhbHVlO1xuICAgICAgICB2YXJpYWJsZS5jb25zdHJhaW50cy5wdXNoKFt2aWV3LCBhcmddKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoJCRuZWdhdGVkICYmICQkbmVnYXRlZC52YWx1ZSlcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYENhbm5vdCBiaW5kIGZpZWxkIGluIG5lZ2F0ZWQgc2VsZWN0IHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt2YWx1ZS52YWx1ZX0nYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgICBlbHNlIGNvbnRleHQucHVzaCh7bmFtZTogdmFsdWUudmFsdWUsIHR5cGU6IFZBTFVFLlNDQUxBUiwgdmFsdWU6IFtzZWxlY3RJZCwgYXJnXSwgY29uc3RyYWludHM6IFtbdmlldywgYXJnXV19KTsgLy8gQFRPRE86IGRvZXMgdGhpcyBub3QgbmVlZCB0byBhZGQgdG8gdGhlIGpvaW4gbWFwP1xuICAgIH1cblxuICAgIGxldCByZXN1bHRGaWVsZCA9IGdldFJlc3VsdCh2aWV3KTtcbiAgICBpZihyZXN1bHRWYXJpYWJsZSAmJiByZXN1bHRGaWVsZCAmJiAham9pbltyZXN1bHRGaWVsZF0pIHtcbiAgICAgIGpvaW5bcmVzdWx0RmllbGRdID0gW3NlbGVjdElkLCByZXN1bHRGaWVsZF07XG4gICAgICBjb250ZXh0LnB1c2goe25hbWU6IHJlc3VsdFZhcmlhYmxlLCB0eXBlOiBWQUxVRS5TQ0FMQVIsIHZhbHVlOiBbc2VsZWN0SWQsIHJlc3VsdEZpZWxkXSwgY29uc3RyYWludHM6IFtbdmlldywgcmVzdWx0RmllbGRdXX0pO1xuICAgIH1cblxuICAgIGlmKHByaW1pdGl2ZXNbdmlld10pIHtcbiAgICAgIGlmKHByaW1pdGl2ZXNbdmlld10gPT09IFwiYWdncmVnYXRlXCIpIHF1ZXJ5LmFnZ3JlZ2F0ZSh2aWV3LCBqb2luLCBzZWxlY3RJZCk7XG4gICAgICBlbHNlIHF1ZXJ5LmNhbGN1bGF0ZSh2aWV3LCBqb2luLCBzZWxlY3RJZCk7XG4gICAgfSBlbHNlIGlmKCQkbmVnYXRlZCkgcXVlcnkuZGVzZWxlY3Qodmlldywgam9pbik7XG4gICAgZWxzZSBxdWVyeS5zZWxlY3Qodmlldywgam9pbiwgc2VsZWN0SWQpO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBWQUxVRS5WSUVXLFxuICAgICAgdmFsdWU6IHZpZXcsXG4gICAgICBhZ2dyZWdhdGVkOiBwcmltaXRpdmVzW3ZpZXddID09PSBcImFnZ3JlZ2F0ZVwiXG4gICAgfTtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcInByb2plY3QhXCIpIHtcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByLCBbXCIkJHZpZXdcIl0pO1xuICAgIGxldCB7JCR2aWV3LCAkJG5lZ2F0ZWR9ID0gYXJncztcblxuICAgIGxldCBwcm9qZWN0aW9uTWFwID0ge307XG4gICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgbGV0IHZhbHVlID0gYXJnc1thcmddO1xuICAgICAgaWYoYXJnID09PSBcIiQkdmlld1wiIHx8IGFyZyA9PT0gXCIkJG5lZ2F0ZWRcIikgY29udGludWU7XG4gICAgICBpZih2YWx1ZS50eXBlICE9PSBUb2tlbi5UWVBFLklERU5USUZJRVIpIHtcbiAgICAgICAgcHJvamVjdGlvbk1hcFthcmddID0gYXJnc1thcmddLnZhbHVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHZhcmlhYmxlID0gZ2V0RFNMVmFyaWFibGUodmFsdWUudmFsdWUsIGNvbnRleHQpO1xuICAgICAgaWYodmFyaWFibGUpIHtcbiAgICAgICAgaWYodmFyaWFibGUuc3RhdGljKSBwcm9qZWN0aW9uTWFwW2FyZ10gPSB2YXJpYWJsZS52YWx1ZTtcbiAgICAgICAgZWxzZSBpZighJCR2aWV3KSB7XG4gICAgICAgICAgdmFyaWFibGUucHJvamVjdGlvbiA9IGFyZztcbiAgICAgICAgICBwcm9qZWN0aW9uTWFwW2FyZ10gPSB2YXJpYWJsZS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHByb2plY3Rpb25NYXBbYXJnXSA9IFt2YXJpYWJsZS5uYW1lXTtcbiAgICAgIH0gZWxzZSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgQ2Fubm90IGJpbmQgcHJvamVjdGVkIGZpZWxkIHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt2YWx1ZS52YWx1ZX0nYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgfVxuXG4gICAgbGV0IHZpZXcgPSByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKHZpZXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYocXVlcnkucHJvamVjdGlvbk1hcCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXCJRdWVyeSBjYW4gb25seSBzZWxmLXByb2plY3Qgb25jZVwiLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICAgIGlmKCQkbmVnYXRlZCAmJiAkJG5lZ2F0ZWQudmFsdWUpIHRocm93IG5ldyBQYXJzZUVycm9yKGBDYW5ub3QgbmVnYXRlIHNlbGYtcHJvamVjdGlvbmAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgLy8gUHJvamVjdCBzZWxmXG4gICAgICBxdWVyeS5wcm9qZWN0KHByb2plY3Rpb25NYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdW5pb24gPSA8cnVudGltZS5Vbmlvbj5hcnRpZmFjdHMudmlld3Nbdmlld10gfHwgbmV3IHJ1bnRpbWUuVW5pb24oZXZlLCB2aWV3KTtcbiAgICAgIGlmKERFQlVHLmluc3RydW1lbnRRdWVyeSAmJiAhYXJ0aWZhY3RzLnZpZXdzW3ZpZXddKSBpbnN0cnVtZW50UXVlcnkodW5pb24sIERFQlVHLmluc3RydW1lbnRRdWVyeSk7XG4gICAgICBhcnRpZmFjdHMudmlld3Nbdmlld10gPSB1bmlvbjtcblxuICAgICAgLy8gaWYoJCRuZWdhdGVkICYmICQkbmVnYXRlZC52YWx1ZSkgdW5pb24udW51bmlvbihxdWVyeUlkLCBwcm9qZWN0aW9uTWFwKTtcbiAgICAgIGlmKCQkbmVnYXRlZCAmJiAkJG5lZ2F0ZWQudmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBQYXJzZUVycm9yKGBVbmlvbiBwcm9qZWN0aW9ucyBtYXkgbm90IGJlIG5lZ2F0ZWQgaW4gdGhlIGN1cnJlbnQgcnVudGltZWAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgZWxzZSB1bmlvbi51bmlvbihxdWVyeS5uYW1lLCBwcm9qZWN0aW9uTWFwKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYFVua25vd24gRFNMIG9wZXJhdG9yICcke29wLnZhbHVlfSdgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVRva2VuVmFsdWUobmFtZTpzdHJpbmcsIHRva2VuOlRva2VufFNleHByLCBjb250ZXh0OlZhcmlhYmxlQ29udGV4dCwgdHlwZT86VkFMVUUpIHtcbiAgaWYoIXRva2VuKSByZXR1cm47XG4gIGlmKHRva2VuIGluc3RhbmNlb2YgU2V4cHIpIHJldHVybiBwYXJzZURTTFNleHByKHRva2VuLCB1bmRlZmluZWQsIGNvbnRleHQpO1xuICBpZih0b2tlbiBpbnN0YW5jZW9mIFRva2VuICYmIHRva2VuLnR5cGUgPT09IFRva2VuLlRZUEUuSURFTlRJRklFUikge1xuICAgIGxldCB2YXJpYWJsZSA9IGdldERTTFZhcmlhYmxlKHRva2VuLnZhbHVlLCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKCF2YXJpYWJsZSkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYmluZCAke25hbWV9IHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt0b2tlbi52YWx1ZX0nYCk7XG4gICAgaWYoIXZhcmlhYmxlLnN0YXRpYykgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYmluZCAke25hbWV9IHRvIGR5bmFtaWMgdmFyaWFibGUgJyR7dG9rZW4udmFsdWV9J2ApO1xuICAgIHJldHVybiB2YXJpYWJsZS52YWx1ZTtcbiAgfVxuICByZXR1cm4gdG9rZW4udmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldERTTFZhcmlhYmxlKG5hbWU6c3RyaW5nLCBjb250ZXh0OlZhcmlhYmxlQ29udGV4dCwgdHlwZT86VkFMVUUpOlZhcmlhYmxlIHtcbiAgaWYoIWNvbnRleHQpIHJldHVybjtcbiAgZm9yKGxldCB2YXJpYWJsZSBvZiBjb250ZXh0KSB7XG4gICAgaWYodmFyaWFibGUubmFtZSA9PT0gbmFtZSkge1xuICAgICAgaWYodmFyaWFibGUuc3RhdGljID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc3RhdGljYWxseSBsb29rIHVwIGR5bmFtaWMgdmFyaWFibGUgJyR7bmFtZX0nYCk7XG4gICAgICBpZih0eXBlICE9PSB1bmRlZmluZWQgJiYgdmFyaWFibGUudHlwZSAhPT0gdHlwZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB2YXJpYWJsZSAnJHtuYW1lfScgdG8gaGF2ZSB0eXBlICcke3R5cGV9JywgYnV0IGluc3RlYWQgaGFzIHR5cGUgJyR7dmFyaWFibGUudHlwZX0nYCk7XG4gICAgICByZXR1cm4gdmFyaWFibGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKHZpZXc6c3RyaW5nKTpzdHJpbmdbXSB7XG4gIHJldHVybiAocnVudGltZS5RdWVyeUZ1bmN0aW9uc1t2aWV3XSAmJiBydW50aW1lLlF1ZXJ5RnVuY3Rpb25zW3ZpZXddLnBhcmFtcykgfHwgW107XG59XG5mdW5jdGlvbiBnZXRSZXN1bHQodmlldzpzdHJpbmcpOnN0cmluZyB7XG4gIHJldHVybiBydW50aW1lLlF1ZXJ5RnVuY3Rpb25zW3ZpZXddICYmIHJ1bnRpbWUuUXVlcnlGdW5jdGlvbnNbdmlld10ucmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJndW1lbnQocm9vdDpTZXhwciwgcGFyYW06c3RyaW5nLCBkZWZhdWx0cz86IHN0cmluZ1tdKTpUb2tlbnxTZXhwciB7XG4gIGxldCBpeCA9IDE7XG4gIGxldCBkZWZhdWx0SXggPSAwO1xuICBmb3IobGV0IGl4ID0gMSwgY3VyID0gcm9vdC5udGgoaXgpOyBpeCA8IHJvb3QubGVuZ3RoOyBpeCsrKSB7XG4gICAgaWYoY3VyLnR5cGUgPT09IFRva2VuLlRZUEUuS0VZV09SRCkge1xuICAgICAgaWYoY3VyLnZhbHVlID09PSBwYXJhbSkgcmV0dXJuIHJvb3QubnRoKGl4ICsgMSk7XG4gICAgICBlbHNlIGl4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoZGVmYXVsdHMgJiYgZGVmYXVsdEl4IDwgZGVmYXVsdHMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBrZXl3b3JkID0gZGVmYXVsdHNbZGVmYXVsdEl4KytdO1xuICAgICAgICBpZihrZXl3b3JkID09PSBwYXJhbSkgcmV0dXJuIGN1cjtcbiAgICAgICAgZWxzZSBpeCArIDE7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtICcke3BhcmFtfScgbm90IGluIHNleHByICR7cm9vdC50b1N0cmluZygpfWApO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtICcke3BhcmFtfScgbm90IGluIHNleHByICR7cm9vdC50b1N0cmluZygpfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMocm9vdDpTZXhwciwgZGVmYXVsdHM/OnN0cmluZ1tdLCByZXN0PzpzdHJpbmcpOntba2V5d29yZDpzdHJpbmddOiBUb2tlbnxTZXhwcn0ge1xuICBsZXQgYXJnczphbnkgPSB7fTtcbiAgbGV0IGRlZmF1bHRJeCA9IDA7XG4gIGxldCBrZXl3b3JkO1xuICBsZXQga3dhcmcgPSBmYWxzZTtcbiAgZm9yKGxldCByYXcgb2Ygcm9vdC5hcmd1bWVudHMpIHtcbiAgICBpZihyYXcudHlwZSA9PT0gVG9rZW4uVFlQRS5LRVlXT1JEKSB7XG4gICAgICBpZihrZXl3b3JkKSB0aHJvdyBuZXcgRXJyb3IoYEtleXdvcmRzIG1heSBub3QgYmUgdmFsdWVzICcke3Jhd30nYCk7XG4gICAgICBlbHNlIGtleXdvcmQgPSByYXcudmFsdWU7XG4gICAgfSBlbHNlIGlmKGtleXdvcmQpIHtcbiAgICAgIGlmKGFyZ3Nba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcmdzW2tleXdvcmRdID0gcmF3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYoIShhcmdzW2tleXdvcmRdIGluc3RhbmNlb2YgQXJyYXkpKSBhcmdzW2tleXdvcmRdID0gW2FyZ3Nba2V5d29yZF1dO1xuICAgICAgICBhcmdzW2tleXdvcmRdLnB1c2gocmF3KTtcbiAgICAgIH1cbiAgICAgIGtleXdvcmQgPSB1bmRlZmluZWQ7XG4gICAgICBkZWZhdWx0SXggPSBkZWZhdWx0cyA/IGRlZmF1bHRzLmxlbmd0aCA6IDA7XG4gICAgICBrd2FyZyA9IHRydWU7XG4gICAgfSBlbHNlIGlmKGRlZmF1bHRzICYmIGRlZmF1bHRJeCA8IGRlZmF1bHRzLmxlbmd0aCkge1xuICAgICAgYXJnc1tkZWZhdWx0c1tkZWZhdWx0SXgrK11dID0gcmF3O1xuICAgIH0gZWxzZSBpZihyZXN0KSB7XG4gICAgICBhcmdzW3Jlc3RdID0gYXJnc1tyZXN0XSB8fCBbXTtcbiAgICAgIGFyZ3NbcmVzdF0ucHVzaChyYXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihrd2FyZykgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYW4gYXJnIGFmdGVyIGEga3dhcmdcIik7XG4gICAgICBlbHNlIGlmKGRlZmF1bHRJeCkgdGhyb3cgbmV3IEVycm9yKGBUb28gbWFueSBhcmdzLCBleHBlY3RlZDogJHtkZWZhdWx0cy5sZW5ndGh9LCBnb3Q6ICR7ZGVmYXVsdEl4ICsgMX1gKTtcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYW4gYXJnIHdpdGhvdXQgZGVmYXVsdCBrZXlzIHNwZWNpZmllZFwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJncztcbn1cblxuZGVjbGFyZSB2YXIgZXhwb3J0cztcbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHdpbmRvd1tcInBhcnNlclwiXSA9IGV4cG9ydHM7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50UXVlcnkocTphbnksIGluc3RydW1lbnQ/OkZ1bmN0aW9ufGJvb2xlYW4pIHtcbiAgbGV0IGluc3RydW1lbnRhdGlvbjpGdW5jdGlvbiA9IDxGdW5jdGlvbj5pbnN0cnVtZW50O1xuICBpZighaW5zdHJ1bWVudCB8fCBpbnN0cnVtZW50ID09PSB0cnVlKSBpbnN0cnVtZW50YXRpb24gPSAoZm4sIGFyZ3MpID0+IGNvbnNvbGUubG9nKFwiKlwiLCBmbiwgXCI6XCIsIGFyZ3MpO1xuICBsZXQga2V5cyA9IFtdO1xuICBmb3IobGV0IGtleSBpbiBxKSBrZXlzLnB1c2goa2V5KTtcbiAga2V5cy5mb3JFYWNoKChmbikgPT4ge1xuICAgIGlmKCFxLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShmbikgfHwgdHlwZW9mIHFbZm5dICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcbiAgICB2YXIgb2xkID0gcVtmbl07XG4gICAgcVtmbl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIGluc3RydW1lbnRhdGlvbihmbiwgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBvbGQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzRGlmZihpeGVyLCBhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGxldCB2aWV3cyA9IGFydGlmYWN0cy52aWV3cztcbiAgbGV0IGRpZmYgPSBpeGVyLmRpZmYoKTtcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgZGlmZi5tZXJnZSh2aWV3c1tpZF0uY2hhbmdlc2V0KGV2ZSkpO1xuICByZXR1cm4gZGlmZjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXNEaWZmcyhhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGxldCB2aWV3cyA9IGFydGlmYWN0cy52aWV3cztcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgZXZlLmFwcGx5RGlmZih2aWV3c1tpZF0uY2hhbmdlc2V0KGV2ZSkpO1xuICBjb25zb2xlLmxvZyhcIkFwcGxpZWQgZGlmZnMgZm9yOlwiKTtcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgY29uc29sZS5sb2coXCIgICogXCIsIHZpZXdzW2lkXSBpbnN0YW5jZW9mIHJ1bnRpbWUuUXVlcnkgPyBcIlF1ZXJ5XCIgOiBcIlVuaW9uXCIsIHZpZXdzW2lkXS5uYW1lKTtcbiAgcmV0dXJuIGFydGlmYWN0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0FydGlmYWN0cyhhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGZvcihsZXQgdmlldyBpbiBhcnRpZmFjdHMudmlld3MpIGNvbnNvbGUubG9nKHZpZXcsIFwiXFxuXCIsIGV2ZS5maW5kKHZpZXcpKTtcbn0iLCJpbXBvcnQgKiBhcyBtaWNyb1JlYWN0IGZyb20gXCIuL21pY3JvUmVhY3RcIjtcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSBcIi4vcnVudGltZVwiO1xuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuL2FwcFwiO1xuXG5kZWNsYXJlIHZhciBwbHVyYWxpemU7XG5kZWNsYXJlIHZhciB1dWlkO1xuZGVjbGFyZSB2YXIgbmxwO1xuXG53aW5kb3dbXCJldmVcIl0gPSBldmU7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVG9rZW4gdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZW51bSBUb2tlblR5cGVzIHtcbiAgRU5USVRZLFxuICBDT0xMRUNUSU9OLFxuICBBVFRSSUJVVEUsXG4gIE1PRElGSUVSLFxuICBPUEVSQVRJT04sXG4gIFBBVFRFUk4sXG4gIFZBTFVFLFxuICBURVhULFxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1vZGlmaWVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmxldCBtb2RpZmllcnMgPSB7XG4gIFwiYW5kXCI6IHsgYW5kOiB0cnVlIH0sXG4gIFwib3JcIjogeyBvcjogdHJ1ZSB9LFxuICBcIndpdGhvdXRcIjogeyBkZXNlbGVjdGVkOiB0cnVlIH0sXG4gIFwiYXJlbid0XCI6IHsgZGVzZWxlY3RlZDogdHJ1ZSB9LFxuICBcImRvbid0XCI6IHsgZGVzZWxlY3RlZDogdHJ1ZSB9LFxuICBcIm5vdFwiOiB7IGRlc2VsZWN0ZWQ6IHRydWUgfSxcbiAgXCJpc24ndFwiOiB7IGRlc2VsZWN0ZWQ6IHRydWUgfSxcbiAgXCJwZXJcIjogeyBncm91cDogdHJ1ZSB9LFxuICBcIixcIjogeyBzZXBhcmF0b3I6IHRydWUgfSxcbiAgXCJhbGxcIjogeyBldmVyeTogdHJ1ZSB9LFxuICBcImV2ZXJ5XCI6IHsgZXZlcnk6IHRydWUgfSxcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGF0dGVybnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgcGF0dGVybnMgPSB7XG4gIFwib2xkZXJcIjoge1xuICAgIHR5cGU6IFwicmV3cml0ZVwiLFxuICAgIHJld3JpdGVzOiBbeyBhdHRyaWJ1dGU6IFwiYWdlXCIsIHRleHQ6IFwiYWdlID5cIiB9XSxcbiAgfSxcbiAgXCJ5b3VuZ2VyXCI6IHtcbiAgICB0eXBlOiBcInJld3JpdGVcIixcbiAgICByZXdyaXRlczogW3sgYXR0cmlidXRlOiBcImFnZVwiLCB0ZXh0OiBcImFnZSA8XCIgfV0sXG4gIH0sXG4gIFwiY2hlYXBlclwiOiB7XG4gICAgdHlwZTogXCJyZXdyaXRlXCIsXG4gICAgcmV3cml0ZXM6IFt7IGF0dHJpYnV0ZTogXCJwcmljZVwiLCB0ZXh0OiBcInByaWNlIDxcIiB9LCB7IGF0dHJpYnV0ZTogXCJjb3N0XCIsIHRleHQ6IFwiY29zdCA8XCIgfV1cbiAgfSxcbiAgXCJncmVhdGVyIHRoYW5cIjoge1xuICAgIHR5cGU6IFwicmV3cml0ZVwiLFxuICAgIHJld3JpdGVzOiBbeyB0ZXh0OiBcIj5cIiB9XSxcbiAgfSxcbiAgXCJ5ZWFycyBvbGRcIjoge1xuICAgIHR5cGU6IFwicmV3cml0ZVwiLFxuICAgIHJld3JpdGVzOiBbeyBhdHRyaWJ1dGU6IFwiYWdlXCIsIHRleHQ6IFwiYWdlXCIgfV0sXG4gIH0sXG4gIFwic3VtXCI6IHtcbiAgICB0eXBlOiBcImFnZ3JlZ2F0ZVwiLFxuICAgIG9wOiBcInN1bVwiLFxuICAgIGFyZ3M6IFtcInZhbHVlXCJdLFxuICB9LFxuICBcImNvdW50XCI6IHtcbiAgICB0eXBlOiBcImFnZ3JlZ2F0ZVwiLFxuICAgIG9wOiBcImNvdW50XCIsXG4gICAgYXJnczogW1widmFsdWVcIl0sXG4gIH0sXG4gIFwiYXZlcmFnZVwiOiB7XG4gICAgdHlwZTogXCJhZ2dyZWdhdGVcIixcbiAgICBvcDogXCJhdmVyYWdlXCIsXG4gICAgYXJnczogW1widmFsdWVcIl0sXG4gIH0sXG4gIFwidG9wXCI6IHtcbiAgICB0eXBlOiBcInNvcnQgYW5kIGxpbWl0XCIsXG4gICAgcmVzdWx0aW5nSW5kaXJlY3RPYmplY3Q6IDEsXG4gICAgZGlyZWN0aW9uOiBcImRlc2NlbmRpbmdcIixcbiAgICBhcmdzOiBbXCJsaW1pdFwiLCBcImF0dHJpYnV0ZVwiXSxcbiAgfSxcbiAgXCJib3R0b21cIjoge1xuICAgIHR5cGU6IFwic29ydCBhbmQgbGltaXRcIixcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMSxcbiAgICBkaXJlY3Rpb246IFwiYXNjZW5kaW5nXCIsXG4gICAgYXJnczogW1wibGltaXRcIiwgXCJhdHRyaWJ1dGVcIl0sXG4gIH0sXG4gIFwiaGlnaGVzdFwiOiB7XG4gICAgdHlwZTogXCJzb3J0IGFuZCBsaW1pdFwiLFxuICAgIGxpbWl0OiAxLFxuICAgIHJlc3VsdGluZ0luZGlyZWN0T2JqZWN0OiAwLFxuICAgIGRpcmVjdGlvbjogXCJkZXNjZW5kaW5nXCIsXG4gICAgYXJnczogW1wiYXR0cmlidXRlXCJdLFxuICB9LFxuICBcImxvd2VzdFwiOiB7XG4gICAgdHlwZTogXCJzb3J0IGFuZCBsaW1pdFwiLFxuICAgIGxpbWl0OiAxLFxuICAgIHJlc3VsdGluZ0luZGlyZWN0T2JqZWN0OiAwLFxuICAgIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIixcbiAgICBhcmdzOiBbXCJhdHRyaWJ1dGVcIl0sXG4gIH0sXG4gIFwiYmV0d2VlblwiOiB7XG4gICAgdHlwZTogXCJib3VuZHNcIixcbiAgICBhcmdzOiBbXCJsb3dlciBib3VuZFwiLCBcInVwcGVyIGJvdW5kXCIsIFwiYXR0cmlidXRlXCJdLFxuICB9LFxuICBcIjxcIjoge1xuICAgIHR5cGU6IFwiZmlsdGVyXCIsXG4gICAgb3A6IFwiPFwiLFxuICAgIGluZml4OiB0cnVlLFxuICAgIHJlc3VsdGluZ0luZGlyZWN0T2JqZWN0OiAwLFxuICAgIGFyZ3M6IFtcImFcIiwgXCJiXCJdLFxuICB9LFxuICBcIj5cIjoge1xuICAgIHR5cGU6IFwiZmlsdGVyXCIsXG4gICAgb3A6IFwiPlwiLFxuICAgIGluZml4OiB0cnVlLFxuICAgIHJlc3VsdGluZ0luZGlyZWN0T2JqZWN0OiAwLFxuICAgIGFyZ3M6IFtcImFcIiwgXCJiXCJdLFxuICB9LFxuICBcIjw9XCI6IHtcbiAgICB0eXBlOiBcImZpbHRlclwiLFxuICAgIG9wOiBcIjw9XCIsXG4gICAgaW5maXg6IHRydWUsXG4gICAgcmVzdWx0aW5nSW5kaXJlY3RPYmplY3Q6IDAsXG4gICAgYXJnczogW1wiYVwiLCBcImJcIl0sXG4gIH0sXG4gIFwiPj1cIjoge1xuICAgIHR5cGU6IFwiZmlsdGVyXCIsXG4gICAgb3A6IFwiPj1cIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfSxcbiAgXCI9XCI6IHtcbiAgICB0eXBlOiBcImZpbHRlclwiLFxuICAgIG9wOiBcIj1cIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfSxcbiAgXCIrXCI6IHtcbiAgICB0eXBlOiBcImNhbGN1bGF0ZVwiLFxuICAgIG9wOiBcIitcIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfSxcbiAgXCItXCI6IHtcbiAgICB0eXBlOiBcImNhbGN1bGF0ZVwiLFxuICAgIG9wOiBcIi1cIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfSxcbiAgXCIqXCI6IHtcbiAgICB0eXBlOiBcImNhbGN1bGF0ZVwiLFxuICAgIG9wOiBcIipcIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfSxcbiAgXCIvXCI6IHtcbiAgICB0eXBlOiBcImNhbGN1bGF0ZVwiLFxuICAgIG9wOiBcIi9cIixcbiAgICBpbmZpeDogdHJ1ZSxcbiAgICByZXN1bHRpbmdJbmRpcmVjdE9iamVjdDogMCxcbiAgICBhcmdzOiBbXCJhXCIsIFwiYlwiXSxcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb2tlbml6ZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBjaGVja0ZvclRva2VuKHRva2VuKTogYW55IHtcbiAgbGV0IGluZm87XG4gIGlmICghdG9rZW4pIHJldHVybjtcbiAgbGV0IGRpc3BsYXkgPSBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLCB7bmFtZTogdG9rZW59KVxuICBpZiAoZGlzcGxheSAmJiAoaW5mbyA9IGV2ZS5maW5kT25lKFwiY29sbGVjdGlvblwiLCB7IGNvbGxlY3Rpb246IGRpc3BsYXkuaWQgfSkpKSB7XG4gICAgcmV0dXJuIHsgZm91bmQ6IGRpc3BsYXkuaWQsIGluZm8sIHR5cGU6IFRva2VuVHlwZXMuQ09MTEVDVElPTiB9O1xuICB9IGVsc2UgaWYgKGRpc3BsYXkgJiYgKGluZm8gPSBldmUuZmluZE9uZShcImVudGl0eVwiLCB7IGVudGl0eTogZGlzcGxheS5pZCB9KSkpIHtcbiAgICByZXR1cm4geyBmb3VuZDogZGlzcGxheS5pZCwgaW5mbywgdHlwZTogVG9rZW5UeXBlcy5FTlRJVFkgfTtcbiAgfSBlbHNlIGlmIChpbmZvID0gZXZlLmZpbmRPbmUoXCJlbnRpdHkgZWF2c1wiLCB7IGF0dHJpYnV0ZTogdG9rZW4gfSkpIHtcbiAgICByZXR1cm4geyBmb3VuZDogdG9rZW4sIGluZm8sIHR5cGU6IFRva2VuVHlwZXMuQVRUUklCVVRFIH07XG4gIH0gZWxzZSBpZiAoaW5mbyA9IG1vZGlmaWVyc1t0b2tlbl0pIHtcbiAgICByZXR1cm4geyBmb3VuZDogdG9rZW4sIGluZm8sIHR5cGU6IFRva2VuVHlwZXMuTU9ESUZJRVIgfTtcbiAgfSBlbHNlIGlmIChpbmZvID0gcGF0dGVybnNbdG9rZW5dKSB7XG4gICAgcmV0dXJuIHsgZm91bmQ6IHRva2VuLCBpbmZvLCB0eXBlOiBUb2tlblR5cGVzLlBBVFRFUk4gfTtcbiAgfSBlbHNlIGlmICh0b2tlbiA9PT0gXCJ0cnVlXCIgfHwgdG9rZW4gPT09IFwiZmFsc2VcIiB8fCB0b2tlbiA9PT0gJ1widHJ1ZVwiJyB8fCB0b2tlbiA9PT0gJ1wiZmFsc2VcIicpIHtcbiAgICByZXR1cm4geyBmb3VuZDogKHRva2VuID09PSBcInRydWVcIiB8fCB0b2tlbiA9PT0gJ1widHJ1ZVwiJyA/IHRydWUgOiBmYWxzZSksIHR5cGU6IFRva2VuVHlwZXMuVkFMVUUsIHZhbHVlVHlwZTogXCJib29sZWFuXCIgfTtcbiAgfSBlbHNlIGlmICh0b2tlbi5tYXRjaCgvXi0/W1xcZF0rJC9nbSkpIHtcbiAgICByZXR1cm4geyBmb3VuZDogSlNPTi5wYXJzZSh0b2tlbiksIHR5cGU6IFRva2VuVHlwZXMuVkFMVUUsIHZhbHVlVHlwZTogXCJudW1iZXJcIiB9O1xuICB9IGVsc2UgaWYgKHRva2VuLm1hdGNoKC9eW1wiXVteXCJdKltcIl0kL2dtKSkge1xuICAgIHJldHVybiB7IGZvdW5kOiBKU09OLnBhcnNlKHRva2VuKSwgdHlwZTogVG9rZW5UeXBlcy5WQUxVRSwgdmFsdWVUeXBlOiBcInN0cmluZ1wiIH07XG4gIH0gZWxzZSBpZiAoaW5mbyA9IC9eKFtcXGRdKyktKFtcXGRdKykkL2dtLmV4ZWModG9rZW4pKSB7XG4gICAgcmV0dXJuIHsgZm91bmQ6IHRva2VuLCB0eXBlOiBUb2tlblR5cGVzLlZBTFVFLCB2YWx1ZVR5cGU6IFwicmFuZ2VcIiwgc3RhcnQ6IGluZm9bMV0sIHN0b3A6IGluZm9bMl0gfTtcbiAgfVxuICByZXR1cm47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBUb2tlbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGZvdW5kOiBzdHJpbmc7XG4gIG9yaWc6IHN0cmluZztcbiAgcG9zOiBudW1iZXI7XG4gIHR5cGU6IFRva2VuVHlwZXM7XG4gIGluZm86IGFueTtcbiAgZGVzZWxlY3RlZD86IGJvb2xlYW47XG4gIGFuZD86IGJvb2xlYW47XG4gIG9yPzogYm9vbGVhbjtcbiAgZ3JvdXA/OiBhbnk7XG4gIG1vZGlmaWVyPzogYW55O1xuICBjaGlsZHJlbj86IGFueTtcbiAgb3BlcmF0aW9uPzogYW55O1xuICBwYXJlbnQ/OiBhbnk7XG4gIHJlbGF0aW9uc2hpcD86IGFueTtcbiAgZ3JvdXBlZD86IGFueTtcbiAgdmFsdWVUeXBlPzogYW55O1xuICBzdGFydD86IGFueTtcbiAgc3RvcD86IGFueTtcbiAgYXJncz86IGFueTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VucyhxdWVyeVN0cmluZzogc3RyaW5nKTogQXJyYXk8VG9rZW4+IHtcblxuICAvLyByZW1vdmUgYWxsIG5vbi13b3JkIG5vbi1zcGFjZSBjaGFyYWN0ZXJzXG4gIGxldCBjbGVhbmVkID0gcXVlcnlTdHJpbmcucmVwbGFjZSgvJ3MvZ2ksIFwiICBcIikudG9Mb3dlckNhc2UoKTtcbiAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvWywuPyFdL2dpLCBcIiAsIFwiKTtcbiAgbGV0IHdvcmRzID0gY2xlYW5lZC5zcGxpdChcIiBcIik7XG4gIGxldCBmcm9udCA9IDA7XG4gIGxldCBiYWNrID0gd29yZHMubGVuZ3RoO1xuICBsZXQgcmVzdWx0cyA9IFtdO1xuICBsZXQgcG9zID0gMDtcblxuICB3aGlsZSAoZnJvbnQgPCB3b3Jkcy5sZW5ndGgpIHtcbiAgICBsZXQgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICBsZXQgc3RyID0gd29yZHMuc2xpY2UoZnJvbnQsIGJhY2spLmpvaW4oXCIgXCIpO1xuICAgIGxldCBvcmlnID0gc3RyO1xuICAgIC8vIENoZWNrIGZvciB0aGUgd29yZCBkaXJlY3RseVxuICAgIGluZm8gPSBjaGVja0ZvclRva2VuKHN0cik7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICBzdHIgPSBwbHVyYWxpemUoc3RyLCAxKTtcbiAgICAgIC8vIENoZWNrIHRoZSBzaW5ndWxhciB2ZXJzaW9uIG9mIHRoZSB3b3JkXG4gICAgICBpbmZvID0gY2hlY2tGb3JUb2tlbihzdHIpO1xuICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgIC8vIENoZWNrIHRoZSBwbHVyYWwgdmVyc2lvbiBvZiB0aGUgd29yZFxuICAgICAgICBzdHIgPSBwbHVyYWxpemUoc3RyLCAyKTtcbiAgICAgICAgaW5mbyA9IGNoZWNrRm9yVG9rZW4oc3RyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZm8pIHtcbiAgICAgIGxldCB7Zm91bmQsIHR5cGUsIHZhbHVlVHlwZSwgc3RhcnQsIHN0b3B9ID0gaW5mbztcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyB0b2tlblxuICAgICAgcmVzdWx0cy5wdXNoKHsgZm91bmQsIG9yaWcsIHBvcywgdHlwZSwgdmFsdWVUeXBlLCBzdGFydCwgc3RvcCwgaW5mbzogaW5mby5pbmZvLCBpZDogdXVpZCgpLCBjaGlsZHJlbjogW119KTtcbiAgICAgIGZyb250ID0gYmFjaztcbiAgICAgIHBvcyArPSBvcmlnLmxlbmd0aCArIDE7XG4gICAgICBiYWNrID0gd29yZHMubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoYmFjayAtIDEgPiBmcm9udCkge1xuICAgICAgYmFjay0tO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3JpZykge1xuICAgICAgICAvLyBEZWZhdWx0IGNhc2U6IHRoZSB0b2tlbiBpcyBwbGFpbiB0ZXh0XG4gICAgICAgIHJlc3VsdHMucHVzaCh7IGZvdW5kOiBvcmlnLCBvcmlnLCBwb3MsIHR5cGU6IFRva2VuVHlwZXMuVEVYVCB9KTtcbiAgICAgIH1cbiAgICAgIGJhY2sgPSB3b3Jkcy5sZW5ndGg7XG4gICAgICBwb3MgKz0gd29yZHNbZnJvbnRdLmxlbmd0aCArIDE7XG4gICAgICBmcm9udCsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWxhdGlvbnNoaXBzIGJldHdlZW4gdG9rZW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGVudW0gUmVsYXRpb25zaGlwVHlwZXMge1xuICBOT05FLFxuICBFTlRJVFlfRU5USVRZLFxuICBFTlRJVFlfQVRUUklCVVRFLFxuICBDT0xMRUNUSU9OX0NPTExFQ1RJT04sXG4gIENPTExFQ1RJT05fSU5URVJTRUNUSU9OLFxuICBDT0xMRUNUSU9OX0VOVElUWSxcbiAgQ09MTEVDVElPTl9BVFRSSUJVVEUsXG59XG5cbmxldCB0b2tlblJlbGF0aW9uc2hpcHMgPSB7XG4gIFtUb2tlblR5cGVzLkNPTExFQ1RJT05dOiB7XG4gICAgW1Rva2VuVHlwZXMuQ09MTEVDVElPTl06IGZpbmRDb2xsZWN0aW9uVG9Db2xsZWN0aW9uUmVsYXRpb25zaGlwLFxuICAgIFtUb2tlblR5cGVzLkVOVElUWV06IGZpbmRDb2xsZWN0aW9uVG9FbnRSZWxhdGlvbnNoaXAsXG4gICAgW1Rva2VuVHlwZXMuQVRUUklCVVRFXTogZmluZENvbGxlY3Rpb25Ub0F0dHJSZWxhdGlvbnNoaXAsXG4gIH0sXG4gIFtUb2tlblR5cGVzLkVOVElUWV06IHtcbiAgICBbVG9rZW5UeXBlcy5FTlRJVFldOiBmaW5kRW50VG9FbnRSZWxhdGlvbnNoaXAsXG4gICAgW1Rva2VuVHlwZXMuQVRUUklCVVRFXTogZmluZEVudFRvQXR0clJlbGF0aW9uc2hpcCxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGRldGVybWluZVJlbGF0aW9uc2hpcChwYXJlbnQ6IFRva2VuLCBjaGlsZDogVG9rZW4pIHtcbiAgaWYgKCF0b2tlblJlbGF0aW9uc2hpcHNbcGFyZW50LnR5cGVdIHx8ICF0b2tlblJlbGF0aW9uc2hpcHNbcGFyZW50LnR5cGVdW2NoaWxkLnR5cGVdKSB7XG4gICAgcmV0dXJuIHsgZGlzdGFuY2U6IEluZmluaXR5LCB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRva2VuUmVsYXRpb25zaGlwc1twYXJlbnQudHlwZV1bY2hpbGQudHlwZV0ocGFyZW50LmZvdW5kLCBjaGlsZC5mb3VuZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW50aXR5VG9jb2xsZWN0aW9uc0FycmF5KGVudGl0eSkge1xuICBsZXQgZW50aXRpZXMgPSBldmUuZmluZChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBlbnRpdHkgfSk7XG4gIHJldHVybiBlbnRpdGllcy5tYXAoKGEpID0+IGFbXCJjb2xsZWN0aW9uXCJdKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEZyb21VbnByb2plY3RlZChjb2xsLCBpeCwgZmllbGQsIHNpemUpIHtcbiAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbGwubGVuZ3RoOyBpIDwgbGVuOyBpICs9IHNpemUpIHtcbiAgICByZXN1bHRzLnB1c2goY29sbFtpICsgaXhdW2ZpZWxkXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGZpbmRDb21tb25Db2xsZWN0aW9ucyhlbnRzKSB7XG4gIGxldCBpbnRlcnNlY3Rpb24gPSBlbnRpdHlUb2NvbGxlY3Rpb25zQXJyYXkoZW50c1swXSk7XG4gIGludGVyc2VjdGlvbi5zb3J0KCk7XG4gIGZvciAobGV0IGVudElkIG9mIGVudHMuc2xpY2UoMSkpIHtcbiAgICBsZXQgY3VyID0gZW50aXR5VG9jb2xsZWN0aW9uc0FycmF5KGVudElkKTtcbiAgICBjdXIuc29ydCgpO1xuICAgIGFycmF5SW50ZXJzZWN0KGludGVyc2VjdGlvbiwgY3VyKTtcbiAgfVxuICBpbnRlcnNlY3Rpb24uc29ydCgoYSwgYikgPT4ge1xuICAgIHJldHVybiBldmUuZmluZE9uZShcImNvbGxlY3Rpb25cIiwgeyBjb2xsZWN0aW9uOiBiIH0pW1wiY291bnRcIl0gLSBldmUuZmluZE9uZShcImNvbGxlY3Rpb25cIiwgeyBjb2xsZWN0aW9uOiBhIH0pW1wiY291bnRcIl07XG4gIH0pO1xuICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuXG5mdW5jdGlvbiBmaW5kRW50VG9FbnRSZWxhdGlvbnNoaXAoZW50LCBlbnQyKSB7XG4gIHJldHVybiB7IGRpc3RhbmNlOiBJbmZpbml0eSwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRU5USVRZX0VOVElUWSB9O1xufVxuXG4vLyBlLmcuIFwic2FsYXJpZXMgaW4gZW5naW5lZXJpbmdcIlxuLy8gZS5nLiBcImNocmlzJ3MgYWdlXCJcbmZ1bmN0aW9uIGZpbmRFbnRUb0F0dHJSZWxhdGlvbnNoaXAoZW50LCBhdHRyKTogYW55IHtcbiAgLy8gY2hlY2sgaWYgdGhpcyBlbnQgaGFzIHRoYXQgYXR0clxuICBsZXQgZGlyZWN0QXR0cmlidXRlID0gZXZlLmZpbmRPbmUoXCJlbnRpdHkgZWF2c1wiLCB7IGVudGl0eTogZW50LCBhdHRyaWJ1dGU6IGF0dHIgfSk7XG4gIGlmIChkaXJlY3RBdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4geyBkaXN0YW5jZTogMCwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRU5USVRZX0FUVFJJQlVURSB9O1xuICB9XG4gIGxldCByZWxhdGlvbnNoaXBzID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJlbnRpdHkgbGlua3NcIiwgeyBlbnRpdHk6IGVudCB9LCBcImxpbmtzXCIpXG4gICAgLnNlbGVjdChcImVudGl0eSBlYXZzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0sIGF0dHJpYnV0ZTogYXR0ciB9LCBcImVhdlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChyZWxhdGlvbnNoaXBzLnVucHJvamVjdGVkLmxlbmd0aCkge1xuICAgIGxldCBlbnRpdGllcyA9IGV4dHJhY3RGcm9tVW5wcm9qZWN0ZWQocmVsYXRpb25zaGlwcy51bnByb2plY3RlZCwgMCwgXCJsaW5rXCIsIDIpO1xuICAgIHJldHVybiB7IGRpc3RhbmNlOiAxLCB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5FTlRJVFlfQVRUUklCVVRFLCBub2RlczogW2ZpbmRDb21tb25Db2xsZWN0aW9ucyhlbnRpdGllcyldIH07XG4gIH1cbiAgbGV0IHJlbGF0aW9uc2hpcHMyID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJlbnRpdHkgbGlua3NcIiwgeyBlbnRpdHk6IGVudCB9LCBcImxpbmtzXCIpXG4gICAgLnNlbGVjdChcImVudGl0eSBsaW5rc1wiLCB7IGVudGl0eTogW1wibGlua3NcIiwgXCJsaW5rXCJdIH0sIFwibGlua3MyXCIpXG4gICAgLnNlbGVjdChcImVudGl0eSBlYXZzXCIsIHsgZW50aXR5OiBbXCJsaW5rczJcIiwgXCJsaW5rXCJdLCBhdHRyaWJ1dGU6IGF0dHIgfSwgXCJlYXZcIilcbiAgICAuZXhlYygpO1xuICBpZiAocmVsYXRpb25zaGlwczIudW5wcm9qZWN0ZWQubGVuZ3RoKSB7XG4gICAgbGV0IGVudGl0aWVzID0gZXh0cmFjdEZyb21VbnByb2plY3RlZChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZCwgMCwgXCJsaW5rXCIsIDMpO1xuICAgIGxldCBlbnRpdGllczIgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKHJlbGF0aW9uc2hpcHMyLnVucHJvamVjdGVkLCAxLCBcImxpbmtcIiwgMyk7XG4gICAgcmV0dXJuIHsgZGlzdGFuY2U6IDIsIHR5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkVOVElUWV9BVFRSSUJVVEUsIG5vZGVzOiBbZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzKSwgZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzMildIH07XG4gIH1cblxuICAvLyBvdGhlcndpc2Ugd2UgYXNzdW1lIGl0J3MgZGlyZWN0IGFuZCBtYXJrIGl0IGFzIHVuZm91bmQuXG4gIHJldHVybiB7IGRpc3RhbmNlOiAwLCB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5FTlRJVFlfQVRUUklCVVRFLCB1bmZvdW5kOiB0cnVlIH07XG59XG5cbi8vIGUuZy4gXCJzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiXG5mdW5jdGlvbiBmaW5kQ29sbGVjdGlvblRvQXR0clJlbGF0aW9uc2hpcChjb2xsLCBhdHRyKSB7XG4gIGxldCBkaXJlY3QgPSBldmUucXVlcnkoYGApXG4gICAgLnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBjb2xsZWN0aW9uOiBjb2xsIH0sIFwiY29sbGVjdGlvblwiKVxuICAgIC5zZWxlY3QoXCJlbnRpdHkgZWF2c1wiLCB7IGVudGl0eTogW1wiY29sbGVjdGlvblwiLCBcImVudGl0eVwiXSwgYXR0cmlidXRlOiBhdHRyIH0sIFwiZWF2XCIpXG4gICAgLmV4ZWMoKTtcbiAgaWYgKGRpcmVjdC51bnByb2plY3RlZC5sZW5ndGgpIHtcbiAgICByZXR1cm4geyBkaXN0YW5jZTogMCwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuQ09MTEVDVElPTl9BVFRSSUJVVEUsIG5vZGVzOiBbXSB9O1xuICB9XG4gIGxldCByZWxhdGlvbnNoaXBzID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHsgY29sbGVjdGlvbjogY29sbCB9LCBcImNvbGxlY3Rpb25cIilcbiAgICAuc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7IGVudGl0eTogW1wiY29sbGVjdGlvblwiLCBcImVudGl0eVwiXSB9LCBcImxpbmtzXCIpXG4gICAgLnNlbGVjdChcImVudGl0eSBlYXZzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0sIGF0dHJpYnV0ZTogYXR0ciB9LCBcImVhdlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChyZWxhdGlvbnNoaXBzLnVucHJvamVjdGVkLmxlbmd0aCkge1xuICAgIGxldCBlbnRpdGllcyA9IGV4dHJhY3RGcm9tVW5wcm9qZWN0ZWQocmVsYXRpb25zaGlwcy51bnByb2plY3RlZCwgMSwgXCJsaW5rXCIsIDMpO1xuICAgIHJldHVybiB7IGRpc3RhbmNlOiAxLCB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5DT0xMRUNUSU9OX0FUVFJJQlVURSwgbm9kZXM6IFtmaW5kQ29tbW9uQ29sbGVjdGlvbnMoZW50aXRpZXMpXSB9O1xuICB9XG4gIGxldCByZWxhdGlvbnNoaXBzMiA9IGV2ZS5xdWVyeShgYClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwgfSwgXCJjb2xsZWN0aW9uXCIpXG4gICAgLnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgeyBlbnRpdHk6IFtcImNvbGxlY3Rpb25cIiwgXCJlbnRpdHlcIl0gfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0gfSwgXCJsaW5rczJcIilcbiAgICAuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgeyBlbnRpdHk6IFtcImxpbmtzMlwiLCBcImxpbmtcIl0sIGF0dHJpYnV0ZTogYXR0ciB9LCBcImVhdlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZC5sZW5ndGgpIHtcbiAgICBsZXQgZW50aXRpZXMgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKHJlbGF0aW9uc2hpcHMyLnVucHJvamVjdGVkLCAxLCBcImxpbmtcIiwgNCk7XG4gICAgbGV0IGVudGl0aWVzMiA9IGV4dHJhY3RGcm9tVW5wcm9qZWN0ZWQocmVsYXRpb25zaGlwczIudW5wcm9qZWN0ZWQsIDIsIFwibGlua1wiLCA0KTtcbiAgICByZXR1cm4geyBkaXN0YW5jZTogMiwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuQ09MTEVDVElPTl9BVFRSSUJVVEUsIG5vZGVzOiBbZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzKSwgZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzMildIH07XG4gIH1cbn1cblxuLy8gZS5nLiBcIm1lZXRpbmdzIGpvaG4gd2FzIGluXCJcbmZ1bmN0aW9uIGZpbmRDb2xsZWN0aW9uVG9FbnRSZWxhdGlvbnNoaXAoY29sbCwgZW50KTogYW55IHtcbiAgaWYgKGNvbGwgPT09IFwiY29sbGVjdGlvbnNcIikge1xuICAgIGlmIChldmUuZmluZE9uZShcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBlbnRpdHk6IGVudCB9KSkge1xuICAgICAgcmV0dXJuIHsgZGlzdGFuY2U6IDAsIHR5cGU6IFwiZW50LT5jb2xsZWN0aW9uXCIgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGV2ZS5maW5kT25lKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwsIGVudGl0eTogZW50IH0pKSB7XG4gICAgcmV0dXJuIHsgZGlzdGFuY2U6IDAsIHR5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fRU5USVRZLCBub2RlczogW10gfTtcbiAgfVxuICBsZXQgcmVsYXRpb25zaGlwcyA9IGV2ZS5xdWVyeShgYClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwgfSwgXCJjb2xsZWN0aW9uXCIpXG4gICAgLnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgeyBlbnRpdHk6IFtcImNvbGxlY3Rpb25cIiwgXCJlbnRpdHlcIl0sIGxpbms6IGVudCB9LCBcImxpbmtzXCIpXG4gICAgLmV4ZWMoKTtcbiAgaWYgKHJlbGF0aW9uc2hpcHMudW5wcm9qZWN0ZWQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHsgZGlzdGFuY2U6IDEsIHR5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fRU5USVRZLCBub2RlczogW10gfTtcbiAgfVxuICAvLyBlLmcuIGV2ZW50cyB3aXRoIGNocmlzIGdyYW5nZXIgKGV2ZW50cyAtPiBtZWV0aW5ncyAtPiBjaHJpcyBncmFuZ2VyKVxuICBsZXQgcmVsYXRpb25zaGlwczIgPSBldmUucXVlcnkoYGApXG4gICAgLnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBjb2xsZWN0aW9uOiBjb2xsIH0sIFwiY29sbGVjdGlvblwiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJjb2xsZWN0aW9uXCIsIFwiZW50aXR5XCJdIH0sIFwibGlua3NcIilcbiAgICAuc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7IGVudGl0eTogW1wibGlua3NcIiwgXCJsaW5rXCJdLCBsaW5rOiBlbnQgfSwgXCJsaW5rczJcIilcbiAgICAuZXhlYygpO1xuICBpZiAocmVsYXRpb25zaGlwczIudW5wcm9qZWN0ZWQubGVuZ3RoKSB7XG4gICAgbGV0IGVudGl0aWVzID0gZXh0cmFjdEZyb21VbnByb2plY3RlZChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZCwgMSwgXCJsaW5rXCIsIDMpO1xuICAgIHJldHVybiB7IGRpc3RhbmNlOiAyLCB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5DT0xMRUNUSU9OX0VOVElUWSwgbm9kZXM6IFtmaW5kQ29tbW9uQ29sbGVjdGlvbnMoZW50aXRpZXMpXSB9O1xuICB9XG59XG5cbi8vIGUuZy4gXCJhdXRob3JzIGFuZCBwYXBlcnNcIlxuZnVuY3Rpb24gZmluZENvbGxlY3Rpb25Ub0NvbGxlY3Rpb25SZWxhdGlvbnNoaXAoY29sbCwgY29sbDIpIHtcbiAgLy8gYXJlIHRoZXJlIHRoaW5ncyBpbiBib3RoIHNldHM/XG4gIGxldCBpbnRlcnNlY3Rpb24gPSBldmUucXVlcnkoYCR7Y29sbH0tPiR7Y29sbDJ9YClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwgfSwgXCJjb2xsMVwiKVxuICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHsgY29sbGVjdGlvbjogY29sbDIsIGVudGl0eTogW1wiY29sbDFcIiwgXCJlbnRpdHlcIl0gfSwgXCJjb2xsMlwiKVxuICAgIC5leGVjKCk7XG4gIC8vIGlzIHRoZXJlIGEgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhpbmdzIGluIGJvdGggc2V0c1xuICBsZXQgcmVsYXRpb25zaGlwcyA9IGV2ZS5xdWVyeShgcmVsYXRpb25zaGlwcyBiZXR3ZWVuICR7Y29sbH0gYW5kICR7Y29sbDJ9YClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwgfSwgXCJjb2xsMVwiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJjb2xsMVwiLCBcImVudGl0eVwiXSB9LCBcImxpbmtzXCIpXG4gICAgLnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBjb2xsZWN0aW9uOiBjb2xsMiwgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0gfSwgXCJjb2xsMlwiKVxuICAgIC5ncm91cChbW1wibGlua3NcIiwgXCJsaW5rXCJdXSlcbiAgICAuYWdncmVnYXRlKFwiY291bnRcIiwge30sIFwiY291bnRcIilcbiAgICAucHJvamVjdCh7IHR5cGU6IFtcImxpbmtzXCIsIFwibGlua1wiXSwgY291bnQ6IFtcImNvdW50XCIsIFwiY291bnRcIl0gfSlcbiAgICAuZXhlYygpO1xuXG4gIGxldCBtYXhSZWwgPSB7IGNvdW50OiAwIH07XG4gIGZvciAobGV0IHJlc3VsdCBvZiByZWxhdGlvbnNoaXBzLnJlc3VsdHMpIHtcbiAgICBpZiAocmVzdWx0LmNvdW50ID4gbWF4UmVsLmNvdW50KSBtYXhSZWwgPSByZXN1bHQ7XG4gIH1cblxuICAvLyB3ZSBkaXZpZGUgYnkgdHdvIGJlY2F1c2UgdW5wcm9qZWN0ZWQgcmVzdWx0cyBwYWNrIHJvd3MgbmV4dCB0byBlYWNob3RoZXJcbiAgLy8gYW5kIHdlIGhhdmUgdHdvIHNlbGVjdHMuXG4gIGxldCBpbnRlcnNlY3Rpb25TaXplID0gaW50ZXJzZWN0aW9uLnVucHJvamVjdGVkLmxlbmd0aCAvIDI7XG4gIGlmIChtYXhSZWwuY291bnQgPiBpbnRlcnNlY3Rpb25TaXplKSB7XG4gICAgcmV0dXJuIHsgZGlzdGFuY2U6IDEsIHR5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fQ09MTEVDVElPTiB9O1xuICB9IGVsc2UgaWYgKGludGVyc2VjdGlvblNpemUgPiBtYXhSZWwuY291bnQpIHtcbiAgICByZXR1cm4geyBkaXN0YW5jZTogMCwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuQ09MTEVDVElPTl9JTlRFUlNFQ1RJT04gfTtcbiAgfSBlbHNlIGlmIChtYXhSZWwuY291bnQgPT09IDAgJiYgaW50ZXJzZWN0aW9uU2l6ZSA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBkaXN0YW5jZTogMSwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuQ09MTEVDVElPTl9DT0xMRUNUSU9OIH07XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb2tlbiB0cmVlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW50ZXJmYWNlIFRyZWUge1xuICBkaXJlY3RPYmplY3Q6IGFueTtcbiAgcm9vdHM6IEFycmF5PGFueT47XG4gIG9wZXJhdGlvbnM6IEFycmF5PGFueT47XG4gIGdyb3VwczogQXJyYXk8YW55Pjtcbn1cblxuZnVuY3Rpb24gdG9rZW5zVG9UcmVlKG9yaWdUb2tlbnM6IEFycmF5PFRva2VuPik6IFRyZWUge1xuXG4gIGxldCB0b2tlbnMgPSBvcmlnVG9rZW5zO1xuICBsZXQgcm9vdHMgPSBbXTtcbiAgbGV0IG9wZXJhdGlvbnMgPSBbXTtcbiAgbGV0IGdyb3VwcyA9IFtdO1xuICAvLyBGaW5kIHRoZSBkaXJlY3Qgb2JqZWN0XG4gIC8vIFRoZSBkaXJlY3Qgb2JqZWN0IGlzIHRoZSBmaXJzdCBjb2xsZWN0aW9uIHdlIGZpbmQsIG9yIGlmIHRoZXJlIGFyZSBub25lLFxuICAvLyB0aGUgZmlyc3QgZW50aXR5LCBvciBmaW5hbGx5IHRoZSBmaXJzdCBhdHRyaWJ1dGUuXG4gIGxldCBkaXJlY3RPYmplY3Q7XG4gIGZvciAobGV0IHRva2VuIG9mIHRva2Vucykge1xuICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGVzLkNPTExFQ1RJT04pIHtcbiAgICAgIGRpcmVjdE9iamVjdCA9IHRva2VuO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGVzLkVOVElUWSkge1xuICAgICAgZGlyZWN0T2JqZWN0ID0gdG9rZW47XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGVzLkFUVFJJQlVURSAmJiAhZGlyZWN0T2JqZWN0KSB7XG4gICAgICBkaXJlY3RPYmplY3QgPSB0b2tlbjtcbiAgICB9XG4gIH1cblxuICBsZXQgdHJlZSA9IHsgZGlyZWN0T2JqZWN0LCByb290cywgb3BlcmF0aW9ucywgZ3JvdXBzIH07XG4gIGlmICghZGlyZWN0T2JqZWN0KSByZXR1cm4gdHJlZTtcblxuICAvLyB0aGUgZGlyZWN0IG9iamVjdCBpcyBhbHdheXMgdGhlIGZpcnN0IHJvb3RcbiAgcm9vdHMucHVzaChkaXJlY3RPYmplY3QpO1xuICAvLyB3ZSBuZWVkIHRvIGtlZXAgc3RhdGUgYXMgd2UgdHJhdmVyc2UgdGhlIHRva2VucyBmb3IgbW9kaWZpZXJzIGFuZCBwYXR0ZXJuc1xuICBsZXQgc3RhdGUgPSB7IHBhdHRlcm5TdGFjazogW10sIGN1cnJlbnRQYXR0ZXJuOiBudWxsLCBsYXN0QXR0cmlidXRlOiBudWxsIH07XG4gIC8vIGFzIHdlIHBhcnNlIHRoZSBxdWVyeSB3ZSBtYXkgZW5jb3VudGVyIG90aGVyIHN1YmplY3RzIGluIHRoZSBzZW50ZW5jZSwgd2VcbiAgLy8gbmVlZCBhIHJlZmVyZW5jZSB0byB0aG9zZSBwcmV2aW91cyBzdWJqZWN0cyB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdG9rZW4gaXNcbiAgLy8gcmVsYXRlZCB0byB0aGF0IG9yIHRoZSBkaXJlY3RPYmplY3RcbiAgbGV0IGluZGlyZWN0T2JqZWN0ID0gZGlyZWN0T2JqZWN0O1xuXG4gIC8vIE1haW4gdG9rZW4gbG9vcFxuICBmb3IgKGxldCB0b2tlbkl4ID0gMCwgbGVuID0gdG9rZW5zLmxlbmd0aDsgdG9rZW5JeCA8IGxlbjsgdG9rZW5JeCsrKSB7XG4gICAgbGV0IHRva2VuID0gdG9rZW5zW3Rva2VuSXhdO1xuICAgIGxldCB7dHlwZSwgaW5mbywgZm91bmR9ID0gdG9rZW47XG5cbiAgICAvLyBjaGVjayBpZiB0aGUgbGFzdCBwYXNzIGZpbnNoZWQgb3VyIGN1cnJlbnQgcGF0dGVybi5cbiAgICBpZiAoc3RhdGUuY3VycmVudFBhdHRlcm4gJiYgc3RhdGUuY3VycmVudFBhdHRlcm4uYXJncy5sZW5ndGgpIHtcbiAgICAgIGxldCBhcmdzID0gc3RhdGUuY3VycmVudFBhdHRlcm4uYXJncztcbiAgICAgIGxldCBpbmZvQXJncyA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmluZm8uYXJncztcbiAgICAgIGxldCBsYXRlc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICBsZXQgbGF0ZXN0QXJnQ29tcGxldGUgPSBsYXRlc3RBcmcudHlwZSA9PT0gVG9rZW5UeXBlcy5BVFRSSUJVVEUgfHwgbGF0ZXN0QXJnLnR5cGUgPT09IFRva2VuVHlwZXMuVkFMVUU7XG4gICAgICB3aGlsZSAoYXJncy5sZW5ndGggPT09IGluZm9BcmdzLmxlbmd0aCAmJiBsYXRlc3RBcmdDb21wbGV0ZSkge1xuICAgICAgICBsZXQge3Jlc3VsdGluZ0luZGlyZWN0T2JqZWN0fSA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmluZm87XG4gICAgICAgIGlmIChyZXN1bHRpbmdJbmRpcmVjdE9iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kaXJlY3RPYmplY3QgPSBhcmdzW3Jlc3VsdGluZ0luZGlyZWN0T2JqZWN0XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmRpcmVjdE9iamVjdCA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmN1cnJlbnRQYXR0ZXJuID0gc3RhdGUucGF0dGVyblN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIXN0YXRlLmN1cnJlbnRQYXR0ZXJuKSBicmVhaztcbiAgICAgICAgYXJncyA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmFyZ3M7XG4gICAgICAgIGluZm9BcmdzID0gc3RhdGUuY3VycmVudFBhdHRlcm4uaW5mby5hcmdzO1xuICAgICAgICBhcmdzLnB1c2goaW5kaXJlY3RPYmplY3QpO1xuICAgICAgICBsYXRlc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhdGVzdEFyZ0NvbXBsZXRlID0gbGF0ZXN0QXJnLnR5cGUgPT09IFRva2VuVHlwZXMuQVRUUklCVVRFIHx8IGxhdGVzdEFyZy50eXBlID09PSBUb2tlblR5cGVzLlZBTFVFO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRlYWwgd2l0aCBtb2RpZmllcnNcbiAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlcy5NT0RJRklFUikge1xuICAgICAgLy8gaWYgdGhpcyBpcyBhIGRlc2VsZWN0IG1vZGlmaWVyLCB3ZSBuZWVkIHRvIHJvbGwgZm9yd2FyZCB0aHJvdWdoIHRoZSB0b2tlbnNcbiAgICAgIC8vIHRvIGZpZ3VyZSBvdXQgcm91Z2hseSBob3cgZmFyIHRoZSBkZXNlbGVjdGlvbiBzaG91bGQgZ28uIEFsc28gaWYgd2UgcnVuIGludG9cbiAgICAgIC8vIGFuIFwiYW5kXCJcIiBvciBhbiBcIm9yXCIsIHdlIG5lZWQgdG8gZGVhbCB3aXRoIHRoYXQgc3BlY2lhbGx5LlxuICAgICAgaWYgKGluZm8uZGVzZWxlY3RlZCkge1xuICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byBtb3ZlIGZvcndhcmQgZnJvbSB0aGlzIHRva2VuIGFuZCBkZXNlbGVjdCBhcyB3ZSBnb1xuICAgICAgICBsZXQgbG9jYWxUb2tlbkl4ID0gdG9rZW5JeCArIDE7XG4gICAgICAgIC8vIGdldCB0byB0aGUgZmlyc3Qgbm9uLXRleHQgdG9rZW5cbiAgICAgICAgd2hpbGUgKGxvY2FsVG9rZW5JeCA8IGxlbiAmJiB0b2tlbnNbbG9jYWxUb2tlbkl4XS50eXBlID09PSBUb2tlblR5cGVzLlRFWFQpIHtcbiAgICAgICAgICBsb2NhbFRva2VuSXgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWdhdGUgdW50aWwgd2UgZmluZCBhIHJlYXNvbiB0byBzdG9wXG4gICAgICAgIHdoaWxlIChsb2NhbFRva2VuSXggPCBsZW4pIHtcbiAgICAgICAgICBsZXQgbG9jYWxUb2tlbiA9IHRva2Vuc1tsb2NhbFRva2VuSXhdO1xuICAgICAgICAgIGlmIChsb2NhbFRva2VuLnR5cGUgPT09IFRva2VuVHlwZXMuVEVYVCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvY2FsVG9rZW4uZGVzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgbG9jYWxUb2tlbkl4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhbiBcIm9yXCIgd2UgaGF2ZSB0d28gY2FzZXMsIHdlJ3JlIGVpdGhlciBkZWFsaW5nIHdpdGggYSBuZWdhdGlvblxuICAgICAgLy8gb3IgYSBzcGxpdC4gSWYgdGhpcyBpcyBhIGRlc2VsZWN0ZWQgb3IsIHdlIGRvbid0IHJlYWxseSBuZWVkIHRvIGRvIGFueXRoaW5nIGJlY2F1c2UgdGhhdFxuICAgICAgLy8gbWVhbnMgd2UganVzdCBkbyBhIGRlc2VsZWN0ZWQgam9pbi4gSWYgaXQncyBub3QgbmVnYXRlZCB0aG91Z2gsIHdlJ3JlIG5vdyBkZWFsaW5nIHdpdGhcbiAgICAgIC8vIGEgc2Vjb25kIHF1ZXJ5IGNvbnRleHQuIGUuZy4gcGVvcGxlIHdobyBhcmUgZW1wbG95ZWVzIG9yIHNwb3VzZXMgb2YgZW1wbG95ZWVzXG4gICAgICBpZiAoaW5mby5vciAmJiAhdG9rZW4uZGVzZWxlY3RlZCkge1xuICAgICAgICBsZXQgbG9jYWxUb2tlbkl4ID0gdG9rZW5JeCArIDE7XG4gICAgICAgIC8vIGdldCB0byB0aGUgZmlyc3Qgbm9uLXRleHQgdG9rZW5cbiAgICAgICAgd2hpbGUgKGxvY2FsVG9rZW5JeCA8IGxlbiAmJiB0b2tlbnNbbG9jYWxUb2tlbkl4XS50eXBlID09PSBUb2tlblR5cGVzLlRFWFQpIHtcbiAgICAgICAgICBsb2NhbFRva2VuSXgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zdW1lIHVudGlsIHdlIGhpdCBhIHNlcGFyYXRvclxuICAgICAgICB3aGlsZSAobG9jYWxUb2tlbkl4IDwgbGVuKSB7XG4gICAgICAgICAgbGV0IGxvY2FsVG9rZW4gPSB0b2tlbnNbbG9jYWxUb2tlbkl4XTtcbiAgICAgICAgICBpZiAobG9jYWxUb2tlbi50eXBlID09PSBUb2tlblR5cGVzLlRFWFQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2NhbFRva2VuSXgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYSBncm91cCBhZGRzIGEgZ3JvdXAgZm9yIHRoZSBuZXh0IGNvbGxlY3Rpb24gYW5kIGNoZWNrcyB0byBzZWUgaWYgdGhlcmUncyBhbiBhbmRcbiAgICAgIC8vIG9yIGEgc2VwYXJhdG9yIHRoYXQgd291bGQgaW5kaWNhdGUgbXVsdGlwbGUgZ3JvdXBpbmdzXG4gICAgICBpZiAoaW5mby5ncm91cCkge1xuICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byBtb3ZlIGZvcndhcmQgZnJvbSB0aGlzIHRva2VuIGFuZCBkZXNlbGVjdCBhcyB3ZSBnb1xuICAgICAgICBsZXQgbG9jYWxUb2tlbkl4ID0gdG9rZW5JeCArIDE7XG4gICAgICAgIC8vIGdldCB0byB0aGUgZmlyc3Qgbm9uLXRleHQgdG9rZW5cbiAgICAgICAgd2hpbGUgKGxvY2FsVG9rZW5JeCA8IGxlbiAmJiB0b2tlbnNbbG9jYWxUb2tlbkl4XS50eXBlID09PSBUb2tlblR5cGVzLlRFWFQpIHtcbiAgICAgICAgICBsb2NhbFRva2VuSXgrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSd2ZSBydW4gb3V0IG9mIHRva2VucywgYmFpbFxuICAgICAgICBpZiAobG9jYWxUb2tlbkl4ID09PSBsZW4pIGJyZWFrO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBuZXh0IHRoaW5nIHdlIGZvdW5kIGlzIHdoYXQgd2UncmUgdHJ5aW5nIHRvIGdyb3VwIGJ5XG4gICAgICAgIGxldCBsb2NhbFRva2VuID0gdG9rZW5zW2xvY2FsVG9rZW5JeF07XG4gICAgICAgIGxvY2FsVG9rZW4uZ3JvdXBlZCA9IHRydWU7XG4gICAgICAgIGdyb3Vwcy5wdXNoKGxvY2FsVG9rZW4pO1xuICAgICAgICBsb2NhbFRva2VuSXgrKztcbiAgICAgICAgLy8gbm93IHdlIGhhdmUgdG8gY2hlY2sgaWYgd2UncmUgdHJ5aW5nIHRvIGdyb3VwIGJ5IG11bHRpcGxlIHRoaW5ncywgZS5nLlxuICAgICAgICAvLyBcInBlciBkZXBhcnRtZW50IGFuZCBhZ2VcIiBvciBcInBlciBkZXBhcnRtZW50LCB0ZWFtLCBhbmQgYWdlXCJcbiAgICAgICAgbGV0IG5leHQgPSB0b2tlbnNbbG9jYWxUb2tlbkl4XTtcbiAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dC50eXBlID09PSBUb2tlblR5cGVzLk1PRElGSUVSICYmIChuZXh0LmluZm8uc2VwYXJhdG9yIHx8IG5leHQuaW5mby5hbmQpKSB7XG4gICAgICAgICAgbG9jYWxUb2tlbkl4Kys7XG4gICAgICAgICAgbmV4dCA9IHRva2Vuc1tsb2NhbFRva2VuSXhdO1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYW5vdGhlciBtb2RpZmllciBkaXJlY3RseSBhZnRlciAoZS5nLiBcIiwgYW5kXCIpIGxvb3AgYWdhaW5cbiAgICAgICAgICAvLyB0byBzZWUgaWYgdGhpcyBpcyB2YWxpZC5cbiAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0LnR5cGUgPT09IFRva2VuVHlwZXMuTU9ESUZJRVIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Lmdyb3VwZWQgPSB0cnVlO1xuICAgICAgICAgIGdyb3Vwcy5wdXNoKG5leHQpO1xuICAgICAgICAgIGxvY2FsVG9rZW5JeCsrO1xuICAgICAgICAgIG5leHQgPSB0b2tlbnNbbG9jYWxUb2tlbkl4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIGRlYWwgd2l0aCBwYXR0ZXJuc1xuICAgIGlmICh0eXBlID09PSBUb2tlblR5cGVzLlBBVFRFUk4pIHtcbiAgICAgIGlmIChpbmZvLnR5cGUgPT09IFwicmV3cml0ZVwiKSB7XG4gICAgICAgIGxldCBuZXdUZXh0O1xuICAgICAgICAvLyBpZiB3ZSBvbmx5IGhhdmUgb25lIHBvc3NpYmxlIHJld3JpdGUsIHdlIGNhbiBqdXN0IHRha2UgaXRcbiAgICAgICAgaWYgKGluZm8ucmV3cml0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgbmV3VGV4dCA9IGluZm8ucmV3cml0ZXNbMF0udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBAVE9ETzogd2UgaGF2ZSB0byBnbyB0aHJvdWdoIGV2ZXJ5IHBvc3NpYmlsaXR5IGFuZCBkZWFsIHdpdGggaXRcbiAgICAgICAgICBuZXdUZXh0ID0gaW5mby5yZXdyaXRlc1swXS50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRva2VuaXplIHRoZSBuZXcgc3RyaW5nLlxuICAgICAgICBsZXQgbmV3VG9rZW5zOiBhbnkgPSBnZXRUb2tlbnMobmV3VGV4dCk7XG4gICAgICAgIC8vIFNwbGljZSBpbiB0aGUgbmV3IHRva2VucywgYWRqdXN0IHRoZSBsZW5ndGggYW5kIG1ha2Ugc3VyZSB3ZSByZXZpc2l0IHRoaXMgdG9rZW4uXG4gICAgICAgIGxlbiArPSBuZXdUb2tlbnMubGVuZ3RoO1xuICAgICAgICB0b2tlbnMuc3BsaWNlLmFwcGx5KHRva2VucywgW3Rva2VuSXggKyAxLCAwXS5jb25jYXQobmV3VG9rZW5zKSk7XG4gICAgICAgIC8vIGFwcGx5IGFueSBkZXNlbGVjdHMsIG9yJ3MsIG9yIGFuZCdzIHRvIHRoaXMgdG9rZW5cbiAgICAgICAgZm9yIChsZXQgbmV3VG9rZW4gb2YgbmV3VG9rZW5zKSB7XG4gICAgICAgICAgbmV3VG9rZW4uZGVzZWxlY3RlZCA9IHRva2VuLmRlc2VsZWN0ZWQ7XG4gICAgICAgICAgbmV3VG9rZW4uYW5kID0gdG9rZW4uYW5kO1xuICAgICAgICAgIG5ld1Rva2VuLm9yID0gdG9rZW4ub3I7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBhbiBvcGVyYXRpb24gb2Ygc29tZSBraW5kXG4gICAgICAgIG9wZXJhdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgYW55IG90aGVyIHBhdHRlcm5zIHdlJ3JlIHRyeWluZyB0byBmaWxsIHJpZ2h0IG5vd1xuICAgICAgICBpZiAoc3RhdGUuY3VycmVudFBhdHRlcm4pIHtcbiAgICAgICAgICBzdGF0ZS5wYXR0ZXJuU3RhY2sucHVzaChzdGF0ZS5jdXJyZW50UGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY3VycmVudFBhdHRlcm4gPSB0b2tlbjtcbiAgICAgICAgc3RhdGUuY3VycmVudFBhdHRlcm4uYXJncyA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKGluZm8uaW5maXgpIHtcbiAgICAgICAgc3RhdGUuY3VycmVudFBhdHRlcm4uYXJncy5wdXNoKGluZGlyZWN0T2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGRlYWwgd2l0aCB2YWx1ZXNcbiAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlcy5WQUxVRSkge1xuXG4gICAgICAvLyBEZWFsIHdpdGggYSByYW5nZSB2YWx1ZS4gSXQncyByZWFsbHkgYSBwYXR0ZXJuXG4gICAgICBpZiAodG9rZW4udmFsdWVUeXBlID09PSBcInJhbmdlXCIpIHtcbiAgICAgICAgdG9rZW4uZm91bmQgPSBcImJldHdlZW5cIjtcbiAgICAgICAgdG9rZW4uaW5mbyA9IHBhdHRlcm5zW1wiYmV0d2VlblwiXTtcbiAgICAgICAgdG9rZW4uYXJncyA9IFtdO1xuICAgICAgICBsZXQgc3RhcnQ6IFRva2VuID0ge2lkOiB1dWlkKCksIGZvdW5kOiB0b2tlbi5zdGFydCwgb3JpZzogdG9rZW4uc3RhcnQsIHBvczogdG9rZW4ucG9zLCB0eXBlOiBUb2tlblR5cGVzLlZBTFVFLCBpbmZvOiBwYXJzZUZsb2F0KHRva2VuLnN0YXJ0KSwgdmFsdWVUeXBlOiBcIm51bWJlclwifTtcbiAgICAgICAgbGV0IHN0b3A6IFRva2VuID0ge2lkOiB1dWlkKCksIGZvdW5kOiB0b2tlbi5zdG9wLCBvcmlnOiB0b2tlbi5zdG9wLCBwb3M6IHRva2VuLnBvcywgdHlwZTogVG9rZW5UeXBlcy5WQUxVRSwgaW5mbzogcGFyc2VGbG9hdCh0b2tlbi5zdG9wKSwgdmFsdWVUeXBlOiBcIm51bWJlclwifTtcbiAgICAgICAgdG9rZW4uYXJncy5wdXNoKHN0YXJ0KTtcbiAgICAgICAgdG9rZW4uYXJncy5wdXNoKHN0b3ApO1xuICAgICAgICBvcGVyYXRpb25zLnB1c2godG9rZW4pO1xuICAgICAgICBzdGF0ZS5wYXR0ZXJuU3RhY2sucHVzaCh0b2tlbik7XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50UGF0dGVybiA9PT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlLmN1cnJlbnRQYXR0ZXJuID0gc3RhdGUucGF0dGVyblN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIGEgY3VycmVudFBhdHRlcm4gdG8gZmlsbFxuICAgICAgaWYgKHN0YXRlLmN1cnJlbnRQYXR0ZXJuICYmIHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmFyZ3MubGVuZ3RoIDwgc3RhdGUuY3VycmVudFBhdHRlcm4uaW5mby5hcmdzLmxlbmd0aCkge1xuICAgICAgICBzdGF0ZS5jdXJyZW50UGF0dGVybi5hcmdzLnB1c2godG9rZW4pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gV2UgZG9uJ3QgZG8gYW55dGhpbmcgd2l0aCB0ZXh0IG5vZGVzIGF0IHRoaXMgcG9pbnRcbiAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlcy5URVhUKSBjb250aW51ZTtcblxuICAgIC8vIG9uY2UgbW9kaWZpZXJzIGFuZCBwYXR0ZXJucyBoYXZlIGJlZW4gYXBwbGllZCwgd2UgZG9uJ3QgbmVlZCB0byB3b3JyeVxuICAgIC8vIGFib3V0IHRoZSBkaXJlY3RPYmplY3QgYXMgaXQncyBhbHJlYWR5IGJlZW4gYXNzaWduZWQgdG8gdGhlIGZpcnN0IHJvb3QuXG4gICAgaWYgKGRpcmVjdE9iamVjdCA9PT0gdG9rZW4pIHtcbiAgICAgIGluZGlyZWN0T2JqZWN0ID0gZGlyZWN0T2JqZWN0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdE9iamVjdCA9PT0gaW5kaXJlY3RPYmplY3QpIHtcbiAgICAgIGRpcmVjdE9iamVjdC5jaGlsZHJlbi5wdXNoKHRva2VuKTtcbiAgICAgIHRva2VuLnJlbGF0aW9uc2hpcCA9IGRldGVybWluZVJlbGF0aW9uc2hpcChkaXJlY3RPYmplY3QsIHRva2VuKTtcbiAgICAgIHRva2VuLnBhcmVudCA9IGRpcmVjdE9iamVjdDtcbiAgICAgIGluZGlyZWN0T2JqZWN0ID0gdG9rZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwb3RlbnRpYWxQYXJlbnQgPSBpbmRpcmVjdE9iamVjdDtcbiAgICAgIC8vIGlmIG91ciBpbmRpcmVjdCBvYmplY3QgaXMgYW4gYXR0cmlidXRlIGFuZCB3ZSBlbmNvdW50ZXIgYW5vdGhlciBvbmUsIHdlIHdhbnQgdG8gY2hlY2tcbiAgICAgIC8vIHRoZSBwYXJlbnQgb2YgdGhpcyBub2RlIGZvciBhIG1hdGNoXG4gICAgICBpZiAoaW5kaXJlY3RPYmplY3QudHlwZSA9PT0gVG9rZW5UeXBlcy5BVFRSSUJVVEUgJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlcy5BVFRSSUJVVEUpIHtcbiAgICAgICAgcG90ZW50aWFsUGFyZW50ID0gaW5kaXJlY3RPYmplY3QucGFyZW50O1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIGluZGlyZWN0IG9iamVjdCBpcyBhbiBhdHRyaWJ1dGUsIGFueXRoaW5nIG90aGVyIHRoYW4gYW5vdGhlciBhdHRyaWJ1dGUgd2lsbCBjcmVhdGVcbiAgICAgIC8vIGEgbmV3IHJvb3RcbiAgICAgIGlmIChpbmRpcmVjdE9iamVjdC50eXBlID09PSBUb2tlblR5cGVzLkFUVFJJQlVURSAmJiB0b2tlbi50eXBlICE9PSBUb2tlblR5cGVzLkFUVFJJQlVURSkge1xuICAgICAgICBsZXQgcm9vdFJlbCA9IGRldGVybWluZVJlbGF0aW9uc2hpcChkaXJlY3RPYmplY3QsIHRva2VuKTtcbiAgICAgICAgaWYgKCFyb290UmVsIHx8IChyb290UmVsLmRpc3RhbmNlID09PSAwICYmIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZXMuRU5USVRZKSkge1xuICAgICAgICAgIGluZGlyZWN0T2JqZWN0ID0gdG9rZW47XG4gICAgICAgICAgcm9vdHMucHVzaChpbmRpcmVjdE9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlyZWN0T2JqZWN0LmNoaWxkcmVuLnB1c2godG9rZW4pO1xuICAgICAgICAgIHRva2VuLnJlbGF0aW9uc2hpcCA9IHJvb3RSZWw7XG4gICAgICAgICAgdG9rZW4ucGFyZW50ID0gZGlyZWN0T2JqZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB0aGUgb25seSB2YWxpZCBjaGlsZCBvZiBhbiBlbnRpdHkgaXMgYW4gYXR0cmlidXRlLCBpZiB0aGUgcGFyZW50IGlzIGFuIGVudGl0eSBhbmRcbiAgICAgIC8vIHRoZSBjaGlsZCBpcyBub3QgYW4gYXR0cmlidXRlLCB0aGVuIHRoaXMgbXVzdCBiZSByZWxhdGVkIHRvIHRoZSBkaXJlY3RPYmplY3RcbiAgICAgIGVsc2UgaWYgKHBvdGVudGlhbFBhcmVudC50eXBlID09PSBUb2tlblR5cGVzLkVOVElUWSAmJiB0b2tlbi50eXBlICE9PSBUb2tlblR5cGVzLkFUVFJJQlVURSkge1xuICAgICAgICBkaXJlY3RPYmplY3QuY2hpbGRyZW4ucHVzaCh0b2tlbik7XG4gICAgICAgIHRva2VuLnJlbGF0aW9uc2hpcCA9IGRldGVybWluZVJlbGF0aW9uc2hpcChkaXJlY3RPYmplY3QsIHRva2VuKTtcbiAgICAgICAgdG9rZW4ucGFyZW50ID0gZGlyZWN0T2JqZWN0O1xuICAgICAgICBpbmRpcmVjdE9iamVjdCA9IHRva2VuO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBjdXJzb3JSZWwgPSBkZXRlcm1pbmVSZWxhdGlvbnNoaXAocG90ZW50aWFsUGFyZW50LCB0b2tlbik7XG4gICAgICAgIGxldCByb290UmVsID0gZGV0ZXJtaW5lUmVsYXRpb25zaGlwKGRpcmVjdE9iamVjdCwgdG9rZW4pO1xuICAgICAgICAvLyBpZiB0aGlzIHRva2VuIGlzIGFuIGVudGl0eSBhbmQgZWl0aGVyIHRoZSBkaXJlY3RPYmplY3Qgb3IgaW5kaXJlY3RPYmplY3QgaGFzIGEgZGlyZWN0IHJlbGF0aW9uc2hpcFxuICAgICAgICAvLyB3ZSBkb24ndCByZWFsbHkgd2FudCB0byB1c2UgdGhhdCBhcyBpdCdzIG1vc3QgbGlrZWx5IG1lYW50IHRvIGZpbHRlciBhIHNldCBkb3duXG4gICAgICAgIC8vIGluc3RlYWQgb2YgcmVkdWNlIHRoZSBzZXQgdG8gZXhhY3RseSBvbmUgbWVtYmVyLlxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlcy5FTlRJVFkpIHtcbiAgICAgICAgICBpZiAoY3Vyc29yUmVsICYmIGN1cnNvclJlbC5kaXN0YW5jZSA9PT0gMCkgY3Vyc29yUmVsID0gbnVsbDtcbiAgICAgICAgICBpZiAocm9vdFJlbCAmJiByb290UmVsLmRpc3RhbmNlID09PSAwKSByb290UmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnNvclJlbCkge1xuICAgICAgICAgIGRpcmVjdE9iamVjdC5jaGlsZHJlbi5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbi5yZWxhdGlvbnNoaXAgPSByb290UmVsO1xuICAgICAgICAgIHRva2VuLnBhcmVudCA9IGRpcmVjdE9iamVjdDtcbiAgICAgICAgfSBlbHNlIGlmICghcm9vdFJlbCkge1xuICAgICAgICAgIHBvdGVudGlhbFBhcmVudC5jaGlsZHJlbi5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbi5yZWxhdGlvbnNoaXAgPSBjdXJzb3JSZWw7XG4gICAgICAgICAgdG9rZW4ucGFyZW50ID0gcG90ZW50aWFsUGFyZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnNvclJlbC5kaXN0YW5jZSA8PSByb290UmVsLmRpc3RhbmNlKSB7XG4gICAgICAgICAgcG90ZW50aWFsUGFyZW50LmNoaWxkcmVuLnB1c2godG9rZW4pO1xuICAgICAgICAgIHRva2VuLnJlbGF0aW9uc2hpcCA9IGN1cnNvclJlbDtcbiAgICAgICAgICB0b2tlbi5wYXJlbnQgPSBwb3RlbnRpYWxQYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQFRPRE86IG1heWJlIGlmIHRoZXJlJ3MgYSBjdXJzb3JSZWwgd2Ugc2hvdWxkIGp1c3QgYWx3YXlzIGlnbm9yZSB0aGUgcm9vdFJlbCBldmVuIGlmIGl0XG4gICAgICAgICAgLy8gaXMgYSBcImJldHRlclwiIHJlbGF0aW9uc2hpcC4gU2VudGVuY2Ugc3RydWN0dXJlLXdpc2UgaXQgc2VlbXMgcHJldHR5IGxpa2VseSB0aGF0IGF0dHJpYnV0ZXNcbiAgICAgICAgICAvLyBmb2xsb3dpbmcgYW4gZW50aXR5IGFyZSByZWxhdGVkIHRvIHRoYXQgZW50aXR5IGFuZCBub3Qgc29tZXRoaW5nIGVsc2UuXG4gICAgICAgICAgZGlyZWN0T2JqZWN0LmNoaWxkcmVuLnB1c2godG9rZW4pO1xuICAgICAgICAgIHRva2VuLnJlbGF0aW9uc2hpcCA9IHJvb3RSZWw7XG4gICAgICAgICAgdG9rZW4ucGFyZW50ID0gZGlyZWN0T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGluZGlyZWN0T2JqZWN0ID0gdG9rZW47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgYXJlIHN0aWxsIGxvb2tpbmcgdG8gZmlsbCBpbiBhIHBhdHRlcm5cbiAgICBpZiAoc3RhdGUuY3VycmVudFBhdHRlcm4pIHtcbiAgICAgIGxldCBhcmdzID0gc3RhdGUuY3VycmVudFBhdHRlcm4uYXJncztcbiAgICAgIGxldCBpbmZvQXJncyA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmluZm8uYXJncztcbiAgICAgIGxldCBsYXRlc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICBsZXQgbGF0ZXN0QXJnQ29tcGxldGUgPSAhbGF0ZXN0QXJnIHx8IGxhdGVzdEFyZy50eXBlID09PSBUb2tlblR5cGVzLkFUVFJJQlVURSB8fCBsYXRlc3RBcmcudHlwZSA9PT0gVG9rZW5UeXBlcy5WQUxVRTtcbiAgICAgIGxldCBmaXJzdEFyZyA9IGFyZ3NbMF07XG4gICAgICBpZiAoIWxhdGVzdEFyZ0NvbXBsZXRlICYmIGluZGlyZWN0T2JqZWN0LnR5cGUgPT09IFRva2VuVHlwZXMuQVRUUklCVVRFKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIGFyZ3MucHVzaChpbmRpcmVjdE9iamVjdCk7XG4gICAgICB9IGVsc2UgaWYgKGxhdGVzdEFyZ0NvbXBsZXRlICYmIGFyZ3MubGVuZ3RoIDwgaW5mb0FyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGFyZ3MucHVzaChpbmRpcmVjdE9iamVjdCk7XG4gICAgICAgIGxhdGVzdEFyZyA9IGluZGlyZWN0T2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBFbmQgbWFpbiB0b2tlbiBsb29wXG5cbiAgLy8gaWYgd2UndmUgcnVuIG91dCBvZiB0b2tlbnMgYW5kIGFyZSBzdGlsbCBsb29raW5nIHRvIGZpbGwgaW4gYSBwYXR0ZXJuLFxuICAvLyB3ZSBtaWdodCBuZWVkIHRvIGNhcnJ5IHRoZSBhdHRyaWJ1dGUgdGhyb3VnaC5cbiAgaWYgKHN0YXRlLmN1cnJlbnRQYXR0ZXJuICYmIHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmFyZ3MubGVuZ3RoIDw9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmluZm8uYXJncy5sZW5ndGgpIHtcbiAgICBsZXQgYXJncyA9IHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmFyZ3M7XG4gICAgbGV0IGluZm9BcmdzID0gc3RhdGUuY3VycmVudFBhdHRlcm4uaW5mby5hcmdzO1xuICAgIGxldCBsYXRlc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFsYXRlc3RBcmcpIHJldHVybiB0cmVlO1xuICAgIGxldCBsYXRlc3RBcmdDb21wbGV0ZSA9IGxhdGVzdEFyZy50eXBlID09PSBUb2tlblR5cGVzLkFUVFJJQlVURSB8fCBsYXRlc3RBcmcudHlwZSA9PT0gVG9rZW5UeXBlcy5WQUxVRTtcbiAgICBsZXQgZmlyc3RBcmcgPSBhcmdzWzBdO1xuICAgIC8vIGUuZy4gcGVvcGxlIG9sZGVyIHRoYW4gY2hyaXMgZ3JhbmdlciA9PiBwZW9wbGUgYWdlID4gY2hyaXMgZ3JhbmdlciBhZ2VcbiAgICBpZiAoIWxhdGVzdEFyZ0NvbXBsZXRlICYmIGZpcnN0QXJnICYmIGZpcnN0QXJnLnR5cGUgPT09IFRva2VuVHlwZXMuQVRUUklCVVRFKSB7XG4gICAgICBsZXQgbmV3QXJnOiBhbnkgPSB7IHR5cGU6IGZpcnN0QXJnLnR5cGUsIGZvdW5kOiBmaXJzdEFyZy5mb3VuZCwgb3JpZzogZmlyc3RBcmcub3JpZywgaW5mbzogZmlyc3RBcmcuaW5mbywgaWQ6IHV1aWQoKSwgY2hpbGRyZW46IFtdIH07XG4gICAgICBsZXQgY3Vyc29yUmVsID0gZGV0ZXJtaW5lUmVsYXRpb25zaGlwKGxhdGVzdEFyZywgbmV3QXJnKTtcbiAgICAgIG5ld0FyZy5yZWxhdGlvbnNoaXAgPSBjdXJzb3JSZWw7XG4gICAgICBuZXdBcmcucGFyZW50ID0gbGF0ZXN0QXJnO1xuICAgICAgbGF0ZXN0QXJnLmNoaWxkcmVuLnB1c2gobmV3QXJnKTtcbiAgICAgIGFyZ3MucG9wKCk7XG4gICAgICBhcmdzLnB1c2gobmV3QXJnKTtcbiAgICB9XG4gICAgLy8gZS5nLiBwZW9wbGUgd2hvc2UgYWdlIGlzIGJldHdlZW4gNTAgYW5kIDY1XG4gICAgLy8gQEhBQ0sgc3BlY2lhbCBjYXNlIHRoaXMgZm9yIG5vd1xuICAgIGVsc2UgaWYgKHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmZvdW5kID09PSBcImJldHdlZW5cIikge1xuICAgICAgLy8gQmFja3RyYWNrIGZyb20gdGhlIHBhdHRlcm4gc3RhcnQgdW50aWwgd2UgZmluZCBhbiBhdHRyaWJ1dGVcbiAgICAgIGxldCBwYXR0ZXJuU3RhcnQgPSB0b2tlbnMubGFzdEluZGV4T2Yoc3RhdGUuY3VycmVudFBhdHRlcm4pO1xuICAgICAgbGV0IGFyZyA9IG51bGw7XG4gICAgICBmb3IgKGxldCBpeCA9IHBhdHRlcm5TdGFydDsgaXggPiAwOyBpeC0tKSB7XG4gICAgICAgIGlmICh0b2tlbnNbaXhdLnR5cGUgPT09IFRva2VuVHlwZXMuQVRUUklCVVRFKSB7XG4gICAgICAgICAgYXJnID0gdG9rZW5zW2l4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZm91bmQgYW4gYXR0cmlidXRlLCBub3cgYWRkIGl0IHRvIHRoZSBhcmdsaXN0IGZvciB0aGUgcGF0dGVyblxuICAgICAgaWYgKGFyZyAhPSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmN1cnJlbnRQYXR0ZXJuLmFyZ3MucHVzaChhcmcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJlZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBRdWVyeSBwbGFuc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBlbnVtIFN0ZXBUeXBlIHtcbiAgRklORCxcbiAgR0FUSEVSLFxuICBMT09LVVAsXG4gIEZJTFRFUkJZRU5USVRZLFxuICBJTlRFUlNFQ1QsXG4gIENBTENVTEFURSxcbiAgQUdHUkVHQVRFLFxuICBGSUxURVIsXG4gIFNPUlQsXG4gIExJTUlULFxuICBHUk9VUCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5VG9QbGFuKHF1ZXJ5OiBzdHJpbmcpIHtcbiAgbGV0IHRva2VucyA9IGdldFRva2VucyhxdWVyeSk7XG4gIGxldCB0cmVlID0gdG9rZW5zVG9UcmVlKHRva2Vucyk7XG4gIGxldCBwbGFuID0gdHJlZVRvUGxhbih0cmVlKTtcbiAgcmV0dXJuIHsgdG9rZW5zLCB0cmVlLCBwbGFuIH07XG59XG5cbmV4cG9ydCBjbGFzcyBQbGFuIGV4dGVuZHMgQXJyYXk8U3RlcD4ge1xuICB2YWxpZDogVmFsaWRhdGVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0ZXAge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBTdGVwVHlwZTtcbiAgc3ViamVjdD86IHN0cmluZztcbiAgZGlyZWN0aW9uPzogc3RyaW5nO1xuICBmaWVsZD86IGFueTtcbiAgdmFsdWU/OiBhbnk7XG4gIGFyZ3M/OiBhbnk7XG4gIGRlc2VsZWN0ZWQ/OiBib29sZWFuO1xuICBzdWJqZWN0Tm9kZT86IGFueTtcbiAgdmFsaWQ/OiBWYWxpZGF0ZWQ7XG59XG5cbmV4cG9ydCBlbnVtIFZhbGlkYXRlZCB7XG4gIElOVkFMSUQsXG4gIFZBTElELFxuICBVTlZBTElEQVRFRCxcbn1cblxuXG5mdW5jdGlvbiBpZ25vcmVIaWRkZW5Db2xsZWN0aW9ucyhjb2xscykge1xuICBmb3IgKGxldCBjb2xsIG9mIGNvbGxzKSB7XG4gICAgaWYgKGNvbGwgIT09IFwiZ2VuZXJpYyByZWxhdGVkIHRvXCIpIHtcbiAgICAgIHJldHVybiBjb2xsO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBub2RlVG9QbGFuU3RlcHMobm9kZSwgcGFyZW50LCBwYXJlbnRQbGFuKSB7XG4gIC8vIFRPRE86IGZpZ3VyZSBvdXQgd2hhdCB0byBkbyB3aXRoIG9wZXJhdGlvbnNcbiAgbGV0IGlkID0gbm9kZS5pZCB8fCB1dWlkKCk7XG4gIGxldCB7ZGVzZWxlY3RlZH0gPSBub2RlO1xuICBsZXQgcmVsID0gbm9kZS5yZWxhdGlvbnNoaXA7XG4gIGxldCBwbGFuID0gW107XG4gIGxldCBjdXJQYXJlbnQgPSBwYXJlbnRQbGFuO1xuICBpZiAocGFyZW50ICYmIHJlbCkge1xuICAgIHN3aXRjaCAocmVsLnR5cGUpIHtcbiAgICAgIGNhc2UgUmVsYXRpb25zaGlwVHlwZXMuQ09MTEVDVElPTl9BVFRSSUJVVEU6XG4gICAgICAgIGZvciAobGV0IG5vZGUgb2YgcmVsLm5vZGVzKSB7XG4gICAgICAgICAgbGV0IGNvbGwgPSBpZ25vcmVIaWRkZW5Db2xsZWN0aW9ucyhub2RlKTtcbiAgICAgICAgICBsZXQgaXRlbSA9IHsgdHlwZTogU3RlcFR5cGUuR0FUSEVSLCByZWxhdGVkVG86IGN1clBhcmVudCwgc3ViamVjdDogY29sbCwgaWQ6IHV1aWQoKSB9O1xuICAgICAgICAgIHBsYW4ucHVzaChpdGVtKTtcbiAgICAgICAgICBjdXJQYXJlbnQgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHBsYW4ucHVzaCh7IHR5cGU6IFN0ZXBUeXBlLkxPT0tVUCwgcmVsYXRlZFRvOiBjdXJQYXJlbnQsIHN1YmplY3Q6IG5vZGUuZm91bmQsIGlkLCBkZXNlbGVjdGVkIH0pO1xuICAgICAgICByZXR1cm4gcGxhbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fRU5USVRZOlxuICAgICAgICBmb3IgKGxldCBub2RlIG9mIHJlbC5ub2Rlcykge1xuICAgICAgICAgIGxldCBjb2xsID0gaWdub3JlSGlkZGVuQ29sbGVjdGlvbnMobm9kZSk7XG4gICAgICAgICAgbGV0IGl0ZW0gPSB7IHR5cGU6IFN0ZXBUeXBlLkdBVEhFUiwgcmVsYXRlZFRvOiBjdXJQYXJlbnQsIHN1YmplY3Q6IGNvbGwsIGlkOiB1dWlkKCkgfTtcbiAgICAgICAgICBwbGFuLnB1c2goaXRlbSk7XG4gICAgICAgICAgY3VyUGFyZW50ID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBwbGFuLnB1c2goeyB0eXBlOiBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSwgcmVsYXRlZFRvOiBjdXJQYXJlbnQsIHN1YmplY3Q6IG5vZGUuZm91bmQsIGlkLCBkZXNlbGVjdGVkIH0pO1xuICAgICAgICByZXR1cm4gcGxhbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fQ09MTEVDVElPTjpcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IFN0ZXBUeXBlLkdBVEhFUiwgcmVsYXRlZFRvOiBwYXJlbnRQbGFuLCBzdWJqZWN0OiBub2RlLmZvdW5kLCBpZCwgZGVzZWxlY3RlZCB9XTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJlbGF0aW9uc2hpcFR5cGVzLkNPTExFQ1RJT05fSU5URVJTRUNUSU9OOlxuICAgICAgICByZXR1cm4gW3sgdHlwZTogU3RlcFR5cGUuSU5URVJTRUNULCByZWxhdGVkVG86IHBhcmVudFBsYW4sIHN1YmplY3Q6IG5vZGUuZm91bmQsIGlkLCBkZXNlbGVjdGVkIH1dO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUmVsYXRpb25zaGlwVHlwZXMuRU5USVRZX0FUVFJJQlVURTpcbiAgICAgICAgaWYgKHJlbC5kaXN0YW5jZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbeyB0eXBlOiBTdGVwVHlwZS5MT09LVVAsIHJlbGF0ZWRUbzogcGFyZW50UGxhbiwgc3ViamVjdDogbm9kZS5mb3VuZCwgaWQsIGRlc2VsZWN0ZWQgfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHBsYW4gPSBbXTtcbiAgICAgICAgICBsZXQgY3VyUGFyZW50ID0gcGFyZW50UGxhbjtcbiAgICAgICAgICBmb3IgKGxldCBub2RlIG9mIHJlbC5ub2Rlcykge1xuICAgICAgICAgICAgbGV0IGNvbGwgPSBpZ25vcmVIaWRkZW5Db2xsZWN0aW9ucyhub2RlKTtcbiAgICAgICAgICAgIGxldCBpdGVtID0geyB0eXBlOiBTdGVwVHlwZS5HQVRIRVIsIHJlbGF0ZWRUbzogY3VyUGFyZW50LCBzdWJqZWN0OiBjb2xsLCBpZDogdXVpZCgpIH07XG4gICAgICAgICAgICBwbGFuLnB1c2goaXRlbSk7XG4gICAgICAgICAgICBjdXJQYXJlbnQgPSBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwbGFuLnB1c2goeyB0eXBlOiBTdGVwVHlwZS5MT09LVVAsIHJlbGF0ZWRUbzogY3VyUGFyZW50LCBzdWJqZWN0OiBub2RlLmZvdW5kLCBpZCwgZGVzZWxlY3RlZCB9KTtcbiAgICAgICAgICByZXR1cm4gcGxhbjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gVG9rZW5UeXBlcy5DT0xMRUNUSU9OKSB7XG4gICAgICByZXR1cm4gW3sgdHlwZTogU3RlcFR5cGUuR0FUSEVSLCBzdWJqZWN0OiBub2RlLmZvdW5kLCBpZCwgZGVzZWxlY3RlZCB9XTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gVG9rZW5UeXBlcy5FTlRJVFkpIHtcbiAgICAgIHJldHVybiBbeyB0eXBlOiBTdGVwVHlwZS5GSU5ELCBzdWJqZWN0OiBub2RlLmZvdW5kLCBpZCwgZGVzZWxlY3RlZCB9XTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gVG9rZW5UeXBlcy5BVFRSSUJVVEUpIHtcbiAgICAgIHJldHVybiBbeyB0eXBlOiBTdGVwVHlwZS5MT09LVVAsIHN1YmplY3Q6IG5vZGUuZm91bmQsIGlkLCBkZXNlbGVjdGVkIH1dO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZVRvUGxhbih0cmVlLCBwYXJlbnQgPSBudWxsLCBwYXJlbnRQbGFuID0gbnVsbCkge1xuICBpZiAoIXRyZWUpIHJldHVybiBbXTtcbiAgbGV0IHBsYW4gPSBbXTtcbiAgLy8gcHJvY2VzcyB5b3UsIHRoZW4geW91ciBjaGlsZHJlblxuICBwbGFuLnB1c2guYXBwbHkocGxhbiwgbm9kZVRvUGxhblN0ZXBzKHRyZWUsIHBhcmVudCwgcGFyZW50UGxhbikpO1xuICBsZXQgbmV1ZVBhcmVudFBsYW4gPSBwbGFuW3BsYW4ubGVuZ3RoIC0gMV07XG4gIGZvciAobGV0IGNoaWxkIG9mIHRyZWUuY2hpbGRyZW4pIHtcbiAgICBwbGFuLnB1c2guYXBwbHkocGxhbiwgbm9kZVRvUGxhbihjaGlsZCwgdHJlZSwgbmV1ZVBhcmVudFBsYW4pKTtcbiAgfVxuICByZXR1cm4gcGxhbjtcbn1cblxuLyplbnVtIFBhdHRlcm5UeXBlcyB7XG4gIENPTExFQ1RJT04sXG4gIEVOVElUWSxcbiAgQVRUUklCVVRFLFxuICBWQUxVRSxcbiAgR1JPVVAsXG4gIEFHR1JFR0FURSxcbiAgU09SVExJTUlULFxuICBGSUxURVIsXG4gIFJFV1JJVEUsXG59Ki9cblxuZnVuY3Rpb24gZ3JvdXBzVG9QbGFuKG5vZGVzKSB7XG4gIGlmICghbm9kZXMubGVuZ3RoKSByZXR1cm4gW107XG4gIGxldCBncm91cHMgPSBbXTtcbiAgZm9yIChsZXQgbm9kZSBvZiBub2Rlcykge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwiY29sbGVjdGlvblwiKSB7XG4gICAgICBncm91cHMucHVzaChbbm9kZS5pZCwgXCJlbnRpdHlcIl0pO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSBcImF0dHJpYnV0ZVwiKSB7XG4gICAgICBncm91cHMucHVzaChbbm9kZS5pZCwgXCJ2YWx1ZVwiXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbm9kZSB0byBncm91cCBvbjogXCIgKyBKU09OLnN0cmluZ2lmeShub2RlcykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW3sgdHlwZTogU3RlcFR5cGUuR1JPVVAsIGlkOiB1dWlkKCksIGdyb3VwcywgZ3JvdXBOb2Rlczogbm9kZXMgfV07XG59XG5cbmZ1bmN0aW9uIG9wVG9QbGFuKG9wLCBncm91cHMpOiBhbnkge1xuICBsZXQgaW5mbyA9IG9wLmluZm87XG4gIGxldCBhcmdzID0ge307XG4gIGlmIChpbmZvLmFyZ3MpIHtcbiAgICBsZXQgaXggPSAwO1xuICAgIGZvciAobGV0IGFyZyBvZiBpbmZvLmFyZ3MpIHtcbiAgICAgIGxldCBhcmdWYWx1ZSA9IG9wLmFyZ3NbaXhdO1xuICAgICAgaWYgKGFyZ1ZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgaWYgKGFyZ1ZhbHVlLnR5cGUgPT09IFRva2VuVHlwZXMuVkFMVUUpIHtcbiAgICAgICAgYXJnc1thcmddID0gYXJnVmFsdWUuZm91bmQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ1ZhbHVlLnR5cGUgPT09IFRva2VuVHlwZXMuQVRUUklCVVRFKSB7XG4gICAgICAgIGFyZ3NbYXJnXSA9IFthcmdWYWx1ZS5pZCwgXCJ2YWx1ZVwiXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgb3BlcmF0aW9uIGFyZ3VtZW50OiAke2FyZ1ZhbHVlLm9yaWd9IGZvciAke29wLmZvdW5kfWApO1xuICAgICAgfVxuICAgICAgaXgrKztcbiAgICB9XG4gIH1cbiAgaWYgKGluZm8udHlwZSA9PT0gXCJhZ2dyZWdhdGVcIikge1xuICAgIHJldHVybiBbeyB0eXBlOiBTdGVwVHlwZS5BR0dSRUdBVEUsIHN1YmplY3Q6IGluZm8ub3AsIGFyZ3MsIGlkOiB1dWlkKCksIGFyZ0FycmF5OiBvcC5hcmdzIH1dO1xuICB9IGVsc2UgaWYgKGluZm8udHlwZSA9PT0gXCJzb3J0IGFuZCBsaW1pdFwiKSB7XG4gICAgbGV0IHNvcnRMaW1pdEFyZ3MgPSBvcC5hcmdzLm1hcCgoYXJnKSA9PiBhcmcuZm91bmQpO1xuICAgIGxldCBzb3J0RmllbGQgPSB7IHBhcmVudElkOiBvcC5hcmdzWzFdLmlkLCBwYXJlbnQ6IG9wLmFyZ3NbMV0ucGFyZW50LmZvdW5kLCBzdWJqZWN0OiBvcC5hcmdzWzFdLmZvdW5kIH07XG4gICAgbGV0IHN1YmplY3QgPSBcInJlc3VsdHNcIjtcbiAgICAvLyBJZiBncm91cHMgYXJlIGZvcm1lZCwgY2hlY2sgaWYgd2UgYXJlIHNvcnRpbmcgb24gb25lIG9mIHRoZW1cbiAgICBmb3IgKGxldCBncm91cCBvZiBncm91cHMpIHtcbiAgICAgIGlmIChncm91cC5mb3VuZCA9PT0gc29ydEZpZWxkLnBhcmVudCkge1xuICAgICAgICBzdWJqZWN0ID0gXCJwZXIgZ3JvdXBcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzb3J0U3RlcCA9IHsgdHlwZTogU3RlcFR5cGUuU09SVCwgc3ViamVjdDogc3ViamVjdCwgZGlyZWN0aW9uOiBpbmZvLmRpcmVjdGlvbiwgZmllbGQ6IHNvcnRGaWVsZCwgaWQ6IHV1aWQoKSB9O1xuICAgIGxldCBsaW1pdFN0ZXAgPSB7IHR5cGU6IFN0ZXBUeXBlLkxJTUlULCBzdWJqZWN0OiBzdWJqZWN0LCB2YWx1ZTogc29ydExpbWl0QXJnc1swXSwgaWQ6IHV1aWQoKSB9O1xuICAgIHJldHVybiBbc29ydFN0ZXAsIGxpbWl0U3RlcF07XG4gIH0gZWxzZSBpZiAoaW5mby50eXBlID09PSBcImJvdW5kc1wiKSB7XG4gICAgbGV0IGxvd2VyQm91bmRzID0geyB0eXBlOiBTdGVwVHlwZS5GSUxURVIsIHN1YmplY3Q6IFwiPlwiLCBpZDogdXVpZCgpLCBhcmdBcnJheTogW29wLmFyZ3NbMl0sIG9wLmFyZ3NbMF1dfTtcbiAgICBsZXQgdXBwZXJCb3VuZHMgPSB7IHR5cGU6IFN0ZXBUeXBlLkZJTFRFUiwgc3ViamVjdDogXCI8XCIsIGlkOiB1dWlkKCksIGFyZ0FycmF5OiBbb3AuYXJnc1syXSwgb3AuYXJnc1sxXV19O1xuICAgIHJldHVybiBbbG93ZXJCb3VuZHMsIHVwcGVyQm91bmRzXTtcbiAgfSBlbHNlIGlmIChpbmZvLnR5cGUgPT09IFwiZmlsdGVyXCIpIHtcbiAgICByZXR1cm4gW3sgdHlwZTogU3RlcFR5cGUuRklMVEVSLCBzdWJqZWN0OiBpbmZvLm9wLCBhcmdzLCBpZDogdXVpZCgpLCBhcmdBcnJheTogb3AuYXJncyB9XTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3sgdHlwZTogU3RlcFR5cGUuQ0FMQ1VMQVRFLCBzdWJqZWN0OiBpbmZvLm9wLCBhcmdzLCBpZDogdXVpZCgpLCBhcmdBcnJheTogb3AuYXJncyB9XTtcbiAgfVxufVxuXG4vLyBTaW5jZSBpbnRlcm1lZGlhdGUgcGxhbiBzdGVwcyBjYW4gZW5kIHVwIGR1cGxpY2F0ZWQsIHdlIG5lZWQgdG8gd2FsayB0aGUgcGxhbiB0byBmaW5kXG4vLyBub2RlcyB0aGF0IGFyZSBleGFjdGx5IHRoZSBzYW1lIGFuZCBvbmx5IGRvIHRoZW0gb25jZS4gRS5nLiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudCBhbmQgYWdlXG4vLyB3aWxsIGJyaW5nIGluIHR3byBlbXBsb3llZSBnYXRoZXJzLlxuZnVuY3Rpb24gZGVkdXBlUGxhbihwbGFuKSB7XG4gIGxldCBkdXBlcyA9IHt9O1xuICAvLyBmb3IgZXZlcnkgbm9kZSBpbiB0aGUgcGxhbiBiYWNrd2FyZHNcbiAgZm9yIChsZXQgcGxhbkl4ID0gcGxhbi5sZW5ndGggLSAxOyBwbGFuSXggPiAtMTsgcGxhbkl4LS0pIHtcbiAgICBsZXQgc3RlcCA9IHBsYW5bcGxhbkl4XTtcbiAgICAvLyBjaGVjayBhbGwgcHJlY2VkaW5nIG5vZGVzIGZvciBhIG5vZGUgdGhhdCBpcyBlcXVpdmFsZW50XG4gICAgZm9yIChsZXQgZHVwZUl4ID0gcGxhbkl4IC0gMTsgZHVwZUl4ID4gLTE7IGR1cGVJeC0tKSB7XG4gICAgICBsZXQgZHVwZSA9IHBsYW5bZHVwZUl4XTtcbiAgICAgIC8vIGVxdWl2YWxlbmN5IHJlcXVpcmVzIHRoZSBzYW1lIHR5cGUsIHN1YmplY3QsIGRlc2VsZWN0LCBhbmQgcGFyZW50XG4gICAgICBpZiAoc3RlcC50eXBlID09PSBkdXBlLnR5cGUgJiYgc3RlcC5zdWJqZWN0ID09PSBkdXBlLnN1YmplY3QgJiYgc3RlcC5kZXNlbGVjdGVkID09PSBkdXBlLmRlc2VsZWN0ZWQgJiYgc3RlcC5yZWxhdGVkVG8gPT09IGR1cGUucmVsYXRlZFRvKSB7XG4gICAgICAgIC8vIHN0b3JlIHRoZSBkdXBlIGFuZCB3aGF0IG5vZGUgd2lsbCByZXBsYWNlIGl0XG4gICAgICAgIGR1cGVzW3N0ZXAuaWRdID0gZHVwZS5pZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBsYW4uZmlsdGVyKChzdGVwKSA9PiB7XG4gICAgLy8gcmVtb3ZlIGFueXRoaW5nIHdlIGZvdW5kIHRvIGJlIGEgZHVwZVxuICAgIGlmIChkdXBlc1tzdGVwLmlkXSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGlmIHRoaXMgc3RlcCByZWZlcmVuY2VzIGEgZHVwZSwgcmVsYXRlIGl0IHRvIHRoZSBuZXcgbm9kZVxuICAgIGlmIChkdXBlc1tzdGVwLnJlbGF0ZWRUb10pIHtcbiAgICAgIHN0ZXAucmVsYXRlZFRvID0gZHVwZXNbc3RlcC5yZWxhdGVkVG9dO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyZWVUb1BsYW4odHJlZTogVHJlZSk6IFBsYW4ge1xuICBsZXQgc3RlcHM6IFN0ZXBbXSA9IFtdO1xuICBmb3IgKGxldCByb290IG9mIHRyZWUucm9vdHMpIHtcbiAgICBzdGVwcyA9IHN0ZXBzLmNvbmNhdChub2RlVG9QbGFuKHJvb3QpKTtcbiAgfVxuICBzdGVwcyA9IGRlZHVwZVBsYW4oc3RlcHMpO1xuICBmb3IgKGxldCBncm91cCBvZiB0cmVlLmdyb3Vwcykge1xuICAgICAgbGV0IG5vZGU7XG4gICAgICBmb3IgKGxldCBzdGVwIG9mIHN0ZXBzKSB7XG4gICAgICAgICAgaWYgKHN0ZXAuaWQgPT09IGdyb3VwLmlkKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBzdGVwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgc3RlcHMucHVzaCh7IGlkOiB1dWlkKCksIHR5cGU6IFN0ZXBUeXBlLkdST1VQLCBzdWJqZWN0OiBncm91cC5mb3VuZCwgc3ViamVjdE5vZGU6IG5vZGUgfSk7XG4gIH1cbiAgZm9yIChsZXQgb3Agb2YgdHJlZS5vcGVyYXRpb25zKSB7XG4gICAgc3RlcHMgPSBzdGVwcy5jb25jYXQob3BUb1BsYW4ob3AsIHRyZWUuZ3JvdXBzKSk7XG4gIH1cbiAgLy8gQ3JlYXRlIGEgcGxhbiB0eXBlIGZvciByZXR1cm5cbiAgbGV0IHBsYW46IFBsYW4gPSBuZXcgUGxhbigpO1xuICBwbGFuLnZhbGlkID0gVmFsaWRhdGVkLklOVkFMSUQ7XG4gIGZvciAobGV0IHN0ZXAgb2Ygc3RlcHMpIHtcbiAgICBwbGFuLnB1c2goc3RlcCk7XG4gIH1cblxuICByZXR1cm4gcGxhbjtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQbGFuIHRvIHF1ZXJ5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gc2FmZVByb2plY3Rpb25OYW1lKG5hbWUsIHByb2plY3Rpb24pIHtcbiAgaWYgKCFwcm9qZWN0aW9uW25hbWVdKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cbiAgbGV0IGl4ID0gMjtcbiAgd2hpbGUgKHByb2plY3Rpb25bbmFtZV0pIHtcbiAgICBuYW1lID0gYCR7bmFtZX0gJHtpeH1gO1xuICAgIGl4Kys7XG4gIH1cbiAgcmV0dXJuIG5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGFuVG9FeGVjdXRhYmxlKHBsYW4pIHtcbiAgbGV0IHByb2plY3Rpb24gPSB7fTtcbiAgbGV0IHF1ZXJ5ID0gZXZlLnF1ZXJ5KCk7XG4gIGZvciAobGV0IHN0ZXAgb2YgcGxhbikge1xuICAgIHN3aXRjaCAoc3RlcC50eXBlKSB7XG4gICAgICBjYXNlIFN0ZXBUeXBlLkZJTkQ6XG4gICAgICAgIC8vIGZpbmQgaXMgYSBuby1vcFxuICAgICAgICBzdGVwLnNpemUgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RlcFR5cGUuR0FUSEVSOlxuICAgICAgICB2YXIgam9pbjogYW55ID0ge307XG4gICAgICAgIGlmIChzdGVwLnN1YmplY3QpIHtcbiAgICAgICAgICBqb2luLmNvbGxlY3Rpb24gPSBzdGVwLnN1YmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbGF0ZWQgPSBzdGVwLnJlbGF0ZWRUbztcbiAgICAgICAgaWYgKHJlbGF0ZWQpIHtcbiAgICAgICAgICBpZiAocmVsYXRlZC50eXBlID09PSBTdGVwVHlwZS5GSU5EKSB7XG4gICAgICAgICAgICBzdGVwLnNpemUgPSAyO1xuICAgICAgICAgICAgbGV0IGxpbmtJZCA9IGAke3N0ZXAuaWR9IHwgbGlua2A7XG4gICAgICAgICAgICBxdWVyeS5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHtlbnRpdHk6IHJlbGF0ZWQuc3ViamVjdH0sIGxpbmtJZCk7XG4gICAgICAgICAgICBqb2luLmVudGl0eSA9IFtsaW5rSWQsIFwibGlua1wiXTtcbiAgICAgICAgICAgIHF1ZXJ5LnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgam9pbiwgc3RlcC5pZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXAuc2l6ZSA9IDI7XG4gICAgICAgICAgICBsZXQgbGlua0lkID0gYCR7c3RlcC5pZH0gfCBsaW5rYDtcbiAgICAgICAgICAgIHF1ZXJ5LnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwge2VudGl0eTogW3JlbGF0ZWQuaWQsIFwiZW50aXR5XCJdfSwgbGlua0lkKTtcbiAgICAgICAgICAgIGpvaW4uZW50aXR5ID0gW2xpbmtJZCwgXCJsaW5rXCJdO1xuICAgICAgICAgICAgcXVlcnkuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCBqb2luLCBzdGVwLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RlcC5zaXplID0gMTtcbiAgICAgICAgICBxdWVyeS5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIGpvaW4sIHN0ZXAuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAubmFtZSA9IHNhZmVQcm9qZWN0aW9uTmFtZShzdGVwLnN1YmplY3QsIHByb2plY3Rpb24pO1xuICAgICAgICBwcm9qZWN0aW9uW3N0ZXAubmFtZV0gPSBbc3RlcC5pZCwgXCJlbnRpdHlcIl07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5MT09LVVA6XG4gICAgICAgIHZhciBqb2luOiBhbnkgPSB7YXR0cmlidXRlOiBzdGVwLnN1YmplY3R9O1xuICAgICAgICB2YXIgcmVsYXRlZCA9IHN0ZXAucmVsYXRlZFRvO1xuICAgICAgICBpZiAocmVsYXRlZCkge1xuICAgICAgICAgIGlmIChyZWxhdGVkLnR5cGUgPT09IFN0ZXBUeXBlLkZJTkQpIHtcbiAgICAgICAgICAgIGpvaW4uZW50aXR5ID0gcmVsYXRlZC5zdWJqZWN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqb2luLmVudGl0eSA9IFtyZWxhdGVkLmlkLCBcImVudGl0eVwiXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXAuZGVzZWxlY3RlZCkge1xuICAgICAgICAgICAgc3RlcC5zaXplID0gMDtcbiAgICAgICAgICAgIHF1ZXJ5LmRlc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgam9pbiwgc3RlcC5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGVwLnNpemUgPSAxO1xuICAgICAgICAgICAgcXVlcnkuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgam9pbiwgc3RlcC5pZCk7XG4gICAgICAgICAgICBzdGVwLm5hbWUgPSBzYWZlUHJvamVjdGlvbk5hbWUoc3RlcC5zdWJqZWN0LCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIHByb2plY3Rpb25bc3RlcC5uYW1lXSA9IFtzdGVwLmlkLCBcInZhbHVlXCJdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5JTlRFUlNFQ1Q6XG4gICAgICAgIHZhciByZWxhdGVkID0gc3RlcC5yZWxhdGVkVG87XG4gICAgICAgIGlmIChzdGVwLmRlc2VsZWN0ZWQpIHtcbiAgICAgICAgICBzdGVwLnNpemUgPSAwO1xuICAgICAgICAgIHF1ZXJ5LmRlc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7Y29sbGVjdGlvbjogc3RlcC5zdWJqZWN0LCBlbnRpdHk6IFtyZWxhdGVkLmlkLCBcImVudGl0eVwiXX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ZXAuc2l6ZSA9IDE7XG4gICAgICAgICAgcXVlcnkuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7Y29sbGVjdGlvbjogc3RlcC5zdWJqZWN0LCBlbnRpdHk6IFtyZWxhdGVkLmlkLCBcImVudGl0eVwiXX0sIHN0ZXAuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWTpcbiAgICAgICAgdmFyIHJlbGF0ZWQgPSBzdGVwLnJlbGF0ZWRUbztcbiAgICAgICAgdmFyIGxpbmtJZCA9IGAke3N0ZXAuaWR9IHwgbGlua2A7XG4gICAgICAgIGlmIChzdGVwLmRlc2VsZWN0ZWQpIHtcbiAgICAgICAgICBzdGVwLnNpemUgPSAwO1xuICAgICAgICAgIHF1ZXJ5LmRlc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7ZW50aXR5OiBbcmVsYXRlZC5pZCwgXCJlbnRpdHlcIl0sIGxpbms6IHN0ZXAuc3ViamVjdH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ZXAuc2l6ZSA9IDE7XG4gICAgICAgICAgcXVlcnkuc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7ZW50aXR5OiBbcmVsYXRlZC5pZCwgXCJlbnRpdHlcIl0sIGxpbms6IHN0ZXAuc3ViamVjdH0sIHN0ZXAuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5GSUxURVI6XG4gICAgICAgIHN0ZXAuc2l6ZSA9IDA7XG4gICAgICAgIHF1ZXJ5LmNhbGN1bGF0ZShzdGVwLnN1YmplY3QsIHN0ZXAuYXJncywgc3RlcC5pZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5DQUxDVUxBVEU6XG4gICAgICAgIHN0ZXAuc2l6ZSA9IDE7XG4gICAgICAgIHF1ZXJ5LmNhbGN1bGF0ZShzdGVwLnN1YmplY3QsIHN0ZXAuYXJncywgc3RlcC5pZCk7XG4gICAgICAgIHN0ZXAubmFtZSA9IHNhZmVQcm9qZWN0aW9uTmFtZShzdGVwLnN1YmplY3QsIHByb2plY3Rpb24pO1xuICAgICAgICBwcm9qZWN0aW9uW3N0ZXAubmFtZV0gPSBbc3RlcC5pZCwgXCJyZXN1bHRcIl07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGVwVHlwZS5BR0dSRUdBVEU6XG4gICAgICAgIHN0ZXAuc2l6ZSA9IDE7XG4gICAgICAgIHF1ZXJ5LmFnZ3JlZ2F0ZShzdGVwLnN1YmplY3QsIHN0ZXAuYXJncywgc3RlcC5pZCk7XG4gICAgICAgIHN0ZXAubmFtZSA9IHNhZmVQcm9qZWN0aW9uTmFtZShzdGVwLnN1YmplY3QsIHByb2plY3Rpb24pO1xuICAgICAgICBwcm9qZWN0aW9uW3N0ZXAubmFtZV0gPSBbc3RlcC5pZCwgc3RlcC5zdWJqZWN0XTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0ZXBUeXBlLkdST1VQOlxuICAgICAgICBzdGVwLnNpemUgPSAwO1xuICAgICAgICB2YXIgZmllbGQgPSBcImVudGl0eVwiO1xuICAgICAgICBpZiAoc3RlcC5zdWJqZWN0Tm9kZS50eXBlID09PSBTdGVwVHlwZS5MT09LVVApIHtcbiAgICAgICAgICBmaWVsZCA9IFwidmFsdWVcIjtcbiAgICAgICAgfVxuICAgICAgICBzdGVwLm5hbWUgPSBzdGVwLnN1YmplY3ROb2RlLm5hbWU7XG4gICAgICAgIHF1ZXJ5Lmdyb3VwKFtzdGVwLnN1YmplY3ROb2RlLmlkLCBmaWVsZF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RlcFR5cGUuU09SVDpcbiAgICAgICAgc3RlcC5zaXplID0gMDtcbiAgICAgICAgcXVlcnkuc29ydChbc3RlcC5maWVsZC5wYXJlbnRJZCwgXCJ2YWx1ZVwiLCBzdGVwLmRpcmVjdGlvbl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RlcFR5cGUuTElNSVQ6XG4gICAgICAgIHN0ZXAuc2l6ZSA9IDA7XG4gICAgICAgIHF1ZXJ5LmxpbWl0KHN0ZXAubGltaXQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcXVlcnkucHJvamVjdChwcm9qZWN0aW9uKTtcbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlUb0V4ZWN1dGFibGUocXVlcnkpIHtcbiAgbGV0IHBsYW5JbmZvOiBhbnkgPSBxdWVyeVRvUGxhbihxdWVyeSk7XG4gIGxldCBleGVjdXRhYmxlID0gcGxhblRvRXhlY3V0YWJsZShwbGFuSW5mby5wbGFuKTtcbiAgcGxhbkluZm8uZXhlY3V0YWJsZSA9IGV4ZWN1dGFibGU7XG4gIHBsYW5JbmZvLnF1ZXJ5U3RyaW5nID0gcXVlcnk7XG4gIHJldHVybiBwbGFuSW5mbztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVdGlsc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGFycmF5SW50ZXJzZWN0KGEsIGIpIHtcbiAgbGV0IGFpID0gMDtcbiAgbGV0IGJpID0gMDtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICB3aGlsZSAoYWkgPCBhLmxlbmd0aCAmJiBiaSA8IGIubGVuZ3RoKSB7XG4gICAgaWYgKGFbYWldIDwgYltiaV0pIGFpKys7XG4gICAgZWxzZSBpZiAoYVthaV0gPiBiW2JpXSkgYmkrKztcbiAgICBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgIGFpKys7XG4gICAgICBiaSsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5kZWNsYXJlIHZhciBleHBvcnRzO1xud2luZG93W1wicXVlcnlQYXJzZXJcIl0gPSBleHBvcnRzOyIsImltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi9hcHBcIjtcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJtYXJrZWQtYXN0L21hcmtlZC5kLnRzXCIgLz5cbmltcG9ydCAqIGFzIG1hcmtlZCBmcm9tIFwibWFya2VkLWFzdFwiO1xuXG5kZWNsYXJlIHZhciBDb2RlTWlycm9yO1xuZGVjbGFyZSB2YXIgdXVpZDtcblxuZnVuY3Rpb24gcmVwbGFjZUFsbChzdHIsIGZpbmQsIHJlcGxhY2UpIHtcbiAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChmaW5kLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpLCAnZycpO1xuICByZXR1cm4gc3RyLnJlcGxhY2UocmVnZXgsIHJlcGxhY2UpO1xufVxuXG5mdW5jdGlvbiB3cmFwV2l0aE1hcmtkb3duKGNtLCB3cmFwcGluZykge1xuICBjbS5vcGVyYXRpb24oKCkgPT4ge1xuICAgIGxldCBmcm9tID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKTtcbiAgICAvLyBpZiB0aGVyZSdzIHNvbWV0aGluZyBzZWxlY3RlZCB3cmFwIGl0XG4gICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgIGxldCBzZWxlY3RlZCA9IGNtLmdldFNlbGVjdGlvbigpO1xuICAgICAgbGV0IGNsZWFuZWQgPSByZXBsYWNlQWxsKHNlbGVjdGVkLCB3cmFwcGluZywgXCJcIik7XG4gICAgICBpZiAoc2VsZWN0ZWQuc3Vic3RyaW5nKDAsIHdyYXBwaW5nLmxlbmd0aCkgPT09IHdyYXBwaW5nXG4gICAgICAgICYmIHNlbGVjdGVkLnN1YnN0cmluZyhzZWxlY3RlZC5sZW5ndGggLSB3cmFwcGluZy5sZW5ndGgpID09PSB3cmFwcGluZykge1xuICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoY2xlYW5lZCwgZnJvbSwgY20uZ2V0Q3Vyc29yKFwidG9cIikpO1xuICAgICAgICBjbS5zZXRTZWxlY3Rpb24oZnJvbSwgY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoYCR7d3JhcHBpbmd9JHtjbGVhbmVkfSR7d3JhcHBpbmd9YCwgZnJvbSwgY20uZ2V0Q3Vyc29yKFwidG9cIikpO1xuICAgICAgICBjbS5zZXRTZWxlY3Rpb24oZnJvbSwgY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtLnJlcGxhY2VSYW5nZShgJHt3cmFwcGluZ30ke3dyYXBwaW5nfWAsIGZyb20pO1xuICAgICAgbGV0IG5ld0xvY2F0aW9uID0geyBsaW5lOiBmcm9tLmxpbmUsIGNoOiBmcm9tLmNoICsgd3JhcHBpbmcubGVuZ3RoIH07XG4gICAgICBjbS5zZXRDdXJzb3IobmV3TG9jYXRpb24pO1xuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGNsYXNzIFJpY2hUZXh0RWRpdG9yIHtcblxuICBjbUluc3RhbmNlO1xuICBtYXJrczogYW55W107XG4gIHRpbWVvdXQ7XG4gIG1ldGE6IGFueTtcbiAgb25VcGRhdGU6IChtZXRhOiBhbnksIGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZDtcbiAgZ2V0RW1iZWQ6IChtZXRhOiBhbnksIHF1ZXJ5OiBzdHJpbmcpID0+IEVsZW1lbnQ7XG4gIGdldElubGluZTogKG1ldGE6IGFueSwgcXVlcnk6IHN0cmluZykgPT4gc3RyaW5nO1xuICByZW1vdmVJbmxpbmU6IChtZXRhOiBhbnksIHF1ZXJ5OiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3Iobm9kZSwgZ2V0RW1iZWQsIGdldElubGluZSwgcmVtb3ZlSW5saW5lKSB7XG4gICAgdGhpcy5tYXJrcyA9IFtdO1xuICAgIHRoaXMubWV0YSA9IHt9O1xuICAgIHRoaXMuZ2V0RW1iZWQgPSBnZXRFbWJlZDtcbiAgICB0aGlzLmdldElubGluZSA9IGdldElubGluZTtcbiAgICB0aGlzLnJlbW92ZUlubGluZSA9IHJlbW92ZUlubGluZTtcbiAgICBsZXQgY20gPSB0aGlzLmNtSW5zdGFuY2UgPSBuZXcgQ29kZU1pcnJvcihub2RlLCB7XG4gICAgICBsaW5lV3JhcHBpbmc6IHRydWUsXG4gICAgICBhdXRvQ2xvc2VCcmFja2V0czogdHJ1ZSxcbiAgICAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eSxcbiAgICAgIGV4dHJhS2V5czoge1xuICAgICAgICBcIkNtZC1CXCI6IChjbSkgPT4ge1xuICAgICAgICAgIHdyYXBXaXRoTWFya2Rvd24oY20sIFwiKipcIik7XG4gICAgICAgIH0sXG4gICAgICAgIFwiQ21kLUlcIjogKGNtKSA9PiB7XG4gICAgICAgICAgd3JhcFdpdGhNYXJrZG93bihjbSwgXCJfXCIpO1xuICAgICAgICB9LFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGNtLm9uKFwiY2hhbmdlc1wiLCAoY20sIGNoYW5nZXMpID0+IHtcbiAgICAgIHNlbGYub25DaGFuZ2VzKGNtLCBjaGFuZ2VzKTtcbiAgICAgIGlmIChzZWxmLm9uVXBkYXRlKSB7XG4gICAgICAgIHNlbGYub25VcGRhdGUoc2VsZi5tZXRhLCBjbS5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjbS5vbihcImN1cnNvckFjdGl2aXR5XCIsIChjbSkgPT4geyBzZWxmLm9uQ3Vyc29yQWN0aXZpdHkoY20pIH0pO1xuICAgIGNtLm9uKFwibW91c2Vkb3duXCIsIChjbSwgZSkgPT4geyBzZWxmLm9uTW91c2VEb3duKGNtLCBlKSB9KTtcbiAgfVxuXG4gIG9uQ2hhbmdlcyhjbSwgY2hhbmdlcykge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBmb3IgKGxldCBjaGFuZ2Ugb2YgY2hhbmdlcykge1xuICAgICAgbGV0IHJlbW92ZWQgPSBjaGFuZ2UucmVtb3ZlZC5qb2luKFwiXFxuXCIpO1xuICAgICAgbGV0IG1hdGNoZXMgPSByZW1vdmVkLm1hdGNoKC8oe1teXSo/fSkvZ20pO1xuICAgICAgaWYgKCFtYXRjaGVzKSBjb250aW51ZTtcbiAgICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVJbmxpbmUodGhpcy5tZXRhLCBtYXRjaCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNtLm9wZXJhdGlvbigoKSA9PiB7XG4gICAgICBsZXQgY29udGVudCA9IGNtLmdldFZhbHVlKCk7XG4gICAgICBsZXQgcGFydHMgPSBjb250ZW50LnNwbGl0KC8oe1teXSo/fSkvZ20pO1xuICAgICAgbGV0IGl4ID0gMDtcbiAgICAgIGZvciAobGV0IG1hcmsgb2Ygc2VsZi5tYXJrcykge1xuICAgICAgICBtYXJrLmNsZWFyKCk7XG4gICAgICB9XG4gICAgICBzZWxmLm1hcmtzID0gW107XG4gICAgICBsZXQgY3Vyc29ySXggPSBjbS5pbmRleEZyb21Qb3MoY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKSk7XG4gICAgICBmb3IgKGxldCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGlmIChwYXJ0WzBdID09PSBcIntcIikge1xuICAgICAgICAgIGxldCBtYXJrID0gc2VsZi5tYXJrRW1iZWRkZWRRdWVyeShjbSwgcGFydCwgaXgpO1xuICAgICAgICAgIGlmIChtYXJrKSBzZWxmLm1hcmtzLnB1c2gobWFyayk7XG4gICAgICAgIH1cbiAgICAgICAgaXggKz0gcGFydC5sZW5ndGg7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbkN1cnNvckFjdGl2aXR5KGNtKSB7XG4gICAgaWYgKCFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICBsZXQgY3Vyc29yID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKTtcbiAgICAgIGxldCBtYXJrcyA9IGNtLmZpbmRNYXJrc0F0KGN1cnNvcik7XG4gICAgICBmb3IgKGxldCBtYXJrIG9mIG1hcmtzKSB7XG4gICAgICAgIGlmIChtYXJrLm5lZWRzUmVwbGFjZW1lbnQpIHtcbiAgICAgICAgICBsZXQge2Zyb20sIHRvfSA9IG1hcmsuZmluZCgpO1xuICAgICAgICAgIGxldCBpeCA9IGNtLmluZGV4RnJvbVBvcyhmcm9tKTtcbiAgICAgICAgICBsZXQgdGV4dCA9IGNtLmdldFJhbmdlKGZyb20sIHRvKTtcbiAgICAgICAgICBtYXJrLmNsZWFyKCk7XG4gICAgICAgICAgbGV0IG5ld01hcmsgPSB0aGlzLm1hcmtFbWJlZGRlZFF1ZXJ5KGNtLCB0ZXh0LCBpeCk7XG4gICAgICAgICAgaWYgKG5ld01hcmspIHRoaXMubWFya3MucHVzaChuZXdNYXJrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJUSU1FIFRPIFNIT1chXCIpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgb25Nb3VzZURvd24oY20sIGUpIHtcbiAgICBsZXQgY3Vyc29yID0gY20uY29vcmRzQ2hhcih7IGxlZnQ6IGUuY2xpZW50WCwgdG9wOiBlLmNsaWVudFkgfSk7XG4gICAgbGV0IHBvcyA9IGNtLmluZGV4RnJvbVBvcyhjdXJzb3IpO1xuICAgIGxldCBtYXJrcyA9IGNtLmZpbmRNYXJrc0F0KGN1cnNvcik7XG4gICAgZm9yIChsZXQgbWFyayBvZiB0aGlzLm1hcmtzKSB7XG4gICAgICBpZiAobWFyay5pbmZvICYmIG1hcmsuaW5mby50bykge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkdPVE86IFwiLCBtYXJrLmluZm8udG8pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hcmtFbWJlZGRlZFF1ZXJ5KGNtLCBxdWVyeSwgaXgpIHtcbiAgICBsZXQgY3Vyc29ySXggPSBjbS5pbmRleEZyb21Qb3MoY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKSk7XG4gICAgbGV0IG1hcms7XG4gICAgbGV0IHN0YXJ0ID0gY20ucG9zRnJvbUluZGV4KGl4KTtcbiAgICBsZXQgc3RvcCA9IGNtLnBvc0Zyb21JbmRleChpeCArIHF1ZXJ5Lmxlbmd0aCk7XG4gICAgLy8gYXMgbG9uZyBhcyBvdXIgY3Vyc29yIGlzbid0IGluIHRoaXMgc3BhblxuICAgIGlmIChxdWVyeSAhPT0gXCJ7fVwiICYmIChjdXJzb3JJeCA8PSBpeCB8fCBjdXJzb3JJeCA+PSBpeCArIHF1ZXJ5Lmxlbmd0aCkpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBxdWVyeSB0aGF0J3MgZGVmaW5pbmcgYW4gaW5saW5lIGF0dHJpYnV0ZVxuICAgICAgLy8gZS5nLiB7YWdlOiAzMH1cbiAgICAgIGxldCBhZGp1c3RlZCA9IHRoaXMuZ2V0SW5saW5lKHRoaXMubWV0YSwgcXVlcnkpXG4gICAgICBpZiAoYWRqdXN0ZWQgIT09IHF1ZXJ5KSB7XG4gICAgICAgIGNtLnJlcGxhY2VSYW5nZShhZGp1c3RlZCwgc3RhcnQsIHN0b3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFyayA9IGNtLm1hcmtUZXh0KHN0YXJ0LCBzdG9wLCB7IHJlcGxhY2VkV2l0aDogdGhpcy5nZXRFbWJlZCh0aGlzLm1ldGEsIHF1ZXJ5LnN1YnN0cmluZygxLCBxdWVyeS5sZW5ndGggLSAxKSkgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmsgPSBjbS5tYXJrVGV4dChzdGFydCwgc3RvcCwgeyBjbGFzc05hbWU6IFwiZW1iZWQtY29kZVwiIH0pO1xuICAgICAgbWFyay5uZWVkc1JlcGxhY2VtZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcms7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkaXRvcihnZXRFbWJlZDogKG1ldGE6IGFueSwgcXVlcnk6IHN0cmluZykgPT4gRWxlbWVudCxcbiAgZ2V0SW5saW5lOiAobWV0YTogYW55LCBxdWVyeTogc3RyaW5nKSA9PiBzdHJpbmcsXG4gIHJlbW92ZUlubGluZTogKG1ldGE6IGFueSwgcXVlcnk6IHN0cmluZykgPT4gdm9pZCkge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcFJpY2hUZXh0RWRpdG9yKG5vZGUsIGVsZW0pIHtcbiAgICBsZXQgZWRpdG9yID0gbm9kZS5lZGl0b3I7XG4gICAgbGV0IGNtO1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICBlZGl0b3IgPSBub2RlLmVkaXRvciA9IG5ldyBSaWNoVGV4dEVkaXRvcihub2RlLCBnZXRFbWJlZCwgZ2V0SW5saW5lLCByZW1vdmVJbmxpbmUpO1xuICAgICAgY20gPSBub2RlLmVkaXRvci5jbUluc3RhbmNlO1xuICAgICAgY20uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY20gPSBub2RlLmVkaXRvci5jbUluc3RhbmNlO1xuICAgIH1cbiAgICBlZGl0b3Iub25VcGRhdGUgPSBlbGVtLmNoYW5nZTtcbiAgICBlZGl0b3IubWV0YSA9IGVsZW0ubWV0YSB8fCBlZGl0b3IubWV0YTtcbiAgICBpZiAoY20uZ2V0VmFsdWUoKSAhPT0gZWxlbS52YWx1ZSkge1xuICAgICAgY20uc2V0VmFsdWUoZWxlbS52YWx1ZSB8fCBcIlwiKTtcbiAgICAgIGNtLmNsZWFySGlzdG9yeSgpO1xuICAgIH1cbiAgICBjbS5yZWZyZXNoKCk7XG4gIH1cbn0iLCJpbXBvcnQge0VOViwgdXVpZH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJ1bnRpbWVcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5kZWNsYXJlIHZhciBleHBvcnRzO1xubGV0IHJ1bnRpbWUgPSBleHBvcnRzO1xuXG5leHBvcnQgdmFyIE1BWF9OVU1CRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuZXhwb3J0IHZhciBJTkNSRU1FTlRBTCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBvYmplY3RzSWRlbnRpY2FsKGE6e1trZXk6c3RyaW5nXTogYW55fSwgYjp7W2tleTpzdHJpbmddOiBhbnl9KTpib29sZWFuIHtcbiAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gIGZvcih2YXIga2V5IG9mIGFLZXlzKSB7XG4gICAgLy9UT0RPOiBoYW5kbGUgbm9uLXNjYWxhciB2YWx1ZXNcbiAgICBpZihhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbmRleE9mRmFjdChoYXlzdGFjaywgbmVlZGxlKSB7XG4gIGxldCBpeCA9IDA7XG4gIGZvcihsZXQgZmFjdCBvZiBoYXlzdGFjaykge1xuICAgIGlmKGZhY3QuX19pZCA9PT0gbmVlZGxlLl9faWQpIHtcbiAgICAgIHJldHVybiBpeDtcbiAgICB9XG4gICAgaXgrKztcbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGYWN0KGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgbGV0IGl4ID0gaW5kZXhPZkZhY3QoaGF5c3RhY2ssIG5lZWRsZSk7XG4gIGlmKGl4ID4gLTEpIGhheXN0YWNrLnNwbGljZShpeCwgMSk7XG4gIHJldHVybiBoYXlzdGFjaztcbn1cblxuZnVuY3Rpb24gZGlmZkFkZHNBbmRSZW1vdmVzKGFkZHMsIHJlbW92ZXMpIHtcbiAgbGV0IGxvY2FsSGFzaCA9IHt9O1xuICBsZXQgaGFzaFRvRmFjdCA9IHt9O1xuICBsZXQgaGFzaGVzID0gW107XG4gIGZvcihsZXQgYWRkIG9mIGFkZHMpIHtcbiAgICBsZXQgaGFzaCA9IGFkZC5fX2lkO1xuICAgIGlmKGxvY2FsSGFzaFtoYXNoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbEhhc2hbaGFzaF0gPSAxO1xuICAgICAgaGFzaFRvRmFjdFtoYXNoXSA9IGFkZDtcbiAgICAgIGhhc2hlcy5wdXNoKGhhc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbEhhc2hbaGFzaF0rKztcbiAgICB9XG4gICAgYWRkLl9faWQgPSBoYXNoO1xuICB9XG4gIGZvcihsZXQgcmVtb3ZlIG9mIHJlbW92ZXMpIHtcbiAgICBsZXQgaGFzaCA9IHJlbW92ZS5fX2lkO1xuICAgIGlmKGxvY2FsSGFzaFtoYXNoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbEhhc2hbaGFzaF0gPSAtMTtcbiAgICAgIGhhc2hUb0ZhY3RbaGFzaF0gPSByZW1vdmU7XG4gICAgICBoYXNoZXMucHVzaChoYXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxIYXNoW2hhc2hdLS07XG4gICAgfVxuICAgIHJlbW92ZS5fX2lkID0gaGFzaDtcbiAgfVxuICBsZXQgcmVhbEFkZHMgPSBbXTtcbiAgbGV0IHJlYWxSZW1vdmVzID0gW107XG4gIGZvcihsZXQgaGFzaCBvZiBoYXNoZXMpIHtcbiAgICBsZXQgY291bnQgPSBsb2NhbEhhc2hbaGFzaF07XG4gICAgaWYoY291bnQgPiAwKSB7XG4gICAgICBsZXQgZmFjdCA9IGhhc2hUb0ZhY3RbaGFzaF07XG4gICAgICByZWFsQWRkcy5wdXNoKGZhY3QpO1xuICAgIH0gZWxzZSBpZihjb3VudCA8IDApIHtcbiAgICAgIGxldCBmYWN0ID0gaGFzaFRvRmFjdFtoYXNoXTtcbiAgICAgIHJlYWxSZW1vdmVzLnB1c2goZmFjdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7YWRkczpyZWFsQWRkcywgcmVtb3ZlczpyZWFsUmVtb3Zlc307XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXF1YWxpdHlGbihrZXlzKSB7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXCJhXCIsIFwiYlwiLCAgYHJldHVybiAke2tleXMubWFwKGZ1bmN0aW9uKGtleSwgaXgpIHtcbiAgICBpZihrZXkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICByZXR1cm4gYGFbJyR7a2V5WzBdfSddWycke2tleVsxXX0nXSA9PT0gYlsnJHtrZXlbMF19J11bJyR7a2V5WzFdfSddYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBhW1wiJHtrZXl9XCJdID09PSBiW1wiJHtrZXl9XCJdYDtcbiAgICB9XG4gIH0pLmpvaW4oXCIgJiYgXCIpfTtgKVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVN0cmluZ0ZuKGtleXMpIHtcbiAgbGV0IGtleVN0cmluZ3MgPSBbXTtcbiAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIGtleVN0cmluZ3MucHVzaChgYVsnJHtrZXlbMF19J11bJyR7a2V5WzFdfSddYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleVN0cmluZ3MucHVzaChgYVsnJHtrZXl9J11gKTtcbiAgICB9XG4gIH1cbiAgbGV0IGZpbmFsID0ga2V5U3RyaW5ncy5qb2luKCcgKyBcInxcIiArICcpO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwiYVwiLCAgYHJldHVybiAke2ZpbmFsfTtgKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVVbnByb2plY3RlZFNvcnRlckNvZGUodW5wcm9qZWN0ZWRTaXplLCBzb3J0cykge1xuICBsZXQgY29uZGl0aW9ucyA9IFtdO1xuICBsZXQgcGF0aCA9IFtdO1xuICBsZXQgZGlzdGFuY2UgPSB1bnByb2plY3RlZFNpemU7XG4gIGZvcihsZXQgc29ydCBvZiBzb3J0cykge1xuICAgIGxldCBjb25kaXRpb24gPSBcIlwiO1xuICAgIGZvcihsZXQgcHJldiBvZiBwYXRoKSB7XG4gICAgICBsZXQgW3RhYmxlLCBrZXldID0gcHJldjtcbiAgICAgIGNvbmRpdGlvbiArPSBgdW5wcm9qZWN0ZWRbai0ke2Rpc3RhbmNlIC0gdGFibGV9XVsnJHtrZXl9J10gPT09IGl0ZW0ke3RhYmxlfVsnJHtrZXl9J10gJiYgYDtcbiAgICB9XG4gICAgbGV0IFt0YWJsZSwga2V5LCBkaXJdID0gc29ydDtcbiAgICBsZXQgb3AgPSBcIj5cIjtcbiAgICBpZihkaXIgPT09IFwiZGVzY2VuZGluZ1wiKSB7XG4gICAgICBvcCA9IFwiPFwiO1xuICAgIH1cbiAgICBjb25kaXRpb24gKz0gYHVucHJvamVjdGVkW2otJHtkaXN0YW5jZSAtIHRhYmxlfV1bJyR7a2V5fSddICR7b3B9IGl0ZW0ke3RhYmxlfVsnJHtrZXl9J11gO1xuICAgIGNvbmRpdGlvbnMucHVzaChjb25kaXRpb24pO1xuICAgIHBhdGgucHVzaChzb3J0KTtcbiAgfVxuICBsZXQgaXRlbXMgPSBbXTtcbiAgbGV0IHJlcG9zaXRpb25lZCA9IFtdO1xuICBsZXQgaXRlbUFzc2lnbm1lbnRzID0gW107XG4gIGZvcihsZXQgaXggPSAwOyBpeCA8IGRpc3RhbmNlOyBpeCsrKSB7XG4gICAgaXRlbXMucHVzaChgaXRlbSR7aXh9ID0gdW5wcm9qZWN0ZWRbaiske2l4fV1gKTtcbiAgICByZXBvc2l0aW9uZWQucHVzaChgdW5wcm9qZWN0ZWRbaiske2l4fV0gPSB1bnByb2plY3RlZFtqIC0gJHtkaXN0YW5jZSAtIGl4fV1gKTtcbiAgICBpdGVtQXNzaWdubWVudHMucHVzaCgoYHVucHJvamVjdGVkW2orJHtpeH1dID0gaXRlbSR7aXh9YCkpO1xuICB9XG4gIHJldHVybiBgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHVucHJvamVjdGVkLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAke2Rpc3RhbmNlfSkge1xuICAgICAgdmFyIGogPSBpLCAke2l0ZW1zLmpvaW4oXCIsIFwiKX07XG4gICAgICBmb3IoOyBqID4gJHtkaXN0YW5jZSAtIDF9ICYmICgke2NvbmRpdGlvbnMuam9pbihcIiB8fCBcIil9KTsgaiAtPSAke2Rpc3RhbmNlfSkge1xuICAgICAgICAke3JlcG9zaXRpb25lZC5qb2luKFwiO1xcblwiKX1cbiAgICAgIH1cbiAgICAgICR7aXRlbUFzc2lnbm1lbnRzLmpvaW4oXCI7XFxuXCIpfVxuICB9YDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDb2xsZWN0b3Ioa2V5cykge1xuICBsZXQgY29kZSA9IGB2YXIgcnVudGltZSA9IHRoaXM7XFxuYDtcbiAgbGV0IGl4ID0gMDtcbiAgbGV0IGNoZWNrcyA9IFwiXCI7XG4gIGxldCByZW1vdmVzID0gXCJ2YXIgY3VyID0gaW5kZXhcIjtcbiAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIHJlbW92ZXMgKz0gYFtyZW1vdmVbJyR7a2V5WzBdfSddWycke2tleVsxXX0nXV1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmVzICs9IGBbcmVtb3ZlWycke2tleX0nXV1gO1xuICAgIH1cbiAgfVxuICByZW1vdmVzICs9IFwiO1xcbnJ1bnRpbWUucmVtb3ZlRmFjdChjdXIsIHJlbW92ZSk7XCI7XG4gIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICBpeCsrO1xuICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIGNoZWNrcyArPSBgdmFsdWUgPSBhZGRbJyR7a2V5WzBdfSddWycke2tleVsxXX0nXVxcbmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoZWNrcyArPSBgdmFsdWUgPSBhZGRbJyR7a2V5fSddXFxuYDtcbiAgICB9XG4gICAgbGV0IHBhdGggPSBgY3Vyc29yW3ZhbHVlXWA7XG4gICAgY2hlY2tzICs9IGBpZighJHtwYXRofSkgJHtwYXRofSA9IGA7XG4gICAgaWYoaXggPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICBjaGVja3MgKz0gXCJbXVxcblwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja3MgKz0gXCJ7fVxcblwiO1xuICAgIH1cbiAgICBjaGVja3MgKz0gYGN1cnNvciA9ICR7cGF0aH1cXG5gO1xuICB9XG4gIGNvZGUgKz0gYFxuZm9yKHZhciBpeCA9IDAsIGxlbiA9IHJlbW92ZXMubGVuZ3RoOyBpeCA8IGxlbjsgaXgrKykge1xudmFyIHJlbW92ZSA9IHJlbW92ZXNbaXhdO1xuJHtyZW1vdmVzfVxufVxuZm9yKHZhciBpeCA9IDAsIGxlbiA9IGFkZHMubGVuZ3RoOyBpeCA8IGxlbjsgaXgrKykge1xudmFyIGFkZCA9IGFkZHNbaXhdO1xudmFyIGN1cnNvciA9IGluZGV4O1xudmFyIHZhbHVlO1xuJHtjaGVja3N9ICBjdXJzb3IucHVzaChhZGQpO1xufVxucmV0dXJuIGluZGV4O2BcbiAgcmV0dXJuIChuZXcgRnVuY3Rpb24oXCJpbmRleFwiLCBcImFkZHNcIiwgXCJyZW1vdmVzXCIsIGNvZGUpKS5iaW5kKHJ1bnRpbWUpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbGxlY3RvcjIoa2V5cykge1xuICBsZXQgaGFzaFBhcnRzID0gW107XG4gIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICBpZihrZXkuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICBoYXNoUGFydHMucHVzaChgYWRkWycke2tleVswXX0nXVsnJHtrZXlbMV19J11gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFzaFBhcnRzLnB1c2goYGFkZFsnJHtrZXl9J11gKTtcbiAgICB9XG4gIH1cbiAgbGV0IGNvZGUgPSBgXG4gICAgdmFyIGl4Q2FjaGUgPSBjYWNoZS5peDtcbiAgICB2YXIgaWRDYWNoZSA9IGNhY2hlLmlkO1xuICAgIGZvcih2YXIgaXggPSAwLCBsZW4gPSByZW1vdmVzLmxlbmd0aDsgaXggPCBsZW47IGl4KyspIHtcbiAgICAgIHZhciByZW1vdmUgPSByZW1vdmVzW2l4XTtcbiAgICAgIHZhciBpZCA9IHJlbW92ZS5fX2lkO1xuICAgICAgdmFyIGtleSA9IGlkQ2FjaGVbaWRdO1xuICAgICAgdmFyIGZhY3RJeCA9IGl4Q2FjaGVbaWRdO1xuICAgICAgdmFyIGZhY3RzID0gaW5kZXhba2V5XTtcbiAgICAgIC8vc3dhcCB0aGUgbGFzdCBmYWN0IHdpdGggdGhpcyBvbmUgdG8gcHJldmVudCBob2xlc1xuICAgICAgdmFyIGxhc3RGYWN0ID0gZmFjdHMucG9wKCk7XG4gICAgICBpZihsYXN0RmFjdCAmJiBsYXN0RmFjdC5fX2lkICE9PSByZW1vdmUuX19pZCkge1xuICAgICAgICBmYWN0c1tmYWN0SXhdID0gbGFzdEZhY3Q7XG4gICAgICAgIGl4Q2FjaGVbbGFzdEZhY3QuX19pZF0gPSBmYWN0SXg7XG4gICAgICB9IGVsc2UgaWYoZmFjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBpbmRleFtrZXldO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGlkQ2FjaGVbaWRdO1xuICAgICAgZGVsZXRlIGl4Q2FjaGVbaWRdO1xuICAgIH1cbiAgICBmb3IodmFyIGl4ID0gMCwgbGVuID0gYWRkcy5sZW5ndGg7IGl4IDwgbGVuOyBpeCsrKSB7XG4gICAgICB2YXIgYWRkID0gYWRkc1tpeF07XG4gICAgICB2YXIgaWQgPSBhZGQuX19pZDtcbiAgICAgIHZhciBrZXkgPSBpZENhY2hlW2lkXSA9ICR7aGFzaFBhcnRzLmpvaW4oXCIgKyAnfCcgKyBcIil9O1xuICAgICAgaWYoaW5kZXhba2V5XSA9PT0gdW5kZWZpbmVkKSBpbmRleFtrZXldID0gW107XG4gICAgICB2YXIgYXJyID0gaW5kZXhba2V5XTtcbiAgICAgIGl4Q2FjaGVbaWRdID0gYXJyLmxlbmd0aDtcbiAgICAgIGFyci5wdXNoKGFkZCk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtgO1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJpbmRleFwiLCBcImFkZHNcIiwgXCJyZW1vdmVzXCIsIFwiY2FjaGVcIiwgY29kZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlQXJyYXlzKGFzLCBicykge1xuICBsZXQgaXggPSBhcy5sZW5ndGg7XG4gIGxldCBzdGFydCA9IGl4O1xuICBmb3IobGV0IGIgb2YgYnMpIHtcbiAgICBhc1tpeF0gPSBic1tpeCAtIHN0YXJ0XTtcbiAgICBpeCsrO1xuICB9XG4gIHJldHVybiBhcztcbn1cblxuZXhwb3J0IGNsYXNzIERpZmYge1xuICB0YWJsZXM7XG4gIGxlbmd0aDtcbiAgaXhlcjtcbiAgbWV0YTtcbiAgY29uc3RydWN0b3IoaXhlcikge1xuICAgIHRoaXMuaXhlciA9IGl4ZXI7XG4gICAgdGhpcy50YWJsZXMgPSB7fTtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5tZXRhID0ge307XG4gIH1cbiAgZW5zdXJlVGFibGUodGFibGUpIHtcbiAgICBsZXQgdGFibGVEaWZmID0gdGhpcy50YWJsZXNbdGFibGVdO1xuICAgIGlmKCF0YWJsZURpZmYpIHtcbiAgICAgIHRhYmxlRGlmZiA9IHRoaXMudGFibGVzW3RhYmxlXSA9IHthZGRzOiBbXSwgcmVtb3ZlczogW119O1xuICAgIH1cbiAgICByZXR1cm4gdGFibGVEaWZmO1xuICB9XG4gIGFkZCh0YWJsZSwgb2JqKSB7XG4gICAgbGV0IHRhYmxlRGlmZiA9IHRoaXMuZW5zdXJlVGFibGUodGFibGUpO1xuICAgIHRoaXMubGVuZ3RoKys7XG4gICAgdGFibGVEaWZmLmFkZHMucHVzaChvYmopO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFkZE1hbnkodGFibGUsIG9ianMpIHtcbiAgICBsZXQgdGFibGVEaWZmID0gdGhpcy5lbnN1cmVUYWJsZSh0YWJsZSk7XG4gICAgdGhpcy5sZW5ndGggKz0gb2Jqcy5sZW5ndGg7XG4gICAgbWVyZ2VBcnJheXModGFibGVEaWZmLmFkZHMsIG9ianMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUZhY3RzKHRhYmxlLCBvYmpzKSB7XG4gICAgbGV0IHRhYmxlRGlmZiA9IHRoaXMuZW5zdXJlVGFibGUodGFibGUpO1xuICAgIHRoaXMubGVuZ3RoICs9IG9ianMubGVuZ3RoO1xuICAgIG1lcmdlQXJyYXlzKHRhYmxlRGlmZi5yZW1vdmVzLCBvYmpzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZW1vdmUodGFibGUsIHF1ZXJ5Pykge1xuICAgIGxldCB0YWJsZURpZmYgPSB0aGlzLmVuc3VyZVRhYmxlKHRhYmxlKTtcbiAgICBsZXQgZm91bmQgPSB0aGlzLml4ZXIuZmluZCh0YWJsZSwgcXVlcnkpO1xuICAgIHRoaXMubGVuZ3RoICs9IGZvdW5kLmxlbmd0aDtcbiAgICBtZXJnZUFycmF5cyh0YWJsZURpZmYucmVtb3ZlcywgZm91bmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG1lcmdlKGRpZmYpIHtcbiAgICBmb3IobGV0IHRhYmxlIGluIGRpZmYudGFibGVzKSB7XG4gICAgICBsZXQgdGFibGVEaWZmID0gZGlmZi50YWJsZXNbdGFibGVdO1xuICAgICAgdGhpcy5hZGRNYW55KHRhYmxlLCB0YWJsZURpZmYuYWRkcyk7XG4gICAgICB0aGlzLnJlbW92ZUZhY3RzKHRhYmxlLCB0YWJsZURpZmYucmVtb3Zlcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJldmVyc2UoKSB7XG4gICAgbGV0IHJldmVyc2VkID0gbmV3IERpZmYodGhpcy5peGVyKTtcbiAgICBmb3IobGV0IHRhYmxlIGluIHRoaXMudGFibGVzKSB7XG4gICAgICBsZXQgZGlmZiA9IHRoaXMudGFibGVzW3RhYmxlXTtcbiAgICAgIHJldmVyc2VkLmFkZE1hbnkodGFibGUsIGRpZmYucmVtb3Zlcyk7XG4gICAgICByZXZlcnNlZC5yZW1vdmVGYWN0cyh0YWJsZSwgZGlmZi5hZGRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldmVyc2VkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmRleGVyIHtcbiAgdGFibGVzO1xuICBnbG9iYWxDb3VudDtcbiAgZWRiVGFibGVzO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRhYmxlcyA9IHt9O1xuICAgIHRoaXMuZ2xvYmFsQ291bnQgPSAwO1xuICAgIHRoaXMuZWRiVGFibGVzID0ge307XG4gIH1cbiAgYWRkVGFibGUobmFtZSwga2V5cyA9IFtdKSB7XG4gICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZXNbbmFtZV07XG4gICAga2V5cyA9IGtleXMuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gXCJfX2lkXCIpO1xuICAgIGlmKHRhYmxlICYmIGtleXMubGVuZ3RoKSB7XG4gICAgICB0YWJsZS5maWVsZHMgPSBrZXlzO1xuICAgICAgdGFibGUuc3RyaW5naWZ5ID0gZ2VuZXJhdGVTdHJpbmdGbihrZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFibGUgPSB0aGlzLnRhYmxlc1tuYW1lXSA9IHt0YWJsZTogW10sIGhhc2hUb0l4OiB7fSwgZmFjdEhhc2g6IHt9LCBpbmRleGVzOiB7fSwgdHJpZ2dlcnM6IHt9LCBmaWVsZHM6IGtleXMsIHN0cmluZ2lmeTogZ2VuZXJhdGVTdHJpbmdGbihrZXlzKSwga2V5TG9va3VwOiB7fX07XG4gICAgICB0aGlzLmVkYlRhYmxlc1tuYW1lXSA9IHRydWU7XG4gICAgfVxuICAgIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgdGFibGUua2V5TG9va3VwW2tleVswXV0gPSBrZXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWJsZS5rZXlMb29rdXBba2V5XSA9IGtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xuICB9XG4gIGNsZWFyVGFibGUobmFtZSkge1xuICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGVzW25hbWVdO1xuICAgIGlmKCF0YWJsZSkgcmV0dXJuO1xuXG4gICAgdGFibGUudGFibGUgPSBbXTtcbiAgICB0YWJsZS5mYWN0SGFzaCA9IHt9O1xuICAgIGZvcihsZXQgaW5kZXhOYW1lIGluIHRhYmxlLmluZGV4ZXMpIHtcbiAgICAgIHRhYmxlLmluZGV4ZXNbaW5kZXhOYW1lXS5pbmRleCA9IHt9O1xuICAgICAgdGFibGUuaW5kZXhlc1tpbmRleE5hbWVdLmNhY2hlID0ge2lkOiB7fSwgaXg6IHt9fTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVGFibGUodGFibGVJZCwgYWRkcywgcmVtb3Zlcykge1xuICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGVzW3RhYmxlSWRdO1xuICAgIGlmKCF0YWJsZSB8fCAhdGFibGUuZmllbGRzLmxlbmd0aCkge1xuICAgICAgbGV0IGV4YW1wbGUgPSBhZGRzWzBdIHx8IHJlbW92ZXNbMF07XG4gICAgICB0YWJsZSA9IHRoaXMuYWRkVGFibGUodGFibGVJZCwgT2JqZWN0LmtleXMoZXhhbXBsZSkpO1xuICAgIH1cbiAgICBsZXQgc3RyaW5naWZ5ID0gdGFibGUuc3RyaW5naWZ5O1xuICAgIGxldCBmYWN0cyA9IHRhYmxlLnRhYmxlO1xuICAgIGxldCBmYWN0SGFzaCA9IHRhYmxlLmZhY3RIYXNoO1xuICAgIGxldCBoYXNoVG9JeCA9IHRhYmxlLmhhc2hUb0l4O1xuICAgIGxldCBsb2NhbEhhc2ggPSB7fTtcbiAgICBsZXQgaGFzaFRvRmFjdCA9IHt9O1xuICAgIGxldCBoYXNoZXMgPSBbXTtcbiAgICBmb3IobGV0IGFkZCBvZiBhZGRzKSB7XG4gICAgICBsZXQgaGFzaCA9IGFkZC5fX2lkIHx8IHN0cmluZ2lmeShhZGQpO1xuICAgICAgaWYobG9jYWxIYXNoW2hhc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9jYWxIYXNoW2hhc2hdID0gMTtcbiAgICAgICAgaGFzaFRvRmFjdFtoYXNoXSA9IGFkZDtcbiAgICAgICAgaGFzaGVzLnB1c2goaGFzaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbEhhc2hbaGFzaF0rKztcbiAgICAgIH1cbiAgICAgIGFkZC5fX2lkID0gaGFzaDtcbiAgICB9XG4gICAgZm9yKGxldCByZW1vdmUgb2YgcmVtb3Zlcykge1xuICAgICAgbGV0IGhhc2ggPSByZW1vdmUuX19pZCB8fCBzdHJpbmdpZnkocmVtb3ZlKTtcbiAgICAgIGlmKGxvY2FsSGFzaFtoYXNoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvY2FsSGFzaFtoYXNoXSA9IC0xO1xuICAgICAgICBoYXNoVG9GYWN0W2hhc2hdID0gcmVtb3ZlO1xuICAgICAgICBoYXNoZXMucHVzaChoYXNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsSGFzaFtoYXNoXS0tO1xuICAgICAgfVxuICAgICAgcmVtb3ZlLl9faWQgPSBoYXNoO1xuICAgIH1cbiAgICBsZXQgcmVhbEFkZHMgPSBbXTtcbiAgICBsZXQgcmVhbFJlbW92ZXMgPSBbXTtcbiAgICBmb3IobGV0IGhhc2ggb2YgaGFzaGVzKSB7XG4gICAgICBsZXQgY291bnQgPSBsb2NhbEhhc2hbaGFzaF07XG4gICAgICBpZihjb3VudCA+IDAgJiYgIWZhY3RIYXNoW2hhc2hdKSB7XG4gICAgICAgIGxldCBmYWN0ID0gaGFzaFRvRmFjdFtoYXNoXTtcbiAgICAgICAgcmVhbEFkZHMucHVzaChmYWN0KTtcbiAgICAgICAgZmFjdHMucHVzaChmYWN0KTtcbiAgICAgICAgZmFjdEhhc2hbaGFzaF0gPSBmYWN0O1xuICAgICAgICBoYXNoVG9JeFtoYXNoXSA9IGZhY3RzLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2UgaWYoY291bnQgPCAwICYmIGZhY3RIYXNoW2hhc2hdKSB7XG4gICAgICAgIGxldCBmYWN0ID0gaGFzaFRvRmFjdFtoYXNoXTtcbiAgICAgICAgbGV0IGl4ID0gaGFzaFRvSXhbaGFzaF07XG4gICAgICAgIC8vc3dhcCB0aGUgbGFzdCBmYWN0IHdpdGggdGhpcyBvbmUgdG8gcHJldmVudCBob2xlc1xuICAgICAgICBsZXQgbGFzdEZhY3QgPSBmYWN0cy5wb3AoKTtcbiAgICAgICAgaWYobGFzdEZhY3QgJiYgbGFzdEZhY3QuX19pZCAhPT0gZmFjdC5fX2lkKSB7XG4gICAgICAgICAgZmFjdHNbaXhdID0gbGFzdEZhY3Q7XG4gICAgICAgICAgaGFzaFRvSXhbbGFzdEZhY3QuX19pZF0gPSBpeDtcbiAgICAgICAgfVxuICAgICAgICByZWFsUmVtb3Zlcy5wdXNoKGZhY3QpO1xuICAgICAgICBkZWxldGUgZmFjdEhhc2hbaGFzaF07XG4gICAgICAgIGRlbGV0ZSBoYXNoVG9JeFtoYXNoXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHthZGRzOnJlYWxBZGRzLCByZW1vdmVzOnJlYWxSZW1vdmVzfTtcbiAgfVxuXG4gIGNvbGxlY3RvcihrZXlzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiB7fSxcbiAgICAgIGNhY2hlOiB7aWQ6IHt9LCBpeDoge319LFxuICAgICAgaGFzaGVyOiBnZW5lcmF0ZVN0cmluZ0ZuKGtleXMpLFxuICAgICAgY29sbGVjdDogZ2VuZXJhdGVDb2xsZWN0b3IyKGtleXMpLFxuICAgIH1cbiAgfVxuICBmYWN0VG9JbmRleCh0YWJsZSwgZmFjdCkge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoZmFjdCk7XG4gICAgaWYoIWtleXMubGVuZ3RoKSByZXR1cm4gdGFibGUudGFibGUuc2xpY2UoKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmluZGV4KHRhYmxlLCBrZXlzKTtcbiAgICBsZXQgcmVzdWx0ID0gaW5kZXguaW5kZXhbaW5kZXguaGFzaGVyKGZhY3QpXTtcbiAgICBpZihyZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGV4ZWNEaWZmKGRpZmY6IERpZmYpOiB7dHJpZ2dlcnM6IGFueSwgcmVhbERpZmZzOiBhbnl9IHtcbiAgICBsZXQgdHJpZ2dlcnMgPSB7fTtcbiAgICBsZXQgcmVhbERpZmZzID0ge307XG4gICAgbGV0IHRhYmxlSWRzID0gT2JqZWN0LmtleXMoZGlmZi50YWJsZXMpO1xuICAgIGZvcihsZXQgdGFibGVJZCBvZiB0YWJsZUlkcykge1xuICAgICAgbGV0IHRhYmxlRGlmZiA9IGRpZmYudGFibGVzW3RhYmxlSWRdO1xuICAgICAgaWYodGFibGVEaWZmLmFkZHMubGVuZ3RoID09PSAwICYmIHRhYmxlRGlmZi5yZW1vdmVzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICBsZXQgcmVhbERpZmYgPSB0aGlzLnVwZGF0ZVRhYmxlKHRhYmxlSWQsIHRhYmxlRGlmZi5hZGRzLCB0YWJsZURpZmYucmVtb3Zlcyk7XG4gICAgICAvLyBnbyB0aHJvdWdoIGFsbCB0aGUgaW5kZXhlcyBhbmQgdXBkYXRlIHRoZW0uXG4gICAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlc1t0YWJsZUlkXTtcbiAgICAgIGxldCBpbmRleGVzID0gT2JqZWN0LmtleXModGFibGUuaW5kZXhlcyk7XG4gICAgICBmb3IobGV0IGluZGV4TmFtZSBvZiBpbmRleGVzKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRhYmxlLmluZGV4ZXNbaW5kZXhOYW1lXTtcbiAgICAgICAgaW5kZXguY29sbGVjdChpbmRleC5pbmRleCwgcmVhbERpZmYuYWRkcywgcmVhbERpZmYucmVtb3ZlcywgaW5kZXguY2FjaGUpO1xuICAgICAgfVxuICAgICAgbGV0IGN1clRyaWdnZXJzID0gT2JqZWN0LmtleXModGFibGUudHJpZ2dlcnMpO1xuICAgICAgZm9yKGxldCB0cmlnZ2VyTmFtZSBvZiBjdXJUcmlnZ2Vycykge1xuICAgICAgICBsZXQgdHJpZ2dlciA9IHRhYmxlLnRyaWdnZXJzW3RyaWdnZXJOYW1lXTtcbiAgICAgICAgdHJpZ2dlcnNbdHJpZ2dlck5hbWVdID0gdHJpZ2dlcjtcbiAgICAgIH1cbiAgICAgIHJlYWxEaWZmc1t0YWJsZUlkXSA9IHJlYWxEaWZmO1xuICAgIH1cbiAgICByZXR1cm4ge3RyaWdnZXJzLCByZWFsRGlmZnN9O1xuICB9XG4gIGV4ZWNUcmlnZ2VyKHRyaWdnZXIpIHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlKHRyaWdnZXIubmFtZSlcbiAgICAvLyBzaW5jZSB2aWV3cyBtaWdodCBiZSBjaGFuZ2VkIGR1cmluZyB0aGUgdHJpZ2dlcmluZyBwcm9jZXNzLCB3ZSB3YW50IHRvIGZhdm9yXG4gICAgLy8ganVzdCB1c2luZyB0aGUgdmlldyBpdHNlbGYgYXMgdGhlIHRyaWdnZXIgaWYgaXQgaXMgb25lLiBPdGhlcndpc2UsIHdlIHVzZSB0aGVcbiAgICAvLyB0cmlnZ2VyJ3MgZXhlYyBmdW5jdGlvbi4gVGhpcyBlbnN1cmVzIHRoYXQgaWYgYSB2aWV3IGlzIHJlY29tcGlsZWQgYW5kIGFkZGVkXG4gICAgLy8gdGhhdCBhbnkgYWxyZWFkeSBxdWV1ZWQgdHJpZ2dlcnMgd2lsbCB1c2UgdGhlIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIG9sZCBxdWV1ZWQgb25lLlxuICAgIGxldCB7cmVzdWx0cyA9IHVuZGVmaW5lZCwgdW5wcm9qZWN0ZWQgPSB1bmRlZmluZWR9ID0gKHRhYmxlLnZpZXcgPyB0YWJsZS52aWV3LmV4ZWMoKSA6IHRyaWdnZXIuZXhlYygpKSB8fCB7fTtcbiAgICBpZighcmVzdWx0cykgcmV0dXJuO1xuICAgIGxldCBwcmV2UmVzdWx0cyA9IHRhYmxlLmZhY3RIYXNoO1xuICAgIGxldCBwcmV2SGFzaGVzID0gT2JqZWN0LmtleXMocHJldlJlc3VsdHMpO1xuICAgIHRhYmxlLnVucHJvamVjdGVkID0gdW5wcm9qZWN0ZWQ7XG4gICAgaWYocmVzdWx0cykge1xuICAgICAgbGV0IGRpZmYgPSBuZXcgRGlmZih0aGlzKTtcbiAgICAgIHRoaXMuY2xlYXJUYWJsZSh0cmlnZ2VyLm5hbWUpO1xuICAgICAgZGlmZi5hZGRNYW55KHRyaWdnZXIubmFtZSwgcmVzdWx0cyk7XG4gICAgICBsZXQge3RyaWdnZXJzfSA9IHRoaXMuZXhlY0RpZmYoZGlmZik7XG4gICAgICBsZXQgbmV3SGFzaGVzID0gdGFibGUuZmFjdEhhc2g7XG4gICAgICBpZihwcmV2SGFzaGVzLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMobmV3SGFzaGVzKS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHNhbWUgPSB0cnVlO1xuICAgICAgICBmb3IobGV0IGhhc2ggb2YgcHJldkhhc2hlcykge1xuICAgICAgICAgIGlmKCFuZXdIYXNoZXNbaGFzaF0pIHtcbiAgICAgICAgICAgIHNhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2FtZSA/IHVuZGVmaW5lZCA6IHRyaWdnZXJzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdHJhbnNpdGl2ZWx5Q2xlYXJUcmlnZ2VycyhzdGFydGluZ1RyaWdnZXJzKSB7XG4gICAgbGV0IGNsZWFyZWQgPSB7fTtcbiAgICBsZXQgcmVtYWluaW5nID0gT2JqZWN0LmtleXMoc3RhcnRpbmdUcmlnZ2Vycyk7XG5cbiAgICBmb3IobGV0IGl4ID0gMDsgaXggPCByZW1haW5pbmcubGVuZ3RoOyBpeCsrKSB7XG4gICAgICBsZXQgdHJpZ2dlciA9IHJlbWFpbmluZ1tpeF07XG4gICAgICBpZihjbGVhcmVkW3RyaWdnZXJdKSBjb250aW51ZTtcbiAgICAgIHRoaXMuY2xlYXJUYWJsZSh0cmlnZ2VyKTtcbiAgICAgIGNsZWFyZWRbdHJpZ2dlcl0gPSB0cnVlO1xuICAgICAgcmVtYWluaW5nLnB1c2guYXBwbHkocmVtYWluaW5nLCBPYmplY3Qua2V5cyh0aGlzLnRhYmxlKHRyaWdnZXIpLnRyaWdnZXJzKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkNMRUFSRUQ6IFwiLCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsZWFyZWQ7XG4gIH1cbiAgZXhlY1RyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgbGV0IG5ld1RyaWdnZXJzID0ge307XG4gICAgbGV0IHJldHJpZ2dlciA9IGZhbHNlO1xuICAgIGZvcihsZXQgdHJpZ2dlck5hbWUgaW4gdHJpZ2dlcnMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZzpcIiwgdHJpZ2dlck5hbWUpO1xuICAgICAgbGV0IHRyaWdnZXIgPSB0cmlnZ2Vyc1t0cmlnZ2VyTmFtZV07XG4gICAgICBsZXQgbmV4dFJvdW5kID0gdGhpcy5leGVjVHJpZ2dlcih0cmlnZ2VyKTtcbiAgICAgIGlmKG5leHRSb3VuZCkge1xuICAgICAgICByZXRyaWdnZXIgPSB0cnVlO1xuICAgICAgICBmb3IobGV0IHRyaWdnZXIgaW4gbmV4dFJvdW5kKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJRdWV1aW5nOlwiLCB0cmlnZ2VyKTtcbiAgICAgICAgICBuZXdUcmlnZ2Vyc1t0cmlnZ2VyXSA9IG5leHRSb3VuZFt0cmlnZ2VyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZihyZXRyaWdnZXIpIHtcbiAgICAgIHJldHVybiBuZXdUcmlnZ2VycztcbiAgICB9XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gSW5kZXhlciBQdWJsaWMgQVBJXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHNlcmlhbGl6ZShhc09iamVjdD8pIHtcbiAgICBsZXQgZHVtcCA9IHt9O1xuICAgIGZvcihsZXQgdGFibGVOYW1lIGluIHRoaXMudGFibGVzKSB7XG4gICAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlc1t0YWJsZU5hbWVdO1xuICAgICAgaWYoIXRhYmxlLmlzVmlldykge1xuICAgICAgICBkdW1wW3RhYmxlTmFtZV0gPSB0YWJsZS50YWJsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoYXNPYmplY3QpIHtcbiAgICAgIHJldHVybiBkdW1wO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZHVtcCk7XG4gIH1cbiAgbG9hZChzZXJpYWxpemVkKSB7XG4gICAgbGV0IGR1bXAgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgIGxldCBkaWZmID0gdGhpcy5kaWZmKCk7XG4gICAgZm9yKGxldCB0YWJsZU5hbWUgaW4gZHVtcCkge1xuICAgICAgZGlmZi5hZGRNYW55KHRhYmxlTmFtZSwgZHVtcFt0YWJsZU5hbWVdKTtcbiAgICB9XG4gICAgaWYoSU5DUkVNRU5UQUwpIHtcbiAgICAgIHRoaXMuYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBwbHlEaWZmKGRpZmYpO1xuICAgIH1cbiAgfVxuICBkaWZmKCkge1xuICAgIHJldHVybiBuZXcgRGlmZih0aGlzKTtcbiAgfVxuICBhcHBseURpZmYoZGlmZjpEaWZmKSB7XG4gICAgaWYoSU5DUkVNRU5UQUwpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcGx5RGlmZkluY3JlbWVudGFsKGRpZmYpO1xuICAgIH1cbiAgICBsZXQge3RyaWdnZXJzLCByZWFsRGlmZnN9ID0gdGhpcy5leGVjRGlmZihkaWZmKTtcbiAgICBsZXQgY2xlYXJlZDtcbiAgICBsZXQgcm91bmQgPSAwO1xuICAgIGlmKHRyaWdnZXJzKSBjbGVhcmVkID0gdGhpcy50cmFuc2l0aXZlbHlDbGVhclRyaWdnZXJzKHRyaWdnZXJzKTtcbiAgICB3aGlsZSh0cmlnZ2Vycykge1xuICAgICAgZm9yKGxldCB0cmlnZ2VyIGluIHRyaWdnZXJzKSB7XG4gICAgICAgIGNsZWFyZWRbdHJpZ2dlcl0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbnNvbGUuZ3JvdXAoYFJPVU5EICR7cm91bmR9YCk7XG4gICAgICB0cmlnZ2VycyA9IHRoaXMuZXhlY1RyaWdnZXJzKHRyaWdnZXJzKTtcbiAgICAgIHJvdW5kKys7XG4gICAgICAvLyBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuICAgIGZvcihsZXQgdHJpZ2dlciBvZiBPYmplY3Qua2V5cyhjbGVhcmVkKSkge1xuICAgICAgaWYoIWNsZWFyZWRbdHJpZ2dlcl0pIGNvbnRpbnVlO1xuICAgICAgbGV0IHZpZXcgPSB0aGlzLnRhYmxlKHRyaWdnZXIpLnZpZXc7XG4gICAgICBpZih2aWV3KSB7XG4gICAgICAgIHRoaXMuZXhlY1RyaWdnZXIodmlldyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRhYmxlKHRhYmxlSWQpIHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlc1t0YWJsZUlkXTtcbiAgICBpZih0YWJsZSkgcmV0dXJuIHRhYmxlO1xuICAgIHJldHVybiB0aGlzLmFkZFRhYmxlKHRhYmxlSWQpO1xuICB9XG4gIGluZGV4KHRhYmxlT3JJZDpzdHJpbmd8e30sIGtleXM6YW55W10pIHtcbiAgICBsZXQgdGFibGU7XG4gICAgaWYodHlwZW9mIHRhYmxlT3JJZCA9PT0gXCJzdHJpbmdcIikgdGFibGUgPSB0aGlzLnRhYmxlKHRhYmxlT3JJZCk7XG4gICAgZWxzZSB0YWJsZSA9IHRhYmxlT3JJZDtcbiAgICBrZXlzLnNvcnQoKTtcbiAgICBsZXQgaW5kZXhOYW1lID0ga2V5cy5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcIl9faWRcIikuam9pbihcInxcIik7XG4gICAgbGV0IGluZGV4ID0gdGFibGUuaW5kZXhlc1tpbmRleE5hbWVdO1xuICAgIGlmKCFpbmRleCkge1xuICAgICAgbGV0IHRhYmxlS2V5cyA9IFtdO1xuICAgICAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICB0YWJsZUtleXMucHVzaCh0YWJsZS5rZXlMb29rdXBba2V5XSB8fCBrZXkpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSB0YWJsZS5pbmRleGVzW2luZGV4TmFtZV0gPSB0aGlzLmNvbGxlY3Rvcih0YWJsZUtleXMpO1xuICAgICAgaW5kZXguY29sbGVjdChpbmRleC5pbmRleCwgdGFibGUudGFibGUsIFtdLCBpbmRleC5jYWNoZSk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuICBmaW5kKHRhYmxlSWQsIHF1ZXJ5Pykge1xuICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGVzW3RhYmxlSWRdO1xuICAgIGlmKCF0YWJsZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSBpZighcXVlcnkpIHtcbiAgICAgIHJldHVybiB0YWJsZS50YWJsZS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mYWN0VG9JbmRleCh0YWJsZSwgcXVlcnkpO1xuICAgIH1cbiAgfVxuICBmaW5kT25lKHRhYmxlSWQsIHF1ZXJ5Pykge1xuICAgIHJldHVybiB0aGlzLmZpbmQodGFibGVJZCwgcXVlcnkpWzBdO1xuICB9XG4gIHF1ZXJ5KG5hbWUgPSBcInVua25vd25cIikge1xuICAgIHJldHVybiBuZXcgUXVlcnkodGhpcywgbmFtZSk7XG4gIH1cbiAgdW5pb24obmFtZSkge1xuICAgIHJldHVybiBuZXcgVW5pb24odGhpcywgbmFtZSk7XG4gIH1cbiAgdHJpZ2dlcihuYW1lOnN0cmluZywgdGFibGU6c3RyaW5nfHN0cmluZ1tdLCBleGVjOihpeGVyOkluZGV4ZXIpID0+IHZvaWQsIGV4ZWNJbmNyZW1lbnRhbD86KGNoYW5nZXM6YW55KSA9PiBhbnkpIHtcbiAgICBsZXQgdGFibGVzID0gKHR5cGVvZiB0YWJsZSA9PT0gXCJzdHJpbmdcIikgPyBbdGFibGVdIDogdGFibGU7XG4gICAgbGV0IHRyaWdnZXIgPSB7bmFtZSwgdGFibGVzLCBleGVjLCBleGVjSW5jcmVtZW50YWx9O1xuICAgIGZvcihsZXQgdGFibGVJZCBvZiB0YWJsZXMpIHtcbiAgICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGUodGFibGVJZCk7XG4gICAgICB0YWJsZS50cmlnZ2Vyc1tuYW1lXSA9IHRyaWdnZXI7XG4gICAgfVxuICAgIGlmKCFJTkNSRU1FTlRBTCkge1xuICAgICAgbGV0IG5leHRSb3VuZCA9IHRoaXMuZXhlY1RyaWdnZXIodHJpZ2dlcik7XG4gICAgICB3aGlsZShuZXh0Um91bmQpIHtcbiAgICAgICAgbmV4dFJvdW5kID0gdGhpcy5leGVjVHJpZ2dlcnMobmV4dFJvdW5kKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKCF0YWJsZXMubGVuZ3RoKSB7IHJldHVybiBleGVjKHRoaXMpOyB9XG4gICAgICBsZXQgaW5pdGlhbCA9IHtbdGFibGVzWzBdXToge2FkZHM6IHRoaXMudGFibGVzW3RhYmxlc1swXV0udGFibGUsIHJlbW92ZXM6IFtdfX07XG4gICAgICBsZXQge3RyaWdnZXJzLCBjaGFuZ2VzfSA9IHRoaXMuZXhlY1RyaWdnZXJJbmNyZW1lbnRhbCh0cmlnZ2VyLCBpbml0aWFsKTtcbiAgICAgIHdoaWxlKHRyaWdnZXJzKSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gdGhpcy5leGVjVHJpZ2dlcnNJbmNyZW1lbnRhbCh0cmlnZ2VycywgY2hhbmdlcyk7XG4gICAgICAgIGlmKCFyZXN1bHRzKSBicmVha1xuICAgICAgICB0cmlnZ2VycyA9IHJlc3VsdHMudHJpZ2dlcnM7XG4gICAgICAgIGNoYW5nZXMgPSByZXN1bHRzLmNoYW5nZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXNWaWV3KHF1ZXJ5OlF1ZXJ5fFVuaW9uKSB7XG4gICAgbGV0IG5hbWUgPSBxdWVyeS5uYW1lO1xuICAgIGlmKHRoaXMudGFibGVzW25hbWVdKSB7XG4gICAgICB0aGlzLnJlbW92ZVZpZXcobmFtZSk7XG4gICAgfVxuICAgIGxldCB2aWV3ID0gdGhpcy50YWJsZShuYW1lKTtcbiAgICB0aGlzLmVkYlRhYmxlc1tuYW1lXSA9IGZhbHNlO1xuICAgIHZpZXcudmlldyA9IHF1ZXJ5O1xuICAgIHZpZXcuaXNWaWV3ID0gdHJ1ZTtcbiAgICB0aGlzLnRyaWdnZXIobmFtZSwgcXVlcnkudGFibGVzLCBxdWVyeS5leGVjLmJpbmQocXVlcnkpLCBxdWVyeS5leGVjSW5jcmVtZW50YWwuYmluZChxdWVyeSkpO1xuICB9XG4gIHJlbW92ZVZpZXcoaWQ6c3RyaW5nKSB7XG4gICAgZm9yKGxldCB0YWJsZSBvZiB0aGlzLnRhYmxlcykge1xuICAgICAgZGVsZXRlIHRhYmxlLnRyaWdnZXJzW2lkXTtcbiAgICB9XG4gIH1cbiAgdG90YWxGYWN0cygpIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGZvcihsZXQgdGFibGVOYW1lIGluIHRoaXMudGFibGVzKSB7XG4gICAgICB0b3RhbCArPSB0aGlzLnRhYmxlc1t0YWJsZU5hbWVdLnRhYmxlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG4gIGZhY3RzUGVyVGFibGUoKSB7XG4gICAgbGV0IGluZm8gPSB7fTtcbiAgICBmb3IobGV0IHRhYmxlTmFtZSBpbiB0aGlzLnRhYmxlcykge1xuICAgICAgaW5mb1t0YWJsZU5hbWVdID0gdGhpcy50YWJsZXNbdGFibGVOYW1lXS50YWJsZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZjpEaWZmKSB7XG4gICAgaWYoZGlmZi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkRJRkYgU0laRTogXCIsIGRpZmYubGVuZ3RoLCBkaWZmKTtcblx0XHRsZXQge3RyaWdnZXJzLCByZWFsRGlmZnN9ID0gdGhpcy5leGVjRGlmZihkaWZmKTtcblx0XHRsZXQgcm91bmQgPSAwO1xuICAgIGxldCBjaGFuZ2VzID0gcmVhbERpZmZzO1xuXHRcdHdoaWxlKHRyaWdnZXJzKSB7XG5cdFx0ICAvLyBjb25zb2xlLmdyb3VwKGBST1VORCAke3JvdW5kfWApO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJDSEFOR0VTOiBcIiwgY2hhbmdlcyk7XG5cdFx0ICBsZXQgcmVzdWx0cyA9IHRoaXMuZXhlY1RyaWdnZXJzSW5jcmVtZW50YWwodHJpZ2dlcnMsIGNoYW5nZXMpO1xuICAgICAgLy8gY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgaWYoIXJlc3VsdHMpIGJyZWFrXG4gICAgICB0cmlnZ2VycyA9IHJlc3VsdHMudHJpZ2dlcnM7XG4gICAgICBjaGFuZ2VzID0gcmVzdWx0cy5jaGFuZ2VzXG5cdFx0ICByb3VuZCsrO1xuXHRcdH1cblx0fVxuXG4gIGV4ZWNUcmlnZ2VySW5jcmVtZW50YWwodHJpZ2dlciwgY2hhbmdlcyk6YW55IHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlKHRyaWdnZXIubmFtZSk7XG4gICAgbGV0IGFkZHMsIHByb3ZlbmFuY2UsIHJlbW92ZXMsIGluZm87XG4gICAgaWYodHJpZ2dlci5leGVjSW5jcmVtZW50YWwpIHtcbiAgICAgIGluZm8gPSB0cmlnZ2VyLmV4ZWNJbmNyZW1lbnRhbChjaGFuZ2VzLCB0YWJsZSkgfHwge307XG4gICAgICBhZGRzID0gaW5mby5hZGRzO1xuICAgICAgcmVtb3ZlcyA9IGluZm8ucmVtb3ZlcztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlci5leGVjKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBkaWZmID0gbmV3IHJ1bnRpbWUuRGlmZih0aGlzKTtcbiAgICBpZihhZGRzLmxlbmd0aCkge1xuICAgICAgZGlmZi5hZGRNYW55KHRyaWdnZXIubmFtZSwgYWRkcyk7XG4gICAgfVxuICAgIGlmKHJlbW92ZXMubGVuZ3RoKSB7XG4gICAgICBkaWZmLnJlbW92ZUZhY3RzKHRyaWdnZXIubmFtZSwgcmVtb3Zlcyk7XG4gICAgfVxuICAgIGxldCB1cGRhdGVkID0gdGhpcy5leGVjRGlmZihkaWZmKTtcbiAgICBsZXQge3JlYWxEaWZmc30gPSB1cGRhdGVkO1xuICAgIGlmKHJlYWxEaWZmc1t0cmlnZ2VyLm5hbWVdICYmIChyZWFsRGlmZnNbdHJpZ2dlci5uYW1lXS5hZGRzLmxlbmd0aCB8fCByZWFsRGlmZnNbdHJpZ2dlci5uYW1lXS5yZW1vdmVzKSkge1xuICAgICAgcmV0dXJuIHtjaGFuZ2VzOiByZWFsRGlmZnNbdHJpZ2dlci5uYW1lXSwgdHJpZ2dlcnM6IHVwZGF0ZWQudHJpZ2dlcnN9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgZXhlY1RyaWdnZXJzSW5jcmVtZW50YWwodHJpZ2dlcnMsIGNoYW5nZXMpIHtcbiAgICBsZXQgbmV3VHJpZ2dlcnMgPSB7fTtcbiAgICBsZXQgbmV4dENoYW5nZXMgPSB7fTtcbiAgICBsZXQgcmV0cmlnZ2VyID0gZmFsc2U7XG4gICAgbGV0IHRyaWdnZXJLZXlzID0gT2JqZWN0LmtleXModHJpZ2dlcnMpO1xuICAgIGZvcihsZXQgdHJpZ2dlck5hbWUgb2YgdHJpZ2dlcktleXMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZzpcIiwgdHJpZ2dlck5hbWUpO1xuICAgICAgbGV0IHRyaWdnZXIgPSB0cmlnZ2Vyc1t0cmlnZ2VyTmFtZV07XG4gICAgICBsZXQgbmV4dFJvdW5kID0gdGhpcy5leGVjVHJpZ2dlckluY3JlbWVudGFsKHRyaWdnZXIsIGNoYW5nZXMpO1xuICAgICAgaWYobmV4dFJvdW5kICYmIG5leHRSb3VuZC5jaGFuZ2VzKSB7XG4gICAgICAgIG5leHRDaGFuZ2VzW3RyaWdnZXJOYW1lXSA9IG5leHRSb3VuZC5jaGFuZ2VzO1xuICAgICAgICBpZihuZXh0Um91bmQudHJpZ2dlcnMpIHtcblxuICAgICAgICAgIGxldCBuZXh0Um91bmRLZXlzID0gT2JqZWN0LmtleXMobmV4dFJvdW5kLnRyaWdnZXJzKTtcbiAgICAgICAgICBmb3IobGV0IHRyaWdnZXIgb2YgbmV4dFJvdW5kS2V5cykge1xuICAgICAgICAgICAgaWYodHJpZ2dlciAmJiBuZXh0Um91bmQudHJpZ2dlcnNbdHJpZ2dlcl0pIHtcbiAgICAgICAgICAgICAgcmV0cmlnZ2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJRdWV1aW5nOlwiLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgICAgbmV3VHJpZ2dlcnNbdHJpZ2dlcl0gPSBuZXh0Um91bmQudHJpZ2dlcnNbdHJpZ2dlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmKHJldHJpZ2dlcikge1xuICAgICAgcmV0dXJuIHtjaGFuZ2VzOiBuZXh0Q2hhbmdlcywgdHJpZ2dlcnM6IG5ld1RyaWdnZXJzfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb3ZlbmFuY2VUYWJsZShpeGVyKSB7XG4gIGxldCB0YWJsZSA9IGl4ZXIuYWRkVGFibGUoXCJwcm92ZW5hbmNlXCIsIFtcInRhYmxlXCIsIFtcInJvd1wiLCBcIl9faWRcIl0sIFwicm93IGluc3RhbmNlXCIsIFwic291cmNlXCIsIFtcInNvdXJjZSByb3dcIiwgXCJfX2lkXCJdXSk7XG4gIC8vIGdlbmVyYXRlIHNvbWUgaW5kZXhlcyB0aGF0IHdlIGtub3cgd2UncmUgZ29pbmcgdG8gbmVlZCB1cGZyb250XG4gIGl4ZXIuaW5kZXgoXCJwcm92ZW5hbmNlXCIsIFtcInRhYmxlXCIsIFwicm93XCJdKTtcbiAgaXhlci5pbmRleChcInByb3ZlbmFuY2VcIiwgW1widGFibGVcIiwgXCJyb3cgaW5zdGFuY2VcIl0pO1xuICBpeGVyLmluZGV4KFwicHJvdmVuYW5jZVwiLCBbXCJ0YWJsZVwiLCBcInNvdXJjZVwiLCBcInNvdXJjZSByb3dcIl0pO1xuICBpeGVyLmluZGV4KFwicHJvdmVuYW5jZVwiLCBbXCJ0YWJsZVwiXSk7XG4gIHJldHVybiBpeGVyO1xufVxuXG5mdW5jdGlvbiBtYXBwaW5nVG9EaWZmKGRpZmYsIGFjdGlvbiwgbWFwcGluZywgYWxpYXNlcywgcmV2ZXJzZUxvb2t1cCkge1xuICBmb3IobGV0IGZyb20gaW4gbWFwcGluZykge1xuICAgIGxldCB0byA9IG1hcHBpbmdbZnJvbV07XG4gICAgaWYodG8uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICBsZXQgc291cmNlID0gdG9bMF07XG4gICAgICBpZih0eXBlb2Ygc291cmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHNvdXJjZSA9IGFsaWFzZXNbcmV2ZXJzZUxvb2t1cFtzb3VyY2VdXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdXJjZSA9IGFsaWFzZXNbc291cmNlXTtcbiAgICAgIH1cbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbiwgZnJvbSwgXCJ0byBzb3VyY2VcIjogc291cmNlLCBcInRvIGZpZWxkXCI6IHRvWzFdfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbSwgdmFsdWU6IHRvfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaWZmO1xufVxuXG5leHBvcnQgdmFyIFF1ZXJ5RnVuY3Rpb25zID0ge31cbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcbnZhciBBUkdVTUVOVF9OQU1FUyA9IC8oW15cXHMsXSspL2c7XG5mdW5jdGlvbiBnZXRQYXJhbU5hbWVzKGZ1bmMpIHtcbiAgdmFyIGZuU3RyID0gZnVuYy50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKTtcbiAgdmFyIHJlc3VsdCA9IGZuU3RyLnNsaWNlKGZuU3RyLmluZGV4T2YoJygnKSsxLCBmblN0ci5pbmRleE9mKCcpJykpLm1hdGNoKEFSR1VNRU5UX05BTUVTKTtcbiAgaWYocmVzdWx0ID09PSBudWxsKVxuICAgIHJlc3VsdCA9IFtdO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZShuYW1lLCBvcHRzLCBmdW5jKSB7XG4gIGxldCBwYXJhbXMgPSBnZXRQYXJhbU5hbWVzKGZ1bmMpO1xuICBvcHRzLm5hbWUgPSBuYW1lO1xuICBvcHRzLnBhcmFtcyA9IHBhcmFtcztcbiAgb3B0cy5mdW5jID0gZnVuYztcbiAgUXVlcnlGdW5jdGlvbnNbbmFtZV0gPSBvcHRzO1xufVxuXG5leHBvcnQgY2xhc3MgUXVlcnkge1xuICB0YWJsZXM7XG4gIGpvaW5zO1xuICBkaXJ0eTtcbiAgY29tcGlsZWQ7XG4gIGl4ZXI7XG4gIGFsaWFzZXM7XG4gIGZ1bmNzO1xuICBuYW1lO1xuICBwcm9qZWN0aW9uTWFwO1xuICBsaW1pdEluZm87XG4gIGdyb3VwcztcbiAgc29ydHM7XG4gIGFnZ3JlZ2F0ZXM7XG4gIHVucHJvamVjdGVkU2l6ZTtcbiAgaGFzT3JkaW5hbDtcbiAgaW5jcmVtZW50YWxSb3dGaW5kZXI7XG5cbiAgc3RhdGljIHJlbW92ZSh2aWV3OiBzdHJpbmcsIGl4ZXI6SW5kZXhlcikge1xuICAgIGxldCBkaWZmID0gaXhlci5kaWZmKCk7XG4gICAgZGlmZi5yZW1vdmUoXCJ2aWV3XCIsIHt2aWV3fSk7XG4gICAgZm9yKGxldCBhY3Rpb25JdGVtIG9mIGl4ZXIuZmluZChcImFjdGlvblwiLCB7dmlld30pKSB7XG4gICAgICBsZXQgYWN0aW9uID0gYWN0aW9uSXRlbS5hY3Rpb247XG4gICAgICBkaWZmLnJlbW92ZShcImFjdGlvblwiLCB7YWN0aW9ufSk7XG4gICAgICBkaWZmLnJlbW92ZShcImFjdGlvbiBzb3VyY2VcIiwge2FjdGlvbn0pO1xuICAgICAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gbWFwcGluZ1wiLCB7YWN0aW9ufSk7XG4gICAgICBkaWZmLnJlbW92ZShcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb259KTtcbiAgICAgIGRpZmYucmVtb3ZlKFwiYWN0aW9uIG1hcHBpbmcgc29ydGVkXCIsIHthY3Rpb259KTtcbiAgICAgIGRpZmYucmVtb3ZlKFwiYWN0aW9uIG1hcHBpbmcgbGltaXRcIiwge2FjdGlvbn0pO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGl4ZXIsIG5hbWUgPSBcInVua25vd25cIikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5peGVyID0gaXhlcjtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLnRhYmxlcyA9IFtdO1xuICAgIHRoaXMuam9pbnMgPSBbXTtcbiAgICB0aGlzLmFsaWFzZXMgPSB7fTtcbiAgICB0aGlzLmZ1bmNzID0gW107XG4gICAgdGhpcy5hZ2dyZWdhdGVzID0gW107XG4gICAgdGhpcy51bnByb2plY3RlZFNpemUgPSAwO1xuICAgIHRoaXMuaGFzT3JkaW5hbCA9IGZhbHNlO1xuICB9XG4gIGNoYW5nZXNldChpeGVyOkluZGV4ZXIpIHtcbiAgICBsZXQgZGlmZiA9IGl4ZXIuZGlmZigpO1xuICAgIGxldCBhbGlhc2VzID0ge307XG4gICAgbGV0IHJldmVyc2VMb29rdXAgPSB7fTtcbiAgICBmb3IobGV0IGFsaWFzIGluIHRoaXMuYWxpYXNlcykge1xuICAgICAgcmV2ZXJzZUxvb2t1cFt0aGlzLmFsaWFzZXNbYWxpYXNdXSA9IGFsaWFzO1xuICAgIH1cbiAgICBsZXQgdmlldyA9IHRoaXMubmFtZTtcbiAgICBkaWZmLmFkZChcInZpZXdcIiwge3ZpZXcsIGtpbmQ6IFwicXVlcnlcIn0pO1xuICAgIC8vam9pbnNcbiAgICBmb3IobGV0IGpvaW4gb2YgdGhpcy5qb2lucykge1xuICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgIGFsaWFzZXNbam9pbi5hc10gPSBhY3Rpb247XG4gICAgICBpZigham9pbi5uZWdhdGVkKSB7XG4gICAgICAgIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3LCBhY3Rpb24sIGtpbmQ6IFwic2VsZWN0XCIsIGl4OiBqb2luLml4fSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcImRlc2VsZWN0XCIsIGl4OiBqb2luLml4fSk7XG4gICAgICB9XG4gICAgICBkaWZmLmFkZChcImFjdGlvbiBzb3VyY2VcIiwge2FjdGlvbiwgXCJzb3VyY2Ugdmlld1wiOiBqb2luLnRhYmxlfSk7XG4gICAgICBtYXBwaW5nVG9EaWZmKGRpZmYsIGFjdGlvbiwgam9pbi5qb2luLCBhbGlhc2VzLCByZXZlcnNlTG9va3VwKTtcbiAgICB9XG4gICAgLy9mdW5jdGlvbnNcbiAgICBmb3IobGV0IGZ1bmMgb2YgdGhpcy5mdW5jcykge1xuICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgIGFsaWFzZXNbZnVuYy5hc10gPSBhY3Rpb247XG4gICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcImNhbGN1bGF0ZVwiLCBpeDogZnVuYy5peH0pO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gc291cmNlXCIsIHthY3Rpb24sIFwic291cmNlIHZpZXdcIjogZnVuYy5uYW1lfSk7XG4gICAgICBtYXBwaW5nVG9EaWZmKGRpZmYsIGFjdGlvbiwgZnVuYy5hcmdzLCBhbGlhc2VzLCByZXZlcnNlTG9va3VwKTtcbiAgICB9XG4gICAgLy9hZ2dyZWdhdGVzXG4gICAgZm9yKGxldCBhZ2cgb2YgdGhpcy5hZ2dyZWdhdGVzKSB7XG4gICAgICBsZXQgYWN0aW9uID0gdXVpZCgpO1xuICAgICAgYWxpYXNlc1thZ2cuYXNdID0gYWN0aW9uO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXcsIGFjdGlvbiwga2luZDogXCJhZ2dyZWdhdGVcIiwgaXg6IGFnZy5peH0pO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gc291cmNlXCIsIHthY3Rpb24sIFwic291cmNlIHZpZXdcIjogYWdnLm5hbWV9KTtcbiAgICAgIG1hcHBpbmdUb0RpZmYoZGlmZiwgYWN0aW9uLCBhZ2cuYXJncywgYWxpYXNlcywgcmV2ZXJzZUxvb2t1cCk7XG4gICAgfVxuICAgIC8vc29ydFxuICAgIGlmKHRoaXMuc29ydHMpIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcInNvcnRcIiwgaXg6IE1BWF9OVU1CRVJ9KTtcbiAgICAgIGxldCBpeCA9IDA7XG4gICAgICBmb3IobGV0IHNvcnQgb2YgdGhpcy5zb3J0cykge1xuICAgICAgICBsZXQgW3NvdXJjZSwgZmllbGQsIGRpcmVjdGlvbl0gPSBzb3J0O1xuICAgICAgICBpZih0eXBlb2Ygc291cmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgc291cmNlID0gYWxpYXNlc1tyZXZlcnNlTG9va3VwW3NvdXJjZV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZSA9IGFsaWFzZXNbc291cmNlXTtcbiAgICAgICAgfVxuICAgICAgICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIHNvcnRlZFwiLCB7YWN0aW9uLCBpeCwgc291cmNlLCBmaWVsZCwgZGlyZWN0aW9ufSk7XG4gICAgICAgIGl4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIC8vZ3JvdXBcbiAgICBpZih0aGlzLmdyb3Vwcykge1xuICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3LCBhY3Rpb24sIGtpbmQ6IFwiZ3JvdXBcIiwgaXg6IE1BWF9OVU1CRVJ9KTtcbiAgICAgIGxldCBpeCA9IDA7XG4gICAgICBmb3IobGV0IGdyb3VwIG9mIHRoaXMuZ3JvdXBzKSB7XG4gICAgICAgIGxldCBbc291cmNlLCBmaWVsZF0gPSBncm91cDtcbiAgICAgICAgaWYodHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHNvdXJjZSA9IGFsaWFzZXNbcmV2ZXJzZUxvb2t1cFtzb3VyY2VdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2UgPSBhbGlhc2VzW3NvdXJjZV07XG4gICAgICAgIH1cbiAgICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwge2FjdGlvbiwgaXgsIHNvdXJjZSwgZmllbGQsIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIn0pO1xuICAgICAgICBpeCsrO1xuICAgICAgfVxuICAgIH1cbiAgICAvL2xpbWl0XG4gICAgaWYodGhpcy5saW1pdEluZm8pIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcImxpbWl0XCIsIGl4OiBNQVhfTlVNQkVSfSk7XG4gICAgICBmb3IobGV0IGxpbWl0VHlwZSBpbiB0aGlzLmxpbWl0SW5mbykge1xuICAgICAgICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIGxpbWl0XCIsIHthY3Rpb24sIFwibGltaXQgdHlwZVwiOiBsaW1pdFR5cGUsIHZhbHVlOiB0aGlzLmxpbWl0SW5mb1tsaW1pdFR5cGVdfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vcHJvamVjdGlvblxuICAgIGlmKHRoaXMucHJvamVjdGlvbk1hcCkge1xuICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3LCBhY3Rpb24sIGtpbmQ6IFwicHJvamVjdFwiLCBpeDogTUFYX05VTUJFUn0pO1xuICAgICAgbWFwcGluZ1RvRGlmZihkaWZmLCBhY3Rpb24sIHRoaXMucHJvamVjdGlvbk1hcCwgYWxpYXNlcywgcmV2ZXJzZUxvb2t1cCk7XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xuICB9XG4gIHZhbGlkYXRlRmllbGRzKHRhYmxlTmFtZSwgam9pbk9iamVjdCkge1xuICAgIGxldCB0YWJsZSA9IHRoaXMuaXhlci50YWJsZSh0YWJsZU5hbWUpO1xuICAgIGZvciAobGV0IGZpZWxkIGluIGpvaW5PYmplY3QpIHtcbiAgICAgIGlmICh0YWJsZS5maWVsZHMubGVuZ3RoICYmICF0YWJsZS5rZXlMb29rdXBbZmllbGRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFibGUgJyR7dGFibGVOYW1lfScgZG9lc24ndCBoYXZlIGEgZmllbGQgJyR7ZmllbGR9Jy5cXG5cXG5BdmFpbGFibGUgZmllbGRzOiAke3RhYmxlLmZpZWxkcy5qb2luKFwiLCBcIil9YCk7XG4gICAgICB9XG4gICAgICBsZXQgam9pbkluZm8gPSBqb2luT2JqZWN0W2ZpZWxkXTtcbiAgICAgIGlmKGpvaW5JbmZvLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICBsZXQgW2pvaW5OdW1iZXIsIHJlZmVyZW5jZWRGaWVsZF0gPSBqb2luSW5mbztcbiAgICAgICAgaWYgKHR5cGVvZiBqb2luTnVtYmVyICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgam9pbk51bWJlciA9IHRoaXMuYWxpYXNlc1tqb2luTnVtYmVyXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgam9pbiA9IHRoaXMuam9pbnNbam9pbk51bWJlcl07XG4gICAgICAgIGlmIChqb2luICYmIGpvaW4uaXggPT09IGpvaW5OdW1iZXIpIHtcbiAgICAgICAgICBsZXQgcmVmZXJlbmNlZFRhYmxlID0gdGhpcy5peGVyLnRhYmxlKGpvaW4udGFibGUpO1xuICAgICAgICAgIGlmICghcmVmZXJlbmNlZFRhYmxlLmZpZWxkcy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmICghcmVmZXJlbmNlZFRhYmxlLmtleUxvb2t1cFtyZWZlcmVuY2VkRmllbGRdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhYmxlICcke2pvaW4udGFibGV9JyBkb2Vzbid0IGhhdmUgYSBmaWVsZCAnJHtyZWZlcmVuY2VkRmllbGR9Jy5cXG5cXG5BdmFpbGFibGUgZmllbGRzOiAke3JlZmVyZW5jZWRUYWJsZS5maWVsZHMuam9pbihcIiwgXCIpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBzZWxlY3QodGFibGUsIGpvaW4sIGFzPykge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIGlmKGFzKSB7XG4gICAgICB0aGlzLmFsaWFzZXNbYXNdID0gT2JqZWN0LmtleXModGhpcy5hbGlhc2VzKS5sZW5ndGg7XG4gICAgfVxuICAgIHRoaXMudW5wcm9qZWN0ZWRTaXplKys7XG4gICAgdGhpcy50YWJsZXMucHVzaCh0YWJsZSk7XG4gICAgdGhpcy52YWxpZGF0ZUZpZWxkcyh0YWJsZSwgam9pbik7XG4gICAgdGhpcy5qb2lucy5wdXNoKHtuZWdhdGVkOiBmYWxzZSwgdGFibGUsIGpvaW4sIGFzLCBpeDogdGhpcy5hbGlhc2VzW2FzXX0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlc2VsZWN0KHRhYmxlLCBqb2luKSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy50YWJsZXMucHVzaCh0YWJsZSk7XG4gICAgdGhpcy52YWxpZGF0ZUZpZWxkcyh0YWJsZSwgam9pbik7XG4gICAgdGhpcy5qb2lucy5wdXNoKHtuZWdhdGVkOiB0cnVlLCB0YWJsZSwgam9pbiwgaXg6IHRoaXMuam9pbnMubGVuZ3RoICogMTAwMH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNhbGN1bGF0ZShmdW5jTmFtZSwgYXJncywgYXM/KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgaWYoYXMpIHtcbiAgICAgIHRoaXMuYWxpYXNlc1thc10gPSBPYmplY3Qua2V5cyh0aGlzLmFsaWFzZXMpLmxlbmd0aDtcbiAgICB9XG4gICAgaWYoIVF1ZXJ5RnVuY3Rpb25zW2Z1bmNOYW1lXS5maWx0ZXIpIHtcbiAgICAgIHRoaXMudW5wcm9qZWN0ZWRTaXplKys7XG4gICAgfVxuICAgIHRoaXMuZnVuY3MucHVzaCh7bmFtZTogZnVuY05hbWUsIGFyZ3MsIGFzLCBpeDogdGhpcy5hbGlhc2VzW2FzXX0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByb2plY3QocHJvamVjdGlvbk1hcCkge1xuICAgIHRoaXMucHJvamVjdGlvbk1hcCA9IHByb2plY3Rpb25NYXA7XG4gICAgdGhpcy52YWxpZGF0ZUZpZWxkcyh1bmRlZmluZWQsIHByb2plY3Rpb25NYXApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdyb3VwKGdyb3Vwcykge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIGlmKGdyb3Vwc1swXSAmJiBncm91cHNbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICB0aGlzLmdyb3VwcyA9IGdyb3VwcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoIXRoaXMuZ3JvdXBzKSB0aGlzLmdyb3VwcyA9IFtdO1xuICAgICAgdGhpcy5ncm91cHMucHVzaChncm91cHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzb3J0KHNvcnRzKSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgaWYoc29ydHNbMF0gJiYgc29ydHNbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICB0aGlzLnNvcnRzID0gc29ydHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKCF0aGlzLnNvcnRzKSB0aGlzLnNvcnRzID0gW107XG4gICAgICB0aGlzLnNvcnRzLnB1c2goc29ydHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBsaW1pdChsaW1pdEluZm86YW55KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgaWYoIXRoaXMubGltaXRJbmZvKSB7XG4gICAgICB0aGlzLmxpbWl0SW5mbyA9IHt9O1xuICAgIH1cbiAgICBmb3IobGV0IGtleSBpbiBsaW1pdEluZm8pIHtcbiAgICAgIHRoaXMubGltaXRJbmZvW2tleV0gPSBsaW1pdEluZm9ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWdncmVnYXRlKGZ1bmNOYW1lLCBhcmdzLCBhcz8pIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICBpZihhcykge1xuICAgICAgdGhpcy5hbGlhc2VzW2FzXSA9IE9iamVjdC5rZXlzKHRoaXMuYWxpYXNlcykubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLnVucHJvamVjdGVkU2l6ZSsrO1xuICAgIHRoaXMuYWdncmVnYXRlcy5wdXNoKHtuYW1lOiBmdW5jTmFtZSwgYXJncywgYXMsIGl4OiB0aGlzLmFsaWFzZXNbYXNdfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb3JkaW5hbCgpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLmhhc09yZGluYWwgPSB0cnVlO1xuICAgIHRoaXMudW5wcm9qZWN0ZWRTaXplKys7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXBwbHlBbGlhc2VzKGpvaW5NYXApIHtcbiAgICBmb3IobGV0IGZpZWxkIGluIGpvaW5NYXApIHtcbiAgICAgIGxldCBqb2luSW5mbyA9IGpvaW5NYXBbZmllbGRdO1xuICAgICAgaWYoam9pbkluZm8uY29uc3RydWN0b3IgIT09IEFycmF5IHx8IHR5cGVvZiBqb2luSW5mb1swXSA9PT0gXCJudW1iZXJcIikgY29udGludWU7XG4gICAgICBsZXQgam9pblRhYmxlID0gam9pbkluZm9bMF07XG4gICAgICBpZihqb2luVGFibGUgPT09IFwib3JkaW5hbFwiKSB7XG4gICAgICAgIGpvaW5JbmZvWzBdID0gdGhpcy51bnByb2plY3RlZFNpemUgLSAxO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuYWxpYXNlc1tqb2luVGFibGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgam9pbkluZm9bMF0gPSB0aGlzLmFsaWFzZXNbam9pblRhYmxlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWxpYXMgdXNlZDogXCIgKyBqb2luVGFibGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0b0FTVCgpIHtcbiAgICBsZXQgY3Vyc29yID0ge3R5cGU6IFwicXVlcnlcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXX07XG4gICAgbGV0IHJvb3QgPSBjdXJzb3I7XG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICAvLyBieSBkZWZhdWx0IHRoZSBvbmx5IHRoaW5nIHdlIHJldHVybiBhcmUgdGhlIHVucHJvamVjdGVkIHJlc3VsdHNcbiAgICBsZXQgcmV0dXJucyA9IFtcInVucHJvamVjdGVkXCIsIFwicHJvdmVuYW5jZVwiXTtcblxuICAgIC8vIHdlIG5lZWQgYW4gYXJyYXkgdG8gc3RvcmUgb3VyIHVucHJvamVjdGVkIHJlc3VsdHNcbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcInVucHJvamVjdGVkXCIsIHZhbHVlOiBcIltdXCJ9KTtcbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcInByb3ZlbmFuY2VcIiwgdmFsdWU6IFwiW11cIn0pO1xuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IFwicHJvamVjdGVkXCIsIHZhbHVlOiBcInt9XCJ9KTtcblxuICAgIC8vIHJ1biB0aHJvdWdoIGVhY2ggdGFibGUgbmVzdGVkIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgZ2l2ZW4gZG9pbmcgcGFpcndpc2VcbiAgICAvLyBqb2lucyBhbG9uZyB0aGUgd2F5LlxuICAgIGZvcihsZXQgam9pbiBvZiB0aGlzLmpvaW5zKSB7XG4gICAgICBsZXQge3RhYmxlLCBpeCwgbmVnYXRlZH0gPSBqb2luO1xuICAgICAgbGV0IGN1ciA9IHtcbiAgICAgICAgdHlwZTogXCJzZWxlY3RcIixcbiAgICAgICAgdGFibGUsXG4gICAgICAgIHBhc3NlZDogaXggPT09IDAsXG4gICAgICAgIGl4LFxuICAgICAgICBuZWdhdGVkLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGpvaW46IGZhbHNlLFxuICAgICAgfTtcbiAgICAgIC8vIHdlIG9ubHkgd2FudCB0byBlYXQgdGhlIGNvc3Qgb2YgZGVhbGluZyB3aXRoIGluZGV4ZXNcbiAgICAgIC8vIGlmIHdlIGFyZSBhY3R1YWxseSBqb2luaW5nIG9uIHNvbWV0aGluZ1xuICAgICAgbGV0IGpvaW5NYXAgPSBqb2luLmpvaW47XG4gICAgICB0aGlzLmFwcGx5QWxpYXNlcyhqb2luTWFwKTtcbiAgICAgIGlmKGpvaW5NYXAgJiYgT2JqZWN0LmtleXMoam9pbk1hcCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4udW5zaGlmdCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IGBxdWVyeSR7aXh9YCwgdmFsdWU6IFwie31cIn0pO1xuICAgICAgICBjdXIuam9pbiA9IGpvaW5NYXA7XG4gICAgICB9XG4gICAgICBjdXJzb3IuY2hpbGRyZW4ucHVzaChjdXIpO1xuICAgICAgaWYoIW5lZ2F0ZWQpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHt0eXBlOiBcInNlbGVjdFwiLCBpeH0pO1xuICAgICAgfVxuXG4gICAgICBjdXJzb3IgPSBjdXI7XG4gICAgfVxuICAgIC8vIGF0IHRoZSBib3R0b20gb2YgdGhlIGpvaW5zLCB3ZSBjYWxjdWxhdGUgYWxsIHRoZSBmdW5jdGlvbnMgYmFzZWQgb24gdGhlIHZhbHVlc1xuICAgIC8vIGNvbGxlY3RlZFxuICAgIGZvcihsZXQgZnVuYyBvZiB0aGlzLmZ1bmNzKSB7XG4gICAgICBsZXQge2FyZ3MsIG5hbWUsIGl4fSA9IGZ1bmM7XG4gICAgICBsZXQgZnVuY0luZm8gPSBRdWVyeUZ1bmN0aW9uc1tuYW1lXTtcbiAgICAgIHRoaXMuYXBwbHlBbGlhc2VzKGFyZ3MpO1xuICAgICAgcm9vdC5jaGlsZHJlbi51bnNoaWZ0KHt0eXBlOiBcImZ1bmN0aW9uRGVjbGFyYXRpb25cIiwgaXgsIGluZm86IGZ1bmNJbmZvfSk7XG4gICAgICBpZihmdW5jSW5mby5tdWx0aSB8fCBmdW5jSW5mby5maWx0ZXIpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB7dHlwZTogXCJmdW5jdGlvbkNhbGxNdWx0aVJldHVyblwiLCBpeCwgYXJncywgaW5mbzogZnVuY0luZm8sIGNoaWxkcmVuOiBbXX07XG4gICAgICAgIGN1cnNvci5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBjdXJzb3IgPSBub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3Vyc29yLmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZnVuY3Rpb25DYWxsXCIsIGl4LCBhcmdzLCBpbmZvOiBmdW5jSW5mbywgY2hpbGRyZW46IFtdfSk7XG4gICAgICB9XG4gICAgICBpZighZnVuY0luZm8ubm9SZXR1cm4gJiYgIWZ1bmNJbmZvLmZpbHRlcikge1xuICAgICAgICByZXN1bHRzLnB1c2goe3R5cGU6IFwiZnVuY3Rpb25cIiwgaXh9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3cgdGhhdCB3ZSdyZSBhdCB0aGUgYm90dG9tIG9mIHRoZSBqb2luLCBzdG9yZSB0aGUgdW5wcm9qZWN0ZWQgcmVzdWx0XG4gICAgY3Vyc29yLmNoaWxkcmVuLnB1c2goe3R5cGU6IFwicmVzdWx0XCIsIHJlc3VsdHN9KTtcblxuICAgIC8vQWdncmVnYXRpb25cbiAgICAvL3NvcnQgdGhlIHVucHJvamVjdGVkIHJlc3VsdHMgYmFzZWQgb24gZ3JvdXBpbmdzIGFuZCB0aGUgZ2l2ZW4gc29ydHNcbiAgICBsZXQgc29ydHMgPSBbXTtcbiAgICBsZXQgYWxyZWFkeVNvcnRlZCA9IHt9O1xuICAgIGlmKHRoaXMuZ3JvdXBzKSB7XG4gICAgICB0aGlzLmFwcGx5QWxpYXNlcyh0aGlzLmdyb3Vwcyk7XG4gICAgICBmb3IobGV0IGdyb3VwIG9mIHRoaXMuZ3JvdXBzKSB7XG4gICAgICAgIGxldCBbdGFibGUsIGZpZWxkXSA9IGdyb3VwO1xuICAgICAgICBzb3J0cy5wdXNoKGdyb3VwKTtcbiAgICAgICAgYWxyZWFkeVNvcnRlZFtgJHt0YWJsZX18JHtmaWVsZH1gXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKHRoaXMuc29ydHMpIHtcbiAgICAgIHRoaXMuYXBwbHlBbGlhc2VzKHRoaXMuc29ydHMpO1xuICAgICAgZm9yKGxldCBzb3J0IG9mIHRoaXMuc29ydHMpIHtcbiAgICAgICAgbGV0IFt0YWJsZSwgZmllbGRdID0gc29ydDtcbiAgICAgICAgaWYoIWFscmVhZHlTb3J0ZWRbYCR7dGFibGV9fCR7ZmllbGR9YF0pIHtcbiAgICAgICAgICBzb3J0cy5wdXNoKHNvcnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzaXplID0gdGhpcy51bnByb2plY3RlZFNpemU7XG4gICAgaWYoc29ydHMubGVuZ3RoKSB7XG4gICAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwic29ydFwiLCBzb3J0cywgc2l6ZSwgY2hpbGRyZW46IFtdfSk7XG4gICAgfVxuICAgIC8vdGhlbiB3ZSBuZWVkIHRvIHJ1biB0aHJvdWdoIHRoZSBzb3J0ZWQgaXRlbXMgYW5kIGRvIHRoZSBhZ2dyZWdhdGUgYXMgYSBmb2xkLlxuICAgIGlmKHRoaXMuYWdncmVnYXRlcy5sZW5ndGggfHwgc29ydHMubGVuZ3RoIHx8IHRoaXMubGltaXRJbmZvIHx8IHRoaXMuaGFzT3JkaW5hbCkge1xuICAgICAgLy8gd2UgbmVlZCB0byBzdG9yZSBncm91cCBpbmZvIGZvciBwb3N0IHByb2Nlc3Npbmcgb2YgdGhlIHVucHJvamVjdGVkIHJlc3VsdHNcbiAgICAgIC8vIHRoaXMgd2lsbCBpbmRpY2F0ZSB3aGF0IGdyb3VwIG51bWJlciwgaWYgYW55LCB0aGF0IGVhY2ggdW5wcm9qZWN0ZWQgcmVzdWx0IGJlbG9uZ3MgdG9cbiAgICAgIHJvb3QuY2hpbGRyZW4udW5zaGlmdCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IFwiZ3JvdXBJbmZvXCIsIHZhbHVlOiBcIltdXCJ9KTtcbiAgICAgIHJldHVybnMucHVzaChcImdyb3VwSW5mb1wiKTtcbiAgICAgIGxldCBhZ2dyZWdhdGVDaGlsZHJlbiA9IFtdO1xuICAgICAgZm9yKGxldCBmdW5jIG9mIHRoaXMuYWdncmVnYXRlcykge1xuICAgICAgICBsZXQge2FyZ3MsIG5hbWUsIGl4fSA9IGZ1bmM7XG4gICAgICAgIGxldCBmdW5jSW5mbyA9IFF1ZXJ5RnVuY3Rpb25zW25hbWVdO1xuICAgICAgICB0aGlzLmFwcGx5QWxpYXNlcyhhcmdzKTtcbiAgICAgICAgcm9vdC5jaGlsZHJlbi51bnNoaWZ0KHt0eXBlOiBcImZ1bmN0aW9uRGVjbGFyYXRpb25cIiwgaXgsIGluZm86IGZ1bmNJbmZvfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZUNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZnVuY3Rpb25DYWxsXCIsIGl4LCByZXN1bHRzSXg6IHJlc3VsdHMubGVuZ3RoLCBhcmdzLCBpbmZvOiBmdW5jSW5mbywgdW5wcm9qZWN0ZWQ6IHRydWUsIGNoaWxkcmVuOiBbXX0pO1xuICAgICAgICByZXN1bHRzLnB1c2goe3R5cGU6IFwicGxhY2Vob2xkZXJcIn0pO1xuICAgICAgfVxuICAgICAgaWYodGhpcy5oYXNPcmRpbmFsID09PSB0cnVlKSB7XG4gICAgICAgIGFnZ3JlZ2F0ZUNoaWxkcmVuLnB1c2goe3R5cGU6IFwib3JkaW5hbFwifSk7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7dHlwZTogXCJwbGFjZWhvbGRlclwifSk7XG4gICAgICB9XG4gICAgICBsZXQgYWdncmVnYXRlID0ge3R5cGU6IFwiYWdncmVnYXRlIGxvb3BcIiwgZ3JvdXBzOiB0aGlzLmdyb3VwcywgbGltaXQ6IHRoaXMubGltaXRJbmZvLCBzaXplLCBjaGlsZHJlbjogYWdncmVnYXRlQ2hpbGRyZW59O1xuICAgICAgcm9vdC5jaGlsZHJlbi5wdXNoKGFnZ3JlZ2F0ZSk7XG4gICAgICBjdXJzb3IgPSBhZ2dyZWdhdGU7XG4gICAgfVxuXG5cbiAgICBpZih0aGlzLnByb2plY3Rpb25NYXApIHtcbiAgICAgIHRoaXMuYXBwbHlBbGlhc2VzKHRoaXMucHJvamVjdGlvbk1hcCk7XG4gICAgICByb290LmNoaWxkcmVuLnVuc2hpZnQoe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcInJlc3VsdHNcIiwgdmFsdWU6IFwiW11cIn0pO1xuICAgICAgaWYoSU5DUkVNRU5UQUwpIHtcbiAgICAgICAgY3Vyc29yLmNoaWxkcmVuLnB1c2goe3R5cGU6IFwicHJvdmVuYW5jZVwifSk7XG4gICAgICB9XG4gICAgICBjdXJzb3IuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJwcm9qZWN0aW9uXCIsIHByb2plY3Rpb25NYXA6IHRoaXMucHJvamVjdGlvbk1hcCwgdW5wcm9qZWN0ZWQ6IHRoaXMuYWdncmVnYXRlcy5sZW5ndGh9KTtcbiAgICAgIHJldHVybnMucHVzaChcInJlc3VsdHNcIik7XG4gICAgfVxuXG4gICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcInJldHVyblwiLCB2YXJzOiByZXR1cm5zfSk7XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cbiAgY29tcGlsZVBhcmFtU3RyaW5nKGZ1bmNJbmZvLCBhcmdzLCB1bnByb2plY3RlZCA9IGZhbHNlKSB7XG4gICAgbGV0IGNvZGUgPSBcIlwiO1xuICAgIGxldCBwYXJhbXMgPSBmdW5jSW5mby5wYXJhbXM7XG4gICAgaWYodW5wcm9qZWN0ZWQpIHBhcmFtcyA9IHBhcmFtcy5zbGljZSgxKTtcbiAgICBmb3IobGV0IHBhcmFtIG9mIHBhcmFtcykge1xuICAgICAgbGV0IGFyZyA9IGFyZ3NbcGFyYW1dO1xuICAgICAgbGV0IGFyZ0NvZGU7XG4gICAgICBpZihhcmcuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgIGxldCBwcm9wZXJ0eSA9IFwiXCI7XG4gICAgICAgIGlmKGFyZ1sxXSkge1xuICAgICAgICAgIHByb3BlcnR5ID0gYFsnJHthcmdbMV19J11gO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF1bnByb2plY3RlZCkge1xuICAgICAgICAgIGFyZ0NvZGUgPSBgcm93JHthcmdbMF19JHtwcm9wZXJ0eX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZ0NvZGUgPSBgdW5wcm9qZWN0ZWRbaXggKyAke2FyZ1swXX1dJHtwcm9wZXJ0eX1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcmdDb2RlID0gSlNPTi5zdHJpbmdpZnkoYXJnKTtcbiAgICAgIH1cbiAgICAgIGNvZGUgKz0gYCR7YXJnQ29kZX0sIGA7XG4gICAgfVxuICAgIHJldHVybiBjb2RlLnN1YnN0cmluZygwLGNvZGUubGVuZ3RoIC0gMik7XG4gIH1cbiAgY29tcGlsZUFTVChyb290KSB7XG4gICAgbGV0IGNvZGUgPSBcIlwiO1xuICAgIGxldCB0eXBlID0gcm9vdC50eXBlO1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICBjYXNlIFwicXVlcnlcIjpcbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRlY2xhcmF0aW9uXCI6XG4gICAgICAgIGNvZGUgKz0gYHZhciAke3Jvb3QudmFyfSA9ICR7cm9vdC52YWx1ZX07XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25EZWNsYXJhdGlvblwiOlxuICAgICAgICBjb2RlICs9IGB2YXIgZnVuYyR7cm9vdC5peH0gPSBRdWVyeUZ1bmN0aW9uc1snJHtyb290LmluZm8ubmFtZX0nXS5mdW5jO1xcbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uQ2FsbFwiOlxuICAgICAgICB2YXIgaXggPSByb290Lml4O1xuICAgICAgICB2YXIgcHJldiA9IFwiXCI7XG4gICAgICAgIGlmKHJvb3QudW5wcm9qZWN0ZWQpIHtcbiAgICAgICAgICBwcmV2ID0gYHJvdyR7aXh9YDtcbiAgICAgICAgICBpZihyb290LmluZm8ucGFyYW1zLmxlbmd0aCA+IDEpIHByZXYgKz0gXCIsXCJcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IGB2YXIgcm93JHtpeH0gPSBmdW5jJHtpeH0oJHtwcmV2fSR7dGhpcy5jb21waWxlUGFyYW1TdHJpbmcocm9vdC5pbmZvLCByb290LmFyZ3MsIHJvb3QudW5wcm9qZWN0ZWQpfSk7XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25DYWxsTXVsdGlSZXR1cm5cIjpcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgY29kZSArPSBgdmFyIHJvd3Mke2l4fSA9IGZ1bmMke2l4fSgke3RoaXMuY29tcGlsZVBhcmFtU3RyaW5nKHJvb3QuaW5mbywgcm9vdC5hcmdzKX0pO1xcbmA7XG4gICAgICAgIGNvZGUgKz0gYGZvcih2YXIgZnVuY1Jlc3VsdEl4JHtpeH0gPSAwLCBmdW5jTGVuJHtpeH0gPSByb3dzJHtpeH0ubGVuZ3RoOyBmdW5jUmVzdWx0SXgke2l4fSA8IGZ1bmNMZW4ke2l4fTsgZnVuY1Jlc3VsdEl4JHtpeH0rKykge1xcbmBcbiAgICAgICAgY29kZSArPSBgdmFyIHJvdyR7aXh9ID0gcm93cyR7aXh9W2Z1bmNSZXN1bHRJeCR7aXh9XTtcXG5gO1xuICAgICAgICBmb3IodmFyIGNoaWxkIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICBjb2RlICs9IHRoaXMuY29tcGlsZUFTVChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBcIn1cXG5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgIHZhciBpeCA9IHJvb3QuaXg7XG4gICAgICAgIGlmKHJvb3QucGFzc2VkKSB7XG4gICAgICAgICAgY29kZSArPSBgdmFyIHJvd3Mke2l4fSA9IHJvb3RSb3dzO1xcbmA7XG4gICAgICAgIH0gZWxzZSBpZihyb290LmpvaW4pIHtcbiAgICAgICAgICBmb3IobGV0IGtleSBpbiByb290LmpvaW4pIHtcbiAgICAgICAgICAgIGxldCBtYXBwaW5nID0gcm9vdC5qb2luW2tleV07XG4gICAgICAgICAgICBpZihtYXBwaW5nLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgICBsZXQgW3RhYmxlSXgsIHZhbHVlXSA9IG1hcHBpbmc7XG4gICAgICAgICAgICAgIGNvZGUgKz0gYHF1ZXJ5JHtpeH1bJyR7a2V5fSddID0gcm93JHt0YWJsZUl4fVsnJHt2YWx1ZX0nXTtcXG5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29kZSArPSBgcXVlcnkke2l4fVsnJHtrZXl9J10gPSAke0pTT04uc3RyaW5naWZ5KG1hcHBpbmcpfTtcXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb2RlICs9IGB2YXIgcm93cyR7aXh9ID0gaXhlci5mYWN0VG9JbmRleChpeGVyLnRhYmxlKCcke3Jvb3QudGFibGV9JyksIHF1ZXJ5JHtpeH0pO1xcbmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29kZSArPSBgdmFyIHJvd3Mke2l4fSA9IGl4ZXIudGFibGUoJyR7cm9vdC50YWJsZX0nKS50YWJsZTtcXG5gO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFyb290Lm5lZ2F0ZWQpIHtcbiAgICAgICAgICBjb2RlICs9IGBmb3IodmFyIHJvd0l4JHtpeH0gPSAwLCByb3dzTGVuJHtpeH0gPSByb3dzJHtpeH0ubGVuZ3RoOyByb3dJeCR7aXh9IDwgcm93c0xlbiR7aXh9OyByb3dJeCR7aXh9KyspIHtcXG5gXG4gICAgICAgICAgY29kZSArPSBgdmFyIHJvdyR7aXh9ID0gcm93cyR7aXh9W3Jvd0l4JHtpeH1dO1xcbmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29kZSArPSBgaWYoIXJvd3Mke2l4fS5sZW5ndGgpIHtcXG5gXG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGUgKz0gXCJ9XFxuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlc3VsdFwiOlxuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IodmFyIHJlc3VsdCBvZiByb290LnJlc3VsdHMpIHtcbiAgICAgICAgICBpZihyZXN1bHQudHlwZSA9PT0gXCJwbGFjZWhvbGRlclwiKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goXCJ1bmRlZmluZWRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpeCA9IHJlc3VsdC5peDtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChgcm93JHtpeH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBgdW5wcm9qZWN0ZWQucHVzaCgke3Jlc3VsdHMuam9pbihcIiwgXCIpfSk7XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic29ydFwiOlxuICAgICAgICBjb2RlICs9IGdlbmVyYXRlVW5wcm9qZWN0ZWRTb3J0ZXJDb2RlKHJvb3Quc2l6ZSwgcm9vdC5zb3J0cykrXCJcXG5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWdncmVnYXRlIGxvb3BcIjpcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSBcIlwiO1xuICAgICAgICB2YXIgYWdncmVnYXRlQ2FsbHMgPSBbXTtcbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZVN0YXRlcyA9IFtdO1xuICAgICAgICB2YXIgYWdncmVnYXRlUmVzZXRzID0gW107XG4gICAgICAgIHZhciB1bnByb2plY3RlZCA9IHt9O1xuICAgICAgICB2YXIgb3JkaW5hbDpzdHJpbmd8Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICB2YXIgcHJvdmVuYW5jZUNvZGU7XG4gICAgICAgIGZvcihsZXQgYWdnIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICBpZihhZ2cudHlwZSA9PT0gXCJmdW5jdGlvbkNhbGxcIikge1xuICAgICAgICAgICAgdW5wcm9qZWN0ZWRbYWdnLml4XSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgY29tcGlsZWQgPSB0aGlzLmNvbXBpbGVBU1QoYWdnKTtcbiAgICAgICAgICAgIGNvbXBpbGVkICs9IGBcXG51bnByb2plY3RlZFtpeCArICR7YWdnLnJlc3VsdHNJeH1dID0gcm93JHthZ2cuaXh9O1xcbmA7XG4gICAgICAgICAgICBhZ2dyZWdhdGVDYWxscy5wdXNoKGNvbXBpbGVkKTtcbiAgICAgICAgICAgIGFnZ3JlZ2F0ZVN0YXRlcy5wdXNoKGB2YXIgcm93JHthZ2cuaXh9ID0ge307YCk7XG4gICAgICAgICAgICBhZ2dyZWdhdGVSZXNldHMucHVzaChgcm93JHthZ2cuaXh9ID0ge307YCk7XG4gICAgICAgICAgfSBlbHNlIGlmKGFnZy50eXBlID09PSBcInByb2plY3Rpb25cIikge1xuICAgICAgICAgICAgYWdnLnVucHJvamVjdGVkID0gdW5wcm9qZWN0ZWQ7XG4gICAgICAgICAgICBwcm9qZWN0aW9uID0gdGhpcy5jb21waWxlQVNUKGFnZyk7XG4gICAgICAgICAgfSBlbHNlIGlmKGFnZy50eXBlID09PSBcIm9yZGluYWxcIikge1xuICAgICAgICAgICAgb3JkaW5hbCA9IGB1bnByb2plY3RlZFtpeCske3RoaXMudW5wcm9qZWN0ZWRTaXplIC0gMX1dID0gcmVzdWx0Q291bnQ7XFxuYDtcbiAgICAgICAgICB9IGVsc2UgaWYoYWdnLnR5cGUgPT09IFwicHJvdmVuYW5jZVwiKSB7XG4gICAgICAgICAgICBwcm92ZW5hbmNlQ29kZSA9IHRoaXMuY29tcGlsZUFTVChhZ2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYWdncmVnYXRlQ2FsbHNDb2RlID0gYWdncmVnYXRlQ2FsbHMuam9pbihcIlwiKTtcblxuICAgICAgICB2YXIgZGlmZmVyZW50R3JvdXBDaGVja3MgPSBbXTtcbiAgICAgICAgdmFyIGdyb3VwQ2hlY2sgPSBgZmFsc2VgO1xuICAgICAgICBpZihyb290Lmdyb3Vwcykge1xuICAgICAgICAgIGZvcihsZXQgZ3JvdXAgb2Ygcm9vdC5ncm91cHMpIHtcbiAgICAgICAgICAgIGxldCBbdGFibGUsIGZpZWxkXSA9IGdyb3VwO1xuICAgICAgICAgICAgZGlmZmVyZW50R3JvdXBDaGVja3MucHVzaChgdW5wcm9qZWN0ZWRbbmV4dEl4ICsgJHt0YWJsZX1dWycke2ZpZWxkfSddICE9PSB1bnByb2plY3RlZFtpeCArICR7dGFibGV9XVsnJHtmaWVsZH0nXWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBncm91cENoZWNrID0gYCgke2RpZmZlcmVudEdyb3VwQ2hlY2tzLmpvaW4oXCIgfHwgXCIpfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdHNDaGVjayA9IFwiXCI7XG4gICAgICAgIGlmKHJvb3QubGltaXQgJiYgcm9vdC5saW1pdC5yZXN1bHRzKSB7XG4gICAgICAgICAgbGV0IGxpbWl0VmFsdWUgPSByb290LmxpbWl0LnJlc3VsdHM7XG4gICAgICAgICAgbGV0IG9mZnNldCA9IHJvb3QubGltaXQub2Zmc2V0O1xuICAgICAgICAgIGlmKG9mZnNldCkge1xuICAgICAgICAgICAgbGltaXRWYWx1ZSArPSBvZmZzZXQ7XG4gICAgICAgICAgICBwcm9qZWN0aW9uID0gYGlmKHJlc3VsdENvdW50ID49ICR7b2Zmc2V0fSkge1xuICAgICAgICAgICAgICAke3Byb2plY3Rpb259XG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0c0NoZWNrID0gYGlmKHJlc3VsdENvdW50ID09PSAke2xpbWl0VmFsdWV9KSBicmVhaztgO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cExpbWl0Q2hlY2sgPSBcIlwiO1xuICAgICAgICBpZihyb290LmxpbWl0ICYmIHJvb3QubGltaXQucGVyR3JvdXAgJiYgcm9vdC5ncm91cHMpIHtcbiAgICAgICAgICBsZXQgbGltaXRWYWx1ZSA9IHJvb3QubGltaXQucGVyR3JvdXA7XG4gICAgICAgICAgbGV0IG9mZnNldCA9IHJvb3QubGltaXQub2Zmc2V0O1xuICAgICAgICAgIGlmKG9mZnNldCkge1xuICAgICAgICAgICAgbGltaXRWYWx1ZSArPSBvZmZzZXQ7XG4gICAgICAgICAgICBhZ2dyZWdhdGVDYWxsc0NvZGUgPSBgaWYocGVyR3JvdXBDb3VudCA+PSAke29mZnNldH0pIHtcbiAgICAgICAgICAgICAgJHthZ2dyZWdhdGVDYWxsc0NvZGV9XG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBMaW1pdENoZWNrID0gYGlmKHBlckdyb3VwQ291bnQgPT09ICR7bGltaXRWYWx1ZX0pIHtcbiAgICAgICAgICAgIHdoaWxlKCFkaWZmZXJlbnRHcm91cCkge1xuICAgICAgICAgICAgICBuZXh0SXggKz0gJHtyb290LnNpemV9O1xuICAgICAgICAgICAgICBpZihuZXh0SXggPj0gbGVuKSBicmVhaztcbiAgICAgICAgICAgICAgZ3JvdXBJbmZvW25leHRJeF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGRpZmZlcmVudEdyb3VwID0gJHtncm91cENoZWNrfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9YDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXBEaWZmZXJlbmNlID0gXCJcIjtcbiAgICAgICAgdmFyIGdyb3VwSW5mbyA9IFwiXCI7XG4gICAgICAgIGlmKHRoaXMuZ3JvdXBzKSB7XG4gICAgICAgICAgZ3JvdXBJbmZvID0gXCJncm91cEluZm9baXhdID0gcmVzdWx0Q291bnQ7XCI7XG4gICAgICAgICAgbGV0IGdyb3VwUHJvamVjdGlvbiA9IGAke3Byb2plY3Rpb259cmVzdWx0Q291bnQrKztgXG4gICAgICAgICAgaWYocm9vdC5saW1pdCAmJiByb290LmxpbWl0Lm9mZnNldCkge1xuICAgICAgICAgICAgZ3JvdXBQcm9qZWN0aW9uID0gYGlmKHBlckdyb3VwQ291bnQgPiAke3Jvb3QubGltaXQub2Zmc2V0fSkge1xuICAgICAgICAgICAgICAke2dyb3VwUHJvamVjdGlvbn1cbiAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgZ3JvdXBJbmZvID0gYGlmKHBlckdyb3VwQ291bnQgPj0gJHtyb290LmxpbWl0Lm9mZnNldH0pIHtcbiAgICAgICAgICAgICAgJHtncm91cEluZm99XG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBEaWZmZXJlbmNlID0gYFxuICAgICAgICAgIHBlckdyb3VwQ291bnQrK1xuICAgICAgICAgIHZhciBkaWZmZXJlbnRHcm91cCA9ICR7Z3JvdXBDaGVja307XG4gICAgICAgICAgJHtncm91cExpbWl0Q2hlY2t9XG4gICAgICAgICAgaWYoZGlmZmVyZW50R3JvdXApIHtcbiAgICAgICAgICAgICR7Z3JvdXBQcm9qZWN0aW9ufVxuICAgICAgICAgICAgJHthZ2dyZWdhdGVSZXNldHMuam9pbihcIlxcblwiKX1cbiAgICAgICAgICAgIHBlckdyb3VwQ291bnQgPSAwO1xuICAgICAgICAgIH1cXG5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3VwRGlmZmVyZW5jZSA9IFwicmVzdWx0Q291bnQrKztcXG5cIjtcbiAgICAgICAgICBncm91cEluZm8gPSBcImdyb3VwSW5mb1tpeF0gPSAwO1wiXG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5laXRoZXIgYWdncmVnYXRlcyB0byBjYWxjdWxhdGUgbm9yIGdyb3VwcyB0byBidWlsZCxcbiAgICAgICAgLy8gdGhlbiB3ZSBqdXN0IG5lZWQgdG8gd29ycnkgYWJvdXQgbGltaXRpbmdcbiAgICAgICAgaWYoIXRoaXMuZ3JvdXBzICYmIGFnZ3JlZ2F0ZUNhbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvZGUgPSBgdmFyIGl4ID0gMDtcbiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICB2YXIgbGVuID0gdW5wcm9qZWN0ZWQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgd2hpbGUoaXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgJHtyZXN1bHRzQ2hlY2t9XG4gICAgICAgICAgICAgICAgICAgICR7b3JkaW5hbCB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgICAke3Byb3ZlbmFuY2VDb2RlfVxuICAgICAgICAgICAgICAgICAgICAke3Byb2plY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSW5mb1tpeF0gPSByZXN1bHRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaXggKz0gJHtyb290LnNpemV9O1xuICAgICAgICAgICAgICAgICAgfVxcbmA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSA9IGB2YXIgcmVzdWx0Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBwZXJHcm91cENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgaXggPSAwO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0SXggPSAwO1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB1bnByb2plY3RlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgJHthZ2dyZWdhdGVTdGF0ZXMuam9pbihcIlxcblwiKX1cbiAgICAgICAgICAgICAgICB3aGlsZShpeCA8IGxlbikge1xuICAgICAgICAgICAgICAgICAgJHthZ2dyZWdhdGVDYWxsc0NvZGV9XG4gICAgICAgICAgICAgICAgICAke2dyb3VwSW5mb31cbiAgICAgICAgICAgICAgICAgICR7b3JkaW5hbCB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgJHtwcm92ZW5hbmNlQ29kZX1cbiAgICAgICAgICAgICAgICAgIGlmKGl4ICsgJHtyb290LnNpemV9ID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgJHtwcm9qZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG5leHRJeCArPSAke3Jvb3Quc2l6ZX07XG4gICAgICAgICAgICAgICAgICAke2dyb3VwRGlmZmVyZW5jZX1cbiAgICAgICAgICAgICAgICAgICR7cmVzdWx0c0NoZWNrfVxuICAgICAgICAgICAgICAgICAgaXggPSBuZXh0SXg7XG4gICAgICAgICAgICAgICAgfVxcbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInByb2plY3Rpb25cIjpcbiAgICAgICAgdmFyIHByb2plY3RlZFZhcnMgPSBbXTtcbiAgICAgICAgdmFyIGlkU3RyaW5nUGFydHMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBuZXdGaWVsZCBpbiByb290LnByb2plY3Rpb25NYXApIHtcbiAgICAgICAgICBsZXQgbWFwcGluZyA9IHJvb3QucHJvamVjdGlvbk1hcFtuZXdGaWVsZF07XG4gICAgICAgICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICAgICAgICBpZihtYXBwaW5nLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICAgICAgaWYobWFwcGluZ1sxXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYHVucHJvamVjdGVkW2l4ICsgJHttYXBwaW5nWzBdfV1gO1xuICAgICAgICAgICAgfSBlbHNlIGlmKCFyb290LnVucHJvamVjdGVkIHx8IHJvb3QudW5wcm9qZWN0ZWRbbWFwcGluZ1swXV0pIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBgcm93JHttYXBwaW5nWzBdfVsnJHttYXBwaW5nWzFdfSddYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYHVucHJvamVjdGVkW2l4ICsgJHttYXBwaW5nWzBdfV1bJyR7bWFwcGluZ1sxXX0nXWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkobWFwcGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb2plY3RlZFZhcnMucHVzaChgcHJvamVjdGVkWycke25ld0ZpZWxkLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKX0nXSA9ICR7dmFsdWV9YCk7XG4gICAgICAgICAgaWRTdHJpbmdQYXJ0cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IHByb2plY3RlZFZhcnMuam9pbihcIjtcXG5cIikgKyBcIlxcblwiO1xuICAgICAgICBjb2RlICs9IGBwcm9qZWN0ZWQuX19pZCA9ICR7aWRTdHJpbmdQYXJ0cy5qb2luKGAgKyBcInxcIiArIGApfTtcXG5gO1xuICAgICAgICBjb2RlICs9IGByZXN1bHRzLnB1c2gocHJvamVjdGVkKTtcXG5gO1xuICAgICAgICBjb2RlICs9IGBwcm9qZWN0ZWQgPSB7fTtcXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm92ZW5hbmNlXCI6XG4gICAgICAgIHZhciBwcm92ZW5hbmNlID0gXCJ2YXIgcHJvdmVuYW5jZV9faWQgPSAnJztcXG5cIjtcbiAgICAgICAgdmFyIGlkcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGpvaW4gb2YgdGhpcy5qb2lucykge1xuICAgICAgICAgIGlmKGpvaW4ubmVnYXRlZCkgY29udGludWU7XG4gICAgICAgICAgcHJvdmVuYW5jZSArPSBgcHJvdmVuYW5jZV9faWQgPSB0YWJsZUlkICsgJ3wnICsgcHJvamVjdGVkLl9faWQgKyAnfCcgKyByb3dJbnN0YW5jZSArICd8JHtqb2luLnRhYmxlfXwnICsgcm93JHtqb2luLml4fS5fX2lkOyBcXG5gO1xuICAgICAgICAgIHByb3ZlbmFuY2UgKz0gYHByb3ZlbmFuY2UucHVzaCh7dGFibGU6IHRhYmxlSWQsIHJvdzogcHJvamVjdGVkLCBcInJvdyBpbnN0YW5jZVwiOiByb3dJbnN0YW5jZSwgc291cmNlOiBcIiR7am9pbi50YWJsZX1cIiwgXCJzb3VyY2Ugcm93XCI6IHJvdyR7am9pbi5peH19KTtcXG5gO1xuICAgICAgICAgIGlkcy5wdXNoKGByb3cke2pvaW4uaXh9Ll9faWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlID0gYHZhciByb3dJbnN0YW5jZSA9ICR7aWRzLmpvaW4oXCIgKyAnfCcgKyBcIil9O1xuICAgICAgICAke3Byb3ZlbmFuY2V9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmV0dXJuXCI6XG4gICAgICAgIHZhciByZXR1cm5zID0gW107XG4gICAgICAgIGZvcihsZXQgY3VyVmFyIG9mIHJvb3QudmFycykge1xuICAgICAgICAgIHJldHVybnMucHVzaChgJHtjdXJWYXJ9OiAke2N1clZhcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IGByZXR1cm4geyR7cmV0dXJucy5qb2luKFwiLCBcIil9fTtgO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvZGU7XG4gIH1cbiAgLy8gZ2l2ZW4gYSBzZXQgb2YgY2hhbmdlcyBhbmQgYSBqb2luIG9yZGVyLCBkZXRlcm1pbmUgdGhlIHJvb3QgZmFjdHMgdGhhdCBuZWVkXG4gIC8vIHRvIGJlIGpvaW5lZCBhZ2FpbiB0byBjb3ZlciBhbGwgdGhlIGFkZHNcbiAgcmV2ZXJzZUpvaW4oam9pbnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGpvaW5zWzBdO1xuICAgIGxldCByZXZlcnNlSm9pbk1hcCA9IHt9O1xuICAgIC8vIGNvbGxlY3QgYWxsIHRoZSBjb25zdHJhaW50cyBhbmQgcmV2ZXJzZSB0aGVtXG4gICAgZm9yIChsZXQgam9pbiBvZiBqb2lucykge1xuICAgICAgZm9yIChsZXQga2V5IGluIGpvaW4uam9pbikge1xuICAgICAgICBsZXQgW3NvdXJjZSwgZmllbGRdID0gam9pbi5qb2luW2tleV07XG4gICAgICAgIGlmIChzb3VyY2UgPD0gY2hhbmdlZC5peCkge1xuICAgICAgICAgIGlmICghcmV2ZXJzZUpvaW5NYXBbc291cmNlXSkge1xuICAgICAgICAgICAgcmV2ZXJzZUpvaW5NYXBbc291cmNlXSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZighcmV2ZXJzZUpvaW5NYXBbc291cmNlXVtmaWVsZF0pIHJldmVyc2VKb2luTWFwW3NvdXJjZV1bZmllbGRdID0gW2pvaW4uaXgsIGtleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlY3Vyc2UgPSAoam9pbnMsIGpvaW5JeCkgPT4ge1xuICAgICAgdmFyIGNvZGUgPSBcIlwiO1xuICAgICAgaWYgKGpvaW5JeCA+PSBqb2lucy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFwib3RoZXJzLnB1c2gocm93MClcIjtcbiAgICAgIH1cbiAgICAgIGxldCB7dGFibGUsIGl4LCBuZWdhdGVkfSA9IGpvaW5zW2pvaW5JeF07XG4gICAgICBsZXQgam9pbk1hcCA9IGpvaW5zW2pvaW5JeF0uam9pbjtcbiAgICAgIC8vIHdlIG9ubHkgY2FyZSBhYm91dCB0aGlzIGd1eSBpZiBoZSdzIGpvaW5lZCB3aXRoIGF0IGxlYXN0IG9uZSB0aGluZ1xuICAgICAgaWYgKCFyZXZlcnNlSm9pbk1hcFtpeF0gJiYgam9pbkl4IDwgam9pbnMubGVuZ3RoIC0gMSkgcmV0dXJuIHJlY3Vyc2Uoam9pbnMsIGpvaW5JeCArIDEpO1xuICAgICAgZWxzZSBpZighcmV2ZXJzZUpvaW5NYXApIHJldHVybiBcIlwiO1xuICAgICAgbGV0IG1hcHBpbmdzID0gW107XG4gICAgICBmb3IgKGxldCBrZXkgaW4gcmV2ZXJzZUpvaW5NYXBbaXhdKSB7XG4gICAgICAgIGxldCBbc291cmNlSXgsIGZpZWxkXSA9IHJldmVyc2VKb2luTWFwW2l4XVtrZXldO1xuICAgICAgICBpZihzb3VyY2VJeCA9PT0gY2hhbmdlZC5peCB8fCByZXZlcnNlSm9pbk1hcFtzb3VyY2VJeF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1hcHBpbmdzLnB1c2goYCcke2tleX0nOiByb3cke3NvdXJjZUl4fVsnJHtmaWVsZH0nXWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IobGV0IGtleSBpbiBqb2luTWFwKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGpvaW5NYXBba2V5XTtcbiAgICAgICAgaWYodmFsdWUuY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgbWFwcGluZ3MucHVzaChgJyR7a2V5fSc6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobmVnYXRlZCkge1xuICAgICAgICAvL0BUT0RPOiBkZWFsIHdpdGggbmVnYXRpb247XG4gICAgICB9XG4gICAgICBjb2RlICs9IGBcbiAgICAgICAgICAgIHZhciByb3dzJHtpeH0gPSBldmUuZmluZCgnJHt0YWJsZX0nLCB7JHttYXBwaW5ncy5qb2luKFwiLCBcIikgfX0pO1xuICAgICAgICAgICAgZm9yKHZhciByb3dzSXgke2l4fSA9IDAsIHJvd3NMZW4ke2l4fSA9IHJvd3Mke2l4fS5sZW5ndGg7IHJvd3NJeCR7aXh9IDwgcm93c0xlbiR7aXh9OyByb3dzSXgke2l4fSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyR7aXh9ID0gcm93cyR7aXh9W3Jvd3NJeCR7aXh9XTtcbiAgICAgICAgICAgICAgICAke3JlY3Vyc2Uoam9pbnMsIGpvaW5JeCArIDEpIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3Vyc2Uoam9pbnMsIDEpO1xuXHR9XG4gIGNvbXBpbGVJbmNyZW1lbnRhbFJvd0ZpbmRlckNvZGUoKSB7XG4gICAgICBsZXQgY29kZSA9IFwidmFyIG90aGVycyA9IFtdO1xcblwiO1xuICAgICAgbGV0IHJldmVyc2VkID0gdGhpcy5qb2lucy5zbGljZSgpLnJldmVyc2UoKTtcbiAgICAgIGxldCBjaGVja3MgPSBbXTtcbiAgICAgIGxldCBpeCA9IDA7XG4gICAgICBmb3IgKGxldCBqb2luIG9mIHJldmVyc2VkKSB7XG4gICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBkbyB0aGlzIGZvciB0aGUgcm9vdFxuICAgICAgICAgIGlmIChpeCA9PT0gcmV2ZXJzZWQubGVuZ3RoIC0gMSkgYnJlYWs7XG4gICAgICAgICAgY2hlY2tzLnB1c2goYFxuXHRcdFx0aWYoY2hhbmdlc1tcIiR7am9pbi50YWJsZX1cIl0gJiYgY2hhbmdlc1tcIiR7am9pbi50YWJsZX1cIl0uYWRkcykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJDaGFuZ2VzJHtqb2luLml4fSA9IGNoYW5nZXNbXCIke2pvaW4udGFibGV9XCJdLmFkZHM7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBjaGFuZ2VJeCR7am9pbi5peH0gPSAwLCBjaGFuZ2VMZW4ke2pvaW4uaXh9ID0gY3VyQ2hhbmdlcyR7am9pbi5peH0ubGVuZ3RoOyBjaGFuZ2VJeCR7am9pbi5peH0gPCBjaGFuZ2VMZW4ke2pvaW4uaXh9OyBjaGFuZ2VJeCR7am9pbi5peH0rKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93JHtqb2luLml4fSA9IGN1ckNoYW5nZXMke2pvaW4uaXh9W2NoYW5nZUl4JHtqb2luLml4fV07XG5cdFx0XHRcdFx0JHt0aGlzLnJldmVyc2VKb2luKHJldmVyc2VkLnNsaWNlKGl4KSl9XG5cdFx0XHRcdH1cblx0XHRcdH1gKTtcbiAgICAgICAgICBpeCsrO1xuICAgICAgfVxuICAgICAgY29kZSArPSBjaGVja3Muam9pbihcIiBlbHNlXCIpO1xuICAgICAgdmFyIGxhc3QgPSByZXZlcnNlZFtpeF07XG4gICAgICBjb2RlICs9IGBcblx0XHRcdGlmKGNoYW5nZXNbXCIke2xhc3QudGFibGV9XCJdICYmIGNoYW5nZXNbXCIke2xhc3QudGFibGV9XCJdLmFkZHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhbmdlcyA9IGNoYW5nZXNbXCIke2xhc3QudGFibGV9XCJdLmFkZHM7XG5cdFx0XHRcdGZvcih2YXIgY2hhbmdlSXggPSAwLCBjaGFuZ2VMZW4gPSBjdXJDaGFuZ2VzLmxlbmd0aDsgY2hhbmdlSXggPCBjaGFuZ2VMZW47IGNoYW5nZUl4KyspIHtcblx0XHRcdFx0XHRvdGhlcnMucHVzaChjdXJDaGFuZ2VzW2NoYW5nZUl4XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBvdGhlcnM7YDtcbiAgICAgIHJldHVybiBjb2RlO1xuICB9XG4gIGluY3JlbWVudGFsUmVtb3ZlKGNoYW5nZXMpIHtcbiAgICBsZXQgaXhlciA9IHRoaXMuaXhlcjtcbiAgICBsZXQgcm93c1RvUG9zdENoZWNrID0gW107XG4gICAgbGV0IHByb3ZlbmFuY2VEaWZmID0gdGhpcy5peGVyLmRpZmYoKTtcbiAgICBsZXQgcmVtb3ZlcyA9IFtdO1xuICAgIGxldCBpbmRleGVzID0gaXhlci50YWJsZShcInByb3ZlbmFuY2VcIikuaW5kZXhlcztcbiAgICBsZXQgc291cmNlUm93TG9va3VwID0gaW5kZXhlc1tcInNvdXJjZXxzb3VyY2Ugcm93fHRhYmxlXCJdLmluZGV4O1xuICAgIGxldCByb3dJbnN0YW5jZUxvb2t1cCA9IGluZGV4ZXNbXCJyb3cgaW5zdGFuY2V8dGFibGVcIl0uaW5kZXg7XG4gICAgbGV0IHRhYmxlUm93TG9va3VwID0gaW5kZXhlc1tcInJvd3x0YWJsZVwiXS5pbmRleDtcbiAgICBsZXQgcHJvdmVuYW5jZVJlbW92ZXMgPSBbXTtcbiAgICBsZXQgdmlzaXRlZCA9IHt9XG4gICAgZm9yKGxldCBqb2luIG9mIHRoaXMuam9pbnMpIHtcbiAgICAgIGxldCBjaGFuZ2UgPSBjaGFuZ2VzW2pvaW4udGFibGVdO1xuICAgICAgaWYoIXZpc2l0ZWRbam9pbi50YWJsZV0gJiYgY2hhbmdlICYmIGNoYW5nZS5yZW1vdmVzLmxlbmd0aCkge1xuICAgICAgICB2aXNpdGVkW2pvaW4udGFibGVdID0gdHJ1ZTtcbiAgICAgICAgZm9yKGxldCByZW1vdmUgb2YgY2hhbmdlLnJlbW92ZXMpIHtcbiAgICAgICAgICBsZXQgcHJvdmVuYW5jZXMgPSBzb3VyY2VSb3dMb29rdXBbam9pbi50YWJsZSArICd8JyArIHJlbW92ZS5fX2lkICsgJ3wnICsgdGhpcy5uYW1lXVxuICAgICAgICAgIGlmKHByb3ZlbmFuY2VzKSB7XG4gICAgICAgICAgICBmb3IobGV0IHByb3ZlbmFuY2Ugb2YgcHJvdmVuYW5jZXMpIHtcbiAgICAgICAgICAgICAgaWYoIXZpc2l0ZWRbcHJvdmVuYW5jZVtcInJvdyBpbnN0YW5jZVwiXV0pIHtcbiAgICAgICAgICAgICAgICB2aXNpdGVkW3Byb3ZlbmFuY2VbXCJyb3cgaW5zdGFuY2VcIl1dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgcmVsYXRlZFByb3ZlbmFuY2UgPSByb3dJbnN0YW5jZUxvb2t1cFtwcm92ZW5hbmNlW1wicm93IGluc3RhbmNlXCJdICsgJ3wnICsgcHJvdmVuYW5jZS50YWJsZV07XG4gICAgICAgICAgICAgICAgZm9yKGxldCByZWxhdGVkIG9mIHJlbGF0ZWRQcm92ZW5hbmNlKSB7XG4gICAgICAgICAgICAgICAgICBwcm92ZW5hbmNlUmVtb3Zlcy5wdXNoKHJlbGF0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByb3dzVG9Qb3N0Q2hlY2sucHVzaChwcm92ZW5hbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcHJvdmVuYW5jZURpZmYucmVtb3ZlRmFjdHMoXCJwcm92ZW5hbmNlXCIsIHByb3ZlbmFuY2VSZW1vdmVzKTtcbiAgICBpeGVyLmFwcGx5RGlmZkluY3JlbWVudGFsKHByb3ZlbmFuY2VEaWZmKTtcbiAgICBsZXQgaXNFZGIgPSBpeGVyLmVkYlRhYmxlcztcbiAgICBmb3IobGV0IHJvdyBvZiByb3dzVG9Qb3N0Q2hlY2spIHtcbiAgICAgIGxldCBzdXBwb3J0cyA9IHRhYmxlUm93TG9va3VwW3Jvdy5yb3cuX19pZCArICd8JyArIHJvdy50YWJsZV07XG4gICAgICBpZighc3VwcG9ydHMgfHwgc3VwcG9ydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlbW92ZXMucHVzaChyb3cucm93KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbW92ZXM7XG4gIH1cbiAgY2FuQmVJbmNyZW1lbnRhbCgpIHtcbiAgICBpZih0aGlzLmFnZ3JlZ2F0ZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgaWYodGhpcy5zb3J0cykgcmV0dXJuIGZhbHNlO1xuICAgIGlmKHRoaXMuZ3JvdXBzKSByZXR1cm4gZmFsc2U7XG4gICAgaWYodGhpcy5saW1pdEluZm8pIHJldHVybiBmYWxzZTtcbiAgICBmb3IobGV0IGpvaW4gb2YgdGhpcy5qb2lucykge1xuICAgICAgaWYoam9pbi5uZWdhdGVkKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmKCF0aGlzLmpvaW5zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbXBpbGUoKSB7XG4gICAgbGV0IGFzdCA9IHRoaXMudG9BU1QoKTtcbiAgICBsZXQgY29kZSA9IHRoaXMuY29tcGlsZUFTVChhc3QpO1xuICAgIHRoaXMuY29tcGlsZWQgPSBuZXcgRnVuY3Rpb24oXCJpeGVyXCIsIFwiUXVlcnlGdW5jdGlvbnNcIiwgXCJ0YWJsZUlkXCIsIFwicm9vdFJvd3NcIiwgY29kZSk7XG4gICAgaWYodGhpcy5jYW5CZUluY3JlbWVudGFsKCkpIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50YWxSb3dGaW5kZXIgPSBuZXcgRnVuY3Rpb24oXCJjaGFuZ2VzXCIsIHRoaXMuY29tcGlsZUluY3JlbWVudGFsUm93RmluZGVyQ29kZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmNyZW1lbnRhbFJvd0ZpbmRlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGV4ZWMoKSB7XG4gICAgaWYodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5jb21waWxlKCk7XG4gICAgfVxuICAgIGxldCByb290ID0gdGhpcy5qb2luc1swXTtcbiAgICBsZXQgcm93cztcbiAgICBpZihyb290KSB7XG4gICAgICByb3dzID0gdGhpcy5peGVyLmZpbmQocm9vdC50YWJsZSwgcm9vdC5qb2luKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm93cyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb21waWxlZCh0aGlzLml4ZXIsIFF1ZXJ5RnVuY3Rpb25zLCB0aGlzLm5hbWUsIHJvd3MpO1xuICB9XG4gIGV4ZWNJbmNyZW1lbnRhbChjaGFuZ2VzLCB0YWJsZSk6IHtwcm92ZW5hbmNlOiBhbnlbXSwgYWRkczogYW55W10sIHJlbW92ZXM6IGFueVtdfSB7XG4gICAgaWYodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5jb21waWxlKCk7XG4gICAgfVxuICAgIGlmKHRoaXMuaW5jcmVtZW50YWxSb3dGaW5kZXIpIHtcbiAgICAgIGxldCBwb3RlbnRpYWxSb3dzID0gdGhpcy5pbmNyZW1lbnRhbFJvd0ZpbmRlcihjaGFuZ2VzKTtcbiAgICAgIC8vIGlmIHRoZSByb290IHNlbGVjdCBoYXMgc29tZSBjb25zdGFudCBmaWx0ZXJzLCB0aGVuXG4gICAgICAvLyB0aGUgYWJvdmUgcm93cyBuZWVkIHRvIGJlIGZpbHRlcmVkIGRvd24gdG8gb25seSB0aG9zZSB0aGF0XG4gICAgICAvLyBtYXRjaC5cbiAgICAgIGxldCByb3dzID0gW107XG4gICAgICBsZXQgcm9vdCA9IHRoaXMuam9pbnNbMF07XG4gICAgICBsZXQgcm9vdEtleXMgPSBPYmplY3Qua2V5cyhyb290LmpvaW4pO1xuICAgICAgaWYocm9vdEtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICByb3dMb29wOiBmb3IobGV0IHJvdyBvZiBwb3RlbnRpYWxSb3dzKSB7XG4gICAgICAgICAgZm9yKGxldCBrZXkgb2Ygcm9vdEtleXMpIHtcbiAgICAgICAgICAgIGlmKHJvd1trZXldICE9PSByb290LmpvaW5ba2V5XSkgY29udGludWUgcm93TG9vcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcm93cy5wdXNoKHJvdyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvd3MgPSBwb3RlbnRpYWxSb3dzO1xuICAgICAgfVxuICAgICAgbGV0IHJlc3VsdHMgPSB0aGlzLmNvbXBpbGVkKHRoaXMuaXhlciwgUXVlcnlGdW5jdGlvbnMsIHRoaXMubmFtZSwgcm93cyk7XG4gICAgICBsZXQgYWRkcyA9IFtdO1xuICAgICAgbGV0IHByZXZIYXNoZXMgPSB0YWJsZS5mYWN0SGFzaDtcbiAgICAgIGxldCBwcmV2S2V5cyA9IE9iamVjdC5rZXlzKHByZXZIYXNoZXMpO1xuICAgICAgbGV0IHN1Z2dlc3RlZFJlbW92ZXMgPSB0aGlzLmluY3JlbWVudGFsUmVtb3ZlKGNoYW5nZXMpO1xuICAgICAgbGV0IHJlYWxEaWZmID0gZGlmZkFkZHNBbmRSZW1vdmVzKHJlc3VsdHMucmVzdWx0cywgc3VnZ2VzdGVkUmVtb3Zlcyk7XG4gICAgICBmb3IobGV0IHJlc3VsdCBvZiByZWFsRGlmZi5hZGRzKSB7XG4gICAgICAgIGxldCBpZCA9IHJlc3VsdC5fX2lkO1xuICAgICAgICBpZihwcmV2SGFzaGVzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYWRkcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBkaWZmID0gdGhpcy5peGVyLmRpZmYoKTtcbiAgICAgIGRpZmYuYWRkTWFueShcInByb3ZlbmFuY2VcIiwgcmVzdWx0cy5wcm92ZW5hbmNlKTtcbiAgICAgIHRoaXMuaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiSU5DIFBST1YgRElGRlwiLCB0aGlzLm5hbWUsIGRpZmYubGVuZ3RoKTtcbiAgICAgIHJldHVybiB7cHJvdmVuYW5jZTogcmVzdWx0cy5wcm92ZW5hbmNlLCBhZGRzLCByZW1vdmVzOiByZWFsRGlmZi5yZW1vdmVzfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSB0aGlzLmV4ZWMoKTtcbiAgICAgIGxldCBhZGRzID0gW107XG4gICAgICBsZXQgcmVtb3ZlcyA9IFtdO1xuICAgICAgbGV0IHByZXZIYXNoZXMgPSB0YWJsZS5mYWN0SGFzaDtcbiAgICAgIGxldCBwcmV2S2V5cyA9IE9iamVjdC5rZXlzKHByZXZIYXNoZXMpO1xuICAgICAgbGV0IG5ld0hhc2hlcyA9IHt9O1xuICAgICAgZm9yKGxldCByZXN1bHQgb2YgcmVzdWx0cy5yZXN1bHRzKSB7XG4gICAgICAgIGxldCBpZCA9IHJlc3VsdC5fX2lkO1xuICAgICAgICBuZXdIYXNoZXNbaWRdID0gcmVzdWx0O1xuICAgICAgICBpZihwcmV2SGFzaGVzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYWRkcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvcihsZXQgaGFzaCBvZiBwcmV2S2V5cykge1xuICAgICAgICBsZXQgdmFsdWUgPSBuZXdIYXNoZXNbaGFzaF07XG4gICAgICAgIGlmKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgcmVtb3Zlcy5wdXNoKHByZXZIYXNoZXNbaGFzaF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgcmVhbERpZmYgPSBkaWZmQWRkc0FuZFJlbW92ZXMoYWRkcywgcmVtb3Zlcyk7XG4gICAgICBsZXQgZGlmZiA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgICBkaWZmLnJlbW92ZShcInByb3ZlbmFuY2VcIiwge3RhYmxlOiB0aGlzLm5hbWV9KTtcbiAgICAgIGRpZmYuYWRkTWFueShcInByb3ZlbmFuY2VcIiwgcmVzdWx0cy5wcm92ZW5hbmNlKTtcbiAgICAgIHRoaXMuaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiRlVMTCBQUk9WIFNJWkVcIiwgdGhpcy5uYW1lLCBkaWZmLmxlbmd0aCk7XG4gICAgICByZXR1cm4ge3Byb3ZlbmFuY2U6IHJlc3VsdHMucHJvdmVuYW5jZSwgYWRkczogcmVhbERpZmYuYWRkcywgcmVtb3ZlczogcmVhbERpZmYucmVtb3Zlc307XG4gICAgfVxuICB9XG4gIGRlYnVnKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuY29tcGlsZUFTVCh0aGlzLnRvQVNUKCkpKTtcbiAgICBjb25zb2xlLnRpbWUoXCJleGVjXCIpO1xuICAgIHZhciByZXN1bHRzID0gdGhpcy5leGVjKCk7XG4gICAgY29uc29sZS50aW1lRW5kKFwiZXhlY1wiKTtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5pb24ge1xuICBuYW1lO1xuICB0YWJsZXM7XG4gIHNvdXJjZXM7XG4gIGlzU3RhdGVmdWw7XG4gIGhhc2hlcjtcbiAgZGlydHk7XG4gIHByZXY7XG4gIGNvbXBpbGVkO1xuICBpeGVyO1xuICBjb25zdHJ1Y3RvcihpeGVyLCBuYW1lID0gXCJ1bmtub3duXCIpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaXhlciA9IGl4ZXI7XG4gICAgdGhpcy50YWJsZXMgPSBbXTtcbiAgICB0aGlzLnNvdXJjZXMgPSBbXTtcbiAgICB0aGlzLmlzU3RhdGVmdWwgPSBmYWxzZTtcbiAgICB0aGlzLnByZXYgPSB7cmVzdWx0czogW10sIGhhc2hlczoge319O1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIGNoYW5nZXNldChpeGVyOkluZGV4ZXIpIHtcbiAgICBsZXQgZGlmZiA9IGl4ZXIuZGlmZigpO1xuICAgIGRpZmYuYWRkKFwidmlld1wiLCB7dmlldzogdGhpcy5uYW1lLCBraW5kOiBcInVuaW9uXCJ9KTtcbiAgICBmb3IobGV0IHNvdXJjZSBvZiB0aGlzLnNvdXJjZXMpIHtcbiAgICAgIGlmKHNvdXJjZS50eXBlID09PSBcIitcIikge1xuICAgICAgICBsZXQgYWN0aW9uID0gdXVpZCgpO1xuICAgICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldzogdGhpcy5uYW1lLCBhY3Rpb24sIGtpbmQ6IFwidW5pb25cIiwgIGl4OiAwfSk7XG4gICAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IHNvdXJjZS50YWJsZX0pO1xuICAgICAgICBmb3IobGV0IGZpZWxkIGluIHNvdXJjZS5tYXBwaW5nKSB7XG4gICAgICAgICAgbGV0IG1hcHBlZCA9IHNvdXJjZS5tYXBwaW5nW2ZpZWxkXTtcbiAgICAgICAgICBpZihtYXBwZWQuY29uc3RydWN0b3IgPT09IEFycmF5KSBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb24sIGZyb206IGZpZWxkLCBcInRvIHNvdXJjZVwiOiBzb3VyY2UudGFibGUsIFwidG8gZmllbGRcIjogbWFwcGVkWzBdfSlcbiAgICAgICAgICBlbHNlIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbTogZmllbGQsIHZhbHVlOiBtYXBwZWR9KTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNvdXJjZSB0eXBlOiAnJHtzb3VyY2UudHlwZX0nYCk7XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xuICB9XG4gIGVuc3VyZUhhc2hlcihtYXBwaW5nKSB7XG4gICAgaWYoIXRoaXMuaGFzaGVyKSB7XG4gICAgICB0aGlzLmhhc2hlciA9IGdlbmVyYXRlU3RyaW5nRm4oT2JqZWN0LmtleXMobWFwcGluZykpO1xuICAgIH1cbiAgfVxuICB1bmlvbih0YWJsZU5hbWUsIG1hcHBpbmcpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLmVuc3VyZUhhc2hlcihtYXBwaW5nKTtcbiAgICB0aGlzLnRhYmxlcy5wdXNoKHRhYmxlTmFtZSk7XG4gICAgdGhpcy5zb3VyY2VzLnB1c2goe3R5cGU6IFwiK1wiLCB0YWJsZTogdGFibGVOYW1lLCBtYXBwaW5nfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdG9BU1QoKSB7XG4gICAgbGV0IHJvb3QgPSB7dHlwZTogXCJ1bmlvblwiLCBjaGlsZHJlbjogW119O1xuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IFwicmVzdWx0c1wiLCB2YWx1ZTogXCJbXVwifSk7XG4gICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcImRlY2xhcmF0aW9uXCIsIHZhcjogXCJwcm92ZW5hbmNlXCIsIHZhbHVlOiBcIltdXCJ9KTtcblxuICAgIGxldCBoYXNoZXNWYWx1ZSA9IFwie31cIjtcbiAgICBpZih0aGlzLmlzU3RhdGVmdWwpIHtcbiAgICAgICAgaGFzaGVzVmFsdWUgPSBcInByZXZIYXNoZXNcIjtcbiAgICB9XG4gICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcImRlY2xhcmF0aW9uXCIsIHZhcjogXCJoYXNoZXNcIiwgdmFsdWU6IGhhc2hlc1ZhbHVlfSk7XG5cbiAgICBsZXQgaXggPSAwO1xuICAgIGZvcihsZXQgc291cmNlIG9mIHRoaXMuc291cmNlcykge1xuICAgICAgbGV0IGFjdGlvbjtcbiAgICAgIGlmKHNvdXJjZS50eXBlID09PSBcIitcIikge1xuICAgICAgICBhY3Rpb24gPSB7dHlwZTogXCJyZXN1bHRcIiwgaXgsIGNoaWxkcmVuOiBbe3R5cGU6IFwicHJvdmVuYW5jZVwiLCBzb3VyY2UsIGl4fV19O1xuICAgICAgfVxuICAgICAgcm9vdC5jaGlsZHJlbi5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJzb3VyY2VcIixcbiAgICAgICAgaXgsXG4gICAgICAgIHRhYmxlOiBzb3VyY2UudGFibGUsXG4gICAgICAgIG1hcHBpbmc6IHNvdXJjZS5tYXBwaW5nLFxuICAgICAgICBjaGlsZHJlbjogW2FjdGlvbl0sXG4gICAgICB9KTtcbiAgICAgIGl4Kys7XG4gICAgfVxuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJoYXNoZXNUb1Jlc3VsdHNcIn0pO1xuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJyZXR1cm5cIiwgdmFyczogW1wicmVzdWx0c1wiLCBcImhhc2hlc1wiLCBcInByb3ZlbmFuY2VcIl19KTtcbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuICBjb21waWxlQVNUKHJvb3QpIHtcbiAgICBsZXQgY29kZSA9IFwiXCI7XG4gICAgbGV0IHR5cGUgPSByb290LnR5cGU7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJ1bmlvblwiOlxuICAgICAgICBmb3IodmFyIGNoaWxkIG9mIHJvb3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICBjb2RlICs9IHRoaXMuY29tcGlsZUFTVChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVjbGFyYXRpb25cIjpcbiAgICAgICAgY29kZSArPSBgdmFyICR7cm9vdC52YXJ9ID0gJHtyb290LnZhbHVlfTtcXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgbGV0IG1hcHBpbmdJdGVtcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGtleSBpbiByb290Lm1hcHBpbmcpIHtcbiAgICAgICAgICBsZXQgbWFwcGluZyA9IHJvb3QubWFwcGluZ1trZXldO1xuICAgICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgICBpZihtYXBwaW5nLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiBtYXBwaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgbGV0IFtmaWVsZF0gPSBtYXBwaW5nO1xuICAgICAgICAgICAgdmFsdWUgPSBgc291cmNlUm93JHtpeH1bJyR7ZmllbGR9J11gO1xuICAgICAgICAgIH0gZWxzZSBpZihtYXBwaW5nLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiBtYXBwaW5nLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgbGV0IFtfLCBmaWVsZF0gPSBtYXBwaW5nO1xuICAgICAgICAgICAgdmFsdWUgPSBgc291cmNlUm93JHtpeH1bJyR7ZmllbGR9J11gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG1hcHBpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBwaW5nSXRlbXMucHVzaChgJyR7a2V5fSc6ICR7dmFsdWV9YClcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IGB2YXIgc291cmNlUm93cyR7aXh9ID0gY2hhbmdlc1snJHtyb290LnRhYmxlfSddO1xcbmA7XG4gICAgICAgIGNvZGUgKz0gYGZvcih2YXIgcm93SXgke2l4fSA9IDAsIHJvd3NMZW4ke2l4fSA9IHNvdXJjZVJvd3Mke2l4fS5sZW5ndGg7IHJvd0l4JHtpeH0gPCByb3dzTGVuJHtpeH07IHJvd0l4JHtpeH0rKykge1xcbmBcbiAgICAgICAgY29kZSArPSBgdmFyIHNvdXJjZVJvdyR7aXh9ID0gc291cmNlUm93cyR7aXh9W3Jvd0l4JHtpeH1dO1xcbmA7XG4gICAgICAgIGNvZGUgKz0gYHZhciBtYXBwZWRSb3cke2l4fSA9IHske21hcHBpbmdJdGVtcy5qb2luKFwiLCBcIil9fTtcXG5gXG4gICAgICAgIGZvcih2YXIgY2hpbGQgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvZGUgKz0gdGhpcy5jb21waWxlQVNUKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IFwifVxcblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXN1bHRcIjpcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgY29kZSArPSBgdmFyIGhhc2gke2l4fSA9IGhhc2hlcihtYXBwZWRSb3cke2l4fSk7XFxuYDtcbiAgICAgICAgY29kZSArPSBgbWFwcGVkUm93JHtpeH0uX19pZCA9IGhhc2gke2l4fTtcXG5gO1xuICAgICAgICBjb2RlICs9IGBoYXNoZXNbaGFzaCR7aXh9XSA9IG1hcHBlZFJvdyR7aXh9O1xcbmA7XG4gICAgICAgIGZvcih2YXIgY2hpbGQgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvZGUgKz0gdGhpcy5jb21waWxlQVNUKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZW1vdmVSZXN1bHRcIjpcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgY29kZSArPSBgaGFzaGVzW2hhc2hlcihtYXBwZWRSb3cke2l4fSldID0gZmFsc2U7XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaGFzaGVzVG9SZXN1bHRzXCI6XG4gICAgICAgIGNvZGUgKz0gXCJ2YXIgaGFzaEtleXMgPSBPYmplY3Qua2V5cyhoYXNoZXMpO1xcblwiO1xuICAgICAgICBjb2RlICs9IFwiZm9yKHZhciBoYXNoS2V5SXggPSAwLCBoYXNoS2V5TGVuID0gaGFzaEtleXMubGVuZ3RoOyBoYXNoS2V5SXggPCBoYXNoS2V5TGVuOyBoYXNoS2V5SXgrKykge1xcblwiO1xuICAgICAgICBjb2RlICs9IFwidmFyIGN1ckhhc2hLZXkgPSBoYXNoS2V5c1toYXNoS2V5SXhdO1wiXG4gICAgICAgIGNvZGUgKz0gXCJ2YXIgdmFsdWUgPSBoYXNoZXNbY3VySGFzaEtleV07XFxuXCI7XG4gICAgICAgIGNvZGUgKz0gXCJpZih2YWx1ZSAhPT0gZmFsc2UpIHtcXG5cIjtcbiAgICAgICAgY29kZSArPSBcInZhbHVlLl9faWQgPSBjdXJIYXNoS2V5O1xcblwiO1xuICAgICAgICBjb2RlICs9IFwicmVzdWx0cy5wdXNoKHZhbHVlKTtcXG5cIjtcbiAgICAgICAgY29kZSArPSBcIn1cXG5cIjtcbiAgICAgICAgY29kZSArPSBcIn1cXG5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvdmVuYW5jZVwiOlxuICAgICAgICB2YXIgc291cmNlID0gcm9vdC5zb3VyY2UudGFibGU7XG4gICAgICAgIHZhciBpeCA9IHJvb3QuaXg7XG4gICAgICAgIHZhciBwcm92ZW5hbmNlID0gXCJ2YXIgcHJvdmVuYW5jZV9faWQgPSAnJztcXG5cIjtcbiAgICAgICAgcHJvdmVuYW5jZSArPSBgcHJvdmVuYW5jZV9faWQgPSAnJHt0aGlzLm5hbWV9fCcgKyBtYXBwZWRSb3cke2l4fS5fX2lkICsgJ3wnICsgcm93SW5zdGFuY2UgKyAnfCR7c291cmNlfXwnICsgc291cmNlUm93JHtpeH0uX19pZDsgXFxuYDtcbiAgICAgICAgcHJvdmVuYW5jZSArPSBgcHJvdmVuYW5jZS5wdXNoKHt0YWJsZTogJyR7dGhpcy5uYW1lfScsIHJvdzogbWFwcGVkUm93JHtpeH0sIFwicm93IGluc3RhbmNlXCI6IHJvd0luc3RhbmNlLCBzb3VyY2U6IFwiJHtzb3VyY2V9XCIsIFwic291cmNlIHJvd1wiOiBzb3VyY2VSb3cke2l4fX0pO1xcbmA7XG4gICAgICAgIGNvZGUgPSBgdmFyIHJvd0luc3RhbmNlID0gXCIke3NvdXJjZX18XCIgKyBtYXBwZWRSb3cke2l4fS5fX2lkO1xuICAgICAgICAke3Byb3ZlbmFuY2V9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmV0dXJuXCI6XG4gICAgICAgIGNvZGUgKz0gYHJldHVybiB7JHtyb290LnZhcnMubWFwKChuYW1lKSA9PiBgJHtuYW1lfTogJHtuYW1lfWApLmpvaW4oXCIsIFwiKX19O2A7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gY29kZTtcbiAgfVxuICBjb21waWxlKCkge1xuICAgIGxldCBhc3QgPSB0aGlzLnRvQVNUKCk7XG4gICAgbGV0IGNvZGUgPSB0aGlzLmNvbXBpbGVBU1QoYXN0KTtcbiAgICB0aGlzLmNvbXBpbGVkID0gbmV3IEZ1bmN0aW9uKFwiaXhlclwiLCBcImhhc2hlclwiLCBcImNoYW5nZXNcIiwgY29kZSk7XG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlYnVnKCkge1xuICAgIGxldCBjb2RlID0gdGhpcy5jb21waWxlQVNUKHRoaXMudG9BU1QoKSk7XG4gICAgY29uc29sZS5sb2coY29kZSk7XG4gICAgcmV0dXJuIGNvZGU7XG4gIH1cbiAgZXhlYygpIHtcbiAgICBpZih0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLmNvbXBpbGUoKTtcbiAgICB9XG4gICAgbGV0IGNoYW5nZXMgPSB7fVxuICAgIGZvcihsZXQgc291cmNlIG9mIHRoaXMuc291cmNlcykge1xuICAgICAgY2hhbmdlc1tzb3VyY2UudGFibGVdID0gdGhpcy5peGVyLnRhYmxlKHNvdXJjZS50YWJsZSkudGFibGU7XG4gICAgfVxuICAgIGxldCByZXN1bHRzID0gdGhpcy5jb21waWxlZCh0aGlzLml4ZXIsIHRoaXMuaGFzaGVyLCBjaGFuZ2VzKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICBpbmNyZW1lbnRhbFJlbW92ZShjaGFuZ2VzKSB7XG4gICAgbGV0IGl4ZXIgPSB0aGlzLml4ZXI7XG4gICAgbGV0IHJvd3NUb1Bvc3RDaGVjayA9IFtdO1xuICAgIGxldCBwcm92ZW5hbmNlRGlmZiA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgbGV0IHJlbW92ZXMgPSBbXTtcbiAgICBsZXQgaW5kZXhlcyA9IGl4ZXIudGFibGUoXCJwcm92ZW5hbmNlXCIpLmluZGV4ZXM7XG4gICAgbGV0IHNvdXJjZVJvd0xvb2t1cCA9IGluZGV4ZXNbXCJzb3VyY2V8c291cmNlIHJvd3x0YWJsZVwiXS5pbmRleDtcbiAgICBsZXQgcm93SW5zdGFuY2VMb29rdXAgPSBpbmRleGVzW1wicm93IGluc3RhbmNlfHRhYmxlXCJdLmluZGV4O1xuICAgIGxldCB0YWJsZVJvd0xvb2t1cCA9IGluZGV4ZXNbXCJyb3d8dGFibGVcIl0uaW5kZXg7XG4gICAgbGV0IHByb3ZlbmFuY2VSZW1vdmVzID0gW107XG4gICAgbGV0IHZpc2l0ZWQgPSB7fVxuICAgIGZvcihsZXQgc291cmNlIG9mIHRoaXMuc291cmNlcykge1xuICAgICAgbGV0IGNoYW5nZSA9IGNoYW5nZXNbc291cmNlLnRhYmxlXTtcbiAgICAgIGlmKCF2aXNpdGVkW3NvdXJjZS50YWJsZV0gJiYgY2hhbmdlICYmIGNoYW5nZS5yZW1vdmVzLmxlbmd0aCkge1xuICAgICAgICB2aXNpdGVkW3NvdXJjZS50YWJsZV0gPSB0cnVlO1xuICAgICAgICBmb3IobGV0IHJlbW92ZSBvZiBjaGFuZ2UucmVtb3Zlcykge1xuICAgICAgICAgIGxldCBwcm92ZW5hbmNlcyA9IHNvdXJjZVJvd0xvb2t1cFtzb3VyY2UudGFibGUgKyAnfCcgKyByZW1vdmUuX19pZCArICd8JyArIHRoaXMubmFtZV1cbiAgICAgICAgICBpZihwcm92ZW5hbmNlcykge1xuICAgICAgICAgICAgZm9yKGxldCBwcm92ZW5hbmNlIG9mIHByb3ZlbmFuY2VzKSB7XG4gICAgICAgICAgICAgIGlmKCF2aXNpdGVkW3Byb3ZlbmFuY2VbXCJyb3cgaW5zdGFuY2VcIl1dKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZFtwcm92ZW5hbmNlW1wicm93IGluc3RhbmNlXCJdXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHJlbGF0ZWRQcm92ZW5hbmNlID0gcm93SW5zdGFuY2VMb29rdXBbcHJvdmVuYW5jZVtcInJvdyBpbnN0YW5jZVwiXSArICd8JyArIHByb3ZlbmFuY2UudGFibGVdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgcmVsYXRlZCBvZiByZWxhdGVkUHJvdmVuYW5jZSkge1xuICAgICAgICAgICAgICAgICAgcHJvdmVuYW5jZVJlbW92ZXMucHVzaChyZWxhdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcm93c1RvUG9zdENoZWNrLnB1c2gocHJvdmVuYW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHByb3ZlbmFuY2VEaWZmLnJlbW92ZUZhY3RzKFwicHJvdmVuYW5jZVwiLCBwcm92ZW5hbmNlUmVtb3Zlcyk7XG4gICAgaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChwcm92ZW5hbmNlRGlmZik7XG4gICAgbGV0IGlzRWRiID0gaXhlci5lZGJUYWJsZXM7XG4gICAgZm9yKGxldCByb3cgb2Ygcm93c1RvUG9zdENoZWNrKSB7XG4gICAgICBsZXQgc3VwcG9ydHMgPSB0YWJsZVJvd0xvb2t1cFtyb3cucm93Ll9faWQgKyAnfCcgKyByb3cudGFibGVdO1xuICAgICAgaWYoIXN1cHBvcnRzIHx8IHN1cHBvcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmVzLnB1c2gocm93LnJvdyk7XG4gICAgICB9IGVsc2UgaWYodGhpcy5zb3VyY2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgbGV0IHN1cHBvcnRzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGlmIHRoZXJlIGFyZSBzdXBwb3J0cywgdGhlbiB3ZSBuZWVkIHRvIHdhbGsgdGhlIHN1cHBvcnRcbiAgICAgICAgLy8gZ3JhcGggYmFja3dhcmRzIGFuZCBtYWtlIHN1cmUgZXZlcnkgc3VwcG9ydGluZyByb3cgdGVybWluYXRlcyBhdCBhblxuICAgICAgICAvLyBlZGIgdmFsdWUuIElmIG5vdCwgdGhlbiB0aGF0IHN1cHBvcnQgYWxzbyBuZWVkcyB0byBiZSByZW1vdmVkXG4gICAgICAgIGZvcihsZXQgc3VwcG9ydCBvZiBzdXBwb3J0cykge1xuICAgICAgICAgIC8vIGlmIHRoZSBzdXBwb3J0IGlzIGFscmVhZHkgYW4gZWRiLCB3ZSdyZSBnb29kIHRvIGdvLlxuICAgICAgICAgIGlmKGlzRWRiW3N1cHBvcnQuc291cmNlXSkgY29udGludWU7XG4gICAgICAgICAgaWYoIXRhYmxlUm93TG9va3VwW3N1cHBvcnRbXCJzb3VyY2Ugcm93XCJdLl9faWQgKyAnfCcgKyBzdXBwb3J0LnNvdXJjZV0pIHtcbiAgICAgICAgICAgIHN1cHBvcnRzVG9SZW1vdmUucHVzaChzdXBwb3J0KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBnZXQgYWxsIHRoZSBzdXBwb3J0cyBmb3IgdGhpcyBzdXBwb3J0XG4gICAgICAgICAgbGV0IG5vZGVzID0gdGFibGVSb3dMb29rdXBbc3VwcG9ydFtcInNvdXJjZSByb3dcIl0uX19pZCArICd8JyArIHN1cHBvcnQuc291cmNlXS5zbGljZSgpO1xuICAgICAgICAgIGxldCBub2RlSXggPSAwO1xuICAgICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIG5vZGVzLCBpZiB0aGV5IGhhdmUgZnVydGhlciBzdXBwb3J0cyB0aGVuXG4gICAgICAgICAgLy8gYXNzdW1lIHRoaXMgbm9kZSBpcyBvayBhbmQgYWRkIHRob3NlIHN1cHBvcnRzIHRvIHRoZSBsaXN0IG9mIG5vZGVzIHRvXG4gICAgICAgICAgLy8gY2hlY2suIElmIHdlIHJ1biBpbnRvIGEgbm9kZSB3aXRoIG5vIHN1cHBvcnRzIGl0IG11c3QgZWl0aGVyIGJlIGFuIGVkYlxuICAgICAgICAgIC8vIG9yIGl0J3MgdW5zdXBwb3J0ZWQgYW5kIHRoaXMgcm93IGluc3RhbmNlIG5lZWRzIHRvIGJlIHJlbW92ZWQuXG4gICAgICAgICAgd2hpbGUobm9kZUl4IDwgbm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW25vZGVJeF07XG4gICAgICAgICAgICBpZihpc0VkYltub2RlLnNvdXJjZV0pIHtcbiAgICAgICAgICAgICAgbm9kZUl4Kys7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5vZGVTdXBwb3J0cyA9IHRhYmxlUm93TG9va3VwW25vZGVbXCJzb3VyY2Ugcm93XCJdLl9faWQgKyAnfCcgKyBub2RlLnNvdXJjZV07XG4gICAgICAgICAgICBpZighbm9kZVN1cHBvcnRzIHx8IG5vZGVTdXBwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgc3VwcG9ydHNUb1JlbW92ZS5wdXNoKHN1cHBvcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvcihsZXQgbm9kZVN1cHBvcnQgb2Ygbm9kZVN1cHBvcnRzKSB7XG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaChub2RlU3VwcG9ydCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbm9kZUl4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHN1cHBvcnRzVG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gd2UgbmVlZCB0byByZW1vdmUgYWxsIHRoZSBzdXBwb3J0c1xuICAgICAgICAgIGxldCBwcm92ZW5hbmNlUmVtb3ZlcyA9IFtdO1xuICAgICAgICAgIGZvcihsZXQgc3VwcG9ydCBvZiBzdXBwb3J0c1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICBsZXQgcmVsYXRlZFByb3ZlbmFuY2UgPSByb3dJbnN0YW5jZUxvb2t1cFtzdXBwb3J0W1wicm93IGluc3RhbmNlXCJdICsgJ3wnICsgc3VwcG9ydC50YWJsZV07XG4gICAgICAgICAgICBmb3IobGV0IHJlbGF0ZWQgb2YgcmVsYXRlZFByb3ZlbmFuY2UpIHtcbiAgICAgICAgICAgICAgcHJvdmVuYW5jZVJlbW92ZXMucHVzaChyZWxhdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGRpZmYgPSBpeGVyLmRpZmYoKTtcbiAgICAgICAgICBkaWZmLnJlbW92ZUZhY3RzKFwicHJvdmVuYW5jZVwiLCBwcm92ZW5hbmNlUmVtb3Zlcyk7XG4gICAgICAgICAgaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgICAgICAgICAvLyBub3cgdGhhdCBhbGwgdGhlIHVuc3VwcG9ydGVkIHByb3ZlbmFuY2VzIGhhdmUgYmVlbiByZW1vdmVkLCBjaGVjayBpZiB0aGVyZSdzIGFueXRoaW5nXG4gICAgICAgICAgLy8gbGVmdC5cbiAgICAgICAgICBpZighdGFibGVSb3dMb29rdXBbcm93LnJvdy5fX2lkICsgJ3wnICsgcm93LnRhYmxlXSB8fCB0YWJsZVJvd0xvb2t1cFtyb3cucm93Ll9faWQgKyAnfCcgKyByb3cudGFibGVdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVtb3Zlcy5wdXNoKHJvdy5yb3cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlcztcbiAgfVxuICBleGVjSW5jcmVtZW50YWwoY2hhbmdlcywgdGFibGUpOiB7cHJvdmVuYW5jZTogYW55W10sIGFkZHM6IGFueVtdLCByZW1vdmVzOiBhbnlbXX0ge1xuICAgIGlmKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuY29tcGlsZSgpO1xuICAgIH1cblxuICAgIGxldCBzb3VyY2VDaGFuZ2VzID0ge31cbiAgICBmb3IobGV0IHNvdXJjZSBvZiB0aGlzLnNvdXJjZXMpIHtcbiAgICAgIGxldCB2YWx1ZTtcbiAgICAgIGlmKCFjaGFuZ2VzW3NvdXJjZS50YWJsZV0pIHtcbiAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gY2hhbmdlc1tzb3VyY2UudGFibGVdLmFkZHM7XG4gICAgICB9XG4gICAgICBzb3VyY2VDaGFuZ2VzW3NvdXJjZS50YWJsZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdHMgPSB0aGlzLmNvbXBpbGVkKHRoaXMuaXhlciwgdGhpcy5oYXNoZXIsIHNvdXJjZUNoYW5nZXMpO1xuICAgIGxldCBhZGRzID0gW107XG4gICAgbGV0IHByZXZIYXNoZXMgPSB0YWJsZS5mYWN0SGFzaDtcbiAgICBsZXQgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2SGFzaGVzKTtcbiAgICBsZXQgc3VnZ2VzdGVkUmVtb3ZlcyA9IHRoaXMuaW5jcmVtZW50YWxSZW1vdmUoY2hhbmdlcyk7XG4gICAgbGV0IHJlYWxEaWZmID0gZGlmZkFkZHNBbmRSZW1vdmVzKHJlc3VsdHMucmVzdWx0cywgc3VnZ2VzdGVkUmVtb3Zlcyk7XG4gICAgZm9yKGxldCByZXN1bHQgb2YgcmVhbERpZmYuYWRkcykge1xuICAgICAgbGV0IGlkID0gcmVzdWx0Ll9faWQ7XG4gICAgICBpZihwcmV2SGFzaGVzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFkZHMucHVzaChyZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGlmZiA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgZGlmZi5hZGRNYW55KFwicHJvdmVuYW5jZVwiLCByZXN1bHRzLnByb3ZlbmFuY2UpO1xuICAgIHRoaXMuaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgICByZXR1cm4ge3Byb3ZlbmFuY2U6IHJlc3VsdHMucHJvdmVuYW5jZSwgYWRkcywgcmVtb3ZlczogcmVhbERpZmYucmVtb3Zlc307XG4gIH1cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJ1aWx0aW4gUHJpbWl0aXZlc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxucnVudGltZS5kZWZpbmUoXCJjb3VudFwiLCB7cmVzdWx0OiBcImNvdW50XCJ9LCBmdW5jdGlvbihwcmV2KSB7XG4gIGlmKCFwcmV2LmNvdW50KSB7XG4gICAgcHJldi5jb3VudCA9IDA7XG4gIH1cbiAgcHJldi5jb3VudCsrO1xuICByZXR1cm4gcHJldjtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcInN1bVwiLCB7cmVzdWx0OiBcInN1bVwifSwgZnVuY3Rpb24ocHJldiwgdmFsdWUpIHtcbiAgaWYoIXByZXYuc3VtKSB7XG4gICAgcHJldi5zdW0gPSAwO1xuICB9XG4gIHByZXYuc3VtICs9IHZhbHVlO1xuICByZXR1cm4gcHJldjtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcImF2ZXJhZ2VcIiwge3Jlc3VsdDogXCJhdmVyYWdlXCJ9LCBmdW5jdGlvbihwcmV2LCB2YWx1ZSkge1xuICBpZighcHJldi5zdW0pIHtcbiAgICBwcmV2LnN1bSA9IDA7XG4gICAgcHJldi5jb3VudCA9IDA7XG4gIH1cbiAgcHJldi5jb3VudCsrO1xuICBwcmV2LnN1bSArPSB2YWx1ZTtcbiAgcHJldi5hdmVyYWdlID0gcHJldi5zdW0gLyBwcmV2LmNvdW50O1xuICByZXR1cm4gcHJldjtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcImxvd2VyY2FzZVwiLCB7cmVzdWx0OiBcImxvd2VyY2FzZVwifSwgZnVuY3Rpb24odGV4dCkge1xuICBpZih0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7cmVzdWx0OiB0ZXh0LnRvTG93ZXJDYXNlKCl9O1xuICB9XG4gIHJldHVybiB7cmVzdWx0OiB0ZXh0fTtcbn0pXG5cbnJ1bnRpbWUuZGVmaW5lKFwiPVwiLCB7ZmlsdGVyOiB0cnVlfSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PT0gYiA/IHJ1bnRpbWUuU1VDQ0VFRCA6IHJ1bnRpbWUuRkFJTDtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIj5cIiwge2ZpbHRlcjogdHJ1ZX0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gcnVudGltZS5TVUNDRUVEIDogcnVudGltZS5GQUlMO1xufSk7XG5cbnJ1bnRpbWUuZGVmaW5lKFwiPFwiLCB7ZmlsdGVyOiB0cnVlfSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyBydW50aW1lLlNVQ0NFRUQgOiBydW50aW1lLkZBSUw7XG59KTtcblxucnVudGltZS5kZWZpbmUoXCI+PVwiLCB7ZmlsdGVyOiB0cnVlfSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA+PSBiID8gcnVudGltZS5TVUNDRUVEIDogcnVudGltZS5GQUlMO1xufSk7XG5cbnJ1bnRpbWUuZGVmaW5lKFwiPD1cIiwge2ZpbHRlcjogdHJ1ZX0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPD0gYiA/IHJ1bnRpbWUuU1VDQ0VFRCA6IHJ1bnRpbWUuRkFJTDtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIitcIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgKyBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIi1cIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgLSBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIipcIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgKiBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIi9cIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgLyBifTtcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHVibGljIEFQSVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IFNVQ0NFRUQgPSBbe3N1Y2Nlc3M6IHRydWV9XTtcbmV4cG9ydCBjb25zdCBGQUlMID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleGVyKCkge1xuICByZXR1cm4gYWRkUHJvdmVuYW5jZVRhYmxlKG5ldyBJbmRleGVyKCkpO1xufVxuXG5pZihFTlYgPT09IFwiYnJvd3NlclwiKSB3aW5kb3dbXCJydW50aW1lXCJdID0gZXhwb3J0cztcbiIsImltcG9ydCB7RWxlbWVudH0gZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuL2FwcFwiO1xuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiO1xuaW1wb3J0ICogYXMgd2lraSBmcm9tIFwiLi93aWtpXCI7XG5pbXBvcnQge3F1ZXJ5VG9FeGVjdXRhYmxlfSBmcm9tIFwiLi9xdWVyeVBhcnNlclwiO1xudmFyIG5ld1NlYXJjaCA9IHF1ZXJ5VG9FeGVjdXRhYmxlO1xudmFyIG5ld1NlYXJjaFJlc3VsdHMgPSB3aWtpLm5ld1NlYXJjaFJlc3VsdHM7XG5cbmZ1bmN0aW9uIHJhbmRvbWx5TGV0dGVyKHBocmFzZSwga2xhc3MgPSBcIlwiKSB7XG4gIGxldCBjaGlsZHJlbiA9IFtdO1xuICBsZXQgaXggPSAwO1xuICBmb3IodmFyIGxldHRlciBvZiBwaHJhc2UpIHtcbiAgICBsZXQgcmFuZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpO1xuICAgIGNoaWxkcmVuLnB1c2goe2lkOiBwaHJhc2UgKyBpeCwgdDogXCJzcGFuXCIsIGM6IGBsZXR0ZXJgLCB0ZXh0OiBsZXR0ZXIsIGVudGVyOiB7b3BhY2l0eTogMSwgZHVyYXRpb246IChyYW5kICogMTAwKSArIDE1MCwgZGVsYXk6ICgwICogMzApICsgMzAwfSwgbGVhdmU6IHtvcGFjaXR5OiAwLCBkdXJhdGlvbjogMjUwfX0pO1xuICAgIGl4Kys7XG4gIH1cbiAgcmV0dXJuIHtjOiBgcGhyYXNlICR7a2xhc3N9YCwgY2hpbGRyZW59O1xufVxuXG52YXIgc2xpZGVOdW1iZXIgPSAwO1xudmFyIHNsaWRlcyA9IFtcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiVGhlIHdvcmxkIGlzIGZ1bGwgb2YgYml0cyBvZiBpbmZvcm1hdGlvbi5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIldlIHNwZW5kIG91ciBsaXZlcyBleHBsb3JpbmcgdGhvc2UgYml0cy5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIlRoZXkgZm9ybSB0aGUgZm91bmRhdGlvbiBvZiBvdXIgdW5kZXJzdGFuZGluZywgb3VyIGRlY2lzaW9ucywgb3VyIHdvcmsuLi5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkFuZCB5ZXQgdGhlIHRvb2xzIHdlIGhhdmUgdG8gd29yayB3aXRoIHRoZW0gYXJlIGZhaXJseSBwcmltaXRpdmUuXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAge2lkOiBcInNsaWRlLWxpc3RcIiwgYzogXCJsaXN0XCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBPdXIgY29tbXVuaWNhdGlvbnMgYXJlIHN0YXRpY1wiKSxcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIEluZm9ybWF0aW9uIHJlcXVpcmVzIHJpZ2lkIHN0cnVjdHVyZVwiKSxcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIEV4cGxvcmF0aW9uIGlzIGVpdGhlciBsaW1pdGVkIG9yIGl0J3MgY29kZVwiKSxcbiAgICAgIF19XG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJUaGF0J3Mgd2hlcmUgSSBjb21lIGluLlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiSSBoZWxwIGNvbGxlY3QsIGV4cGxvcmUsIGFuZCBjb21tdW5pY2F0ZSBhc3BlY3RzIG9mIHRoZSB3b3JsZCBhcm91bmQgeW91LlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiTXkgbmFtZSBpcyBFdmUuXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIHNldHVwOiAoKSA9PiB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLmFkZChcInNlYXJjaFwiLCB7aWQ6IFwiZWR3YXJkIG5vcnRvblwiLCB0b3A6IDAsIGxlZnQ6IDB9KTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoIHF1ZXJ5XCIsIHtpZDogXCJlZHdhcmQgbm9ydG9uXCIsIHNlYXJjaDogXCJlZHdhcmQgbm9ydG9uXCJ9KTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICBhcHAuYWN0aXZlU2VhcmNoZXNbXCJlZHdhcmQgbm9ydG9uXCJdID0gbmV3U2VhcmNoKFwiZWR3YXJkIG5vcnRvblwiKTtcbiAgICB9LFxuICAgIHRlYXJkb3duOiAoKSA9PiB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaFwiLCB7aWQ6IFwiZWR3YXJkIG5vcnRvblwifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZWR3YXJkIG5vcnRvblwifSk7XG4gICAgICBldmUuYXBwbHlEaWZmKGRpZmYpO1xuICAgICAgYXBwLmFjdGl2ZVNlYXJjaGVzW1wiZWR3YXJkIG5vcnRvblwiXSA9IG51bGw7XG4gICAgfSxcbiAgICBjb250ZW50OiAoKSA9PiB7XG4gICAgICBsZXQgc2VhcmNoOmFueSA9IG5ld1NlYXJjaFJlc3VsdHMoXCJlZHdhcmQgbm9ydG9uXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH0sXG4gICAgICBzZWFyY2guZW50ZXIgPSB7b3BhY2l0eToxLCBkdXJhdGlvbjogMjUwMCwgZGVsYXk6IDMwMCwgYmVnaW46IChub2RlKSA9PiB7XG4gICAgICAgIGlmKCFub2RlWzBdKSByZXR1cm47XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG5vZGVbMF0ucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtYm94XCIpLmVkaXRvci5yZWZyZXNoKCk7XG4gICAgICAgIH0sIDMwKTtcbiAgICAgIH19O1xuICAgICAgcmV0dXJuIHtjaGlsZHJlbjogW1xuICAgICAgICByYW5kb21seUxldHRlcihcIkFuZCBJIGNvbGxlY3QgYml0cyBsaWtlIHRoaXMgb25lXCIpLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIC8vICAgICAgICB7YzogXCJiaXQgZW50aXR5XCIsIHRleHQ6IFwiR2VvcmdlIFdhc2hpbmd0b25cIn1cbiAgICAgIF19fVxuICB9LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJBIGJpdCBpcyBraW5kIG9mIGxpa2UgYSBwYWdlIGluIGEgd2lraS5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICB7aWQ6IFwic2xpZGUtbGlzdFwiLCBjOiBcImxpc3RcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIFlvdSBjYW4gY2FwdHVyZSBpbmZvcm1hdGlvbiBob3dldmVyIGl0IGNvbWVzLlwiKSxcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIE5vIHBsYW5uaW5nIG9yIHByZS1zdHJ1Y3R1cmluZyBpcyByZXF1aXJlZFwiKSxcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIE5vdGhpbmcgaXMgdG9vIGJpZyBvciB0b28gc21hbGwgZm9yIGEgYml0XCIpLFxuICAgICAgICByYW5kb21seUxldHRlcihcIi0gSW5zdGVhZCBvZiBqdXN0IHJvd3MgaW4gdGFibGVzLCB5b3UgY2FuIGNvbGxlY3QgdGhlIHdob2xlIHN0b3J5XCIpLFxuICAgICAgXX1cbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkFsbCBvZiB3aGljaCBpcyBpbXBvcnRhbnQgd2hlbiBpbXBvcnRpbmcgaW5mb3JtYXRpb24gZnJvbSB0aGUgb3V0c2lkZSB3b3JsZC5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkFuZCBJIHdhcyBkZXNpZ25lZCB0byBiZSBhcyBtYWxsZWFibGUgYXMgcG9zc2libGUgdG8gYWNjb21vZGF0ZSB0aGF0LlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHtpZDogXCJzbGlkZS1saXN0XCIsIGM6IFwibGlzdFwiLCBjaGlsZHJlbjogW1xuICAgICAgICByYW5kb21seUxldHRlcihcIi0gWW91IGNhbiBhZGQgc3RydWN0dXJlIGF0IGFueSB0aW1lXCIpLFxuICAgICAgICByYW5kb21seUxldHRlcihcIi0gV29yayB3aXRoIGhldGVyb2dlbm91cyBjb2xsZWN0aW9uc1wiKSxcbiAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIEhhbmRsZSBvbmUgb2ZmIHRhc2tzIGFuZCBkZWFsIHdpdGggc3BlY2lhbCBjYXNlc1wiKSxcbiAgICAgIF19XG4gICAgXX19LFxuICAvLyB7dHlwZTogXCJldmVcIn0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkJ1dCB0aGF0IG1hbGxlYWJpbGl0eSBkb2Vzbid0IHNhY3JpZmljZSB0aGUgYWJpbGl0eSB0byBleHBsb3JlLlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiWW91IGNhbiBuYXZpZ2F0ZSB0aHJvdWdoIHRoZSB3ZWIgb2YgYml0cyB5b3UgY29sbGVjdCBhbmQgYXNrIGNvbXBsZXggcXVlc3Rpb25zIHRvIGRpc2NvdmVyIG5ldyBpbmZvcm1hdGlvbi5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgc2V0dXA6ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wiLCB0b3A6IDAsIGxlZnQ6IDB9KTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoIHF1ZXJ5XCIsIHtpZDogXCJlcGlzb2Rlc1wiLCBzZWFyY2g6IFwibW9kZXJuIGZhbWlseVwifSk7XG4gICAgICBldmUuYXBwbHlEaWZmKGRpZmYpO1xuICAgICAgYXBwLmFjdGl2ZVNlYXJjaGVzW1wiZXBpc29kZXNcIl0gPSBuZXdTZWFyY2goXCJtb2Rlcm4gZmFtaWx5XCIpO1xuICAgIH0sXG4gICAgdGVhcmRvd246ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYucmVtb3ZlKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbnVsbDtcbiAgICB9LFxuICAgIGNvbnRlbnQ6ICgpID0+IHtcbiAgICAgIGxldCBzZWFyY2g6YW55ID0gbmV3U2VhcmNoUmVzdWx0cyhcImVwaXNvZGVzXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH0sXG4gICAgICBzZWFyY2guZW50ZXIgPSB7b3BhY2l0eToxLCBkdXJhdGlvbjogMTAwMCwgZGVsYXk6IDMwMCwgYmVnaW46IChub2RlKSA9PiB7XG4gICAgICAgIGlmKCFub2RlWzBdKSByZXR1cm47XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG5vZGVbMF0ucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtYm94XCIpLmVkaXRvci5yZWZyZXNoKCk7XG4gICAgICAgIH0sIDMwKTtcbiAgICAgIH19O1xuICAgICAgcmV0dXJuIHtjaGlsZHJlbjogW1xuICAgICAgICB7YzogXCJyb3dcIiwgY2hpbGRyZW4gOltcbiAgICAgICAgICB7YzogXCJwaHJhc2UtY29udGFpbmVyXCIsIGNoaWxkcmVuIDogW1xuICAgICAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJGb3IgZXhhbXBsZSwgaGVyZSdzIGEgYml0IGFib3V0IE1vZGVybiBGYW1pbHlcIiksXG4gICAgICAgICAgXX0sXG4gICAgICAgICAgc2VhcmNoLFxuICAgICAgICBdfVxuICAgICAgXX19XG4gIH0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgc2V0dXA6ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wiLCB0b3A6IDAsIGxlZnQ6IDB9KTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoIHF1ZXJ5XCIsIHtpZDogXCJlcGlzb2Rlc1wiLCBzZWFyY2g6IFwiZXBpc29kZXMgb2YgbW9kZXJuIGZhbWlseVwifSk7XG4gICAgICBldmUuYXBwbHlEaWZmKGRpZmYpO1xuICAgICAgYXBwLmFjdGl2ZVNlYXJjaGVzW1wiZXBpc29kZXNcIl0gPSBuZXdTZWFyY2goXCJlcGlzb2RlcyBvZiBtb2Rlcm4gZmFtaWx5XCIpO1xuICAgIH0sXG4gICAgdGVhcmRvd246ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYucmVtb3ZlKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbnVsbDtcbiAgICB9LFxuICAgIGNvbnRlbnQ6ICgpID0+IHtcbiAgICAgIGxldCBzZWFyY2g6YW55ID0gbmV3U2VhcmNoUmVzdWx0cyhcImVwaXNvZGVzXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH07XG4gICAgICByZXR1cm4ge2NoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcInJvd1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIHtjOiBcInBocmFzZS1jb250YWluZXJcIiwgY2hpbGRyZW4gOiBbXG4gICAgICAgICAgICByYW5kb21seUxldHRlcihcIldlIGNhbiBhc2sgd2hhdCBlcGlzb2RlcyB3ZSBrbm93IGFib3V0IGZvciBNb2Rlcm4gRmFtaWx5XCIpLFxuICAgICAgICAgIF19LFxuICAgICAgICAgIHNlYXJjaCxcbiAgICAgICAgXX1cbiAgICAgIF19fVxuICB9LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIHNldHVwOiAoKSA9PiB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLmFkZChcInNlYXJjaFwiLCB7aWQ6IFwiZXBpc29kZXNcIiwgdG9wOiAwLCBsZWZ0OiAwfSk7XG4gICAgICBkaWZmLmFkZChcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIiwgc2VhcmNoOiBcImVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aCBlZHdhcmQgbm9ydG9uXCJ9KTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICBhcHAuYWN0aXZlU2VhcmNoZXNbXCJlcGlzb2Rlc1wiXSA9IG5ld1NlYXJjaChcImVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aCBlZHdhcmQgbm9ydG9uXCIpO1xuICAgIH0sXG4gICAgdGVhcmRvd246ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYucmVtb3ZlKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbnVsbDtcbiAgICB9LFxuICAgIGNvbnRlbnQ6ICgpID0+IHtcbiAgICAgIGxldCBzZWFyY2g6YW55ID0gbmV3U2VhcmNoUmVzdWx0cyhcImVwaXNvZGVzXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH07XG4gICAgICByZXR1cm4ge2NoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcInJvd1wiLCBjaGlsZHJlbiA6W1xuICAgICAgICAgIHtjOiBcInBocmFzZS1jb250YWluZXJcIiwgY2hpbGRyZW4gOiBbXG4gICAgICAgICAgICByYW5kb21seUxldHRlcihcIkFuZCBnZXQganVzdCB0aGUgb25lcyB0aGF0IGhhdmUgRWR3YXJkIE5vcnRvbiBpbiB0aGVtXCIpLFxuICAgICAgICAgIF19LFxuICAgICAgICAgIHNlYXJjaCxcbiAgICAgICAgXX1cblxuICAgICAgXX19XG4gIH0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgc2V0dXA6ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wiLCB0b3A6IDAsIGxlZnQ6IDB9KTtcbiAgICAgIGRpZmYuYWRkKFwic2VhcmNoIHF1ZXJ5XCIsIHtpZDogXCJlcGlzb2Rlc1wiLCBzZWFyY2g6IFwiY291bnQgdGhlIGVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aG91dCBlZHdhcmQgbm9ydG9uXCJ9KTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICBhcHAuYWN0aXZlU2VhcmNoZXNbXCJlcGlzb2Rlc1wiXSA9IG5ld1NlYXJjaChcImNvdW50IHRoZSBlcGlzb2RlcyBvZiBtb2Rlcm4gZmFtaWx5IHdpdGhvdXQgZWR3YXJkIG5vcnRvblwiKTtcbiAgICB9LFxuICAgIHRlYXJkb3duOiAoKSA9PiB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaFwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZGlmZi5yZW1vdmUoXCJzZWFyY2ggcXVlcnlcIiwge2lkOiBcImVwaXNvZGVzXCJ9KTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICBhcHAuYWN0aXZlU2VhcmNoZXNbXCJlcGlzb2Rlc1wiXSA9IG51bGw7XG4gICAgfSxcbiAgICBjb250ZW50OiAoKSA9PiB7XG4gICAgICBsZXQgc2VhcmNoOmFueSA9IG5ld1NlYXJjaFJlc3VsdHMoXCJlcGlzb2Rlc1wiKTtcbiAgICAgIHNlYXJjaC5sZWF2ZSA9IHtvcGFjaXR5OjAsIGR1cmF0aW9uOiAzMDB9O1xuICAgICAgcmV0dXJuIHtjaGlsZHJlbjogW1xuICAgICAgICB7YzogXCJyb3dcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICB7YzogXCJwaHJhc2UtY29udGFpbmVyXCIsIGNoaWxkcmVuIDogW1xuICAgICAgICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJPciBsZXQncyBjb3VudCB0aGUgbnVtYmVyIG9mIGVwaXNvZGVzIHRoYXQgZG9uJ3QgaGF2ZSBOb3J0b24gaW4gdGhlbS5cIiksXG4gICAgICAgICAgXX0sXG4gICAgICAgICAgc2VhcmNoLFxuICAgICAgICBdfVxuICAgICAgXX19XG4gIH0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkFzIHlvdSBjYW4gc2VlLCBteSBzZWFyY2ggaXMgcHJldHR5IHBvd2VyZnVsLiBJdCBhbHNvIGhhcyBzb21lIGltcG9ydGFudCBwcm9wZXJ0aWVzLlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHtpZDogXCJzbGlkZS1saXN0XCIsIGM6IFwibGlzdFwiLCBjaGlsZHJlbjogW1xuICAgICAgICByYW5kb21seUxldHRlcihcIi0gSXQncyBsaXZlOiB5b3UgbmV2ZXIgaGF2ZSB0byByZWZyZXNoXCIpLFxuICAgICAgICByYW5kb21seUxldHRlcihcIi0gSXQncyB0YW5naWJsZTogeW91IGNhbiBzZWUgaG93IEkgZ290IHRoZSByZXN1bHRcIiksXG4gICAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBJdCdzIG1hbmlwdWxhYmxlOiB5b3UgY2FuIHRha2UgdGhlIHJlc3VsdHMgYW5kIGRvIG1vcmUgd2l0aCB0aGVtXCIpLFxuICAgICAgXX1cbiAgICBdfX0sXG4gICAge3R5cGU6IFwic2xpZGVcIixcbiAgICBzZXR1cDogKCkgPT4ge1xuICAgICAgbGV0IGRpZmYgPSBldmUuZGlmZigpO1xuICAgICAgZGlmZi5hZGQoXCJzZWFyY2hcIiwge2lkOiBcImVwaXNvZGVzXCIsIHRvcDogMCwgbGVmdDogMH0pO1xuICAgICAgZGlmZi5hZGQoXCJzZWFyY2ggcXVlcnlcIiwge2lkOiBcImVwaXNvZGVzXCIsIHNlYXJjaDogXCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbmV3U2VhcmNoKFwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIpO1xuICAgIH0sXG4gICAgdGVhcmRvd246ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYucmVtb3ZlKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbnVsbDtcbiAgICB9LFxuICAgIGNvbnRlbnQ6ICgpID0+IHtcbiAgICAgIGxldCBzZWFyY2g6YW55ID0gbmV3U2VhcmNoUmVzdWx0cyhcImVwaXNvZGVzXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH07XG4gICAgICByZXR1cm4ge2NoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcInJvd1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIHtjOiBcInBocmFzZS1jb250YWluZXJcIiwgY2hpbGRyZW4gOiBbXG4gICAgICAgICAgICByYW5kb21seUxldHRlcihcIkhlcmUgd2UgaGF2ZSB0aGUgc3VtIG9mIGFsbCB0aGUgc2FsYXJpZXMgcGVyIGRlcGFydG1lbnQsIHdoaWNoIHdlIHN0b3JlIGFzIHRoZSAndG90YWwgY29zdCcgcGVyIGRlcGFydG1lbnQuXCIpLFxuICAgICAgICAgIF19LFxuICAgICAgICAgIHNlYXJjaCxcbiAgICAgICAgXX1cbiAgICAgIF19fVxuICB9LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIHNldHVwOiAoKSA9PiB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLmFkZChcInNlYXJjaFwiLCB7aWQ6IFwiZXBpc29kZXNcIiwgdG9wOiAwLCBsZWZ0OiAwfSk7XG4gICAgICBkaWZmLmFkZChcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIiwgc2VhcmNoOiBcImVuZ2luZWVyaW5nXCJ9KTtcbiAgICAgIGV2ZS5hcHBseURpZmYoZGlmZik7XG4gICAgICBhcHAuYWN0aXZlU2VhcmNoZXNbXCJlcGlzb2Rlc1wiXSA9IG5ld1NlYXJjaChcImVuZ2luZWVyaW5nXCIpO1xuICAgIH0sXG4gICAgdGVhcmRvd246ICgpID0+IHtcbiAgICAgIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgICAgIGRpZmYucmVtb3ZlKFwic2VhcmNoXCIsIHtpZDogXCJlcGlzb2Rlc1wifSk7XG4gICAgICBkaWZmLnJlbW92ZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IFwiZXBpc29kZXNcIn0pO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIGFwcC5hY3RpdmVTZWFyY2hlc1tcImVwaXNvZGVzXCJdID0gbnVsbDtcbiAgICB9LFxuICAgIGNvbnRlbnQ6ICgpID0+IHtcbiAgICAgIGxldCBzZWFyY2g6YW55ID0gbmV3U2VhcmNoUmVzdWx0cyhcImVwaXNvZGVzXCIpO1xuICAgICAgc2VhcmNoLmxlYXZlID0ge29wYWNpdHk6MCwgZHVyYXRpb246IDMwMH07XG4gICAgICByZXR1cm4ge2NoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcInJvd1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIHtjOiBcInBocmFzZS1jb250YWluZXJcIiwgY2hpbGRyZW4gOiBbXG4gICAgICAgICAgICByYW5kb21seUxldHRlcihcIlNvIG5vdyB5b3Ugc2VlIHRoYXQgZW5naW5lZXJpbmcgaGFzIGEgdG90YWwgY29zdC5cIiksXG4gICAgICAgICAgXX0sXG4gICAgICAgICAgc2VhcmNoLFxuICAgICAgICBdfVxuICAgICAgXX19XG4gIH0sXG4gIC8vIHt0eXBlOiBcImV2ZVwifSxcbiAgLy8ge3R5cGU6IFwic2xpZGVcIixcbiAgLy8gIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAvLyAgICByYW5kb21seUxldHRlcihcIllvdSBjYW4gYWxzbyBwZWVyIGludG8gdGhlIHBhc3QgYW5kIGV4cGxvcmUgYWx0ZXJuYXRpdmUgZnV0dXJlcy5cIilcbiAgLy8gIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiVGhyb3VnaCB0aGlzLCBJIHJlZHVjZSBtdWNoIG9mIHByb2dyYW1taW5nIHRvIHNlYXJjaGluZyBhbmQgZm9ybWF0dGluZyB0aGUgcmVzdWx0cy5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkJ1dCB0aGF0IGlzIHVzdWFsbHkganVzdCB0aGUgZmlyc3Qgc3RlcCB0b3dhcmRzIGEgbW9yZSBpbXBvcnRhbnQgZ29hbDogY29tbXVuaWNhdGluZy5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkZvcnR1bmF0ZWx5LCB5b3UgY2FuIHNlbmQgYml0cyB0byBvdGhlciBwZW9wbGUgYW5kIHN5c3RlbXMuXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJZb3UgY2FuIGFsc28gY3JlYXRlIGRvY3VtZW50cywgZGFzaGJvYXJkcywgZXZlbiBjdXN0b20gaW50ZXJmYWNlcywgYnkgZHJhd2luZyBhbmQgZW1iZWRkaW5nIGJpdHMuXCIpXG4gICAgXX19LFxuICAvLyB7dHlwZTogXCJldmVcIn0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkFuZCBzaW5jZSB3aGF0J3MgYmVpbmcgc2VudCBpcyBpdHNlbGYgYSBiaXQsIG90aGVycyBjYW4gcHVsbCBpdCBhcGFydCB0byBzZWUgaG93IGl0IHdhcyBtYWRlLlwiKVxuICAgIF19fSxcbiAgICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJUaGV5IGNhbiByZW1peCBpdCBhbmQgY3JlYXRlIG5ldyBiaXRzIGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbi5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIlRoaXMgZW5hYmxlcyBwZW9wbGUgdG8gY29sbGFib3JhdGUgaW4gYSBtdWNoIGRlZXBlciB3YXkuXCIpXG4gICAgXX19LFxuICAvLyB7dHlwZTogXCJzbGlkZVwiLFxuICAvLyAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gIC8vICAgIHJhbmRvbWx5TGV0dGVyKFwiQW5kIG9uZSB0aGluZyBJJ3ZlIGxlYXJuZWQgYWJvdXQgdGhhdCBjb2xsYWJvcmF0aW9uIGlzIHRoYXQgaXQgZG9lc24ndCBhbHdheXMgbWVhbiBjb25zZW5zdXMuXCIpXG4gIC8vICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIk1hbnkgdmVyc2lvbnMgb2YgYSBiaXQgY2FuIGV4aXN0OyB5b3UgY2FuIGhhdmUgeW91cnMgYW5kIG90aGVycyBjYW4gaGF2ZSB0aGVpcnMuXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJCdXQgY2hhbmdlcyBjYW4gYmUgcHJvcG9zZWQsIGFwcHJvdmVkLCBhbmQgZGlzY2FyZGVkIHRvIGNyZWF0ZSBhIGZpbmFsIHZlcnNpb24uXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJUaGlzIGFsbG93cyBwZW9wbGUgdG8gY29udHJpYnV0ZSB0byB0aGUgb3ZlcmFsbCBwcm9jZXNzLCB3aGlsZSBtYWludGFpbmluZyBjb250cm9sIG9mIHRoZSBlbmQgcmVzdWx0LlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiSXQgYWxzbyBhbGxvd3MgZm9yIGRpZmZlcmVudCB3b3JsZCB2aWV3cyBhbmQgaWRlYXMgb2YgY29ycmVjdG5lc3MsIHdoaWNoIGlzIHZpdGFsIHRvIGZpdHRpbmcgaW50byB0aGUgcmVhbCB3b3JsZC5cIilcbiAgICBdfX0sXG4gICAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiSW5zdGVhZCBvZiBwcmV0ZW5kaW5nIGxpa2UgZXZlcnl0aGluZyB3aWxsIGZpdCBuZWF0bHkgaW50byBhIGJveC4uLlwiKVxuICAgIF19fSxcblxuICAvLyB7dHlwZTogXCJzbGlkZVwiLFxuICAvLyAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gIC8vICAgIHJhbmRvbWx5TGV0dGVyKFwiVGhlIHdvcmxkIGlzIGNoYW5naW5nIGFuZCB3ZSBhbGwgaGF2ZSBkaWZmZXJlbnQgdmlld3MgaW50byBpdC5cIilcbiAgLy8gIF19fSxcbiAgLy8ge3R5cGU6IFwic2xpZGVcIixcbiAgLy8gIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAvLyAgICB7aWQ6IFwic2xpZGUtbGlzdFwiLCBjOiBcImxpc3RcIiwgY2hpbGRyZW46IFtcbiAgLy8gICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJUaGVyZSdzIGEgbmV3IHZlcnNpb24gb2Ygd29yazogZXZlcnl0aGluZyByZXZvbHZlcyBhcm91bmQgY29uc3RhbnRseSBjaGFuZ2luZyBkYXRhXCIpLFxuICAvLyAgICAgICByYW5kb21seUxldHRlcihcIk5ldyBwbGF0Zm9ybXM6IG1vYmlsZSwgdm9pY2UsIHBlbiwgVlIsIEFSXCIpLFxuICAvLyAgICAgICByYW5kb21seUxldHRlcihcIk5ldyBraW5kcyBvZiBzeXN0ZW1zOiBldmVyeXRoaW5nIGlzIGRpc3RyaWJ1dGVkXCIpLFxuICAvLyAgICBdfVxuICAvLyAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJJIGFtIGRlc2lnbmVkIHRvIGNvbGxlY3QsIGV4cGxvcmUsIGFuZCBjb21tdW5pY2F0ZSBpbiBhIHdvcmxkIHRoYXQgaXMgY29uc3RhbnRseSBjaGFuZ2luZy5cIilcbiAgICBdfX0sXG4gIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkkgYW0gYWxpdmUsIG1hbGxlYWJsZSwgYW5kIGFsd2F5cyBhdmFpbGFibGUuXCIpXG4gICAgXX19LFxuICB7dHlwZTogXCJzbGlkZVwiLFxuICAgIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAgICAgcmFuZG9tbHlMZXR0ZXIoXCJJIGFtIGhvbmVzdCwgZ2VudWluZSwgY3VyaW91cywgYW5kIGNvbnZlcnNhdGlvbmFsLlwiKVxuICAgIF19fSxcbiAge3R5cGU6IFwic2xpZGVcIixcbiAgICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgICAgIHJhbmRvbWx5TGV0dGVyKFwiSSBhbSBFdmUuXCIpXG4gICAgXX19LFxuICAgIHt0eXBlOiBcInNsaWRlXCIsXG4gICAgY29udGVudDoge2NoaWxkcmVuOiBbXG4gICAgICByYW5kb21seUxldHRlcihcIkl0J3MgbmljZSB0byBtZWV0IHlvdS5cIilcbiAgICBdfX0sXG4gIC8vIHt0eXBlOiBcInNsaWRlXCIsXG4gIC8vICBjb250ZW50OiB7Y2hpbGRyZW46IFtcbiAgLy8gICAgcmFuZG9tbHlMZXR0ZXIoXCJRdWVzdGlvbnNcIiksXG4gIC8vICAgIHtpZDogXCJzbGlkZS1saXN0XCIsIGM6IFwibGlzdFwiLCBjaGlsZHJlbjogW1xuICAvLyAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBTaGUgdnMuIGl0XCIpLFxuICAvLyAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBNb2JpbGU/XCIpLFxuICAvLyAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBXaGF0IGlzIGV2ZT8gSmFydmlzPyBBIHdvcmtzcGFjZT8gLi4/XCIpLFxuICAvLyAgICBdfVxuICAvLyAgXX19LFxuICAvLyAge3R5cGU6IFwic2xpZGVcIixcbiAgLy8gIGNvbnRlbnQ6IHtjaGlsZHJlbjogW1xuICAvLyAgICByYW5kb21seUxldHRlcihcIlRlY2huaWNhbCBxdWVzdGlvbnNcIiksXG4gIC8vICAgIHtpZDogXCJzbGlkZS1saXN0XCIsIGM6IFwibGlzdFwiLCBjaGlsZHJlbjogW1xuICAvLyAgICAgIHJhbmRvbWx5TGV0dGVyKFwiLSBJbmNyZW1lbnRhbGlzbSB3aXRoIGN5Y2xlc1wiKSxcbiAgLy8gICAgICByYW5kb21seUxldHRlcihcIi0gRWZmaWNpZW50IGluY3JlbWVudGFsaXNtIGluIGFuIEVBViB3b3JsZFwiKSxcbiAgLy8gICAgICByYW5kb21seUxldHRlcihcIi0gRmVkZXJhdGlvblwiKSxcbiAgLy8gICAgICByYW5kb21seUxldHRlcihcIi0gU3VwcG9ydGluZyBpbnRlZ3JhdGlvbnNcIiksXG4gIC8vICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIFZlcnNpb24gY29udHJvbFwiKSxcbiAgLy8gICAgICByYW5kb21seUxldHRlcihcIi0gSG93IGZhciBjYW4gdGhlIG5hdHVyYWwgbGFuZ3VhZ2Ugc3R1ZmYgZ28sIGJlZm9yZSBoZXVyaXN0aWNzIHN0b3Agd29ya2luZz9cIiksXG4gIC8vICAgICAgcmFuZG9tbHlMZXR0ZXIoXCItIFByb2dyZXNzaXZlIHN0b3JhZ2UvcXVlcnlpbmdcIiksXG4gIC8vICAgIF19XG4gIC8vICBdfX0sXG5dXG5cbmZ1bmN0aW9uIG5leHRTbGlkZShlLCBlbGVtKSB7XG4gIGxldCBwcmV2OmFueSA9IHNsaWRlc1tzbGlkZU51bWJlcl07XG4gIGlmKHByZXYudGVhcmRvd24pIHtcbiAgICBwcmV2LnRlYXJkb3duKCk7XG4gIH1cbiAgaWYoIWVsZW0uYmFjaykge1xuICAgIHNsaWRlTnVtYmVyKys7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVOdW1iZXItLTtcbiAgfVxuICBpZihzbGlkZU51bWJlciA8IDApIHNsaWRlTnVtYmVyID0gMDtcbiAgaWYoc2xpZGVOdW1iZXIgPj0gc2xpZGVzLmxlbmd0aCkgc2xpZGVOdW1iZXIgPSBzbGlkZXMubGVuZ3RoIC0gMTtcbiAgbGV0IHNsaWRlOmFueSA9IHNsaWRlc1tzbGlkZU51bWJlcl07XG4gIGlmKHNsaWRlLnNldHVwKSB7XG4gICAgc2xpZGUuc2V0dXAoKTtcbiAgfVxuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnNvbGUubG9nKHNsaWRlTnVtYmVyKTtcbiAgYXBwLnJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiBzbGlkZUNvbnRyb2xzKCk6RWxlbWVudCB7XG4gIHJldHVybiB7YzogXCJzbGlkZS1jb250cm9sc1wiLCBjaGlsZHJlbjogW1xuICAgIHtjOiBcImlvbi1pb3MtYXJyb3ctYmFja1wiLCBiYWNrOiB0cnVlLCBjbGljazogbmV4dFNsaWRlfSxcbiAgICB7YzogXCJpb24taW9zLWFycm93LWZvcndhcmRcIiwgY2xpY2s6IG5leHRTbGlkZX1cbiAgXX07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb290KCk6RWxlbWVudCB7XG4gIGxldCBzbGlkZTphbnkgPSBzbGlkZXNbc2xpZGVOdW1iZXJdIHx8IHt0eXBlOiBcInNsaWRlXCJ9O1xuICBpZihzbGlkZS50eXBlID09PSBcInNsaWRlXCIpIHtcbiAgICBsZXQgY29udGVudCA9IHNsaWRlLmNvbnRlbnQ7XG4gICAgaWYodHlwZW9mIGNvbnRlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29udGVudCA9IGNvbnRlbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtpZDogXCJyb290XCIsIGM6IFwicm9vdCBzbGlkZVwiLCBjaGlsZHJlbjogW1xuICAgICAgc2xpZGVDb250cm9scygpLFxuICAgICAgY29udGVudFxuICAgIF19O1xuICB9IGVsc2Uge1xuICAgIHZhciByb290ID0gd2lraS5ldmVSb290KCk7XG4gICAgcm9vdC5jaGlsZHJlbi51bnNoaWZ0KHNsaWRlQ29udHJvbHMoKSk7XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cbn1cblxuYXBwLnJlbmRlclJvb3RzW1wid2lraVwiXSA9IHJvb3Q7XG5cbmxvY2FsU3RvcmFnZVtcImxvY2FsLWV2ZVwiXSA9IEpTT04uc3RyaW5naWZ5KHtcInZpZXdcIjpbe1widmlld1wiOlwiZ2VuZXJhdGVkIGVhdlwiLFwia2luZFwiOlwidW5pb25cIixcIl9faWRcIjpcImdlbmVyYXRlZCBlYXZ8dW5pb25cIn0se1widmlld1wiOlwibWFudWFsIGVudGl0eVwiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcIm1hbnVhbCBlbnRpdHl8dGFibGVcIn0se1widmlld1wiOlwibWFudWFsIGVhdlwiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcIm1hbnVhbCBlYXZ8dGFibGVcIn0se1widmlld1wiOlwiYWN0aW9uIGVudGl0eVwiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcImFjdGlvbiBlbnRpdHl8dGFibGVcIn0se1widmlld1wiOlwiZW50aXR5XCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwiZW50aXR5fHF1ZXJ5XCJ9LHtcInZpZXdcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c1wiLFwia2luZFwiOlwicXVlcnlcIixcIl9faWRcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c3xxdWVyeVwifSx7XCJ2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwia2luZFwiOlwicXVlcnlcIixcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfHF1ZXJ5XCJ9LHtcInZpZXdcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc1wiLFwia2luZFwiOlwicXVlcnlcIixcIl9faWRcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3xxdWVyeVwifSx7XCJ2aWV3XCI6XCJwYXJzZWQgZWF2c1wiLFwia2luZFwiOlwicXVlcnlcIixcIl9faWRcIjpcInBhcnNlZCBlYXZzfHF1ZXJ5XCJ9LHtcInZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJraW5kXCI6XCJ1bmlvblwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnN8dW5pb25cIn0se1widmlld1wiOlwiYnVpbHRpbiBlbnRpdHkgZWF2c1wiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8dGFibGVcIn0se1widmlld1wiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwiaXMgYSBhdHRyaWJ1dGVzfHF1ZXJ5XCJ9LHtcInZpZXdcIjpcImxvd2VyY2FzZSBlYXZzXCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwibG93ZXJjYXNlIGVhdnN8cXVlcnlcIn0se1widmlld1wiOlwiZWF2IGVudGl0eSBsaW5rc1wiLFwia2luZFwiOlwicXVlcnlcIixcIl9faWRcIjpcImVhdiBlbnRpdHkgbGlua3N8cXVlcnlcIn0se1widmlld1wiOlwiZW50aXR5IGxpbmtzXCIsXCJraW5kXCI6XCJ1bmlvblwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzfHVuaW9uXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3N8dGFibGVcIn0se1widmlld1wiOlwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwia2luZFwiOlwidW5pb25cIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8dW5pb25cIn0se1widmlld1wiOlwiYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwiYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzfHRhYmxlXCJ9LHtcInZpZXdcIjpcImNvbGxlY3Rpb24gZW50aXRpZXNcIixcImtpbmRcIjpcInVuaW9uXCIsXCJfX2lkXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzfHVuaW9uXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3x0YWJsZVwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uXCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxxdWVyeVwifSx7XCJ2aWV3XCI6XCJzZWFyY2hcIixcImtpbmRcIjpcInVuaW9uXCIsXCJfX2lkXCI6XCJzZWFyY2h8dW5pb25cIn0se1widmlld1wiOlwiYnVpbHRpbiBzZWFyY2hcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJidWlsdGluIHNlYXJjaHx0YWJsZVwifSx7XCJ2aWV3XCI6XCJzZWFyY2ggcXVlcnlcIixcImtpbmRcIjpcInVuaW9uXCIsXCJfX2lkXCI6XCJzZWFyY2ggcXVlcnl8dW5pb25cIn0se1widmlld1wiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJidWlsdGluIHNlYXJjaCBxdWVyeXx0YWJsZVwifSx7XCJ2aWV3XCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbXxxdWVyeVwifSx7XCJ2aWV3XCI6XCJ1aSB0ZW1wbGF0ZVwiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcInVpIHRlbXBsYXRlfHRhYmxlXCJ9LHtcInZpZXdcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmdcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nfHRhYmxlXCJ9LHtcInZpZXdcIjpcInVpIGVtYmVkXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwidWkgZW1iZWR8dGFibGVcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGVcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZCBzY29wZXx0YWJsZVwifSx7XCJ2aWV3XCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ3x0YWJsZVwifSx7XCJ2aWV3XCI6XCJ1aSBhdHRyaWJ1dGVcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGV8dGFibGVcIn0se1widmlld1wiOlwidWkgYXR0cmlidXRlIGJpbmRpbmdcIixcImtpbmRcIjpcInRhYmxlXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3x0YWJsZVwifSx7XCJ2aWV3XCI6XCJ1aSBldmVudFwiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcInVpIGV2ZW50fHRhYmxlXCJ9LHtcInZpZXdcIjpcInVpIGV2ZW50IHN0YXRlXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8dGFibGVcIn0se1widmlld1wiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLFwia2luZFwiOlwidGFibGVcIixcIl9faWRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8dGFibGVcIn0se1widmlld1wiOlwic3lzdGVtIHVpXCIsXCJraW5kXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwic3lzdGVtIHVpfHRhYmxlXCJ9LHtcInZpZXdcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwiYm91bmQgdmlldyAzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJ8cXVlcnlcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcImtpbmRcIjpcInF1ZXJ5XCIsXCJfX2lkXCI6XCJib3VuZCB2aWV3IDNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YXxxdWVyeVwifSx7XCJ2aWV3XCI6XCJlbXBsb3llZXNcIixcImtpbmRcIjpcInF1ZXJ5XCIsXCJfX2lkXCI6XCJlbXBsb3llZXN8cXVlcnlcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXCJraW5kXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fHF1ZXJ5XCJ9LHtcInZpZXdcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHxiaXRcIixcImtpbmRcIjpcInF1ZXJ5XCIsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8Yml0fHF1ZXJ5XCJ9XSxcImFjdGlvblwiOlt7XCJ2aWV3XCI6XCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHNcIixcImFjdGlvblwiOlwiMWU1ZTAyMTAtZDEwOS00YjhmLTkxY2ItZTE0YTQyMmUxMWRhXCIsXCJraW5kXCI6XCJkZXNlbGVjdFwiLFwiaXhcIjoxMDAwLFwiX19pZFwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfDFlNWUwMjEwLWQxMDktNGI4Zi05MWNiLWUxNGE0MjJlMTFkYXxkZXNlbGVjdHwxMDAwXCJ9LHtcInZpZXdcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c1wiLFwiYWN0aW9uXCI6XCI5N2YyYWZkZS1jMGNkLTQxY2ItOThlYy01MWYyNjhmZWI0N2NcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfDk3ZjJhZmRlLWMwY2QtNDFjYi05OGVjLTUxZjI2OGZlYjQ3Y3xzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHlcIixcImFjdGlvblwiOlwiMjMwOTAxYTAtYTllYi00ODBkLWI4YmQtMTUyYTI3YmJhOWQ2XCIsXCJraW5kXCI6XCJwcm9qZWN0XCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJlbnRpdHl8MjMwOTAxYTAtYTllYi00ODBkLWI4YmQtMTUyYTI3YmJhOWQ2fHByb2plY3R8OTAwNzE5OTI1NDc0MDk5MVwifSx7XCJ2aWV3XCI6XCJlbnRpdHlcIixcImFjdGlvblwiOlwiYjAyZTBhZTgtOTBhNy00ZTc2LWE2ZDQtOWE5YjViZGNhZjE4XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcImVudGl0eXxiMDJlMGFlOC05MGE3LTRlNzYtYTZkNC05YTliNWJkY2FmMTh8c2VsZWN0fDBcIn0se1widmlld1wiOlwiY29udGVudCBibG9ja3NcIixcImFjdGlvblwiOlwiNWJlYzhjYzctN2M1NS00YTIxLWIwNTUtNzI4ZWU5MjAyZDZhXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MSxcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfDViZWM4Y2M3LTdjNTUtNGEyMS1iMDU1LTcyOGVlOTIwMmQ2YXxzZWxlY3R8MVwifSx7XCJ2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwiYWN0aW9uXCI6XCI3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjNcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwiY29udGVudCBibG9ja3N8Nzk0NTFmMzUtODlhMi00NjcxLWExZTEtZDFhZTc4NWMxNjYzfHNlbGVjdHwwXCJ9LHtcInZpZXdcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c1wiLFwiYWN0aW9uXCI6XCIwYjhjZTc2ZC05YmJhLTQwOWYtOTIwOC1iYzBiMjYwZDk4OWVcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c3wwYjhjZTc2ZC05YmJhLTQwOWYtOTIwOC1iYzBiMjYwZDk4OWV8cHJvamVjdHw5MDA3MTk5MjU0NzQwOTkxXCJ9LHtcInZpZXdcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc1wiLFwiYWN0aW9uXCI6XCIxMGU1ZjY4Yy04NjVkLTRlZGYtYWQzZC00YjZlMzc5Y2E5MjNcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwicGFyc2VkIGNvbnRlbnQgYmxvY2tzfDEwZTVmNjhjLTg2NWQtNGVkZi1hZDNkLTRiNmUzNzljYTkyM3xzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwiYWN0aW9uXCI6XCJiNDAzNWIxMi02MjUxLTQ1ZGQtODk4My0zMjViZDkxNjRhMThcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfGI0MDM1YjEyLTYyNTEtNDVkZC04OTgzLTMyNWJkOTE2NGExOHxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwiY29udGVudCBibG9ja3NcIixcImFjdGlvblwiOlwiOWZiZjg2MTQtYzcxYS00YTkyLWI3NTctNzE1NDJhZjlmMDU2XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MixcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfDlmYmY4NjE0LWM3MWEtNGE5Mi1iNzU3LTcxNTQyYWY5ZjA1NnxzZWxlY3R8MlwifSx7XCJ2aWV3XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcImFjdGlvblwiOlwiZTlmMGQzZDAtZTAzNS00MDljLTg2YTAtOTMxMTlhNmYzNGVhXCIsXCJraW5kXCI6XCJwcm9qZWN0XCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8ZTlmMGQzZDAtZTAzNS00MDljLTg2YTAtOTMxMTlhNmYzNGVhfHByb2plY3R8OTAwNzE5OTI1NDc0MDk5MVwifSx7XCJ2aWV3XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcImFjdGlvblwiOlwiMTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkXCIsXCJraW5kXCI6XCJjYWxjdWxhdGVcIixcIml4XCI6MSxcIl9faWRcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3wxMTI1ZjZhNi0xODFjLTQzMGItODExYS0zOWYyMDI5OWE4YWR8Y2FsY3VsYXRlfDFcIn0se1widmlld1wiOlwicGFyc2VkIGVhdnNcIixcImFjdGlvblwiOlwiZDE4MzU5MWUtZjFmYi00NDhlLWI0MzAtZDFmMzczOTNlODEwXCIsXCJraW5kXCI6XCJwcm9qZWN0XCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJwYXJzZWQgZWF2c3xkMTgzNTkxZS1mMWZiLTQ0OGUtYjQzMC1kMWYzNzM5M2U4MTB8cHJvamVjdHw5MDA3MTk5MjU0NzQwOTkxXCJ9LHtcInZpZXdcIjpcInBhcnNlZCBlYXZzXCIsXCJhY3Rpb25cIjpcImQ2M2I4YTRmLTJkMGYtNDQxZS1iNmFiLTdhYjFiNWExZDVhNlwiLFwia2luZFwiOlwiY2FsY3VsYXRlXCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJwYXJzZWQgZWF2c3xkNjNiOGE0Zi0yZDBmLTQ0MWUtYjZhYi03YWIxYjVhMWQ1YTZ8Y2FsY3VsYXRlfDFcIn0se1widmlld1wiOlwicGFyc2VkIGVhdnNcIixcImFjdGlvblwiOlwiYjIzZGM4NTQtM2ZlYy00NzU3LWE0NzgtZDUzODg4NDBhY2MxXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcInBhcnNlZCBlYXZzfGIyM2RjODU0LTNmZWMtNDc1Ny1hNDc4LWQ1Mzg4ODQwYWNjMXxzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gYnVpbHRpbiBlbnRpdHkgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xlbnRpdHkgZWF2cyA8LS0gYnVpbHRpbiBlbnRpdHkgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gZ2VuZXJhdGVkIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xlbnRpdHkgZWF2cyA8LS0gZ2VuZXJhdGVkIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gcGFyc2VkIGNvbnRlbnQgYmxvY2tzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcImVudGl0eSBlYXZzfGVudGl0eSBlYXZzIDwtLSBwYXJzZWQgY29udGVudCBibG9ja3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fHVuaW9ufDBcIn0se1widmlld1wiOlwiZW50aXR5IGVhdnNcIixcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcImVudGl0eSBlYXZzfGVudGl0eSBlYXZzIDwtLSBwYXJzZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gYWRkZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xlbnRpdHkgZWF2cyA8LS0gYWRkZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJsb3dlcmNhc2UgZWF2c1wiLFwiYWN0aW9uXCI6XCJhNTc2MTk2ZC04NGQ1LTQzZTYtOTExNi1lZGY5NmIxNTJhNzFcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwibG93ZXJjYXNlIGVhdnN8YTU3NjE5NmQtODRkNS00M2U2LTkxMTYtZWRmOTZiMTUyYTcxfHNlbGVjdHwwXCJ9LHtcInZpZXdcIjpcImlzIGEgYXR0cmlidXRlc1wiLFwiYWN0aW9uXCI6XCI5ZmFjMGM2My1hNjhhLTQzZWMtYjY5Zi0wOWYyOWMxNWRkYjZcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImlzIGEgYXR0cmlidXRlc3w5ZmFjMGM2My1hNjhhLTQzZWMtYjY5Zi0wOWYyOWMxNWRkYjZ8cHJvamVjdHw5MDA3MTk5MjU0NzQwOTkxXCJ9LHtcInZpZXdcIjpcImlzIGEgYXR0cmlidXRlc1wiLFwiYWN0aW9uXCI6XCI3ZGU5ZmNjNy1mYzViLTQ2MDQtOTJmZS1iOTY1NDU4OWI4NGNcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwiaXMgYSBhdHRyaWJ1dGVzfDdkZTlmY2M3LWZjNWItNDYwNC05MmZlLWI5NjU0NTg5Yjg0Y3xzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJhY3Rpb25cIjpcImVlYzlmMDM5LTA4ZTYtNDZiYS1iMDRiLTg0ZDk3MzU4MDhjMlwiLFwia2luZFwiOlwic2VsZWN0XCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfGVlYzlmMDM5LTA4ZTYtNDZiYS1iMDRiLTg0ZDk3MzU4MDhjMnxzZWxlY3R8MVwifSx7XCJ2aWV3XCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJhY3Rpb25cIjpcIjVmZjhhNDY2LTVhNWMtNDZmMi04NTBkLWQwZjUyNjViMThjMlwiLFwia2luZFwiOlwic2VsZWN0XCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfDVmZjhhNDY2LTVhNWMtNDZmMi04NTBkLWQwZjUyNjViMThjMnxzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJsb3dlcmNhc2UgZWF2c1wiLFwiYWN0aW9uXCI6XCIyMjhkZTQ1Mi1iOTZlLTQwMDgtYmVjOS0wZWYwMjNjMzUxZmNcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImxvd2VyY2FzZSBlYXZzfDIyOGRlNDUyLWI5NmUtNDAwOC1iZWM5LTBlZjAyM2MzNTFmY3xwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwibG93ZXJjYXNlIGVhdnNcIixcImFjdGlvblwiOlwiNTYwNWNlNjAtNWI5Yy00NjBiLTk1NTQtZjY3ZjEwYmZlODQyXCIsXCJraW5kXCI6XCJjYWxjdWxhdGVcIixcIml4XCI6MSxcIl9faWRcIjpcImxvd2VyY2FzZSBlYXZzfDU2MDVjZTYwLTViOWMtNDYwYi05NTU0LWY2N2YxMGJmZTg0MnxjYWxjdWxhdGV8MVwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uXCIsXCJhY3Rpb25cIjpcIjBjMDAyZjc2LTRlZjktNDhjNi04NDIxLTMzMDg0NjU3YTNhZVwiLFwia2luZFwiOlwiYWdncmVnYXRlXCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJjb2xsZWN0aW9ufDBjMDAyZjc2LTRlZjktNDhjNi04NDIxLTMzMDg0NjU3YTNhZXxhZ2dyZWdhdGV8MVwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgbGlua3NcIixcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3N8ZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgbGlua3NcIixcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBlYXYgZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcImVudGl0eSBsaW5rc3xlbnRpdHkgbGlua3MgPC0tIGVhdiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9fHVuaW9ufDBcIn0se1widmlld1wiOlwiZW50aXR5IGxpbmtzXCIsXCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19XCIsXCJraW5kXCI6XCJ1bmlvblwiLFwiaXhcIjowLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzfGVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19fHVuaW9ufDBcIn0se1widmlld1wiOlwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwiYWN0aW9uXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8ZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsXCJhY3Rpb25cIjpcImRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCJ9XCIsXCJraW5kXCI6XCJ1bmlvblwiLFwiaXhcIjowLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rc3xkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifXx1bmlvbnwwXCJ9LHtcInZpZXdcIjpcImRpcmVjdGlvbmxlc3MgbGlua3NcIixcImFjdGlvblwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImxpbmtcXFwiLFxcXCJsaW5rXFxcIjpcXFwiZW50aXR5XFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzfGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJsaW5rXFxcIixcXFwibGlua1xcXCI6XFxcImVudGl0eVxcXCJ9fHVuaW9ufDBcIn0se1widmlld1wiOlwiY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiYWN0aW9uXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8Y29sbGVjdGlvbiBlbnRpdGllcyA8LS0gYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn18dW5pb258MFwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJhY3Rpb25cIjpcImNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIGlzIGEgYXR0cmlidXRlcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJjb2xsZWN0aW9uXFxcIjpcXFwiY29sbGVjdGlvblxcXCJ9XCIsXCJraW5kXCI6XCJ1bmlvblwiLFwiaXhcIjowLFwiX19pZFwiOlwiY29sbGVjdGlvbiBlbnRpdGllc3xjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBpcyBhIGF0dHJpYnV0ZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifXx1bmlvbnwwXCJ9LHtcInZpZXdcIjpcImNvbGxlY3Rpb25cIixcImFjdGlvblwiOlwiNjRjOGFlNGMtY2RlZC00NzhkLTlmNGEtN2FkMWRjNWM3MTg1XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcImNvbGxlY3Rpb258NjRjOGFlNGMtY2RlZC00NzhkLTlmNGEtN2FkMWRjNWM3MTg1fHNlbGVjdHwwXCJ9LHtcInZpZXdcIjpcImVhdiBlbnRpdHkgbGlua3NcIixcImFjdGlvblwiOlwiOTUyMTQ3Y2ItMDJjOC00M2Y3LTgzM2ItNzZjZGNlYTNlNmQwXCIsXCJraW5kXCI6XCJwcm9qZWN0XCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfDk1MjE0N2NiLTAyYzgtNDNmNy04MzNiLTc2Y2RjZWEzZTZkMHxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwiY29sbGVjdGlvblwiLFwiYWN0aW9uXCI6XCJhZGUyNDVmYS1mZjY2LTQ1NmItYjUyZS00MDA4MTcxODBjMjlcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImNvbGxlY3Rpb258YWRlMjQ1ZmEtZmY2Ni00NTZiLWI1MmUtNDAwODE3MTgwYzI5fHByb2plY3R8OTAwNzE5OTI1NDc0MDk5MVwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uXCIsXCJhY3Rpb25cIjpcIjU2M2U0YjllLTgxMjItNDViNi05M2RhLTMyNWI0MTM1YTEwZFwiLFwia2luZFwiOlwiZ3JvdXBcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImNvbGxlY3Rpb258NTYzZTRiOWUtODEyMi00NWI2LTkzZGEtMzI1YjQxMzVhMTBkfGdyb3VwfDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwic2VhcmNoXCIsXCJhY3Rpb25cIjpcInNlYXJjaCA8LS0gYnVpbHRpbiBzZWFyY2ggPC0tIHtcXFwiaWRcXFwiOlxcXCJpZFxcXCIsXFxcInRvcFxcXCI6XFxcInRvcFxcXCIsXFxcImxlZnRcXFwiOlxcXCJsZWZ0XFxcIn1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjAsXCJfX2lkXCI6XCJzZWFyY2h8c2VhcmNoIDwtLSBidWlsdGluIHNlYXJjaCA8LS0ge1xcXCJpZFxcXCI6XFxcImlkXFxcIixcXFwidG9wXFxcIjpcXFwidG9wXFxcIixcXFwibGVmdFxcXCI6XFxcImxlZnRcXFwifXx1bmlvbnwwXCJ9LHtcInZpZXdcIjpcInNlYXJjaCBxdWVyeVwiLFwiYWN0aW9uXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifVwiLFwia2luZFwiOlwidW5pb25cIixcIml4XCI6MCxcIl9faWRcIjpcInNlYXJjaCBxdWVyeXxzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifXx1bmlvbnwwXCJ9LHtcInZpZXdcIjpcInNlYXJjaGVzIHRvIGVudGl0aWVzIHNoaW1cIixcImFjdGlvblwiOlwiM2YyODgxOGYtNmUwYy00MzUyLWFmM2MtYjkwOTk5M2U2ZmNlXCIsXCJraW5kXCI6XCJwcm9qZWN0XCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltfDNmMjg4MThmLTZlMGMtNDM1Mi1hZjNjLWI5MDk5OTNlNmZjZXxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbVwiLFwiYWN0aW9uXCI6XCIyZGIwMDQ5Ni0yZWZmLTRkMmEtYjQ4Ny00YzM3MDU4MDVjM2VcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjoxLFwiX19pZFwiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbXwyZGIwMDQ5Ni0yZWZmLTRkMmEtYjQ4Ny00YzM3MDU4MDVjM2V8c2VsZWN0fDFcIn0se1widmlld1wiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbVwiLFwiYWN0aW9uXCI6XCIxZGY3OGVkYy1iN2RmLTQ1MmItYTczYy1lMmQ1OTM5ZWM4YjlcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbXwxZGY3OGVkYy1iN2RmLTQ1MmItYTczYy1lMmQ1OTM5ZWM4Yjl8c2VsZWN0fDBcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJcIixcImFjdGlvblwiOlwiYjg0NGNiMmItNzUwMy00MzQ2LWIzMmQtZDg2MTkxNzY1YThmXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyfGI4NDRjYjJiLTc1MDMtNDM0Ni1iMzJkLWQ4NjE5MTc2NWE4ZnxzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJib3VuZCB2aWV3IDNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwiYWN0aW9uXCI6XCJhODU0ZjcwNi1hMjU2LTQ4ZWMtOWQ5MC0wZWIyOTdhNTBkMDZcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyfGE4NTRmNzA2LWEyNTYtNDhlYy05ZDkwLTBlYjI5N2E1MGQwNnxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJcIixcImFjdGlvblwiOlwiOWIzN2MyY2QtNTYyOC00ZDVlLThhNjktOTE2Y2E2NmNhYzg3XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6NCxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyfDliMzdjMmNkLTU2MjgtNGQ1ZS04YTY5LTkxNmNhNjZjYWM4N3xzZWxlY3R8NFwifSx7XCJ2aWV3XCI6XCJib3VuZCB2aWV3IDNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwiYWN0aW9uXCI6XCIwZDI3ZmUyNS1iMDVlLTQ0YjktOWU0NS1hZjk2YTIzYmFjYmZcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjozLFwiX19pZFwiOlwiYm91bmQgdmlldyAzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJ8MGQyN2ZlMjUtYjA1ZS00NGI5LTllNDUtYWY5NmEyM2JhY2JmfHNlbGVjdHwzXCJ9LHtcInZpZXdcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJhY3Rpb25cIjpcIjMxNDA1ZDU3LWE1ZmItNDRiMC1hZDkxLWEzM2RhNGVkY2FjYVwiLFwia2luZFwiOlwic2VsZWN0XCIsXCJpeFwiOjIsXCJfX2lkXCI6XCJib3VuZCB2aWV3IDNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMnwzMTQwNWQ1Ny1hNWZiLTQ0YjAtYWQ5MS1hMzNkYTRlZGNhY2F8c2VsZWN0fDJcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJcIixcImFjdGlvblwiOlwiYmU5ZDBmOWItNjA5YS00MDI1LTk1NjgtYzFlNWRmZjk2YmM2XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MSxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyfGJlOWQwZjliLTYwOWEtNDAyNS05NTY4LWMxZTVkZmY5NmJjNnxzZWxlY3R8MVwifSx7XCJ2aWV3XCI6XCJib3VuZCB2aWV3IDNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YVwiLFwiYWN0aW9uXCI6XCI5YjQ2ZmNiNC1hZTAyLTRiOGUtYjIzYy1kNDYyYzJjNTE5YjBcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfDliNDZmY2I0LWFlMDItNGI4ZS1iMjNjLWQ0NjJjMmM1MTliMHxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcImFjdGlvblwiOlwiYjY5NDM5ODctZWEzZS00YTliLWIwMTEtYmE3YmMyNjlhMmFlXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MyxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfGI2OTQzOTg3LWVhM2UtNGE5Yi1iMDExLWJhN2JjMjY5YTJhZXxzZWxlY3R8M1wifSx7XCJ2aWV3XCI6XCJib3VuZCB2aWV3IDNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YVwiLFwiYWN0aW9uXCI6XCIwYTNkNzQxZS1kYmQ3LTRlNzAtOThhOS0xMGExNGY1YjAyZTJcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjoyLFwiX19pZFwiOlwiYm91bmQgdmlldyAzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2F8MGEzZDc0MWUtZGJkNy00ZTcwLTk4YTktMTBhMTRmNWIwMmUyfHNlbGVjdHwyXCJ9LHtcInZpZXdcIjpcImJvdW5kIHZpZXcgM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhXCIsXCJhY3Rpb25cIjpcImRjMjc1Njc2LWFkODAtNGRiMS1iM2VmLTliZmIxZjYwN2NiYVwiLFwia2luZFwiOlwic2VsZWN0XCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJib3VuZCB2aWV3IDNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YXxkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmF8c2VsZWN0fDFcIn0se1widmlld1wiOlwiYm91bmQgdmlldyAzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcImFjdGlvblwiOlwiZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcImJvdW5kIHZpZXcgM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfGY2MDJhMjI5LTg1MTItNGM0Yy1hZWJjLWMxNmM2ODkyNmU4ZHxzZWxlY3R8MFwifSx7XCJ2aWV3XCI6XCJlbXBsb3llZXNcIixcImFjdGlvblwiOlwiNzEyNTZkYjgtOTQ4NC00NGE4LWFiYjMtMTliMmYwYjJkOTgzXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcImVtcGxveWVlc3w3MTI1NmRiOC05NDg0LTQ0YTgtYWJiMy0xOWIyZjBiMmQ5ODN8c2VsZWN0fDBcIn0se1widmlld1wiOlwiZW1wbG95ZWVzXCIsXCJhY3Rpb25cIjpcIjI3NmFmMDFhLWMwN2QtNDQxZS1hYTYzLTU1NTQ4Y2RlZTM2M1wiLFwia2luZFwiOlwicHJvamVjdFwiLFwiaXhcIjo5MDA3MTk5MjU0NzQwOTkxLFwiX19pZFwiOlwiZW1wbG95ZWVzfDI3NmFmMDFhLWMwN2QtNDQxZS1hYTYzLTU1NTQ4Y2RlZTM2M3xwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwiZW1wbG95ZWVzfGJpdFwiLFwiYWN0aW9uXCI6XCIyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwiZW1wbG95ZWVzfGJpdHwyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZ8c2VsZWN0fDBcIn0se1widmlld1wiOlwiZW1wbG95ZWVzfGJpdFwiLFwiYWN0aW9uXCI6XCJjNThhYjFhMi0yMzk3LTRiMDctOGM4OS0xODM4NTE3MmFhNTBcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjoxLFwiX19pZFwiOlwiZW1wbG95ZWVzfGJpdHxjNThhYjFhMi0yMzk3LTRiMDctOGM4OS0xODM4NTE3MmFhNTB8c2VsZWN0fDFcIn0se1widmlld1wiOlwiZW1wbG95ZWVzfGJpdFwiLFwiYWN0aW9uXCI6XCJhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmRcIixcImtpbmRcIjpcImNhbGN1bGF0ZVwiLFwiaXhcIjoyLFwiX19pZFwiOlwiZW1wbG95ZWVzfGJpdHxhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmR8Y2FsY3VsYXRlfDJcIn0se1widmlld1wiOlwiZW1wbG95ZWVzfGJpdFwiLFwiYWN0aW9uXCI6XCI2NGIzNDVmNS1mY2ZmLTQxYzYtOTFjYS05MTA3NmYzNjMxYzNcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcImVtcGxveWVlc3xiaXR8NjRiMzQ1ZjUtZmNmZi00MWM2LTkxY2EtOTEwNzZmMzYzMWMzfHByb2plY3R8OTAwNzE5OTI1NDc0MDk5MVwifSx7XCJ2aWV3XCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcImFjdGlvblwiOlwiYTRlYjZkZWQtZGFmMy00MGRlLTk2MjktMTE3M2Q1ZGQ2YTU0XCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MCxcIl9faWRcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHxhNGViNmRlZC1kYWYzLTQwZGUtOTYyOS0xMTczZDVkZDZhNTR8c2VsZWN0fDBcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXCJhY3Rpb25cIjpcImFlZTMzNDYxLTgwYmYtNDExMy1hZjBiLTBjMjkwZWMxOGFmMFwiLFwia2luZFwiOlwic2VsZWN0XCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8YWVlMzM0NjEtODBiZi00MTEzLWFmMGItMGMyOTBlYzE4YWYwfHNlbGVjdHwxXCJ9LHtcInZpZXdcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiYWN0aW9uXCI6XCI3OTE1OTYyMi04ODRiLTQxMjItYTU4Ni1iMmYwODg0ZTAyMjJcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjoyLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fDc5MTU5NjIyLTg4NGItNDEyMi1hNTg2LWIyZjA4ODRlMDIyMnxzZWxlY3R8MlwifSx7XCJ2aWV3XCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcImFjdGlvblwiOlwiZTAwMTE0NmItMmRmMS00MzgzLTgzM2MtZGY0MWM3MDkxZjZjXCIsXCJraW5kXCI6XCJzZWxlY3RcIixcIml4XCI6MyxcIl9faWRcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHxlMDAxMTQ2Yi0yZGYxLTQzODMtODMzYy1kZjQxYzcwOTFmNmN8c2VsZWN0fDNcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXCJhY3Rpb25cIjpcImMyMTQ3MTAxLTE2YTktNGRhMi1iYmM1LTdiY2IxNGE5ODAzZFwiLFwia2luZFwiOlwiYWdncmVnYXRlXCIsXCJpeFwiOjQsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8YzIxNDcxMDEtMTZhOS00ZGEyLWJiYzUtN2JjYjE0YTk4MDNkfGFnZ3JlZ2F0ZXw0XCJ9LHtcInZpZXdcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiYWN0aW9uXCI6XCJiZTA4ZmJhNC00ZmQ1LTQ1OTYtOTVmMi0wOWQ0MzBhZDU4YmJcIixcImtpbmRcIjpcImdyb3VwXCIsXCJpeFwiOjkwMDcxOTkyNTQ3NDA5OTEsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8YmUwOGZiYTQtNGZkNS00NTk2LTk1ZjItMDlkNDMwYWQ1OGJifGdyb3VwfDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXCJhY3Rpb25cIjpcIjYzOTEyNWNhLTRkYjMtNDAyZC05ODJjLWJkNWQ3ZDJmYjYwMVwiLFwia2luZFwiOlwicHJvamVjdFwiLFwiaXhcIjo5MDA3MTk5MjU0NzQwOTkxLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fDYzOTEyNWNhLTRkYjMtNDAyZC05ODJjLWJkNWQ3ZDJmYjYwMXxwcm9qZWN0fDkwMDcxOTkyNTQ3NDA5OTFcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdFwiLFwiYWN0aW9uXCI6XCI2ZGUzZmU5OS03ZWIyLTRjOWYtYjg5NS02NTY3Njg2NzRmMzdcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjowLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdHw2ZGUzZmU5OS03ZWIyLTRjOWYtYjg5NS02NTY3Njg2NzRmMzd8c2VsZWN0fDBcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdFwiLFwiYWN0aW9uXCI6XCI0MTNlNjQ3YS1mZTUyLTRmZmUtOGMwZC1kZDMzZmQ2MmU0ZmNcIixcImtpbmRcIjpcInNlbGVjdFwiLFwiaXhcIjoxLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdHw0MTNlNjQ3YS1mZTUyLTRmZmUtOGMwZC1kZDMzZmQ2MmU0ZmN8c2VsZWN0fDFcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdFwiLFwiYWN0aW9uXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDRcIixcImtpbmRcIjpcImNhbGN1bGF0ZVwiLFwiaXhcIjoyLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdHw0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDR8Y2FsY3VsYXRlfDJcIn0se1widmlld1wiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fGJpdFwiLFwiYWN0aW9uXCI6XCJkNjE2ZWIyNi1jMTA2LTRjZmMtOGI2Mi05YzZkNTI2YTY4MDZcIixcImtpbmRcIjpcInByb2plY3RcIixcIml4XCI6OTAwNzE5OTI1NDc0MDk5MSxcIl9faWRcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHxiaXR8ZDYxNmViMjYtYzEwNi00Y2ZjLThiNjItOWM2ZDUyNmE2ODA2fHByb2plY3R8OTAwNzE5OTI1NDc0MDk5MVwifSx7XCJ2aWV3XCI6XCJnZW5lcmF0ZWQgZWF2XCIsXCJhY3Rpb25cIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcImtpbmRcIjpcInVuaW9uXCIsXCJpeFwiOjEsXCJfX2lkXCI6XCJnZW5lcmF0ZWQgZWF2fHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX18dW5pb258MVwifV0sXCJhY3Rpb24gc291cmNlXCI6W3tcImFjdGlvblwiOlwiYjAyZTBhZTgtOTBhNy00ZTc2LWE2ZDQtOWE5YjViZGNhZjE4XCIsXCJzb3VyY2Ugdmlld1wiOlwiY29udGVudCBibG9ja3NcIixcIl9faWRcIjpcImIwMmUwYWU4LTkwYTctNGU3Ni1hNmQ0LTlhOWI1YmRjYWYxOHxjb250ZW50IGJsb2Nrc1wifSx7XCJhY3Rpb25cIjpcIjFlNWUwMjEwLWQxMDktNGI4Zi05MWNiLWUxNGE0MjJlMTFkYVwiLFwic291cmNlIHZpZXdcIjpcIm1hbnVhbCBlbnRpdHlcIixcIl9faWRcIjpcIjFlNWUwMjEwLWQxMDktNGI4Zi05MWNiLWUxNGE0MjJlMTFkYXxtYW51YWwgZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiOTdmMmFmZGUtYzBjZC00MWNiLTk4ZWMtNTFmMjY4ZmViNDdjXCIsXCJzb3VyY2Ugdmlld1wiOlwiYWRkZWQgYml0c1wiLFwiX19pZFwiOlwiOTdmMmFmZGUtYzBjZC00MWNiLTk4ZWMtNTFmMjY4ZmViNDdjfGFkZGVkIGJpdHNcIn0se1wiYWN0aW9uXCI6XCI1YmVjOGNjNy03YzU1LTRhMjEtYjA1NS03MjhlZTkyMDJkNmFcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiNWJlYzhjYzctN2M1NS00YTIxLWIwNTUtNzI4ZWU5MjAyZDZhfGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiOWZiZjg2MTQtYzcxYS00YTkyLWI3NTctNzE1NDJhZjlmMDU2XCIsXCJzb3VyY2Ugdmlld1wiOlwiZW50aXR5IGVhdnNcIixcIl9faWRcIjpcIjlmYmY4NjE0LWM3MWEtNGE5Mi1iNzU3LTcxNTQyYWY5ZjA1NnxlbnRpdHkgZWF2c1wifSx7XCJhY3Rpb25cIjpcIjc5NDUxZjM1LTg5YTItNDY3MS1hMWUxLWQxYWU3ODVjMTY2M1wiLFwic291cmNlIHZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCI3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjN8ZW50aXR5IGVhdnNcIn0se1wiYWN0aW9uXCI6XCIxMGU1ZjY4Yy04NjVkLTRlZGYtYWQzZC00YjZlMzc5Y2E5MjNcIixcInNvdXJjZSB2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwiX19pZFwiOlwiMTBlNWY2OGMtODY1ZC00ZWRmLWFkM2QtNGI2ZTM3OWNhOTIzfGNvbnRlbnQgYmxvY2tzXCJ9LHtcImFjdGlvblwiOlwiZDYzYjhhNGYtMmQwZi00NDFlLWI2YWItN2FiMWI1YTFkNWE2XCIsXCJzb3VyY2Ugdmlld1wiOlwicGFyc2UgZWF2c1wiLFwiX19pZFwiOlwiZDYzYjhhNGYtMmQwZi00NDFlLWI2YWItN2FiMWI1YTFkNWE2fHBhcnNlIGVhdnNcIn0se1wiYWN0aW9uXCI6XCJiMjNkYzg1NC0zZmVjLTQ3NTctYTQ3OC1kNTM4ODg0MGFjYzFcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImIyM2RjODU0LTNmZWMtNDc1Ny1hNDc4LWQ1Mzg4ODQwYWNjMXxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCI3ZGU5ZmNjNy1mYzViLTQ2MDQtOTJmZS1iOTY1NDU4OWI4NGNcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiN2RlOWZjYzctZmM1Yi00NjA0LTkyZmUtYjk2NTQ1ODliODRjfGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIGJ1aWx0aW4gZW50aXR5IGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJzb3VyY2Ugdmlld1wiOlwiYnVpbHRpbiBlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIGJ1aWx0aW4gZW50aXR5IGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fGJ1aWx0aW4gZW50aXR5IGVhdnNcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcInNvdXJjZSB2aWV3XCI6XCJtYW51YWwgZWF2XCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18bWFudWFsIGVhdlwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBnZW5lcmF0ZWQgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwic291cmNlIHZpZXdcIjpcImdlbmVyYXRlZCBlYXZcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBnZW5lcmF0ZWQgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxnZW5lcmF0ZWQgZWF2XCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBjb250ZW50IGJsb2NrcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcInNvdXJjZSB2aWV3XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgY29udGVudCBibG9ja3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fHBhcnNlZCBjb250ZW50IGJsb2Nrc1wifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcInNvdXJjZSB2aWV3XCI6XCJwYXJzZWQgZWF2c1wiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxwYXJzZWQgZWF2c1wifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBhZGRlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwic291cmNlIHZpZXdcIjpcImFkZGVkIGVhdnNcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBhZGRlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxhZGRlZCBlYXZzXCJ9LHtcImFjdGlvblwiOlwiMTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkXCIsXCJzb3VyY2Ugdmlld1wiOlwicGFyc2UgZWF2c1wiLFwiX19pZFwiOlwiMTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkfHBhcnNlIGVhdnNcIn0se1wiYWN0aW9uXCI6XCI1NjA1Y2U2MC01YjljLTQ2MGItOTU1NC1mNjdmMTBiZmU4NDJcIixcInNvdXJjZSB2aWV3XCI6XCJsb3dlcmNhc2VcIixcIl9faWRcIjpcIjU2MDVjZTYwLTViOWMtNDYwYi05NTU0LWY2N2YxMGJmZTg0Mnxsb3dlcmNhc2VcIn0se1wiYWN0aW9uXCI6XCJlZWM5ZjAzOS0wOGU2LTQ2YmEtYjA0Yi04NGQ5NzM1ODA4YzJcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImVlYzlmMDM5LTA4ZTYtNDZiYS1iMDRiLTg0ZDk3MzU4MDhjMnxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJhNTc2MTk2ZC04NGQ1LTQzZTYtOTExNi1lZGY5NmIxNTJhNzFcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiYTU3NjE5NmQtODRkNS00M2U2LTkxMTYtZWRmOTZiMTUyYTcxfGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiNWZmOGE0NjYtNWE1Yy00NmYyLTg1MGQtZDBmNTI2NWIxOGMyXCIsXCJzb3VyY2Ugdmlld1wiOlwibG93ZXJjYXNlIGVhdnNcIixcIl9faWRcIjpcIjVmZjhhNDY2LTVhNWMtNDZmMi04NTBkLWQwZjUyNjViMThjMnxsb3dlcmNhc2UgZWF2c1wifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gYnVpbHRpbiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9XCIsXCJzb3VyY2Ugdmlld1wiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3NcIixcIl9faWRcIjpcImVudGl0eSBsaW5rcyA8LS0gYnVpbHRpbiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9fGJ1aWx0aW4gZW50aXR5IGxpbmtzXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBlYXYgZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifVwiLFwic291cmNlIHZpZXdcIjpcImVhdiBlbnRpdHkgbGlua3NcIixcIl9faWRcIjpcImVudGl0eSBsaW5rcyA8LS0gZWF2IGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn18ZWF2IGVudGl0eSBsaW5rc1wifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19XCIsXCJzb3VyY2Ugdmlld1wiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3MgPC0tIGlzIGEgYXR0cmlidXRlcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwiY29sbGVjdGlvblxcXCIsXFxcInR5cGVcXFwiOltcXFwiaXMgYVxcXCJdfXxpcyBhIGF0dHJpYnV0ZXNcIn0se1wiYWN0aW9uXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifVwiLFwic291cmNlIHZpZXdcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn18YnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzXCJ9LHtcImFjdGlvblwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn1cIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgbGlua3NcIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCJ9fGVudGl0eSBsaW5rc1wifSx7XCJhY3Rpb25cIjpcImRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJsaW5rXFxcIixcXFwibGlua1xcXCI6XFxcImVudGl0eVxcXCJ9XCIsXCJzb3VyY2Ugdmlld1wiOlwiZW50aXR5IGxpbmtzXCIsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwibGlua1xcXCIsXFxcImxpbmtcXFwiOlxcXCJlbnRpdHlcXFwifXxlbnRpdHkgbGlua3NcIn0se1wiYWN0aW9uXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifVwiLFwic291cmNlIHZpZXdcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiX19pZFwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn18YnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzXCJ9LHtcImFjdGlvblwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn1cIixcInNvdXJjZSB2aWV3XCI6XCJpcyBhIGF0dHJpYnV0ZXNcIixcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIGlzIGEgYXR0cmlidXRlcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJjb2xsZWN0aW9uXFxcIjpcXFwiY29sbGVjdGlvblxcXCJ9fGlzIGEgYXR0cmlidXRlc1wifSx7XCJhY3Rpb25cIjpcIjBjMDAyZjc2LTRlZjktNDhjNi04NDIxLTMzMDg0NjU3YTNhZVwiLFwic291cmNlIHZpZXdcIjpcImNvdW50XCIsXCJfX2lkXCI6XCIwYzAwMmY3Ni00ZWY5LTQ4YzYtODQyMS0zMzA4NDY1N2EzYWV8Y291bnRcIn0se1wiYWN0aW9uXCI6XCI2NGM4YWU0Yy1jZGVkLTQ3OGQtOWY0YS03YWQxZGM1YzcxODVcIixcInNvdXJjZSB2aWV3XCI6XCJpcyBhIGF0dHJpYnV0ZXNcIixcIl9faWRcIjpcIjY0YzhhZTRjLWNkZWQtNDc4ZC05ZjRhLTdhZDFkYzVjNzE4NXxpcyBhIGF0dHJpYnV0ZXNcIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggPC0tIGJ1aWx0aW4gc2VhcmNoIDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJ0b3BcXFwiOlxcXCJ0b3BcXFwiLFxcXCJsZWZ0XFxcIjpcXFwibGVmdFxcXCJ9XCIsXCJzb3VyY2Ugdmlld1wiOlwiYnVpbHRpbiBzZWFyY2hcIixcIl9faWRcIjpcInNlYXJjaCA8LS0gYnVpbHRpbiBzZWFyY2ggPC0tIHtcXFwiaWRcXFwiOlxcXCJpZFxcXCIsXFxcInRvcFxcXCI6XFxcInRvcFxcXCIsXFxcImxlZnRcXFwiOlxcXCJsZWZ0XFxcIn18YnVpbHRpbiBzZWFyY2hcIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifVwiLFwic291cmNlIHZpZXdcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5XCIsXCJfX2lkXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifXxidWlsdGluIHNlYXJjaCBxdWVyeVwifSx7XCJhY3Rpb25cIjpcIjJkYjAwNDk2LTJlZmYtNGQyYS1iNDg3LTRjMzcwNTgwNWMzZVwiLFwic291cmNlIHZpZXdcIjpcInNlYXJjaCBxdWVyeVwiLFwiX19pZFwiOlwiMmRiMDA0OTYtMmVmZi00ZDJhLWI0ODctNGMzNzA1ODA1YzNlfHNlYXJjaCBxdWVyeVwifSx7XCJhY3Rpb25cIjpcIjFkZjc4ZWRjLWI3ZGYtNDUyYi1hNzNjLWUyZDU5MzllYzhiOVwiLFwic291cmNlIHZpZXdcIjpcInNlYXJjaFwiLFwiX19pZFwiOlwiMWRmNzhlZGMtYjdkZi00NTJiLWE3M2MtZTJkNTkzOWVjOGI5fHNlYXJjaFwifSx7XCJhY3Rpb25cIjpcImI4NDRjYjJiLTc1MDMtNDM0Ni1iMzJkLWQ4NjE5MTc2NWE4ZlwiLFwic291cmNlIHZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCJiODQ0Y2IyYi03NTAzLTQzNDYtYjMyZC1kODYxOTE3NjVhOGZ8ZW50aXR5IGVhdnNcIn0se1wiYWN0aW9uXCI6XCI5YjM3YzJjZC01NjI4LTRkNWUtOGE2OS05MTZjYTY2Y2FjODdcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiOWIzN2MyY2QtNTYyOC00ZDVlLThhNjktOTE2Y2E2NmNhYzg3fGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiMGQyN2ZlMjUtYjA1ZS00NGI5LTllNDUtYWY5NmEyM2JhY2JmXCIsXCJzb3VyY2Ugdmlld1wiOlwiZW50aXR5IGVhdnNcIixcIl9faWRcIjpcIjBkMjdmZTI1LWIwNWUtNDRiOS05ZTQ1LWFmOTZhMjNiYWNiZnxlbnRpdHkgZWF2c1wifSx7XCJhY3Rpb25cIjpcIjMxNDA1ZDU3LWE1ZmItNDRiMC1hZDkxLWEzM2RhNGVkY2FjYVwiLFwic291cmNlIHZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCIzMTQwNWQ1Ny1hNWZiLTQ0YjAtYWQ5MS1hMzNkYTRlZGNhY2F8ZW50aXR5IGVhdnNcIn0se1wiYWN0aW9uXCI6XCJiZTlkMGY5Yi02MDlhLTQwMjUtOTU2OC1jMWU1ZGZmOTZiYzZcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiYmU5ZDBmOWItNjA5YS00MDI1LTk1NjgtYzFlNWRmZjk2YmM2fGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiYjY5NDM5ODctZWEzZS00YTliLWIwMTEtYmE3YmMyNjlhMmFlXCIsXCJzb3VyY2Ugdmlld1wiOlwiZW50aXR5IGVhdnNcIixcIl9faWRcIjpcImI2OTQzOTg3LWVhM2UtNGE5Yi1iMDExLWJhN2JjMjY5YTJhZXxlbnRpdHkgZWF2c1wifSx7XCJhY3Rpb25cIjpcIjBhM2Q3NDFlLWRiZDctNGU3MC05OGE5LTEwYTE0ZjViMDJlMlwiLFwic291cmNlIHZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCIwYTNkNzQxZS1kYmQ3LTRlNzAtOThhOS0xMGExNGY1YjAyZTJ8ZW50aXR5IGVhdnNcIn0se1wiYWN0aW9uXCI6XCJkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmFcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiZGMyNzU2NzYtYWQ4MC00ZGIxLWIzZWYtOWJmYjFmNjA3Y2JhfGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkXCIsXCJzb3VyY2Ugdmlld1wiOlwiY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiX19pZFwiOlwiZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkfGNvbGxlY3Rpb24gZW50aXRpZXNcIn0se1wiYWN0aW9uXCI6XCI3MTI1NmRiOC05NDg0LTQ0YTgtYWJiMy0xOWIyZjBiMmQ5ODNcIixcInNvdXJjZSB2aWV3XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJfX2lkXCI6XCI3MTI1NmRiOC05NDg0LTQ0YTgtYWJiMy0xOWIyZjBiMmQ5ODN8Y29sbGVjdGlvbiBlbnRpdGllc1wifSx7XCJhY3Rpb25cIjpcIjI5NDNiZGEwLTE5ZGItNDY2Mi1iNDVlLThmZGQ0ODRhMzFhZlwiLFwic291cmNlIHZpZXdcIjpcImFkZCBiaXQgYWN0aW9uXCIsXCJfX2lkXCI6XCIyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZ8YWRkIGJpdCBhY3Rpb25cIn0se1wiYWN0aW9uXCI6XCJjNThhYjFhMi0yMzk3LTRiMDctOGM4OS0xODM4NTE3MmFhNTBcIixcInNvdXJjZSB2aWV3XCI6XCJlbXBsb3llZXNcIixcIl9faWRcIjpcImM1OGFiMWEyLTIzOTctNGIwNy04Yzg5LTE4Mzg1MTcyYWE1MHxlbXBsb3llZXNcIn0se1wiYWN0aW9uXCI6XCJhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmRcIixcInNvdXJjZSB2aWV3XCI6XCJiaXQgdGVtcGxhdGVcIixcIl9faWRcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHxiaXQgdGVtcGxhdGVcIn0se1wiYWN0aW9uXCI6XCJhNGViNmRlZC1kYWYzLTQwZGUtOTYyOS0xMTczZDVkZDZhNTRcIixcInNvdXJjZSB2aWV3XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJfX2lkXCI6XCJhNGViNmRlZC1kYWYzLTQwZGUtOTYyOS0xMTczZDVkZDZhNTR8Y29sbGVjdGlvbiBlbnRpdGllc1wifSx7XCJhY3Rpb25cIjpcImFlZTMzNDYxLTgwYmYtNDExMy1hZjBiLTBjMjkwZWMxOGFmMFwiLFwic291cmNlIHZpZXdcIjpcImRpcmVjdGlvbmxlc3MgbGlua3NcIixcIl9faWRcIjpcImFlZTMzNDYxLTgwYmYtNDExMy1hZjBiLTBjMjkwZWMxOGFmMHxkaXJlY3Rpb25sZXNzIGxpbmtzXCJ9LHtcImFjdGlvblwiOlwiNzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyXCIsXCJzb3VyY2Ugdmlld1wiOlwiY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiX19pZFwiOlwiNzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyfGNvbGxlY3Rpb24gZW50aXRpZXNcIn0se1wiYWN0aW9uXCI6XCJlMDAxMTQ2Yi0yZGYxLTQzODMtODMzYy1kZjQxYzcwOTFmNmNcIixcInNvdXJjZSB2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiX19pZFwiOlwiZTAwMTE0NmItMmRmMS00MzgzLTgzM2MtZGY0MWM3MDkxZjZjfGVudGl0eSBlYXZzXCJ9LHtcImFjdGlvblwiOlwiYzIxNDcxMDEtMTZhOS00ZGEyLWJiYzUtN2JjYjE0YTk4MDNkXCIsXCJzb3VyY2Ugdmlld1wiOlwic3VtXCIsXCJfX2lkXCI6XCJjMjE0NzEwMS0xNmE5LTRkYTItYmJjNS03YmNiMTRhOTgwM2R8c3VtXCJ9LHtcImFjdGlvblwiOlwiNmRlM2ZlOTktN2ViMi00YzlmLWI4OTUtNjU2NzY4Njc0ZjM3XCIsXCJzb3VyY2Ugdmlld1wiOlwiYWRkIGJpdCBhY3Rpb25cIixcIl9faWRcIjpcIjZkZTNmZTk5LTdlYjItNGM5Zi1iODk1LTY1Njc2ODY3NGYzN3xhZGQgYml0IGFjdGlvblwifSx7XCJhY3Rpb25cIjpcIjQxM2U2NDdhLWZlNTItNGZmZS04YzBkLWRkMzNmZDYyZTRmY1wiLFwic291cmNlIHZpZXdcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiX19pZFwiOlwiNDEzZTY0N2EtZmU1Mi00ZmZlLThjMGQtZGQzM2ZkNjJlNGZjfHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwifSx7XCJhY3Rpb25cIjpcIjQ1ZjEzYzEwLTIzZmQtNGJhNy1iNDBiLTkxY2Y2MDgxNTgwNFwiLFwic291cmNlIHZpZXdcIjpcImJpdCB0ZW1wbGF0ZVwiLFwiX19pZFwiOlwiNDVmMTNjMTAtMjNmZC00YmE3LWI0MGItOTFjZjYwODE1ODA0fGJpdCB0ZW1wbGF0ZVwifSx7XCJhY3Rpb25cIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcInNvdXJjZSB2aWV3XCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8Yml0XCIsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHxiaXRcIn1dLFwiYWN0aW9uIG1hcHBpbmdcIjpbe1wiYWN0aW9uXCI6XCIyMzA5MDFhMC1hOWViLTQ4MGQtYjhiZC0xNTJhMjdiYmE5ZDZcIixcImZyb21cIjpcImNvbnRlbnRcIixcInRvIHNvdXJjZVwiOlwiYjAyZTBhZTgtOTBhNy00ZTc2LWE2ZDQtOWE5YjViZGNhZjE4XCIsXCJ0byBmaWVsZFwiOlwiY29udGVudFwiLFwiX19pZFwiOlwiMjMwOTAxYTAtYTllYi00ODBkLWI4YmQtMTUyYTI3YmJhOWQ2fGNvbnRlbnR8YjAyZTBhZTgtOTBhNy00ZTc2LWE2ZDQtOWE5YjViZGNhZjE4fGNvbnRlbnRcIn0se1wiYWN0aW9uXCI6XCIyMzA5MDFhMC1hOWViLTQ4MGQtYjhiZC0xNTJhMjdiYmE5ZDZcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJiMDJlMGFlOC05MGE3LTRlNzYtYTZkNC05YTliNWJkY2FmMThcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcIjIzMDkwMWEwLWE5ZWItNDgwZC1iOGJkLTE1MmEyN2JiYTlkNnxlbnRpdHl8YjAyZTBhZTgtOTBhNy00ZTc2LWE2ZDQtOWE5YjViZGNhZjE4fGVudGl0eVwifSx7XCJhY3Rpb25cIjpcIjViZWM4Y2M3LTdjNTUtNGEyMS1iMDU1LTcyOGVlOTIwMmQ2YVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcIjc5NDUxZjM1LTg5YTItNDY3MS1hMWUxLWQxYWU3ODVjMTY2M1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiNWJlYzhjYzctN2M1NS00YTIxLWIwNTUtNzI4ZWU5MjAyZDZhfGVudGl0eXw3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjN8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiMGI4Y2U3NmQtOWJiYS00MDlmLTkyMDgtYmMwYjI2MGQ5ODllXCIsXCJmcm9tXCI6XCJjb250ZW50XCIsXCJ0byBzb3VyY2VcIjpcIjk3ZjJhZmRlLWMwY2QtNDFjYi05OGVjLTUxZjI2OGZlYjQ3Y1wiLFwidG8gZmllbGRcIjpcImNvbnRlbnRcIixcIl9faWRcIjpcIjBiOGNlNzZkLTliYmEtNDA5Zi05MjA4LWJjMGIyNjBkOTg5ZXxjb250ZW50fDk3ZjJhZmRlLWMwY2QtNDFjYi05OGVjLTUxZjI2OGZlYjQ3Y3xjb250ZW50XCJ9LHtcImFjdGlvblwiOlwiMGI4Y2U3NmQtOWJiYS00MDlmLTkyMDgtYmMwYjI2MGQ5ODllXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiOTdmMmFmZGUtYzBjZC00MWNiLTk4ZWMtNTFmMjY4ZmViNDdjXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCIwYjhjZTc2ZC05YmJhLTQwOWYtOTIwOC1iYzBiMjYwZDk4OWV8ZW50aXR5fDk3ZjJhZmRlLWMwY2QtNDFjYi05OGVjLTUxZjI2OGZlYjQ3Y3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCIxZTVlMDIxMC1kMTA5LTRiOGYtOTFjYi1lMTRhNDIyZTExZGFcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCI5N2YyYWZkZS1jMGNkLTQxY2ItOThlYy01MWYyNjhmZWI0N2NcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcIjFlNWUwMjEwLWQxMDktNGI4Zi05MWNiLWUxNGE0MjJlMTFkYXxlbnRpdHl8OTdmMmFmZGUtYzBjZC00MWNiLTk4ZWMtNTFmMjY4ZmViNDdjfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImI0MDM1YjEyLTYyNTEtNDVkZC04OTgzLTMyNWJkOTE2NGExOFwiLFwiZnJvbVwiOlwiY29udGVudFwiLFwidG8gc291cmNlXCI6XCI5ZmJmODYxNC1jNzFhLTRhOTItYjc1Ny03MTU0MmFmOWYwNTZcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiYjQwMzViMTItNjI1MS00NWRkLTg5ODMtMzI1YmQ5MTY0YTE4fGNvbnRlbnR8OWZiZjg2MTQtYzcxYS00YTkyLWI3NTctNzE1NDJhZjlmMDU2fHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYjQwMzViMTItNjI1MS00NWRkLTg5ODMtMzI1YmQ5MTY0YTE4XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiNWJlYzhjYzctN2M1NS00YTIxLWIwNTUtNzI4ZWU5MjAyZDZhXCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImI0MDM1YjEyLTYyNTEtNDVkZC04OTgzLTMyNWJkOTE2NGExOHxlbnRpdHl8NWJlYzhjYzctN2M1NS00YTIxLWIwNTUtNzI4ZWU5MjAyZDZhfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYjQwMzViMTItNjI1MS00NWRkLTg5ODMtMzI1YmQ5MTY0YTE4XCIsXCJmcm9tXCI6XCJibG9ja1wiLFwidG8gc291cmNlXCI6XCI3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjNcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImI0MDM1YjEyLTYyNTEtNDVkZC04OTgzLTMyNWJkOTE2NGExOHxibG9ja3w3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjN8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiOWZiZjg2MTQtYzcxYS00YTkyLWI3NTctNzE1NDJhZjlmMDU2XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiNzk0NTFmMzUtODlhMi00NjcxLWExZTEtZDFhZTc4NWMxNjYzXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCI5ZmJmODYxNC1jNzFhLTRhOTItYjc1Ny03MTU0MmFmOWYwNTZ8ZW50aXR5fDc5NDUxZjM1LTg5YTItNDY3MS1hMWUxLWQxYWU3ODVjMTY2M3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJlOWYwZDNkMC1lMDM1LTQwOWMtODZhMC05MzExOWE2ZjM0ZWFcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCIxMTI1ZjZhNi0xODFjLTQzMGItODExYS0zOWYyMDI5OWE4YWRcIixcInRvIGZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImU5ZjBkM2QwLWUwMzUtNDA5Yy04NmEwLTkzMTE5YTZmMzRlYXxhdHRyaWJ1dGV8MTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkfGF0dHJpYnV0ZVwifSx7XCJhY3Rpb25cIjpcImU5ZjBkM2QwLWUwMzUtNDA5Yy04NmEwLTkzMTE5YTZmMzRlYVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcIjEwZTVmNjhjLTg2NWQtNGVkZi1hZDNkLTRiNmUzNzljYTkyM1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZTlmMGQzZDAtZTAzNS00MDljLTg2YTAtOTMxMTlhNmYzNGVhfGVudGl0eXwxMGU1ZjY4Yy04NjVkLTRlZGYtYWQzZC00YjZlMzc5Y2E5MjN8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiMTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkXCIsXCJmcm9tXCI6XCJ0ZXh0XCIsXCJ0byBzb3VyY2VcIjpcIjEwZTVmNjhjLTg2NWQtNGVkZi1hZDNkLTRiNmUzNzljYTkyM1wiLFwidG8gZmllbGRcIjpcImNvbnRlbnRcIixcIl9faWRcIjpcIjExMjVmNmE2LTE4MWMtNDMwYi04MTFhLTM5ZjIwMjk5YThhZHx0ZXh0fDEwZTVmNjhjLTg2NWQtNGVkZi1hZDNkLTRiNmUzNzljYTkyM3xjb250ZW50XCJ9LHtcImFjdGlvblwiOlwiMTEyNWY2YTYtMTgxYy00MzBiLTgxMWEtMzlmMjAyOTlhOGFkXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiMTBlNWY2OGMtODY1ZC00ZWRmLWFkM2QtNGI2ZTM3OWNhOTIzXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCIxMTI1ZjZhNi0xODFjLTQzMGItODExYS0zOWYyMDI5OWE4YWR8ZW50aXR5fDEwZTVmNjhjLTg2NWQtNGVkZi1hZDNkLTRiNmUzNzljYTkyM3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJkMTgzNTkxZS1mMWZiLTQ0OGUtYjQzMC1kMWYzNzM5M2U4MTBcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJkNjNiOGE0Zi0yZDBmLTQ0MWUtYjZhYi03YWIxYjVhMWQ1YTZcIixcInRvIGZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImQxODM1OTFlLWYxZmItNDQ4ZS1iNDMwLWQxZjM3MzkzZTgxMHxhdHRyaWJ1dGV8ZDYzYjhhNGYtMmQwZi00NDFlLWI2YWItN2FiMWI1YTFkNWE2fGF0dHJpYnV0ZVwifSx7XCJhY3Rpb25cIjpcImQxODM1OTFlLWYxZmItNDQ4ZS1iNDMwLWQxZjM3MzkzZTgxMFwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImIyM2RjODU0LTNmZWMtNDc1Ny1hNDc4LWQ1Mzg4ODQwYWNjMVwiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZDE4MzU5MWUtZjFmYi00NDhlLWI0MzAtZDFmMzczOTNlODEwfGVudGl0eXxiMjNkYzg1NC0zZmVjLTQ3NTctYTQ3OC1kNTM4ODg0MGFjYzF8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiOWZhYzBjNjMtYTY4YS00M2VjLWI2OWYtMDlmMjljMTVkZGI2XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiN2RlOWZjYzctZmM1Yi00NjA0LTkyZmUtYjk2NTQ1ODliODRjXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCI5ZmFjMGM2My1hNjhhLTQzZWMtYjY5Zi0wOWYyOWMxNWRkYjZ8ZW50aXR5fDdkZTlmY2M3LWZjNWItNDYwNC05MmZlLWI5NjU0NTg5Yjg0Y3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJkNjNiOGE0Zi0yZDBmLTQ0MWUtYjZhYi03YWIxYjVhMWQ1YTZcIixcImZyb21cIjpcInRleHRcIixcInRvIHNvdXJjZVwiOlwiYjIzZGM4NTQtM2ZlYy00NzU3LWE0NzgtZDUzODg4NDBhY2MxXCIsXCJ0byBmaWVsZFwiOlwiY29udGVudFwiLFwiX19pZFwiOlwiZDYzYjhhNGYtMmQwZi00NDFlLWI2YWItN2FiMWI1YTFkNWE2fHRleHR8YjIzZGM4NTQtM2ZlYy00NzU3LWE0NzgtZDUzODg4NDBhY2MxfGNvbnRlbnRcIn0se1wiYWN0aW9uXCI6XCJkNjNiOGE0Zi0yZDBmLTQ0MWUtYjZhYi03YWIxYjVhMWQ1YTZcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJiMjNkYzg1NC0zZmVjLTQ3NTctYTQ3OC1kNTM4ODg0MGFjYzFcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImQ2M2I4YTRmLTJkMGYtNDQxZS1iNmFiLTdhYjFiNWExZDVhNnxlbnRpdHl8YjIzZGM4NTQtM2ZlYy00NzU3LWE0NzgtZDUzODg4NDBhY2MxfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcIjlmYWMwYzYzLWE2OGEtNDNlYy1iNjlmLTA5ZjI5YzE1ZGRiNlwiLFwiZnJvbVwiOlwiY29sbGVjdGlvblwiLFwidG8gc291cmNlXCI6XCI3ZGU5ZmNjNy1mYzViLTQ2MDQtOTJmZS1iOTY1NDU4OWI4NGNcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiOWZhYzBjNjMtYTY4YS00M2VjLWI2OWYtMDlmMjljMTVkZGI2fGNvbGxlY3Rpb258N2RlOWZjYzctZmM1Yi00NjA0LTkyZmUtYjk2NTQ1ODliODRjfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIGJ1aWx0aW4gZW50aXR5IGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiYnVpbHRpbiBlbnRpdHkgZWF2c1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIGJ1aWx0aW4gZW50aXR5IGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fGVudGl0eXxidWlsdGluIGVudGl0eSBlYXZzfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBidWlsdGluIGVudGl0eSBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwiZnJvbVwiOlwiYXR0cmlidXRlXCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnNcIixcInRvIGZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBidWlsdGluIGVudGl0eSBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxhdHRyaWJ1dGV8YnVpbHRpbiBlbnRpdHkgZWF2c3xhdHRyaWJ1dGVcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gYnVpbHRpbiBlbnRpdHkgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnNcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIGJ1aWx0aW4gZW50aXR5IGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fHZhbHVlfGJ1aWx0aW4gZW50aXR5IGVhdnN8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJtYW51YWwgZWF2XCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18ZW50aXR5fG1hbnVhbCBlYXZ8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIG1hbnVhbCBlYXYgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInRvIHNvdXJjZVwiOlwibWFudWFsIGVhdlwiLFwidG8gZmllbGRcIjpcImF0dHJpYnV0ZVwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIG1hbnVhbCBlYXYgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fGF0dHJpYnV0ZXxtYW51YWwgZWF2fGF0dHJpYnV0ZVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBtYW51YWwgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwiZnJvbVwiOlwidmFsdWVcIixcInRvIHNvdXJjZVwiOlwibWFudWFsIGVhdlwiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gbWFudWFsIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18dmFsdWV8bWFudWFsIGVhdnx2YWx1ZVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBnZW5lcmF0ZWQgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImdlbmVyYXRlZCBlYXZcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBnZW5lcmF0ZWQgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxlbnRpdHl8Z2VuZXJhdGVkIGVhdnxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gZ2VuZXJhdGVkIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJnZW5lcmF0ZWQgZWF2XCIsXCJ0byBmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gZ2VuZXJhdGVkIGVhdiA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18YXR0cmlidXRlfGdlbmVyYXRlZCBlYXZ8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIGdlbmVyYXRlZCBlYXYgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJmcm9tXCI6XCJ2YWx1ZVwiLFwidG8gc291cmNlXCI6XCJnZW5lcmF0ZWQgZWF2XCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBnZW5lcmF0ZWQgZWF2IDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXx2YWx1ZXxnZW5lcmF0ZWQgZWF2fHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBjb250ZW50IGJsb2NrcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgY29udGVudCBibG9ja3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fGVudGl0eXxwYXJzZWQgY29udGVudCBibG9ja3N8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBjb250ZW50IGJsb2NrcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcInRvIGZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgY29udGVudCBibG9ja3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9fGF0dHJpYnV0ZXxwYXJzZWQgY29udGVudCBibG9ja3N8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBjb250ZW50IGJsb2NrcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc1wiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gcGFyc2VkIGNvbnRlbnQgYmxvY2tzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXx2YWx1ZXxwYXJzZWQgY29udGVudCBibG9ja3N8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gcGFyc2VkIGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwicGFyc2VkIGVhdnNcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18ZW50aXR5fHBhcnNlZCBlYXZzfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBwYXJzZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJwYXJzZWQgZWF2c1wiLFwidG8gZmllbGRcIjpcImF0dHJpYnV0ZVwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxhdHRyaWJ1dGV8cGFyc2VkIGVhdnN8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwiZnJvbVwiOlwidmFsdWVcIixcInRvIHNvdXJjZVwiOlwicGFyc2VkIGVhdnNcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnMgPC0tIHBhcnNlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXx2YWx1ZXxwYXJzZWQgZWF2c3x2YWx1ZVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBlYXZzIDwtLSBhZGRlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImFkZGVkIGVhdnNcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBhZGRlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXxlbnRpdHl8YWRkZWQgZWF2c3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgZWF2cyA8LS0gYWRkZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn1cIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJhZGRlZCBlYXZzXCIsXCJ0byBmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2cyA8LS0gYWRkZWQgZWF2cyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJhdHRyaWJ1dGVcXFwiOlxcXCJhdHRyaWJ1dGVcXFwiLFxcXCJ2YWx1ZVxcXCI6XFxcInZhbHVlXFxcIn18YXR0cmlidXRlfGFkZGVkIGVhdnN8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGVhdnMgPC0tIGFkZGVkIGVhdnMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiYXR0cmlidXRlXFxcIjpcXFwiYXR0cmlidXRlXFxcIixcXFwidmFsdWVcXFwiOlxcXCJ2YWx1ZVxcXCJ9XCIsXCJmcm9tXCI6XCJ2YWx1ZVwiLFwidG8gc291cmNlXCI6XCJhZGRlZCBlYXZzXCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImVudGl0eSBlYXZzIDwtLSBhZGRlZCBlYXZzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImF0dHJpYnV0ZVxcXCI6XFxcImF0dHJpYnV0ZVxcXCIsXFxcInZhbHVlXFxcIjpcXFwidmFsdWVcXFwifXx2YWx1ZXxhZGRlZCBlYXZzfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiZTlmMGQzZDAtZTAzNS00MDljLTg2YTAtOTMxMTlhNmYzNGVhXCIsXCJmcm9tXCI6XCJ2YWx1ZVwiLFwidG8gc291cmNlXCI6XCIxMTI1ZjZhNi0xODFjLTQzMGItODExYS0zOWYyMDI5OWE4YWRcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiZTlmMGQzZDAtZTAzNS00MDljLTg2YTAtOTMxMTlhNmYzNGVhfHZhbHVlfDExMjVmNmE2LTE4MWMtNDMwYi04MTFhLTM5ZjIwMjk5YThhZHx2YWx1ZVwifSx7XCJhY3Rpb25cIjpcImQxODM1OTFlLWYxZmItNDQ4ZS1iNDMwLWQxZjM3MzkzZTgxMFwiLFwiZnJvbVwiOlwidmFsdWVcIixcInRvIHNvdXJjZVwiOlwiZDYzYjhhNGYtMmQwZi00NDFlLWI2YWItN2FiMWI1YTFkNWE2XCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImQxODM1OTFlLWYxZmItNDQ4ZS1iNDMwLWQxZjM3MzkzZTgxMHx2YWx1ZXxkNjNiOGE0Zi0yZDBmLTQ0MWUtYjZhYi03YWIxYjVhMWQ1YTZ8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCJlZWM5ZjAzOS0wOGU2LTQ2YmEtYjA0Yi04NGQ5NzM1ODA4YzJcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCI1ZmY4YTQ2Ni01YTVjLTQ2ZjItODUwZC1kMGY1MjY1YjE4YzJcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiZWVjOWYwMzktMDhlNi00NmJhLWIwNGItODRkOTczNTgwOGMyfGVudGl0eXw1ZmY4YTQ2Ni01YTVjLTQ2ZjItODUwZC1kMGY1MjY1YjE4YzJ8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCIyMjhkZTQ1Mi1iOTZlLTQwMDgtYmVjOS0wZWYwMjNjMzUxZmNcIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcIjU2MDVjZTYwLTViOWMtNDYwYi05NTU0LWY2N2YxMGJmZTg0MlwiLFwidG8gZmllbGRcIjpcInJlc3VsdFwiLFwiX19pZFwiOlwiMjI4ZGU0NTItYjk2ZS00MDA4LWJlYzktMGVmMDIzYzM1MWZjfHZhbHVlfDU2MDVjZTYwLTViOWMtNDYwYi05NTU0LWY2N2YxMGJmZTg0MnxyZXN1bHRcIn0se1wiYWN0aW9uXCI6XCIyMjhkZTQ1Mi1iOTZlLTQwMDgtYmVjOS0wZWYwMjNjMzUxZmNcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJhNTc2MTk2ZC04NGQ1LTQzZTYtOTExNi1lZGY5NmIxNTJhNzFcIixcInRvIGZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcIjIyOGRlNDUyLWI5NmUtNDAwOC1iZWM5LTBlZjAyM2MzNTFmY3xhdHRyaWJ1dGV8YTU3NjE5NmQtODRkNS00M2U2LTkxMTYtZWRmOTZiMTUyYTcxfGF0dHJpYnV0ZVwifSx7XCJhY3Rpb25cIjpcIjIyOGRlNDUyLWI5NmUtNDAwOC1iZWM5LTBlZjAyM2MzNTFmY1wiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImE1NzYxOTZkLTg0ZDUtNDNlNi05MTE2LWVkZjk2YjE1MmE3MVwiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiMjI4ZGU0NTItYjk2ZS00MDA4LWJlYzktMGVmMDIzYzM1MWZjfGVudGl0eXxhNTc2MTk2ZC04NGQ1LTQzZTYtOTExNi1lZGY5NmIxNTJhNzF8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiNTYwNWNlNjAtNWI5Yy00NjBiLTk1NTQtZjY3ZjEwYmZlODQyXCIsXCJmcm9tXCI6XCJ0ZXh0XCIsXCJ0byBzb3VyY2VcIjpcImE1NzYxOTZkLTg0ZDUtNDNlNi05MTE2LWVkZjk2YjE1MmE3MVwiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCI1NjA1Y2U2MC01YjljLTQ2MGItOTU1NC1mNjdmMTBiZmU4NDJ8dGV4dHxhNTc2MTk2ZC04NGQ1LTQzZTYtOTExNi1lZGY5NmIxNTJhNzF8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCI5NTIxNDdjYi0wMmM4LTQzZjctODMzYi03NmNkY2VhM2U2ZDBcIixcImZyb21cIjpcImxpbmtcIixcInRvIHNvdXJjZVwiOlwiZWVjOWYwMzktMDhlNi00NmJhLWIwNGItODRkOTczNTgwOGMyXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCI5NTIxNDdjYi0wMmM4LTQzZjctODMzYi03NmNkY2VhM2U2ZDB8bGlua3xlZWM5ZjAzOS0wOGU2LTQ2YmEtYjA0Yi04NGQ5NzM1ODA4YzJ8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiOTUyMTQ3Y2ItMDJjOC00M2Y3LTgzM2ItNzZjZGNlYTNlNmQwXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiNWZmOGE0NjYtNWE1Yy00NmYyLTg1MGQtZDBmNTI2NWIxOGMyXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCI5NTIxNDdjYi0wMmM4LTQzZjctODMzYi03NmNkY2VhM2U2ZDB8ZW50aXR5fDVmZjhhNDY2LTVhNWMtNDZmMi04NTBkLWQwZjUyNjViMThjMnxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCI5NTIxNDdjYi0wMmM4LTQzZjctODMzYi03NmNkY2VhM2U2ZDBcIixcImZyb21cIjpcInR5cGVcIixcInRvIHNvdXJjZVwiOlwiNWZmOGE0NjYtNWE1Yy00NmYyLTg1MGQtZDBmNTI2NWIxOGMyXCIsXCJ0byBmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCI5NTIxNDdjYi0wMmM4LTQzZjctODMzYi03NmNkY2VhM2U2ZDB8dHlwZXw1ZmY4YTQ2Ni01YTVjLTQ2ZjItODUwZC1kMGY1MjY1YjE4YzJ8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJidWlsdGluIGVudGl0eSBsaW5rc1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn18ZW50aXR5fGJ1aWx0aW4gZW50aXR5IGxpbmtzfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gYnVpbHRpbiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9XCIsXCJmcm9tXCI6XCJsaW5rXCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCIsXCJ0byBmaWVsZFwiOlwibGlua1wiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn18bGlua3xidWlsdGluIGVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBidWlsdGluIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCIsXFxcInR5cGVcXFwiOlxcXCJ0eXBlXFxcIn1cIixcImZyb21cIjpcInR5cGVcIixcInRvIHNvdXJjZVwiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3NcIixcInRvIGZpZWxkXCI6XCJ0eXBlXCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3MgPC0tIGJ1aWx0aW4gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifXx0eXBlfGJ1aWx0aW4gZW50aXR5IGxpbmtzfHR5cGVcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgbGlua3MgPC0tIGVhdiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiZWF2IGVudGl0eSBsaW5rc1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzIDwtLSBlYXYgZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifXxlbnRpdHl8ZWF2IGVudGl0eSBsaW5rc3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJlbnRpdHkgbGlua3MgPC0tIGVhdiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9XCIsXCJmcm9tXCI6XCJsaW5rXCIsXCJ0byBzb3VyY2VcIjpcImVhdiBlbnRpdHkgbGlua3NcIixcInRvIGZpZWxkXCI6XCJsaW5rXCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3MgPC0tIGVhdiBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwiLFxcXCJ0eXBlXFxcIjpcXFwidHlwZVxcXCJ9fGxpbmt8ZWF2IGVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcImFjdGlvblwiOlwiZW50aXR5IGxpbmtzIDwtLSBlYXYgZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifVwiLFwiZnJvbVwiOlwidHlwZVwiLFwidG8gc291cmNlXCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJ0byBmaWVsZFwiOlwidHlwZVwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzIDwtLSBlYXYgZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIixcXFwidHlwZVxcXCI6XFxcInR5cGVcXFwifXx0eXBlfGVhdiBlbnRpdHkgbGlua3N8dHlwZVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3MgPC0tIGlzIGEgYXR0cmlidXRlcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwiY29sbGVjdGlvblxcXCIsXFxcInR5cGVcXFwiOltcXFwiaXMgYVxcXCJdfXxlbnRpdHl8aXMgYSBhdHRyaWJ1dGVzfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19XCIsXCJmcm9tXCI6XCJsaW5rXCIsXCJ0byBzb3VyY2VcIjpcImlzIGEgYXR0cmlidXRlc1wiLFwidG8gZmllbGRcIjpcImNvbGxlY3Rpb25cIixcIl9faWRcIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19fGxpbmt8aXMgYSBhdHRyaWJ1dGVzfGNvbGxlY3Rpb25cIn0se1wiYWN0aW9uXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn18ZW50aXR5fGJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifVwiLFwiZnJvbVwiOlwibGlua1wiLFwidG8gc291cmNlXCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3NcIixcInRvIGZpZWxkXCI6XCJsaW5rXCIsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImxpbmtcXFwifXxsaW5rfGJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc3xsaW5rXCJ9LHtcImFjdGlvblwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJlbnRpdHkgbGlua3NcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJsaW5rXFxcIjpcXFwibGlua1xcXCJ9fGVudGl0eXxlbnRpdHkgbGlua3N8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn1cIixcImZyb21cIjpcImxpbmtcIixcInRvIHNvdXJjZVwiOlwiZW50aXR5IGxpbmtzXCIsXCJ0byBmaWVsZFwiOlwibGlua1wiLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJsaW5rXFxcIn18bGlua3xlbnRpdHkgbGlua3N8bGlua1wifSx7XCJhY3Rpb25cIjpcImRpcmVjdGlvbmxlc3MgbGlua3MgPC0tIGVudGl0eSBsaW5rcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJsaW5rXFxcIixcXFwibGlua1xcXCI6XFxcImVudGl0eVxcXCJ9XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiZW50aXR5IGxpbmtzXCIsXCJ0byBmaWVsZFwiOlwibGlua1wiLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImxpbmtcXFwiLFxcXCJsaW5rXFxcIjpcXFwiZW50aXR5XFxcIn18ZW50aXR5fGVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcImFjdGlvblwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rcyA8LS0gZW50aXR5IGxpbmtzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImxpbmtcXFwiLFxcXCJsaW5rXFxcIjpcXFwiZW50aXR5XFxcIn1cIixcImZyb21cIjpcImxpbmtcIixcInRvIHNvdXJjZVwiOlwiZW50aXR5IGxpbmtzXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzIDwtLSBlbnRpdHkgbGlua3MgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwibGlua1xcXCIsXFxcImxpbmtcXFwiOlxcXCJlbnRpdHlcXFwifXxsaW5rfGVudGl0eSBsaW5rc3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn18ZW50aXR5fGJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifVwiLFwiZnJvbVwiOlwiY29sbGVjdGlvblwiLFwidG8gc291cmNlXCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXNcIixcInRvIGZpZWxkXCI6XCJjb2xsZWN0aW9uXCIsXCJfX2lkXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzIDwtLSBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwiY29sbGVjdGlvblxcXCI6XFxcImNvbGxlY3Rpb25cXFwifXxjb2xsZWN0aW9ufGJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3xjb2xsZWN0aW9uXCJ9LHtcImFjdGlvblwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJpcyBhIGF0dHJpYnV0ZXNcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXMgPC0tIGlzIGEgYXR0cmlidXRlcyA8LS0ge1xcXCJlbnRpdHlcXFwiOlxcXCJlbnRpdHlcXFwiLFxcXCJjb2xsZWN0aW9uXFxcIjpcXFwiY29sbGVjdGlvblxcXCJ9fGVudGl0eXxpcyBhIGF0dHJpYnV0ZXN8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn1cIixcImZyb21cIjpcImNvbGxlY3Rpb25cIixcInRvIHNvdXJjZVwiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJ0byBmaWVsZFwiOlwiY29sbGVjdGlvblwiLFwiX19pZFwiOlwiY29sbGVjdGlvbiBlbnRpdGllcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImNvbGxlY3Rpb25cXFwiOlxcXCJjb2xsZWN0aW9uXFxcIn18Y29sbGVjdGlvbnxpcyBhIGF0dHJpYnV0ZXN8Y29sbGVjdGlvblwifSx7XCJhY3Rpb25cIjpcImFkZTI0NWZhLWZmNjYtNDU2Yi1iNTJlLTQwMDgxNzE4MGMyOVwiLFwiZnJvbVwiOlwiY291bnRcIixcInRvIHNvdXJjZVwiOlwiMGMwMDJmNzYtNGVmOS00OGM2LTg0MjEtMzMwODQ2NTdhM2FlXCIsXCJ0byBmaWVsZFwiOlwiY291bnRcIixcIl9faWRcIjpcImFkZTI0NWZhLWZmNjYtNDU2Yi1iNTJlLTQwMDgxNzE4MGMyOXxjb3VudHwwYzAwMmY3Ni00ZWY5LTQ4YzYtODQyMS0zMzA4NDY1N2EzYWV8Y291bnRcIn0se1wiYWN0aW9uXCI6XCJhZGUyNDVmYS1mZjY2LTQ1NmItYjUyZS00MDA4MTcxODBjMjlcIixcImZyb21cIjpcImNvbGxlY3Rpb25cIixcInRvIHNvdXJjZVwiOlwiNjRjOGFlNGMtY2RlZC00NzhkLTlmNGEtN2FkMWRjNWM3MTg1XCIsXCJ0byBmaWVsZFwiOlwiY29sbGVjdGlvblwiLFwiX19pZFwiOlwiYWRlMjQ1ZmEtZmY2Ni00NTZiLWI1MmUtNDAwODE3MTgwYzI5fGNvbGxlY3Rpb258NjRjOGFlNGMtY2RlZC00NzhkLTlmNGEtN2FkMWRjNWM3MTg1fGNvbGxlY3Rpb25cIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggPC0tIGJ1aWx0aW4gc2VhcmNoIDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJ0b3BcXFwiOlxcXCJ0b3BcXFwiLFxcXCJsZWZ0XFxcIjpcXFwibGVmdFxcXCJ9XCIsXCJmcm9tXCI6XCJpZFwiLFwidG8gc291cmNlXCI6XCJidWlsdGluIHNlYXJjaFwiLFwidG8gZmllbGRcIjpcImlkXCIsXCJfX2lkXCI6XCJzZWFyY2ggPC0tIGJ1aWx0aW4gc2VhcmNoIDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJ0b3BcXFwiOlxcXCJ0b3BcXFwiLFxcXCJsZWZ0XFxcIjpcXFwibGVmdFxcXCJ9fGlkfGJ1aWx0aW4gc2VhcmNofGlkXCJ9LHtcImFjdGlvblwiOlwic2VhcmNoIDwtLSBidWlsdGluIHNlYXJjaCA8LS0ge1xcXCJpZFxcXCI6XFxcImlkXFxcIixcXFwidG9wXFxcIjpcXFwidG9wXFxcIixcXFwibGVmdFxcXCI6XFxcImxlZnRcXFwifVwiLFwiZnJvbVwiOlwidG9wXCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gc2VhcmNoXCIsXCJ0byBmaWVsZFwiOlwidG9wXCIsXCJfX2lkXCI6XCJzZWFyY2ggPC0tIGJ1aWx0aW4gc2VhcmNoIDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJ0b3BcXFwiOlxcXCJ0b3BcXFwiLFxcXCJsZWZ0XFxcIjpcXFwibGVmdFxcXCJ9fHRvcHxidWlsdGluIHNlYXJjaHx0b3BcIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggPC0tIGJ1aWx0aW4gc2VhcmNoIDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJ0b3BcXFwiOlxcXCJ0b3BcXFwiLFxcXCJsZWZ0XFxcIjpcXFwibGVmdFxcXCJ9XCIsXCJmcm9tXCI6XCJsZWZ0XCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gc2VhcmNoXCIsXCJ0byBmaWVsZFwiOlwibGVmdFwiLFwiX19pZFwiOlwic2VhcmNoIDwtLSBidWlsdGluIHNlYXJjaCA8LS0ge1xcXCJpZFxcXCI6XFxcImlkXFxcIixcXFwidG9wXFxcIjpcXFwidG9wXFxcIixcXFwibGVmdFxcXCI6XFxcImxlZnRcXFwifXxsZWZ0fGJ1aWx0aW4gc2VhcmNofGxlZnRcIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifVwiLFwiZnJvbVwiOlwiaWRcIixcInRvIHNvdXJjZVwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIixcInRvIGZpZWxkXCI6XCJpZFwiLFwiX19pZFwiOlwic2VhcmNoIHF1ZXJ5IDwtLSBidWlsdGluIHNlYXJjaCBxdWVyeSA8LS0ge1xcXCJpZFxcXCI6XFxcImlkXFxcIixcXFwic2VhcmNoXFxcIjpcXFwic2VhcmNoXFxcIn18aWR8YnVpbHRpbiBzZWFyY2ggcXVlcnl8aWRcIn0se1wiYWN0aW9uXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifVwiLFwiZnJvbVwiOlwic2VhcmNoXCIsXCJ0byBzb3VyY2VcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5XCIsXCJ0byBmaWVsZFwiOlwic2VhcmNoXCIsXCJfX2lkXCI6XCJzZWFyY2ggcXVlcnkgPC0tIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5IDwtLSB7XFxcImlkXFxcIjpcXFwiaWRcXFwiLFxcXCJzZWFyY2hcXFwiOlxcXCJzZWFyY2hcXFwifXxzZWFyY2h8YnVpbHRpbiBzZWFyY2ggcXVlcnl8c2VhcmNoXCJ9LHtcImFjdGlvblwiOlwiM2YyODgxOGYtNmUwYy00MzUyLWFmM2MtYjkwOTk5M2U2ZmNlXCIsXCJmcm9tXCI6XCJsZWZ0XCIsXCJ0byBzb3VyY2VcIjpcIjFkZjc4ZWRjLWI3ZGYtNDUyYi1hNzNjLWUyZDU5MzllYzhiOVwiLFwidG8gZmllbGRcIjpcImxlZnRcIixcIl9faWRcIjpcIjNmMjg4MThmLTZlMGMtNDM1Mi1hZjNjLWI5MDk5OTNlNmZjZXxsZWZ0fDFkZjc4ZWRjLWI3ZGYtNDUyYi1hNzNjLWUyZDU5MzllYzhiOXxsZWZ0XCJ9LHtcImFjdGlvblwiOlwiM2YyODgxOGYtNmUwYy00MzUyLWFmM2MtYjkwOTk5M2U2ZmNlXCIsXCJmcm9tXCI6XCJ0b3BcIixcInRvIHNvdXJjZVwiOlwiMWRmNzhlZGMtYjdkZi00NTJiLWE3M2MtZTJkNTkzOWVjOGI5XCIsXCJ0byBmaWVsZFwiOlwidG9wXCIsXCJfX2lkXCI6XCIzZjI4ODE4Zi02ZTBjLTQzNTItYWYzYy1iOTA5OTkzZTZmY2V8dG9wfDFkZjc4ZWRjLWI3ZGYtNDUyYi1hNzNjLWUyZDU5MzllYzhiOXx0b3BcIn0se1wiYWN0aW9uXCI6XCIzZjI4ODE4Zi02ZTBjLTQzNTItYWYzYy1iOTA5OTkzZTZmY2VcIixcImZyb21cIjpcInNlYXJjaFwiLFwidG8gc291cmNlXCI6XCIyZGIwMDQ5Ni0yZWZmLTRkMmEtYjQ4Ny00YzM3MDU4MDVjM2VcIixcInRvIGZpZWxkXCI6XCJzZWFyY2hcIixcIl9faWRcIjpcIjNmMjg4MThmLTZlMGMtNDM1Mi1hZjNjLWI5MDk5OTNlNmZjZXxzZWFyY2h8MmRiMDA0OTYtMmVmZi00ZDJhLWI0ODctNGMzNzA1ODA1YzNlfHNlYXJjaFwifSx7XCJhY3Rpb25cIjpcIjNmMjg4MThmLTZlMGMtNDM1Mi1hZjNjLWI5MDk5OTNlNmZjZVwiLFwiZnJvbVwiOlwiaWRcIixcInRvIHNvdXJjZVwiOlwiMWRmNzhlZGMtYjdkZi00NTJiLWE3M2MtZTJkNTkzOWVjOGI5XCIsXCJ0byBmaWVsZFwiOlwiaWRcIixcIl9faWRcIjpcIjNmMjg4MThmLTZlMGMtNDM1Mi1hZjNjLWI5MDk5OTNlNmZjZXxpZHwxZGY3OGVkYy1iN2RmLTQ1MmItYTczYy1lMmQ1OTM5ZWM4Yjl8aWRcIn0se1wiYWN0aW9uXCI6XCIyZGIwMDQ5Ni0yZWZmLTRkMmEtYjQ4Ny00YzM3MDU4MDVjM2VcIixcImZyb21cIjpcImlkXCIsXCJ0byBzb3VyY2VcIjpcIjFkZjc4ZWRjLWI3ZGYtNDUyYi1hNzNjLWUyZDU5MzllYzhiOVwiLFwidG8gZmllbGRcIjpcImlkXCIsXCJfX2lkXCI6XCIyZGIwMDQ5Ni0yZWZmLTRkMmEtYjQ4Ny00YzM3MDU4MDVjM2V8aWR8MWRmNzhlZGMtYjdkZi00NTJiLWE3M2MtZTJkNTkzOWVjOGI5fGlkXCJ9LHtcImFjdGlvblwiOlwiYTg1NGY3MDYtYTI1Ni00OGVjLTlkOTAtMGViMjk3YTUwZDA2XCIsXCJmcm9tXCI6XCJ1cGRhdGVcIixcInRvIHNvdXJjZVwiOlwiOWIzN2MyY2QtNTYyOC00ZDVlLThhNjktOTE2Y2E2NmNhYzg3XCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImE4NTRmNzA2LWEyNTYtNDhlYy05ZDkwLTBlYjI5N2E1MGQwNnx1cGRhdGV8OWIzN2MyY2QtNTYyOC00ZDVlLThhNjktOTE2Y2E2NmNhYzg3fHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYTg1NGY3MDYtYTI1Ni00OGVjLTlkOTAtMGViMjk3YTUwZDA2XCIsXCJmcm9tXCI6XCJyZW5kZXJcIixcInRvIHNvdXJjZVwiOlwiMGQyN2ZlMjUtYjA1ZS00NGI5LTllNDUtYWY5NmEyM2JhY2JmXCIsXCJ0byBmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImE4NTRmNzA2LWEyNTYtNDhlYy05ZDkwLTBlYjI5N2E1MGQwNnxyZW5kZXJ8MGQyN2ZlMjUtYjA1ZS00NGI5LTllNDUtYWY5NmEyM2JhY2JmfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYTg1NGY3MDYtYTI1Ni00OGVjLTlkOTAtMGViMjk3YTUwZDA2XCIsXCJmcm9tXCI6XCJwZXJmIHN0YXRzXCIsXCJ0byBzb3VyY2VcIjpcImI4NDRjYjJiLTc1MDMtNDM0Ni1iMzJkLWQ4NjE5MTc2NWE4ZlwiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJhODU0ZjcwNi1hMjU2LTQ4ZWMtOWQ5MC0wZWIyOTdhNTBkMDZ8cGVyZiBzdGF0c3xiODQ0Y2IyYi03NTAzLTQzNDYtYjMyZC1kODYxOTE3NjVhOGZ8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCI5YjQ2ZmNiNC1hZTAyLTRiOGUtYjIzYy1kNDYyYzJjNTE5YjBcIixcImZyb21cIjpcInRvcFwiLFwidG8gc291cmNlXCI6XCJkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmFcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiOWI0NmZjYjQtYWUwMi00YjhlLWIyM2MtZDQ2MmMyYzUxOWIwfHRvcHxkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmF8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCI5YjQ2ZmNiNC1hZTAyLTRiOGUtYjIzYy1kNDYyYzJjNTE5YjBcIixcImZyb21cIjpcInNlYXJjaFwiLFwidG8gc291cmNlXCI6XCJmNjAyYTIyOS04NTEyLTRjNGMtYWViYy1jMTZjNjg5MjZlOGRcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcIjliNDZmY2I0LWFlMDItNGI4ZS1iMjNjLWQ0NjJjMmM1MTliMHxzZWFyY2h8ZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImI2OTQzOTg3LWVhM2UtNGE5Yi1iMDExLWJhN2JjMjY5YTJhZVwiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImY2MDJhMjI5LTg1MTItNGM0Yy1hZWJjLWMxNmM2ODkyNmU4ZFwiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiYjY5NDM5ODctZWEzZS00YTliLWIwMTEtYmE3YmMyNjlhMmFlfGVudGl0eXxmNjAyYTIyOS04NTEyLTRjNGMtYWViYy1jMTZjNjg5MjZlOGR8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiOWI0NmZjYjQtYWUwMi00YjhlLWIyM2MtZDQ2MmMyYzUxOWIwXCIsXCJmcm9tXCI6XCJzZWFyY2ggMlwiLFwidG8gc291cmNlXCI6XCJiNjk0Mzk4Ny1lYTNlLTRhOWItYjAxMS1iYTdiYzI2OWEyYWVcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiOWI0NmZjYjQtYWUwMi00YjhlLWIyM2MtZDQ2MmMyYzUxOWIwfHNlYXJjaCAyfGI2OTQzOTg3LWVhM2UtNGE5Yi1iMDExLWJhN2JjMjY5YTJhZXx2YWx1ZVwifSx7XCJhY3Rpb25cIjpcIjliNDZmY2I0LWFlMDItNGI4ZS1iMjNjLWQ0NjJjMmM1MTliMFwiLFwiZnJvbVwiOlwibGVmdFwiLFwidG8gc291cmNlXCI6XCIwYTNkNzQxZS1kYmQ3LTRlNzAtOThhOS0xMGExNGY1YjAyZTJcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiOWI0NmZjYjQtYWUwMi00YjhlLWIyM2MtZDQ2MmMyYzUxOWIwfGxlZnR8MGEzZDc0MWUtZGJkNy00ZTcwLTk4YTktMTBhMTRmNWIwMmUyfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiMGEzZDc0MWUtZGJkNy00ZTcwLTk4YTktMTBhMTRmNWIwMmUyXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCIwYTNkNzQxZS1kYmQ3LTRlNzAtOThhOS0xMGExNGY1YjAyZTJ8ZW50aXR5fGY2MDJhMjI5LTg1MTItNGM0Yy1hZWJjLWMxNmM2ODkyNmU4ZHxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmFcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJmNjAyYTIyOS04NTEyLTRjNGMtYWViYy1jMTZjNjg5MjZlOGRcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImRjMjc1Njc2LWFkODAtNGRiMS1iM2VmLTliZmIxZjYwN2NiYXxlbnRpdHl8ZjYwMmEyMjktODUxMi00YzRjLWFlYmMtYzE2YzY4OTI2ZThkfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImE4NTRmNzA2LWEyNTYtNDhlYy05ZDkwLTBlYjI5N2E1MGQwNlwiLFwiZnJvbVwiOlwidWkgY29tcGlsZVwiLFwidG8gc291cmNlXCI6XCIzMTQwNWQ1Ny1hNWZiLTQ0YjAtYWQ5MS1hMzNkYTRlZGNhY2FcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiYTg1NGY3MDYtYTI1Ni00OGVjLTlkOTAtMGViMjk3YTUwZDA2fHVpIGNvbXBpbGV8MzE0MDVkNTctYTVmYi00NGIwLWFkOTEtYTMzZGE0ZWRjYWNhfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYTg1NGY3MDYtYTI1Ni00OGVjLTlkOTAtMGViMjk3YTUwZDA2XCIsXCJmcm9tXCI6XCJyb290XCIsXCJ0byBzb3VyY2VcIjpcImJlOWQwZjliLTYwOWEtNDAyNS05NTY4LWMxZTVkZmY5NmJjNlwiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJhODU0ZjcwNi1hMjU2LTQ4ZWMtOWQ5MC0wZWIyOTdhNTBkMDZ8cm9vdHxiZTlkMGY5Yi02MDlhLTQwMjUtOTU2OC1jMWU1ZGZmOTZiYzZ8dmFsdWVcIn0se1wiYWN0aW9uXCI6XCIyNzZhZjAxYS1jMDdkLTQ0MWUtYWE2My01NTU0OGNkZWUzNjNcIixcImZyb21cIjpcImVtcGxveWVlXCIsXCJ0byBzb3VyY2VcIjpcIjcxMjU2ZGI4LTk0ODQtNDRhOC1hYmIzLTE5YjJmMGIyZDk4M1wiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiMjc2YWYwMWEtYzA3ZC00NDFlLWFhNjMtNTU1NDhjZGVlMzYzfGVtcGxveWVlfDcxMjU2ZGI4LTk0ODQtNDRhOC1hYmIzLTE5YjJmMGIyZDk4M3xlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmRcIixcImZyb21cIjpcInJvd1wiLFwidG8gc291cmNlXCI6XCJjNThhYjFhMi0yMzk3LTRiMDctOGM4OS0xODM4NTE3MmFhNTBcIixcIl9faWRcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHxyb3d8YzU4YWIxYTItMjM5Ny00YjA3LThjODktMTgzODUxNzJhYTUwfHVuZGVmaW5lZFwifSx7XCJhY3Rpb25cIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZFwiLFwiZnJvbVwiOlwidGVtcGxhdGVcIixcInRvIHNvdXJjZVwiOlwiMjk0M2JkYTAtMTlkYi00NjYyLWI0NWUtOGZkZDQ4NGEzMWFmXCIsXCJ0byBmaWVsZFwiOlwidGVtcGxhdGVcIixcIl9faWRcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHx0ZW1wbGF0ZXwyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZ8dGVtcGxhdGVcIn0se1wiYWN0aW9uXCI6XCJhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmRcIixcImZyb21cIjpcImFjdGlvblwiLFwidG8gc291cmNlXCI6XCIyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZcIixcInRvIGZpZWxkXCI6XCJhY3Rpb25cIixcIl9faWRcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHxhY3Rpb258Mjk0M2JkYTAtMTlkYi00NjYyLWI0NWUtOGZkZDQ4NGEzMWFmfGFjdGlvblwifSx7XCJhY3Rpb25cIjpcIjY0YjM0NWY1LWZjZmYtNDFjNi05MWNhLTkxMDc2ZjM2MzFjM1wiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ0byBzb3VyY2VcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZFwiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiNjRiMzQ1ZjUtZmNmZi00MWM2LTkxY2EtOTEwNzZmMzYzMWMzfGVudGl0eXxhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmR8ZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiNjRiMzQ1ZjUtZmNmZi00MWM2LTkxY2EtOTEwNzZmMzYzMWMzXCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInRvIHNvdXJjZVwiOlwiYTQ1NzQ0Y2YtMTI4ZS00YWZkLWI5ODEtNDE2Nzg3OGY5MTZkXCIsXCJ0byBmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCI2NGIzNDVmNS1mY2ZmLTQxYzYtOTFjYS05MTA3NmYzNjMxYzN8YXR0cmlidXRlfGE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHxhdHRyaWJ1dGVcIn0se1wiYWN0aW9uXCI6XCI2NGIzNDVmNS1mY2ZmLTQxYzYtOTFjYS05MTA3NmYzNjMxYzNcIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZFwiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCI2NGIzNDVmNS1mY2ZmLTQxYzYtOTFjYS05MTA3NmYzNjMxYzN8dmFsdWV8YTQ1NzQ0Y2YtMTI4ZS00YWZkLWI5ODEtNDE2Nzg3OGY5MTZkfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiYWVlMzM0NjEtODBiZi00MTEzLWFmMGItMGMyOTBlYzE4YWYwXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiYTRlYjZkZWQtZGFmMy00MGRlLTk2MjktMTE3M2Q1ZGQ2YTU0XCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJhZWUzMzQ2MS04MGJmLTQxMTMtYWYwYi0wYzI5MGVjMThhZjB8ZW50aXR5fGE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NHxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCI3OTE1OTYyMi04ODRiLTQxMjItYTU4Ni1iMmYwODg0ZTAyMjJcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJhZWUzMzQ2MS04MGJmLTQxMTMtYWYwYi0wYzI5MGVjMThhZjBcIixcInRvIGZpZWxkXCI6XCJsaW5rXCIsXCJfX2lkXCI6XCI3OTE1OTYyMi04ODRiLTQxMjItYTU4Ni1iMmYwODg0ZTAyMjJ8ZW50aXR5fGFlZTMzNDYxLTgwYmYtNDExMy1hZjBiLTBjMjkwZWMxOGFmMHxsaW5rXCJ9LHtcImFjdGlvblwiOlwiZTAwMTE0NmItMmRmMS00MzgzLTgzM2MtZGY0MWM3MDkxZjZjXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInRvIHNvdXJjZVwiOlwiNzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlMDAxMTQ2Yi0yZGYxLTQzODMtODMzYy1kZjQxYzcwOTFmNmN8ZW50aXR5fDc5MTU5NjIyLTg4NGItNDEyMi1hNTg2LWIyZjA4ODRlMDIyMnxlbnRpdHlcIn0se1wiYWN0aW9uXCI6XCJjMjE0NzEwMS0xNmE5LTRkYTItYmJjNS03YmNiMTRhOTgwM2RcIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcImUwMDExNDZiLTJkZjEtNDM4My04MzNjLWRmNDFjNzA5MWY2Y1wiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJjMjE0NzEwMS0xNmE5LTRkYTItYmJjNS03YmNiMTRhOTgwM2R8dmFsdWV8ZTAwMTE0NmItMmRmMS00MzgzLTgzM2MtZGY0MWM3MDkxZjZjfHZhbHVlXCJ9LHtcImFjdGlvblwiOlwiNjM5MTI1Y2EtNGRiMy00MDJkLTk4MmMtYmQ1ZDdkMmZiNjAxXCIsXCJmcm9tXCI6XCJkZXBhcnRtZW50XCIsXCJ0byBzb3VyY2VcIjpcImE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NFwiLFwidG8gZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiNjM5MTI1Y2EtNGRiMy00MDJkLTk4MmMtYmQ1ZDdkMmZiNjAxfGRlcGFydG1lbnR8YTRlYjZkZWQtZGFmMy00MGRlLTk2MjktMTE3M2Q1ZGQ2YTU0fGVudGl0eVwifSx7XCJhY3Rpb25cIjpcIjYzOTEyNWNhLTRkYjMtNDAyZC05ODJjLWJkNWQ3ZDJmYjYwMVwiLFwiZnJvbVwiOlwiZW1wbG95ZWVcIixcInRvIHNvdXJjZVwiOlwiNzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyXCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCI2MzkxMjVjYS00ZGIzLTQwMmQtOTgyYy1iZDVkN2QyZmI2MDF8ZW1wbG95ZWV8NzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyfGVudGl0eVwifSx7XCJhY3Rpb25cIjpcIjYzOTEyNWNhLTRkYjMtNDAyZC05ODJjLWJkNWQ3ZDJmYjYwMVwiLFwiZnJvbVwiOlwic2FsYXJ5XCIsXCJ0byBzb3VyY2VcIjpcImUwMDExNDZiLTJkZjEtNDM4My04MzNjLWRmNDFjNzA5MWY2Y1wiLFwidG8gZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCI2MzkxMjVjYS00ZGIzLTQwMmQtOTgyYy1iZDVkN2QyZmI2MDF8c2FsYXJ5fGUwMDExNDZiLTJkZjEtNDM4My04MzNjLWRmNDFjNzA5MWY2Y3x2YWx1ZVwifSx7XCJhY3Rpb25cIjpcIjYzOTEyNWNhLTRkYjMtNDAyZC05ODJjLWJkNWQ3ZDJmYjYwMVwiLFwiZnJvbVwiOlwic3VtXCIsXCJ0byBzb3VyY2VcIjpcImMyMTQ3MTAxLTE2YTktNGRhMi1iYmM1LTdiY2IxNGE5ODAzZFwiLFwidG8gZmllbGRcIjpcInN1bVwiLFwiX19pZFwiOlwiNjM5MTI1Y2EtNGRiMy00MDJkLTk4MmMtYmQ1ZDdkMmZiNjAxfHN1bXxjMjE0NzEwMS0xNmE5LTRkYTItYmJjNS03YmNiMTRhOTgwM2R8c3VtXCJ9LHtcImFjdGlvblwiOlwiNDVmMTNjMTAtMjNmZC00YmE3LWI0MGItOTFjZjYwODE1ODA0XCIsXCJmcm9tXCI6XCJyb3dcIixcInRvIHNvdXJjZVwiOlwiNDEzZTY0N2EtZmU1Mi00ZmZlLThjMGQtZGQzM2ZkNjJlNGZjXCIsXCJfX2lkXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDR8cm93fDQxM2U2NDdhLWZlNTItNGZmZS04YzBkLWRkMzNmZDYyZTRmY3x1bmRlZmluZWRcIn0se1wiYWN0aW9uXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDRcIixcImZyb21cIjpcInRlbXBsYXRlXCIsXCJ0byBzb3VyY2VcIjpcIjZkZTNmZTk5LTdlYjItNGM5Zi1iODk1LTY1Njc2ODY3NGYzN1wiLFwidG8gZmllbGRcIjpcInRlbXBsYXRlXCIsXCJfX2lkXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDR8dGVtcGxhdGV8NmRlM2ZlOTktN2ViMi00YzlmLWI4OTUtNjU2NzY4Njc0ZjM3fHRlbXBsYXRlXCJ9LHtcImFjdGlvblwiOlwiNDVmMTNjMTAtMjNmZC00YmE3LWI0MGItOTFjZjYwODE1ODA0XCIsXCJmcm9tXCI6XCJhY3Rpb25cIixcInRvIHNvdXJjZVwiOlwiNmRlM2ZlOTktN2ViMi00YzlmLWI4OTUtNjU2NzY4Njc0ZjM3XCIsXCJ0byBmaWVsZFwiOlwiYWN0aW9uXCIsXCJfX2lkXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDR8YWN0aW9ufDZkZTNmZTk5LTdlYjItNGM5Zi1iODk1LTY1Njc2ODY3NGYzN3xhY3Rpb25cIn0se1wiYWN0aW9uXCI6XCJkNjE2ZWIyNi1jMTA2LTRjZmMtOGI2Mi05YzZkNTI2YTY4MDZcIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDRcIixcInRvIGZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImQ2MTZlYjI2LWMxMDYtNGNmYy04YjYyLTljNmQ1MjZhNjgwNnxlbnRpdHl8NDVmMTNjMTAtMjNmZC00YmE3LWI0MGItOTFjZjYwODE1ODA0fGVudGl0eVwifSx7XCJhY3Rpb25cIjpcImQ2MTZlYjI2LWMxMDYtNGNmYy04YjYyLTljNmQ1MjZhNjgwNlwiLFwiZnJvbVwiOlwiYXR0cmlidXRlXCIsXCJ0byBzb3VyY2VcIjpcIjQ1ZjEzYzEwLTIzZmQtNGJhNy1iNDBiLTkxY2Y2MDgxNTgwNFwiLFwidG8gZmllbGRcIjpcImF0dHJpYnV0ZVwiLFwiX19pZFwiOlwiZDYxNmViMjYtYzEwNi00Y2ZjLThiNjItOWM2ZDUyNmE2ODA2fGF0dHJpYnV0ZXw0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDR8YXR0cmlidXRlXCJ9LHtcImFjdGlvblwiOlwiZDYxNmViMjYtYzEwNi00Y2ZjLThiNjItOWM2ZDUyNmE2ODA2XCIsXCJmcm9tXCI6XCJ2YWx1ZVwiLFwidG8gc291cmNlXCI6XCI0NWYxM2MxMC0yM2ZkLTRiYTctYjQwYi05MWNmNjA4MTU4MDRcIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwiZDYxNmViMjYtYzEwNi00Y2ZjLThiNjItOWM2ZDUyNmE2ODA2fHZhbHVlfDQ1ZjEzYzEwLTIzZmQtNGJhNy1iNDBiLTkxY2Y2MDgxNTgwNHx2YWx1ZVwifSx7XCJhY3Rpb25cIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcImZyb21cIjpcImVudGl0eVwiLFwidG8gc291cmNlXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19XCIsXCJ0byBmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fGVudGl0eXxzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fGVudGl0eVwifSx7XCJhY3Rpb25cIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidG8gc291cmNlXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19XCIsXCJ0byBmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fGF0dHJpYnV0ZXxzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fGF0dHJpYnV0ZVwifSx7XCJhY3Rpb25cIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcImZyb21cIjpcInZhbHVlXCIsXCJ0byBzb3VyY2VcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIixcInRvIGZpZWxkXCI6XCJ2YWx1ZVwiLFwiX19pZFwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fCMge2RlcGFydG1lbnR9XFxue2RlcGFydG1lbnR9IGhhcyBhIHRvdGFsIGNvc3Qgb2Yge3RvdGFsIGNvc3Q6IHtzdW19fXx2YWx1ZXxzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19fHZhbHVlXCJ9XSxcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCI6W3tcImFjdGlvblwiOlwiNzk0NTFmMzUtODlhMi00NjcxLWExZTEtZDFhZTc4NWMxNjYzXCIsXCJmcm9tXCI6XCJ2YWx1ZVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcIjc5NDUxZjM1LTg5YTItNDY3MS1hMWUxLWQxYWU3ODVjMTY2M3x2YWx1ZXxjb250ZW50IGJsb2NrXCJ9LHtcImFjdGlvblwiOlwiOWZiZjg2MTQtYzcxYS00YTkyLWI3NTctNzE1NDJhZjlmMDU2XCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInZhbHVlXCI6XCJjb250ZW50XCIsXCJfX2lkXCI6XCI5ZmJmODYxNC1jNzFhLTRhOTItYjc1Ny03MTU0MmFmOWYwNTZ8YXR0cmlidXRlfGNvbnRlbnRcIn0se1wiYWN0aW9uXCI6XCI1YmVjOGNjNy03YzU1LTRhMjEtYjA1NS03MjhlZTkyMDJkNmFcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidmFsdWVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJfX2lkXCI6XCI1YmVjOGNjNy03YzU1LTRhMjEtYjA1NS03MjhlZTkyMDJkNmF8YXR0cmlidXRlfGFzc29jaWF0ZWQgZW50aXR5XCJ9LHtcImFjdGlvblwiOlwiNzk0NTFmMzUtODlhMi00NjcxLWExZTEtZDFhZTc4NWMxNjYzXCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInZhbHVlXCI6XCJpcyBhXCIsXCJfX2lkXCI6XCI3OTQ1MWYzNS04OWEyLTQ2NzEtYTFlMS1kMWFlNzg1YzE2NjN8YXR0cmlidXRlfGlzIGFcIn0se1wiYWN0aW9uXCI6XCI3ZGU5ZmNjNy1mYzViLTQ2MDQtOTJmZS1iOTY1NDU4OWI4NGNcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidmFsdWVcIjpcImlzIGFcIixcIl9faWRcIjpcIjdkZTlmY2M3LWZjNWItNDYwNC05MmZlLWI5NjU0NTg5Yjg0Y3xhdHRyaWJ1dGV8aXMgYVwifSx7XCJhY3Rpb25cIjpcImVudGl0eSBsaW5rcyA8LS0gaXMgYSBhdHRyaWJ1dGVzIDwtLSB7XFxcImVudGl0eVxcXCI6XFxcImVudGl0eVxcXCIsXFxcImxpbmtcXFwiOlxcXCJjb2xsZWN0aW9uXFxcIixcXFwidHlwZVxcXCI6W1xcXCJpcyBhXFxcIl19XCIsXCJmcm9tXCI6XCJ0eXBlXCIsXCJ2YWx1ZVwiOlwiaXMgYVwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzIDwtLSBpcyBhIGF0dHJpYnV0ZXMgPC0tIHtcXFwiZW50aXR5XFxcIjpcXFwiZW50aXR5XFxcIixcXFwibGlua1xcXCI6XFxcImNvbGxlY3Rpb25cXFwiLFxcXCJ0eXBlXFxcIjpbXFxcImlzIGFcXFwiXX18dHlwZXxpcyBhXCJ9LHtcImFjdGlvblwiOlwiMzE0MDVkNTctYTVmYi00NGIwLWFkOTEtYTMzZGE0ZWRjYWNhXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInZhbHVlXCI6XCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wiLFwiX19pZFwiOlwiMzE0MDVkNTctYTVmYi00NGIwLWFkOTEtYTMzZGE0ZWRjYWNhfGVudGl0eXxyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wifSx7XCJhY3Rpb25cIjpcIjMxNDA1ZDU3LWE1ZmItNDRiMC1hZDkxLWEzM2RhNGVkY2FjYVwiLFwiZnJvbVwiOlwiYXR0cmlidXRlXCIsXCJ2YWx1ZVwiOlwidWkgY29tcGlsZVwiLFwiX19pZFwiOlwiMzE0MDVkNTctYTVmYi00NGIwLWFkOTEtYTMzZGE0ZWRjYWNhfGF0dHJpYnV0ZXx1aSBjb21waWxlXCJ9LHtcImFjdGlvblwiOlwiYmU5ZDBmOWItNjA5YS00MDI1LTk1NjgtYzFlNWRmZjk2YmM2XCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInZhbHVlXCI6XCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wiLFwiX19pZFwiOlwiYmU5ZDBmOWItNjA5YS00MDI1LTk1NjgtYzFlNWRmZjk2YmM2fGVudGl0eXxyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wifSx7XCJhY3Rpb25cIjpcImJlOWQwZjliLTYwOWEtNDAyNS05NTY4LWMxZTVkZmY5NmJjNlwiLFwiZnJvbVwiOlwiYXR0cmlidXRlXCIsXCJ2YWx1ZVwiOlwicm9vdFwiLFwiX19pZFwiOlwiYmU5ZDBmOWItNjA5YS00MDI1LTk1NjgtYzFlNWRmZjk2YmM2fGF0dHJpYnV0ZXxyb290XCJ9LHtcImFjdGlvblwiOlwiYjg0NGNiMmItNzUwMy00MzQ2LWIzMmQtZDg2MTkxNzY1YThmXCIsXCJmcm9tXCI6XCJlbnRpdHlcIixcInZhbHVlXCI6XCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wiLFwiX19pZFwiOlwiYjg0NGNiMmItNzUwMy00MzQ2LWIzMmQtZDg2MTkxNzY1YThmfGVudGl0eXxyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wifSx7XCJhY3Rpb25cIjpcImI4NDRjYjJiLTc1MDMtNDM0Ni1iMzJkLWQ4NjE5MTc2NWE4ZlwiLFwiZnJvbVwiOlwiYXR0cmlidXRlXCIsXCJ2YWx1ZVwiOlwicGVyZiBzdGF0c1wiLFwiX19pZFwiOlwiYjg0NGNiMmItNzUwMy00MzQ2LWIzMmQtZDg2MTkxNzY1YThmfGF0dHJpYnV0ZXxwZXJmIHN0YXRzXCJ9LHtcImFjdGlvblwiOlwiYjY5NDM5ODctZWEzZS00YTliLWIwMTEtYmE3YmMyNjlhMmFlXCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInZhbHVlXCI6XCJzZWFyY2hcIixcIl9faWRcIjpcImI2OTQzOTg3LWVhM2UtNGE5Yi1iMDExLWJhN2JjMjY5YTJhZXxhdHRyaWJ1dGV8c2VhcmNoXCJ9LHtcImFjdGlvblwiOlwiMGEzZDc0MWUtZGJkNy00ZTcwLTk4YTktMTBhMTRmNWIwMmUyXCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInZhbHVlXCI6XCJsZWZ0XCIsXCJfX2lkXCI6XCIwYTNkNzQxZS1kYmQ3LTRlNzAtOThhOS0xMGExNGY1YjAyZTJ8YXR0cmlidXRlfGxlZnRcIn0se1wiYWN0aW9uXCI6XCJkYzI3NTY3Ni1hZDgwLTRkYjEtYjNlZi05YmZiMWY2MDdjYmFcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidmFsdWVcIjpcInRvcFwiLFwiX19pZFwiOlwiZGMyNzU2NzYtYWQ4MC00ZGIxLWIzZWYtOWJmYjFmNjA3Y2JhfGF0dHJpYnV0ZXx0b3BcIn0se1wiYWN0aW9uXCI6XCJmNjAyYTIyOS04NTEyLTRjNGMtYWViYy1jMTZjNjg5MjZlOGRcIixcImZyb21cIjpcImNvbGxlY3Rpb25cIixcInZhbHVlXCI6XCJzZWFyY2hcIixcIl9faWRcIjpcImY2MDJhMjI5LTg1MTItNGM0Yy1hZWJjLWMxNmM2ODkyNmU4ZHxjb2xsZWN0aW9ufHNlYXJjaFwifSx7XCJhY3Rpb25cIjpcIjliMzdjMmNkLTU2MjgtNGQ1ZS04YTY5LTkxNmNhNjZjYWM4N1wiLFwiZnJvbVwiOlwiZW50aXR5XCIsXCJ2YWx1ZVwiOlwicmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3NcIixcIl9faWRcIjpcIjliMzdjMmNkLTU2MjgtNGQ1ZS04YTY5LTkxNmNhNjZjYWM4N3xlbnRpdHl8cmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3NcIn0se1wiYWN0aW9uXCI6XCI5YjM3YzJjZC01NjI4LTRkNWUtOGE2OS05MTZjYTY2Y2FjODdcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidmFsdWVcIjpcInVwZGF0ZVwiLFwiX19pZFwiOlwiOWIzN2MyY2QtNTYyOC00ZDVlLThhNjktOTE2Y2E2NmNhYzg3fGF0dHJpYnV0ZXx1cGRhdGVcIn0se1wiYWN0aW9uXCI6XCIwZDI3ZmUyNS1iMDVlLTQ0YjktOWU0NS1hZjk2YTIzYmFjYmZcIixcImZyb21cIjpcImVudGl0eVwiLFwidmFsdWVcIjpcInJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzXCIsXCJfX2lkXCI6XCIwZDI3ZmUyNS1iMDVlLTQ0YjktOWU0NS1hZjk2YTIzYmFjYmZ8ZW50aXR5fHJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzXCJ9LHtcImFjdGlvblwiOlwiMGQyN2ZlMjUtYjA1ZS00NGI5LTllNDUtYWY5NmEyM2JhY2JmXCIsXCJmcm9tXCI6XCJhdHRyaWJ1dGVcIixcInZhbHVlXCI6XCJyZW5kZXJcIixcIl9faWRcIjpcIjBkMjdmZTI1LWIwNWUtNDRiOS05ZTQ1LWFmOTZhMjNiYWNiZnxhdHRyaWJ1dGV8cmVuZGVyXCJ9LHtcImFjdGlvblwiOlwiNzEyNTZkYjgtOTQ4NC00NGE4LWFiYjMtMTliMmYwYjJkOTgzXCIsXCJmcm9tXCI6XCJjb2xsZWN0aW9uXCIsXCJ2YWx1ZVwiOlwiZW1wbG95ZWVcIixcIl9faWRcIjpcIjcxMjU2ZGI4LTk0ODQtNDRhOC1hYmIzLTE5YjJmMGIyZDk4M3xjb2xsZWN0aW9ufGVtcGxveWVlXCJ9LHtcImFjdGlvblwiOlwiMjk0M2JkYTAtMTlkYi00NjYyLWI0NWUtOGZkZDQ4NGEzMWFmXCIsXCJmcm9tXCI6XCJ2aWV3XCIsXCJ2YWx1ZVwiOlwiZW1wbG95ZWVzXCIsXCJfX2lkXCI6XCIyOTQzYmRhMC0xOWRiLTQ2NjItYjQ1ZS04ZmRkNDg0YTMxYWZ8dmlld3xlbXBsb3llZXNcIn0se1wiYWN0aW9uXCI6XCJhNDU3NDRjZi0xMjhlLTRhZmQtYjk4MS00MTY3ODc4ZjkxNmRcIixcImZyb21cIjpcIm5hbWVcIixcInZhbHVlXCI6XCJlbXBsb3llZXNcIixcIl9faWRcIjpcImE0NTc0NGNmLTEyOGUtNGFmZC1iOTgxLTQxNjc4NzhmOTE2ZHxuYW1lfGVtcGxveWVlc1wifSx7XCJhY3Rpb25cIjpcImE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NFwiLFwiZnJvbVwiOlwiY29sbGVjdGlvblwiLFwidmFsdWVcIjpcImRlcGFydG1lbnRcIixcIl9faWRcIjpcImE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NHxjb2xsZWN0aW9ufGRlcGFydG1lbnRcIn0se1wiYWN0aW9uXCI6XCI3OTE1OTYyMi04ODRiLTQxMjItYTU4Ni1iMmYwODg0ZTAyMjJcIixcImZyb21cIjpcImNvbGxlY3Rpb25cIixcInZhbHVlXCI6XCJlbXBsb3llZVwiLFwiX19pZFwiOlwiNzkxNTk2MjItODg0Yi00MTIyLWE1ODYtYjJmMDg4NGUwMjIyfGNvbGxlY3Rpb258ZW1wbG95ZWVcIn0se1wiYWN0aW9uXCI6XCJlMDAxMTQ2Yi0yZGYxLTQzODMtODMzYy1kZjQxYzcwOTFmNmNcIixcImZyb21cIjpcImF0dHJpYnV0ZVwiLFwidmFsdWVcIjpcInNhbGFyeVwiLFwiX19pZFwiOlwiZTAwMTE0NmItMmRmMS00MzgzLTgzM2MtZGY0MWM3MDkxZjZjfGF0dHJpYnV0ZXxzYWxhcnlcIn0se1wiYWN0aW9uXCI6XCI2ZGUzZmU5OS03ZWIyLTRjOWYtYjg5NS02NTY3Njg2NzRmMzdcIixcImZyb21cIjpcInZpZXdcIixcInZhbHVlXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcIl9faWRcIjpcIjZkZTNmZTk5LTdlYjItNGM5Zi1iODk1LTY1Njc2ODY3NGYzN3x2aWV3fHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwifSx7XCJhY3Rpb25cIjpcIjQ1ZjEzYzEwLTIzZmQtNGJhNy1iNDBiLTkxY2Y2MDgxNTgwNFwiLFwiZnJvbVwiOlwibmFtZVwiLFwidmFsdWVcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiX19pZFwiOlwiNDVmMTNjMTAtMjNmZC00YmE3LWI0MGItOTFjZjYwODE1ODA0fG5hbWV8c3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCJ9LHtcImFjdGlvblwiOlwic3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fCMge2RlcGFydG1lbnR9XFxue2RlcGFydG1lbnR9IGhhcyBhIHRvdGFsIGNvc3Qgb2Yge3RvdGFsIGNvc3Q6IHtzdW19fVwiLFwiZnJvbVwiOlwic291cmNlIHZpZXdcIixcInZhbHVlXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcIl9faWRcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX18c291cmNlIHZpZXd8c3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCJ9XSxcImFjdGlvbiBtYXBwaW5nIHNvcnRlZFwiOlt7XCJhY3Rpb25cIjpcIjU2M2U0YjllLTgxMjItNDViNi05M2RhLTMyNWI0MTM1YTEwZFwiLFwiaXhcIjowLFwic291cmNlXCI6XCI2NGM4YWU0Yy1jZGVkLTQ3OGQtOWY0YS03YWQxZGM1YzcxODVcIixcImZpZWxkXCI6XCJjb2xsZWN0aW9uXCIsXCJkaXJlY3Rpb25cIjpcImFzY2VuZGluZ1wiLFwiX19pZFwiOlwiNTYzZTRiOWUtODEyMi00NWI2LTkzZGEtMzI1YjQxMzVhMTBkfDB8NjRjOGFlNGMtY2RlZC00NzhkLTlmNGEtN2FkMWRjNWM3MTg1fGNvbGxlY3Rpb258YXNjZW5kaW5nXCJ9LHtcImFjdGlvblwiOlwiYmUwOGZiYTQtNGZkNS00NTk2LTk1ZjItMDlkNDMwYWQ1OGJiXCIsXCJpeFwiOjAsXCJzb3VyY2VcIjpcImE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NFwiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiZGlyZWN0aW9uXCI6XCJhc2NlbmRpbmdcIixcIl9faWRcIjpcImJlMDhmYmE0LTRmZDUtNDU5Ni05NWYyLTA5ZDQzMGFkNThiYnwwfGE0ZWI2ZGVkLWRhZjMtNDBkZS05NjI5LTExNzNkNWRkNmE1NHxlbnRpdHl8YXNjZW5kaW5nXCJ9XSxcImFjdGlvbiBtYXBwaW5nIGxpbWl0XCI6W10sXCJyZWNvbXBpbGVcIjpbXSxcInVuZGVmaW5lZFwiOltdLFwibWFudWFsIGVhdlwiOlt7XCJlbnRpdHlcIjpcImZvb3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwiZm9vfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImZvb3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImZvb3xtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwiZm9vfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiZm9vXCIsXCJfX2lkXCI6XCJmb298bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8Zm9vXCJ9LHtcImVudGl0eVwiOlwiZm9vfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJGb28gaXMgYSB7aXMgYTogcGVyc29ufSB3aG8gaXMge2FnZTogMzR9IHllYXJzIG9sZC5cIixcIl9faWRcIjpcImZvb3xtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fEZvbyBpcyBhIHtpcyBhOiBwZXJzb259IHdobyBpcyB7YWdlOiAzNH0geWVhcnMgb2xkLlwifSx7XCJlbnRpdHlcIjpcInpvbWd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInpvbWd8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiem9tZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInpvbWd8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInpvbWd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ6b21nXCIsXCJfX2lkXCI6XCJ6b21nfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHpvbWdcIn0se1wiZW50aXR5XCI6XCJ6b21nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJ6b21nIGlzIGEge2lzIGE6IHBlcnNvbn0gd2hvIGlzIHthZ2U6IDI0fSB5ZWFycyBvbGQuXCIsXCJfX2lkXCI6XCJ6b21nfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8em9tZyBpcyBhIHtpcyBhOiBwZXJzb259IHdobyBpcyB7YWdlOiAyNH0geWVhcnMgb2xkLlwifSx7XCJlbnRpdHlcIjpcImVuZ2luZWVyaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJlbmdpbmVlcmluZ3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJlbmdpbmVlcmluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImVuZ2luZWVyaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJlbmdpbmVlcmluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImVuZ2luZWVyaW5nXCIsXCJfX2lkXCI6XCJlbmdpbmVlcmluZ3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxlbmdpbmVlcmluZ1wifSx7XCJlbnRpdHlcIjpcImVuZ2luZWVyaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJFbmdpbmVlcmluZyBpcyBhIHtpcyBhOiBkZXBhcnRtZW50fSBhdCB7Y29tcGFueToga29kb3dhfSwgd2hpY2ggY3VycmVudGx5IGluY2x1ZGVzOlxcblxcbntjaHJpcyBncmFuZ2VyfVxcbntqb3NoIGNvbGV9XFxue2phbWllIGJyYW5kb259XFxue2NvcmV5IG1vbnRlbGxhfVxcbntlcmljIGhvZmZtYW59XCIsXCJfX2lkXCI6XCJlbmdpbmVlcmluZ3xtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fEVuZ2luZWVyaW5nIGlzIGEge2lzIGE6IGRlcGFydG1lbnR9IGF0IHtjb21wYW55OiBrb2Rvd2F9LCB3aGljaCBjdXJyZW50bHkgaW5jbHVkZXM6XFxuXFxue2NocmlzIGdyYW5nZXJ9XFxue2pvc2ggY29sZX1cXG57amFtaWUgYnJhbmRvbn1cXG57Y29yZXkgbW9udGVsbGF9XFxue2VyaWMgaG9mZm1hbn1cIn0se1wiZW50aXR5XCI6XCJjaHJpcyBncmFuZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJjaHJpcyBncmFuZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImNocmlzIGdyYW5nZXJ8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJjaHJpcyBncmFuZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJjaHJpcyBncmFuZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiY2hyaXMgZ3JhbmdlclwiLFwiX19pZFwiOlwiY2hyaXMgZ3JhbmdlcnxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxjaHJpcyBncmFuZ2VyXCJ9LHtcImVudGl0eVwiOlwiY2hyaXMgZ3JhbmdlcnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiQ2hyaXMgR3JhbmdlciBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogMn0uXCIsXCJfX2lkXCI6XCJjaHJpcyBncmFuZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8Q2hyaXMgR3JhbmdlciBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogMn0uXCJ9LHtcImVudGl0eVwiOlwiam9zaCBjb2xlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJqb3NoIGNvbGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiam9zaCBjb2xlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiam9zaCBjb2xlfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJqb3NoIGNvbGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJqb3NoIGNvbGVcIixcIl9faWRcIjpcImpvc2ggY29sZXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxqb3NoIGNvbGVcIn0se1wiZW50aXR5XCI6XCJqb3NoIGNvbGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkpvc2ggQ29sZSBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogNH0uXCIsXCJfX2lkXCI6XCJqb3NoIGNvbGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxKb3NoIENvbGUgaXMgYW4ge2lzIGE6IGVtcGxveWVlfSBhdCB7Y29tcGFueToga29kb3dhfS5cXG5IaXMgc2FsYXJ5IGlzIHtzYWxhcnk6IDR9LlwifSx7XCJlbnRpdHlcIjpcImphbWllIGJyYW5kb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImphbWllIGJyYW5kb258bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiamFtaWUgYnJhbmRvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImphbWllIGJyYW5kb258bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImphbWllIGJyYW5kb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJqYW1pZSBicmFuZG9uXCIsXCJfX2lkXCI6XCJqYW1pZSBicmFuZG9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGphbWllIGJyYW5kb25cIn0se1wiZW50aXR5XCI6XCJqYW1pZSBicmFuZG9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJKYW1pZSBCcmFuZG9uIGlzIGFuIHtpcyBhOiBlbXBsb3llZX0gYXQge2NvbXBhbnk6IGtvZG93YX0uXFxuSGlzIHNhbGFyeSBpcyB7c2FsYXJ5OiA0fS5cIixcIl9faWRcIjpcImphbWllIGJyYW5kb258bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxKYW1pZSBCcmFuZG9uIGlzIGFuIHtpcyBhOiBlbXBsb3llZX0gYXQge2NvbXBhbnk6IGtvZG93YX0uXFxuSGlzIHNhbGFyeSBpcyB7c2FsYXJ5OiA0fS5cIn0se1wiZW50aXR5XCI6XCJjb3JleSBtb250ZWxsYXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwiY29yZXkgbW9udGVsbGF8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiY29yZXkgbW9udGVsbGF8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJjb3JleSBtb250ZWxsYXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwiY29yZXkgbW9udGVsbGF8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJjb3JleSBtb250ZWxsYVwiLFwiX19pZFwiOlwiY29yZXkgbW9udGVsbGF8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8Y29yZXkgbW9udGVsbGFcIn0se1wiZW50aXR5XCI6XCJjb3JleSBtb250ZWxsYXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiQ29yZXkgTW9udGVsbGEgaXMgYW4ge2lzIGE6IGVtcGxveWVlfSBhdCB7Y29tcGFueToga29kb3dhfS5cXG5IaXMgc2FsYXJ5IGlzIHtzYWxhcnk6IDR9LlwiLFwiX19pZFwiOlwiY29yZXkgbW9udGVsbGF8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxDb3JleSBNb250ZWxsYSBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogNH0uXCJ9LHtcImVudGl0eVwiOlwiZXJpYyBob2ZmbWFufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJlcmljIGhvZmZtYW58bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiZXJpYyBob2ZmbWFufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiZXJpYyBob2ZmbWFufG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJlcmljIGhvZmZtYW58bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJlcmljIGhvZmZtYW5cIixcIl9faWRcIjpcImVyaWMgaG9mZm1hbnxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxlcmljIGhvZmZtYW5cIn0se1wiZW50aXR5XCI6XCJlcmljIGhvZmZtYW58bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkVyaWMgSG9mZm1hbiBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogNH0uXCIsXCJfX2lkXCI6XCJlcmljIGhvZmZtYW58bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxFcmljIEhvZmZtYW4gaXMgYW4ge2lzIGE6IGVtcGxveWVlfSBhdCB7Y29tcGFueToga29kb3dhfS5cXG5IaXMgc2FsYXJ5IGlzIHtzYWxhcnk6IDR9LlwifSx7XCJlbnRpdHlcIjpcIm9wZXJhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcIm9wZXJhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwib3BlcmF0aW9uc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcIm9wZXJhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcIm9wZXJhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJvcGVyYXRpb25zXCIsXCJfX2lkXCI6XCJvcGVyYXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fG9wZXJhdGlvbnNcIn0se1wiZW50aXR5XCI6XCJvcGVyYXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJPcGVyYXRpb25zIGlzIGEge2lzIGE6IGRlcGFydG1lbnR9IGF0IHtjb21wYW55OiBrb2Rvd2F9LCB3aGljaCBpbmNsdWRlczpcXG5cXG57cm9iZXJ0IGF0dG9ycml9XCIsXCJfX2lkXCI6XCJvcGVyYXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8T3BlcmF0aW9ucyBpcyBhIHtpcyBhOiBkZXBhcnRtZW50fSBhdCB7Y29tcGFueToga29kb3dhfSwgd2hpY2ggaW5jbHVkZXM6XFxuXFxue3JvYmVydCBhdHRvcnJpfVwifSx7XCJlbnRpdHlcIjpcInJvYmVydCBhdHRvcnJpfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJyb2JlcnQgYXR0b3JyaXxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJyb2JlcnQgYXR0b3JyaXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInJvYmVydCBhdHRvcnJpfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJyb2JlcnQgYXR0b3JyaXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInJvYmVydCBhdHRvcnJpXCIsXCJfX2lkXCI6XCJyb2JlcnQgYXR0b3JyaXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxyb2JlcnQgYXR0b3JyaVwifSx7XCJlbnRpdHlcIjpcInJvYmVydCBhdHRvcnJpfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJSb2JlcnQgQXR0b3JyaSBpcyBhbiB7aXMgYTogZW1wbG95ZWV9IGF0IHtjb21wYW55OiBrb2Rvd2F9LlxcbkhpcyBzYWxhcnkgaXMge3NhbGFyeTogMn0uXCIsXCJfX2lkXCI6XCJyb2JlcnQgYXR0b3JyaXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fFJvYmVydCBBdHRvcnJpIGlzIGFuIHtpcyBhOiBlbXBsb3llZX0gYXQge2NvbXBhbnk6IGtvZG93YX0uXFxuSGlzIHNhbGFyeSBpcyB7c2FsYXJ5OiAyfS5cIn0se1wiZW50aXR5XCI6XCJtb2Rlcm4gZmFtaWx5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJtb2Rlcm4gZmFtaWx5fG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcIm1vZGVybiBmYW1pbHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJtb2Rlcm4gZmFtaWx5fG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJtb2Rlcm4gZmFtaWx5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwibW9kZXJuIGZhbWlseVwiLFwiX19pZFwiOlwibW9kZXJuIGZhbWlseXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxtb2Rlcm4gZmFtaWx5XCJ9LHtcImVudGl0eVwiOlwibW9kZXJuIGZhbWlseXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiTW9kZXJuIEZhbWlseSBpcyBhbiBBbWVyaWNhbiB0ZWxldmlzaW9uIG1vY2t1bWVudGFyeSB0aGF0IHByZW1pZXJlZCBvbiBBQkMgb24gU2VwdGVtYmVyIDIzLCAyMDA5LCB3aGljaCBmb2xsb3dzIHRoZSBsaXZlcyBvZiBKYXkgUHJpdGNoZXR0IGFuZCBoaXMgZmFtaWx5LCBhbGwgb2Ygd2hvbSBsaXZlIGluIHN1YnVyYmFuIExvcyBBbmdlbGVzLiBQcml0Y2hldHQncyBmYW1pbHkgaW5jbHVkZXMgaGlzIHNlY29uZCB3aWZlLCBoaXMgc3RlcHNvbiwgYW5kIGluZmFudCBzb24sIGFzIHdlbGwgYXMgaGlzIHR3byBhZHVsdCBjaGlsZHJlbiBhbmQgdGhlaXIgc3BvdXNlcyBhbmQgY2hpbGRyZW4uIENocmlzdG9waGVyIExsb3lkIGFuZCBTdGV2ZW4gTGV2aXRhbiBjb25jZWl2ZWQgdGhlIHNlcmllcyB3aGlsZSBzaGFyaW5nIHN0b3JpZXMgb2YgdGhlaXIgb3duIFxcXCJtb2Rlcm4gZmFtaWxpZXNcXFwiLiBNb2Rlcm4gRmFtaWx5IGVtcGxveXMgYW4gZW5zZW1ibGUgY2FzdC4gVGhlIHNlcmllcyBpcyBwcmVzZW50ZWQgaW4gbW9ja3VtZW50YXJ5IHN0eWxlLCB3aXRoIHRoZSBmaWN0aW9uYWwgY2hhcmFjdGVycyBmcmVxdWVudGx5IHRhbGtpbmcgZGlyZWN0bHkgaW50byB0aGUgY2FtZXJhLiBUaGUgc2VyaWVzIHByZW1pZXJlZCBvbiBTZXB0ZW1iZXIgMjMsIDIwMDkgYW5kIHdhcyB3YXRjaGVkIGJ5IDEyLjYgbWlsbGlvbiB2aWV3ZXJzLlxcblxcblNlYXNvbiAxIEVwaXNvZGVzXFxuMS4ge1BpbG90fVxcbjIuIHtUaGUgQmljeWNsZSBUaGllZn1cXG4zLiB7Q29tZSBGbHkgd2l0aCBNZX1cXG40LiB7VGhlIEluY2lkZW50fVxcbjUuIHtDb2FsIERpZ2dlcn1cXG42LiB7UnVuIGZvciBZb3VyIFdpZmV9XFxuNy4ge0VuIEdhcmRlfVxcbjguIHtHcmVhdCBFeHBlY3RhdGlvbnN9XCIsXCJfX2lkXCI6XCJtb2Rlcm4gZmFtaWx5fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8TW9kZXJuIEZhbWlseSBpcyBhbiBBbWVyaWNhbiB0ZWxldmlzaW9uIG1vY2t1bWVudGFyeSB0aGF0IHByZW1pZXJlZCBvbiBBQkMgb24gU2VwdGVtYmVyIDIzLCAyMDA5LCB3aGljaCBmb2xsb3dzIHRoZSBsaXZlcyBvZiBKYXkgUHJpdGNoZXR0IGFuZCBoaXMgZmFtaWx5LCBhbGwgb2Ygd2hvbSBsaXZlIGluIHN1YnVyYmFuIExvcyBBbmdlbGVzLiBQcml0Y2hldHQncyBmYW1pbHkgaW5jbHVkZXMgaGlzIHNlY29uZCB3aWZlLCBoaXMgc3RlcHNvbiwgYW5kIGluZmFudCBzb24sIGFzIHdlbGwgYXMgaGlzIHR3byBhZHVsdCBjaGlsZHJlbiBhbmQgdGhlaXIgc3BvdXNlcyBhbmQgY2hpbGRyZW4uIENocmlzdG9waGVyIExsb3lkIGFuZCBTdGV2ZW4gTGV2aXRhbiBjb25jZWl2ZWQgdGhlIHNlcmllcyB3aGlsZSBzaGFyaW5nIHN0b3JpZXMgb2YgdGhlaXIgb3duIFxcXCJtb2Rlcm4gZmFtaWxpZXNcXFwiLiBNb2Rlcm4gRmFtaWx5IGVtcGxveXMgYW4gZW5zZW1ibGUgY2FzdC4gVGhlIHNlcmllcyBpcyBwcmVzZW50ZWQgaW4gbW9ja3VtZW50YXJ5IHN0eWxlLCB3aXRoIHRoZSBmaWN0aW9uYWwgY2hhcmFjdGVycyBmcmVxdWVudGx5IHRhbGtpbmcgZGlyZWN0bHkgaW50byB0aGUgY2FtZXJhLiBUaGUgc2VyaWVzIHByZW1pZXJlZCBvbiBTZXB0ZW1iZXIgMjMsIDIwMDkgYW5kIHdhcyB3YXRjaGVkIGJ5IDEyLjYgbWlsbGlvbiB2aWV3ZXJzLlxcblxcblNlYXNvbiAxIEVwaXNvZGVzXFxuMS4ge1BpbG90fVxcbjIuIHtUaGUgQmljeWNsZSBUaGllZn1cXG4zLiB7Q29tZSBGbHkgd2l0aCBNZX1cXG40LiB7VGhlIEluY2lkZW50fVxcbjUuIHtDb2FsIERpZ2dlcn1cXG42LiB7UnVuIGZvciBZb3VyIFdpZmV9XFxuNy4ge0VuIEdhcmRlfVxcbjguIHtHcmVhdCBFeHBlY3RhdGlvbnN9XCJ9LHtcImVudGl0eVwiOlwiZ3JlYXQgZXhwZWN0YXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJncmVhdCBleHBlY3RhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiZ3JlYXQgZXhwZWN0YXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiZ3JlYXQgZXhwZWN0YXRpb25zfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJncmVhdCBleHBlY3RhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJncmVhdCBleHBlY3RhdGlvbnNcIixcIl9faWRcIjpcImdyZWF0IGV4cGVjdGF0aW9uc3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxncmVhdCBleHBlY3RhdGlvbnNcIn0se1wiZW50aXR5XCI6XCJncmVhdCBleHBlY3RhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkFuIHtpcyBhOiBlcGlzb2RlfSBvZiB7TW9kZXJuIEZhbWlseX0gd2l0aCB7RWR3YXJkIE5vcnRvbn0gaW4gaXQuXCIsXCJfX2lkXCI6XCJncmVhdCBleHBlY3RhdGlvbnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxBbiB7aXMgYTogZXBpc29kZX0gb2Yge01vZGVybiBGYW1pbHl9IHdpdGgge0Vkd2FyZCBOb3J0b259IGluIGl0LlwifSx7XCJlbnRpdHlcIjpcInBpbG90fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJwaWxvdHxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJwaWxvdHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInBpbG90fG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJwaWxvdHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInBpbG90XCIsXCJfX2lkXCI6XCJwaWxvdHxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxwaWxvdFwifSx7XCJlbnRpdHlcIjpcInBpbG90fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJUaGUgZmlyc3Qge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIixcIl9faWRcIjpcInBpbG90fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8VGhlIGZpcnN0IHtpcyBhOiBlcGlzb2RlfSBvZiB7bW9kZXJuIGZhbWlseX0uXCJ9LHtcImVudGl0eVwiOlwidGhlIGJpY3ljbGUgdGhpZWZ8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwidGhlIGJpY3ljbGUgdGhpZWZ8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwidGhlIGJpY3ljbGUgdGhpZWZcIixcIl9faWRcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHRoZSBiaWN5Y2xlIHRoaWVmXCJ9LHtcImVudGl0eVwiOlwidGhlIGJpY3ljbGUgdGhpZWZ8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIlRoZSBzZWNvbmQge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIixcIl9faWRcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8VGhlIHNlY29uZCB7aXMgYTogZXBpc29kZX0gb2Yge21vZGVybiBmYW1pbHl9LlwifSx7XCJlbnRpdHlcIjpcImNvbWUgZmx5IHdpdGggbWV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImNvbWUgZmx5IHdpdGggbWV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiY29tZSBmbHkgd2l0aCBtZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImNvbWUgZmx5IHdpdGggbWV8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImNvbWUgZmx5IHdpdGggbWV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJjb21lIGZseSB3aXRoIG1lXCIsXCJfX2lkXCI6XCJjb21lIGZseSB3aXRoIG1lfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGNvbWUgZmx5IHdpdGggbWVcIn0se1wiZW50aXR5XCI6XCJjb21lIGZseSB3aXRoIG1lfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJUaGUgdGhpcmQge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIixcIl9faWRcIjpcImNvbWUgZmx5IHdpdGggbWV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxUaGUgdGhpcmQge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIn0se1wiZW50aXR5XCI6XCJ0aGUgaW5jaWRlbnR8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInRoZSBpbmNpZGVudHxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJ0aGUgaW5jaWRlbnR8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ0aGUgaW5jaWRlbnR8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInRoZSBpbmNpZGVudHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInRoZSBpbmNpZGVudFwiLFwiX19pZFwiOlwidGhlIGluY2lkZW50fG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHRoZSBpbmNpZGVudFwifSx7XCJlbnRpdHlcIjpcInRoZSBpbmNpZGVudHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiVGhlIGZvdXJ0aCB7aXMgYTogZXBpc29kZX0gb2Yge21vZGVybiBmYW1pbHl9LlwiLFwiX19pZFwiOlwidGhlIGluY2lkZW50fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8VGhlIGZvdXJ0aCB7aXMgYTogZXBpc29kZX0gb2Yge21vZGVybiBmYW1pbHl9LlwifSx7XCJlbnRpdHlcIjpcImNvYWwgZGlnZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJjb2FsIGRpZ2dlcnxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJjb2FsIGRpZ2dlcnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImNvYWwgZGlnZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJjb2FsIGRpZ2dlcnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImNvYWwgZGlnZ2VyXCIsXCJfX2lkXCI6XCJjb2FsIGRpZ2dlcnxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxjb2FsIGRpZ2dlclwifSx7XCJlbnRpdHlcIjpcImNvYWwgZGlnZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJUaGUgZmlmdGgge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIixcIl9faWRcIjpcImNvYWwgZGlnZ2VyfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8VGhlIGZpZnRoIHtpcyBhOiBlcGlzb2RlfSBvZiB7bW9kZXJuIGZhbWlseX0uXCJ9LHtcImVudGl0eVwiOlwicnVuIGZvciB5b3VyIHdpZmV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInJ1biBmb3IgeW91ciB3aWZlfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInJ1biBmb3IgeW91ciB3aWZlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwicnVuIGZvciB5b3VyIHdpZmV8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInJ1biBmb3IgeW91ciB3aWZlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwicnVuIGZvciB5b3VyIHdpZmVcIixcIl9faWRcIjpcInJ1biBmb3IgeW91ciB3aWZlfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHJ1biBmb3IgeW91ciB3aWZlXCJ9LHtcImVudGl0eVwiOlwicnVuIGZvciB5b3VyIHdpZmV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIlRoZSBzaXh0aCB7aXMgYTogZXBpc29kZX0gb2Yge21vZGVybiBmYW1pbHl9LlwiLFwiX19pZFwiOlwicnVuIGZvciB5b3VyIHdpZmV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxUaGUgc2l4dGgge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIn0se1wiZW50aXR5XCI6XCJlbiBnYXJkZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwiZW4gZ2FyZGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiZW4gZ2FyZGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJlbiBnYXJkZXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwiZW4gZ2FyZGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJlbiBnYXJkZVwiLFwiX19pZFwiOlwiZW4gZ2FyZGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8ZW4gZ2FyZGVcIn0se1wiZW50aXR5XCI6XCJlbiBnYXJkZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiVGhlIHNldmVudGgge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIixcIl9faWRcIjpcImVuIGdhcmRlfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8VGhlIHNldmVudGgge2lzIGE6IGVwaXNvZGV9IG9mIHttb2Rlcm4gZmFtaWx5fS5cIn0se1wiZW50aXR5XCI6XCJlZHdhcmQgbm9ydG9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJlZHdhcmQgbm9ydG9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImVkd2FyZCBub3J0b258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJlZHdhcmQgbm9ydG9ufG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJlZHdhcmQgbm9ydG9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiZWR3YXJkIG5vcnRvblwiLFwiX19pZFwiOlwiZWR3YXJkIG5vcnRvbnxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxlZHdhcmQgbm9ydG9uXCJ9LHtcImVudGl0eVwiOlwiZWR3YXJkIG5vcnRvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiRWR3YXJkIEhhcnJpc29uIE5vcnRvbiAoYm9ybiBBdWd1c3QgMTgsIDE5NjkpIGlzIGFuIHtpcyBhOiBBbWVyaWNhbn0ge2lzIGE6IGFjdG9yfSwgZmlsbW1ha2VyIGFuZCBhY3RpdmlzdC4gSGUgd2FzIG5vbWluYXRlZCBmb3IgdGhyZWUgQWNhZGVteSBBd2FyZHMgZm9yIGhpcyB3b3JrIGluIHRoZSBmaWxtcyBQcmltYWwgRmVhciAoMTk5NiksIEFtZXJpY2FuIEhpc3RvcnkgWCAoMTk5OCkgYW5kIEJpcmRtYW4gKDIwMTQpLiBIZSBhbHNvIHN0YXJyZWQgaW4gb3RoZXIgcm9sZXMsIHN1Y2ggYXMgRXZlcnlvbmUgU2F5cyBJIExvdmUgWW91ICgxOTk2KSwgVGhlIFBlb3BsZSB2cy4gTGFycnkgRmx5bnQgKDE5OTYpLCBGaWdodCBDbHViICgxOTk5KSwgUmVkIERyYWdvbiAoMjAwMiksIDI1dGggSG91ciAoMjAwMiksIEtpbmdkb20gb2YgSGVhdmVuICgyMDA1KSwgVGhlIElsbHVzaW9uaXN0ICgyMDA2KSwgTW9vbnJpc2UgS2luZ2RvbSAoMjAxMikgYW5kIFRoZSBHcmFuZCBCdWRhcGVzdCBIb3RlbCAoMjAxNCkuIEhlIGhhcyBhbHNvIGRpcmVjdGVkIGFuZCBjby13cml0dGVuIGZpbG1zLCBpbmNsdWRpbmcgaGlzIGRpcmVjdG9yaWFsIGRlYnV0LCBLZWVwaW5nIHRoZSBGYWl0aCAoMjAwMCkuIEhlIGhhcyBkb25lIHVuY3JlZGl0ZWQgd29yayBvbiB0aGUgc2NyaXB0cyBmb3IgVGhlIFNjb3JlLCBGcmlkYSBhbmQgVGhlIEluY3JlZGlibGUgSHVsay5cXG5cXG5IZSBpcyB7YWdlOiA0Nn0geWVhcnMgb2xkLlwiLFwiX19pZFwiOlwiZWR3YXJkIG5vcnRvbnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fEVkd2FyZCBIYXJyaXNvbiBOb3J0b24gKGJvcm4gQXVndXN0IDE4LCAxOTY5KSBpcyBhbiB7aXMgYTogQW1lcmljYW59IHtpcyBhOiBhY3Rvcn0sIGZpbG1tYWtlciBhbmQgYWN0aXZpc3QuIEhlIHdhcyBub21pbmF0ZWQgZm9yIHRocmVlIEFjYWRlbXkgQXdhcmRzIGZvciBoaXMgd29yayBpbiB0aGUgZmlsbXMgUHJpbWFsIEZlYXIgKDE5OTYpLCBBbWVyaWNhbiBIaXN0b3J5IFggKDE5OTgpIGFuZCBCaXJkbWFuICgyMDE0KS4gSGUgYWxzbyBzdGFycmVkIGluIG90aGVyIHJvbGVzLCBzdWNoIGFzIEV2ZXJ5b25lIFNheXMgSSBMb3ZlIFlvdSAoMTk5NiksIFRoZSBQZW9wbGUgdnMuIExhcnJ5IEZseW50ICgxOTk2KSwgRmlnaHQgQ2x1YiAoMTk5OSksIFJlZCBEcmFnb24gKDIwMDIpLCAyNXRoIEhvdXIgKDIwMDIpLCBLaW5nZG9tIG9mIEhlYXZlbiAoMjAwNSksIFRoZSBJbGx1c2lvbmlzdCAoMjAwNiksIE1vb25yaXNlIEtpbmdkb20gKDIwMTIpIGFuZCBUaGUgR3JhbmQgQnVkYXBlc3QgSG90ZWwgKDIwMTQpLiBIZSBoYXMgYWxzbyBkaXJlY3RlZCBhbmQgY28td3JpdHRlbiBmaWxtcywgaW5jbHVkaW5nIGhpcyBkaXJlY3RvcmlhbCBkZWJ1dCwgS2VlcGluZyB0aGUgRmFpdGggKDIwMDApLiBIZSBoYXMgZG9uZSB1bmNyZWRpdGVkIHdvcmsgb24gdGhlIHNjcmlwdHMgZm9yIFRoZSBTY29yZSwgRnJpZGEgYW5kIFRoZSBJbmNyZWRpYmxlIEh1bGsuXFxuXFxuSGUgaXMge2FnZTogNDZ9IHllYXJzIG9sZC5cIn0se1wiZW50aXR5XCI6XCJ2aW4gZGllc2VsfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJ2aW4gZGllc2VsfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInZpbiBkaWVzZWx8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ2aW4gZGllc2VsfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJ2aW4gZGllc2VsfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwidmluIGRpZXNlbFwiLFwiX19pZFwiOlwidmluIGRpZXNlbHxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXx2aW4gZGllc2VsXCJ9LHtcImVudGl0eVwiOlwidmluIGRpZXNlbHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiTWFyayBTaW5jbGFpciAoYm9ybiBKdWx5IDE4LCAxOTY3KSwgYmV0dGVyIGtub3duIGJ5IGhpcyBzdGFnZSBuYW1lIFZpbiBEaWVzZWwsIGlzIGFuIHtpcyBhOiBBbWVyaWNhbn0ge2lzIGE6IGFjdG9yfS4gSGUgaXMgYmVzdCBrbm93biBmb3IgaGlzIHBvcnRyYXlhbHMgb2YgRG9taW5pYyBUb3JldHRvIGluIFRoZSBGYXN0IGFuZCB0aGUgRnVyaW91cyBmaWxtIHNlcmllcyBhbmQgUmljaGFyZCBCLiBSaWRkaWNrIGluIFRoZSBDaHJvbmljbGVzIG9mIFJpZGRpY2sgdHJpbG9neS4gSGUgYWxzbyB3YXMgYSBwcm9kdWNlciBvbiBzZXF1ZWxzIGluIGJvdGggZnJhbmNoaXNlcy5cXG5EaWVzZWwgaGFzIGFsc28gc3RhcnJlZCBpbiBmaWxtcyBzdWNoIGFzIHhYeCAoMjAwMikgYW5kIEZpbmQgTWUgR3VpbHR5ICgyMDA2KS4gSGlzIHZvaWNlIGFjdGluZyB3b3JrIGluY2x1ZGVzIFRoZSBJcm9uIEdpYW50ICgxOTk5KSwgdGhlIHZpZGVvIGdhbWUgc3Bpbi1vZmZzIGZyb20gVGhlIENocm9uaWNsZXMgb2YgUmlkZGljayBmcmFuY2hpc2UsIGFuZCBHdWFyZGlhbnMgb2YgdGhlIEdhbGF4eSAoMjAxNCkuIEhlIHdyb3RlLCBkaXJlY3RlZCwgcHJvZHVjZWQsIGFuZCBzdGFycmVkIGluIGEgc2hvcnQgZmlsbSB0aXRsZWQgTXVsdGktRmFjaWFsIGFuZCB0aGUgZmVhdHVyZS1sZW5ndGggZHJhbWEgZmlsbSBTdHJheXMuIEhlIGlzIHRoZSBmb3VuZGVyIG9mIHRoZSBwcm9kdWN0aW9uIGNvbXBhbmllcyBPbmUgUmFjZSBGaWxtcywgUmFjZXRyYWNrIFJlY29yZHMsIGFuZCBUaWdvbiBTdHVkaW9zLlwiLFwiX19pZFwiOlwidmluIGRpZXNlbHxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fE1hcmsgU2luY2xhaXIgKGJvcm4gSnVseSAxOCwgMTk2NyksIGJldHRlciBrbm93biBieSBoaXMgc3RhZ2UgbmFtZSBWaW4gRGllc2VsLCBpcyBhbiB7aXMgYTogQW1lcmljYW59IHtpcyBhOiBhY3Rvcn0uIEhlIGlzIGJlc3Qga25vd24gZm9yIGhpcyBwb3J0cmF5YWxzIG9mIERvbWluaWMgVG9yZXR0byBpbiBUaGUgRmFzdCBhbmQgdGhlIEZ1cmlvdXMgZmlsbSBzZXJpZXMgYW5kIFJpY2hhcmQgQi4gUmlkZGljayBpbiBUaGUgQ2hyb25pY2xlcyBvZiBSaWRkaWNrIHRyaWxvZ3kuIEhlIGFsc28gd2FzIGEgcHJvZHVjZXIgb24gc2VxdWVscyBpbiBib3RoIGZyYW5jaGlzZXMuXFxuRGllc2VsIGhhcyBhbHNvIHN0YXJyZWQgaW4gZmlsbXMgc3VjaCBhcyB4WHggKDIwMDIpIGFuZCBGaW5kIE1lIEd1aWx0eSAoMjAwNikuIEhpcyB2b2ljZSBhY3Rpbmcgd29yayBpbmNsdWRlcyBUaGUgSXJvbiBHaWFudCAoMTk5OSksIHRoZSB2aWRlbyBnYW1lIHNwaW4tb2ZmcyBmcm9tIFRoZSBDaHJvbmljbGVzIG9mIFJpZGRpY2sgZnJhbmNoaXNlLCBhbmQgR3VhcmRpYW5zIG9mIHRoZSBHYWxheHkgKDIwMTQpLiBIZSB3cm90ZSwgZGlyZWN0ZWQsIHByb2R1Y2VkLCBhbmQgc3RhcnJlZCBpbiBhIHNob3J0IGZpbG0gdGl0bGVkIE11bHRpLUZhY2lhbCBhbmQgdGhlIGZlYXR1cmUtbGVuZ3RoIGRyYW1hIGZpbG0gU3RyYXlzLiBIZSBpcyB0aGUgZm91bmRlciBvZiB0aGUgcHJvZHVjdGlvbiBjb21wYW5pZXMgT25lIFJhY2UgRmlsbXMsIFJhY2V0cmFjayBSZWNvcmRzLCBhbmQgVGlnb24gU3R1ZGlvcy5cIn0se1wiZW50aXR5XCI6XCJveWFrbyBkb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcIm95YWtvIGRvbnxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJveWFrbyBkb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJveWFrbyBkb258bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcIm95YWtvIGRvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcIm95YWtvIGRvblwiLFwiX19pZFwiOlwib3lha28gZG9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fG95YWtvIGRvblwifSx7XCJlbnRpdHlcIjpcIm95YWtvIGRvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiT3lha29kb24gKOimquWtkOS4vCksIGxpdGVyYWxseSAncGFyZW50LWFuZC1jaGlsZCBkb25idXJpJywgaXMgYSBkb25idXJpLCBvciBKYXBhbmVzZSByaWNlIGJvd2wgZGlzaCwgaW4gd2hpY2gge2NoaWNrZW59LCB7ZWdnfSwgc2xpY2VkIHtzY2FsbGlvbn0gKG9yIHNvbWV0aW1lcyByZWd1bGFyIG9uaW9ucyksIGFuZCBvdGhlciBpbmdyZWRpZW50cyBhcmUgYWxsIHNpbW1lcmVkIHRvZ2V0aGVyIGluIGEgc2F1Y2UgYW5kIHRoZW4gc2VydmVkIG9uIHRvcCBvZiBhIGxhcmdlIGJvd2wgb2Yge3JpY2V9LiBUaGUgbmFtZSBvZiB0aGUgZGlzaCBpcyBhIHBvZXRpYyByZWZsZWN0aW9uIG9mIHRoZSBmYWN0IHRoYXQgYm90aCB7Y2hpY2tlbn0gYW5kIHtlZ2d9IGFyZSB1c2VkIGluIHRoZSB7aXMgYTogZGlzaH0uXFxuXFxuT3lha28gZG9uIGlzIHR5cGljYWxseSB7aXMgYTogc2F2b3J5fS5cIixcIl9faWRcIjpcIm95YWtvIGRvbnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fE95YWtvZG9uICjopqrlrZDkuLwpLCBsaXRlcmFsbHkgJ3BhcmVudC1hbmQtY2hpbGQgZG9uYnVyaScsIGlzIGEgZG9uYnVyaSwgb3IgSmFwYW5lc2UgcmljZSBib3dsIGRpc2gsIGluIHdoaWNoIHtjaGlja2VufSwge2VnZ30sIHNsaWNlZCB7c2NhbGxpb259IChvciBzb21ldGltZXMgcmVndWxhciBvbmlvbnMpLCBhbmQgb3RoZXIgaW5ncmVkaWVudHMgYXJlIGFsbCBzaW1tZXJlZCB0b2dldGhlciBpbiBhIHNhdWNlIGFuZCB0aGVuIHNlcnZlZCBvbiB0b3Agb2YgYSBsYXJnZSBib3dsIG9mIHtyaWNlfS4gVGhlIG5hbWUgb2YgdGhlIGRpc2ggaXMgYSBwb2V0aWMgcmVmbGVjdGlvbiBvZiB0aGUgZmFjdCB0aGF0IGJvdGgge2NoaWNrZW59IGFuZCB7ZWdnfSBhcmUgdXNlZCBpbiB0aGUge2lzIGE6IGRpc2h9Llxcblxcbk95YWtvIGRvbiBpcyB0eXBpY2FsbHkge2lzIGE6IHNhdm9yeX0uXCJ9LHtcImVudGl0eVwiOlwiY2hpY2tlbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwiY2hpY2tlbnxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJjaGlja2VufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiY2hpY2tlbnxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwiY2hpY2tlbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImNoaWNrZW5cIixcIl9faWRcIjpcImNoaWNrZW58bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8Y2hpY2tlblwifSx7XCJlbnRpdHlcIjpcImNoaWNrZW58bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkNoaWNrZW4gaXMgYSB7aXMgYTogbWVhdH0gdXNlZCBhcyBhbiB7aXMgYTogaW5ncmVkaWVudH0uXCIsXCJfX2lkXCI6XCJjaGlja2VufG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8Q2hpY2tlbiBpcyBhIHtpcyBhOiBtZWF0fSB1c2VkIGFzIGFuIHtpcyBhOiBpbmdyZWRpZW50fS5cIn0se1wiZW50aXR5XCI6XCJlZ2d8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImVnZ3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJlZ2d8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJlZ2d8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImVnZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImVnZ1wiLFwiX19pZFwiOlwiZWdnfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGVnZ1wifSx7XCJlbnRpdHlcIjpcImVnZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiSXMgYW4ge2lzIGE6IGluZ3JlZGllbnR9LlwiLFwiX19pZFwiOlwiZWdnfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8SXMgYW4ge2lzIGE6IGluZ3JlZGllbnR9LlwifSx7XCJlbnRpdHlcIjpcInJpY2V8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInJpY2V8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwicmljZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInJpY2V8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInJpY2V8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJyaWNlXCIsXCJfX2lkXCI6XCJyaWNlfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHJpY2VcIn0se1wiZW50aXR5XCI6XCJyaWNlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJSaWNlIGlzIGEge2lzIGE6IGdyYWlufSB1c2VkIGFzIGFuIHtpcyBhOiBpbmdyZWRpZW50fSBpbiB2aXJ0dWFsbHkgZXZlcnkga2luZCBvZiBjdWlzaW5lLlwiLFwiX19pZFwiOlwicmljZXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fFJpY2UgaXMgYSB7aXMgYTogZ3JhaW59IHVzZWQgYXMgYW4ge2lzIGE6IGluZ3JlZGllbnR9IGluIHZpcnR1YWxseSBldmVyeSBraW5kIG9mIGN1aXNpbmUuXCJ9LHtcImVudGl0eVwiOlwic2NhbGxpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInNjYWxsaW9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInNjYWxsaW9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwic2NhbGxpb258bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInNjYWxsaW9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwic2NhbGxpb25cIixcIl9faWRcIjpcInNjYWxsaW9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHNjYWxsaW9uXCJ9LHtcImVudGl0eVwiOlwic2NhbGxpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkFsc28ga25vd24gYXMgJ2dyZWVuIG9uaW9uLCcgc2NhbGlvbnMgYXJlIGEge2lzIGE6IHZlZ2V0YWJsZX0gdXNlZCBhcyBhbiB7aXMgYTogaW5ncmVkaWVudH0uXCIsXCJfX2lkXCI6XCJzY2FsbGlvbnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fEFsc28ga25vd24gYXMgJ2dyZWVuIG9uaW9uLCcgc2NhbGlvbnMgYXJlIGEge2lzIGE6IHZlZ2V0YWJsZX0gdXNlZCBhcyBhbiB7aXMgYTogaW5ncmVkaWVudH0uXCJ9LHtcImVudGl0eVwiOlwiYXBwbGUgcGllfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJhcHBsZSBwaWV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiYXBwbGUgcGllfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiYXBwbGUgcGllfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJhcHBsZSBwaWV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJhcHBsZSBwaWVcIixcIl9faWRcIjpcImFwcGxlIHBpZXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxhcHBsZSBwaWVcIn0se1wiZW50aXR5XCI6XCJhcHBsZSBwaWV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIkFuIGFwcGxlIHBpZSBpcyBhIGZydWl0IHtpcyBhOiBwaWV9IGluIHdoaWNoIHRoZSBwcmluY2lwYWwgZmlsbGluZyBpbmdyZWRpZW50IGlzIHthcHBsZX0uIEl0IGlzLCBvbiBvY2Nhc2lvbiwgc2VydmVkIHdpdGgge3doaXBwZWQgY3JlYW19IG9yIHtpY2UgY3JlYW19IG9uIHRvcCwgb3IgYWxvbmdzaWRlIHtjaGVkZGFyIGNoZWVzZX0uIFRoZSB7aXMgYTogcGFzdHJ5fSBpcyBnZW5lcmFsbHkgdXNlZCB0b3AtYW5kLWJvdHRvbSwgbWFraW5nIGl0IGEgZG91YmxlLWNydXN0IHBpZSwgdGhlIHVwcGVyIGNydXN0IG9mIHdoaWNoIG1heSBiZSBhIGNpcmN1bGFyIHNoYXBlZCBjcnVzdCBvciBhIHBhc3RyeSBsYXR0aWNlIHdvdmVuIG9mIHN0cmlwczsgZXhjZXB0aW9ucyBhcmUgZGVlcC1kaXNoIGFwcGxlIHBpZSB3aXRoIGEgdG9wIGNydXN0IG9ubHksIGFuZCBvcGVuLWZhY2Uge1RhcnRlIFRhdGlufS5cXG5cXG5BcHBsZSBwaWUgaXMgdHlwaWNhbGx5IGEge2lzIGE6IHN3ZWV0fSB7aXMgYTogZGlzaH0gYW5kIGlzIHNlcnZlZCBhcyB7aXMgYTogZGVzc2VydH0uXCIsXCJfX2lkXCI6XCJhcHBsZSBwaWV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxBbiBhcHBsZSBwaWUgaXMgYSBmcnVpdCB7aXMgYTogcGllfSBpbiB3aGljaCB0aGUgcHJpbmNpcGFsIGZpbGxpbmcgaW5ncmVkaWVudCBpcyB7YXBwbGV9LiBJdCBpcywgb24gb2NjYXNpb24sIHNlcnZlZCB3aXRoIHt3aGlwcGVkIGNyZWFtfSBvciB7aWNlIGNyZWFtfSBvbiB0b3AsIG9yIGFsb25nc2lkZSB7Y2hlZGRhciBjaGVlc2V9LiBUaGUge2lzIGE6IHBhc3RyeX0gaXMgZ2VuZXJhbGx5IHVzZWQgdG9wLWFuZC1ib3R0b20sIG1ha2luZyBpdCBhIGRvdWJsZS1jcnVzdCBwaWUsIHRoZSB1cHBlciBjcnVzdCBvZiB3aGljaCBtYXkgYmUgYSBjaXJjdWxhciBzaGFwZWQgY3J1c3Qgb3IgYSBwYXN0cnkgbGF0dGljZSB3b3ZlbiBvZiBzdHJpcHM7IGV4Y2VwdGlvbnMgYXJlIGRlZXAtZGlzaCBhcHBsZSBwaWUgd2l0aCBhIHRvcCBjcnVzdCBvbmx5LCBhbmQgb3Blbi1mYWNlIHtUYXJ0ZSBUYXRpbn0uXFxuXFxuQXBwbGUgcGllIGlzIHR5cGljYWxseSBhIHtpcyBhOiBzd2VldH0ge2lzIGE6IGRpc2h9IGFuZCBpcyBzZXJ2ZWQgYXMge2lzIGE6IGRlc3NlcnR9LlwifSx7XCJlbnRpdHlcIjpcImFwcGxlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJhcHBsZXxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJhcHBsZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImFwcGxlfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJhcHBsZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImFwcGxlXCIsXCJfX2lkXCI6XCJhcHBsZXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxhcHBsZVwifSx7XCJlbnRpdHlcIjpcImFwcGxlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJJcyBhIHtpcyBhOiBmcnVpdH0gYW5kIHtpcyBhOiBpbmdyZWRpZW50fVwiLFwiX19pZFwiOlwiYXBwbGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHxJcyBhIHtpcyBhOiBmcnVpdH0gYW5kIHtpcyBhOiBpbmdyZWRpZW50fVwifSx7XCJlbnRpdHlcIjpcIm15IGNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcIm15IGNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwibXkgY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcIm15IGNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcIm15IGNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJteSBjb2xsZWN0aW9uXCIsXCJfX2lkXCI6XCJteSBjb2xsZWN0aW9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fG15IGNvbGxlY3Rpb25cIn0se1wiZW50aXR5XCI6XCJteSBjb2xsZWN0aW9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCJEaXNoZXM6IHtveWFrbyBkb259LCB7YXBwbGUgcGllfVwiLFwiX19pZFwiOlwibXkgY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fERpc2hlczoge295YWtvIGRvbn0sIHthcHBsZSBwaWV9XCJ9LHtcImVudGl0eVwiOlwia29kb3dhfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJrb2Rvd2F8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwia29kb3dhfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwia29kb3dhfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJrb2Rvd2F8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJrb2Rvd2FcIixcIl9faWRcIjpcImtvZG93YXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxrb2Rvd2FcIn0se1wiZW50aXR5XCI6XCJrb2Rvd2F8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIlRoZSBjb21wYW55IGJlaGluZCB7RXZlfS5cIixcIl9faWRcIjpcImtvZG93YXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fFRoZSBjb21wYW55IGJlaGluZCB7RXZlfS5cIn0se1wiZW50aXR5XCI6XCJtYW51YWwgZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJtYW51YWwgZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcIm1hbnVhbCBlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJtYW51YWwgZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJtYW51YWwgZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwibWFudWFsIGVudGl0eVwiLFwiX19pZFwiOlwibWFudWFsIGVudGl0eXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxtYW51YWwgZW50aXR5XCJ9LHtcImVudGl0eVwiOlwibWFudWFsIGVudGl0eXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBtYW51YWwgZW50aXR5XFxuTWFudWFsIEVudGl0eSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogZW50aXR5XFxuKiBjb250ZW50XFxuXCIsXCJfX2lkXCI6XCJtYW51YWwgZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBtYW51YWwgZW50aXR5XFxuTWFudWFsIEVudGl0eSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogZW50aXR5XFxuKiBjb250ZW50XFxuXCJ9LHtcImVudGl0eVwiOlwibWFudWFsIGVhdnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwibWFudWFsIGVhdnxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJtYW51YWwgZWF2fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwibWFudWFsIGVhdnxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwibWFudWFsIGVhdnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcIm1hbnVhbCBlYXZcIixcIl9faWRcIjpcIm1hbnVhbCBlYXZ8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8bWFudWFsIGVhdlwifSx7XCJlbnRpdHlcIjpcIm1hbnVhbCBlYXZ8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgbWFudWFsIGVhdlxcbk1hbnVhbCBFYXYgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwiLFwiX19pZFwiOlwibWFudWFsIGVhdnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgbWFudWFsIGVhdlxcbk1hbnVhbCBFYXYgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcImFjdGlvbiBlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImFjdGlvbiBlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiYWN0aW9uIGVudGl0eXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImFjdGlvbiBlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImFjdGlvbiBlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJhY3Rpb24gZW50aXR5XCIsXCJfX2lkXCI6XCJhY3Rpb24gZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGFjdGlvbiBlbnRpdHlcIn0se1wiZW50aXR5XCI6XCJhY3Rpb24gZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGFjdGlvbiBlbnRpdHlcXG5BY3Rpb24gRW50aXR5IGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGNvbnRlbnRcXG4qIHNvdXJjZVxcblwiLFwiX19pZFwiOlwiYWN0aW9uIGVudGl0eXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgYWN0aW9uIGVudGl0eVxcbkFjdGlvbiBFbnRpdHkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogY29udGVudFxcbiogc291cmNlXFxuXCJ9LHtcImVudGl0eVwiOlwiY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJjb2xsZWN0aW9ufG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwiY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImNvbGxlY3Rpb25cIixcIl9faWRcIjpcImNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8Y29sbGVjdGlvblwifSx7XCJlbnRpdHlcIjpcImNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgY29sbGVjdGlvblxcbkNvbGxlY3Rpb24gaXMgYSAgIHtpcyBhOiBzeXN0ZW19LlxcblwiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgY29sbGVjdGlvblxcbkNvbGxlY3Rpb24gaXMgYSAgIHtpcyBhOiBzeXN0ZW19LlxcblwifSx7XCJlbnRpdHlcIjpcInN5c3RlbXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwic3lzdGVtfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInN5c3RlbXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInN5c3RlbXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwic3lzdGVtfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwic3lzdGVtXCIsXCJfX2lkXCI6XCJzeXN0ZW18bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8c3lzdGVtXCJ9LHtcImVudGl0eVwiOlwic3lzdGVtfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHN5c3RlbVxcblN5c3RlbSBpcyBhICAge2lzIGE6IGNvbGxlY3Rpb259LlxcblwiLFwiX19pZFwiOlwic3lzdGVtfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBzeXN0ZW1cXG5TeXN0ZW0gaXMgYSAgIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIn0se1wiZW50aXR5XCI6XCJ1bmlvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidW5pb258bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidW5pb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ1bmlvbnxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidW5pb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1bmlvblwiLFwiX19pZFwiOlwidW5pb258bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dW5pb25cIn0se1wiZW50aXR5XCI6XCJ1bmlvbnxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB1bmlvblxcblVuaW9uIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIixcIl9faWRcIjpcInVuaW9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1bmlvblxcblVuaW9uIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIn0se1wiZW50aXR5XCI6XCJxdWVyeXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwicXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwicXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJxdWVyeXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwicXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJxdWVyeVwiLFwiX19pZFwiOlwicXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8cXVlcnlcIn0se1wiZW50aXR5XCI6XCJxdWVyeXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBxdWVyeVxcblF1ZXJ5IGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIixcIl9faWRcIjpcInF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBxdWVyeVxcblF1ZXJ5IGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIn0se1wiZW50aXR5XCI6XCJ0YWJsZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidGFibGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidGFibGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ0YWJsZXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidGFibGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ0YWJsZVwiLFwiX19pZFwiOlwidGFibGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dGFibGVcIn0se1wiZW50aXR5XCI6XCJ0YWJsZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB0YWJsZVxcblRhYmxlIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIixcIl9faWRcIjpcInRhYmxlfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB0YWJsZVxcblRhYmxlIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIn0se1wiZW50aXR5XCI6XCJ1aXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWl8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ1aXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aVwiLFwiX19pZFwiOlwidWl8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWlcIn0se1wiZW50aXR5XCI6XCJ1aXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB1aVxcblVpIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIixcIl9faWRcIjpcInVpfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1aVxcblVpIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBjb2xsZWN0aW9ufS5cXG5cIn0se1wiZW50aXR5XCI6XCJlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImVudGl0eXxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJlbnRpdHl8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImVudGl0eXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGVudGl0eVwifSx7XCJlbnRpdHlcIjpcImVudGl0eXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBlbnRpdHlcXG5FbnRpdHkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogY29udGVudFxcblwiLFwiX19pZFwiOlwiZW50aXR5fG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBlbnRpdHlcXG5FbnRpdHkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogY29udGVudFxcblwifSx7XCJlbnRpdHlcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c3xtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzXCIsXCJfX2lkXCI6XCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHN8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dW5tb2RpZmllZCBhZGRlZCBiaXRzXCJ9LHtcImVudGl0eVwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVubW9kaWZpZWQgYWRkZWQgYml0c1xcblVubW9kaWZpZWQgQWRkZWQgQml0cyBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogcXVlcnl9LlxcblxcbiMjIEZpZWxkc1xcbiogZW50aXR5XFxuKiBjb250ZW50XFxuXCIsXCJfX2lkXCI6XCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIHVubW9kaWZpZWQgYWRkZWQgYml0c1xcblVubW9kaWZpZWQgQWRkZWQgQml0cyBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogcXVlcnl9LlxcblxcbiMjIEZpZWxkc1xcbiogZW50aXR5XFxuKiBjb250ZW50XFxuXCJ9LHtcImVudGl0eVwiOlwiY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja3NcIixcIl9faWRcIjpcImNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGNvbnRlbnQgYmxvY2tzXCJ9LHtcImVudGl0eVwiOlwiY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgY29udGVudCBibG9ja3NcXG5Db250ZW50IEJsb2NrcyBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogcXVlcnl9LlxcblxcbiMjIEZpZWxkc1xcbiogYmxvY2tcXG4qIGVudGl0eVxcbiogY29udGVudFxcblwiLFwiX19pZFwiOlwiY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGNvbnRlbnQgYmxvY2tzXFxuQ29udGVudCBCbG9ja3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGJsb2NrXFxuKiBlbnRpdHlcXG4qIGNvbnRlbnRcXG5cIn0se1wiZW50aXR5XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc1wiLFwiX19pZFwiOlwicGFyc2VkIGNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHBhcnNlZCBjb250ZW50IGJsb2Nrc1wifSx7XCJlbnRpdHlcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBwYXJzZWQgY29udGVudCBibG9ja3NcXG5QYXJzZWQgQ29udGVudCBCbG9ja3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwiLFwiX19pZFwiOlwicGFyc2VkIGNvbnRlbnQgYmxvY2tzfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBwYXJzZWQgY29udGVudCBibG9ja3NcXG5QYXJzZWQgQ29udGVudCBCbG9ja3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcInBhcnNlZCBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJwYXJzZWQgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJwYXJzZWQgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInBhcnNlZCBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJwYXJzZWQgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInBhcnNlZCBlYXZzXCIsXCJfX2lkXCI6XCJwYXJzZWQgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxwYXJzZWQgZWF2c1wifSx7XCJlbnRpdHlcIjpcInBhcnNlZCBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHBhcnNlZCBlYXZzXFxuUGFyc2VkIEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwiLFwiX19pZFwiOlwicGFyc2VkIGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIHBhcnNlZCBlYXZzXFxuUGFyc2VkIEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcImVudGl0eSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJlbnRpdHkgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImVudGl0eSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJlbnRpdHkgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxlbnRpdHkgZWF2c1wifSx7XCJlbnRpdHlcIjpcImVudGl0eSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGVudGl0eSBlYXZzXFxuRW50aXR5IEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwiLFwiX19pZFwiOlwiZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGVudGl0eSBlYXZzXFxuRW50aXR5IEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiYnVpbHRpbiBlbnRpdHkgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJidWlsdGluIGVudGl0eSBlYXZzXCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGJ1aWx0aW4gZW50aXR5IGVhdnNcIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGVudGl0eSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGJ1aWx0aW4gZW50aXR5IGVhdnNcXG5CdWlsdGluIEVudGl0eSBFYXZzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGF0dHJpYnV0ZVxcbiogdmFsdWVcXG5cIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGJ1aWx0aW4gZW50aXR5IGVhdnNcXG5CdWlsdGluIEVudGl0eSBFYXZzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGF0dHJpYnV0ZVxcbiogdmFsdWVcXG5cIn0se1wiZW50aXR5XCI6XCJpcyBhIGF0dHJpYnV0ZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImlzIGEgYXR0cmlidXRlc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJpcyBhIGF0dHJpYnV0ZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJpcyBhIGF0dHJpYnV0ZXN8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImlzIGEgYXR0cmlidXRlc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImlzIGEgYXR0cmlidXRlc1wiLFwiX19pZFwiOlwiaXMgYSBhdHRyaWJ1dGVzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGlzIGEgYXR0cmlidXRlc1wifSx7XCJlbnRpdHlcIjpcImlzIGEgYXR0cmlidXRlc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBpcyBhIGF0dHJpYnV0ZXNcXG5JcyBBIEF0dHJpYnV0ZXMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGNvbGxlY3Rpb25cXG4qIGVudGl0eVxcblwiLFwiX19pZFwiOlwiaXMgYSBhdHRyaWJ1dGVzfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBpcyBhIGF0dHJpYnV0ZXNcXG5JcyBBIEF0dHJpYnV0ZXMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGNvbGxlY3Rpb25cXG4qIGVudGl0eVxcblwifSx7XCJlbnRpdHlcIjpcImxvd2VyY2FzZSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJsb3dlcmNhc2UgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJsb3dlcmNhc2UgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImxvd2VyY2FzZSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJsb3dlcmNhc2UgZWF2c3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImxvd2VyY2FzZSBlYXZzXCIsXCJfX2lkXCI6XCJsb3dlcmNhc2UgZWF2c3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxsb3dlcmNhc2UgZWF2c1wifSx7XCJlbnRpdHlcIjpcImxvd2VyY2FzZSBlYXZzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGxvd2VyY2FzZSBlYXZzXFxuTG93ZXJjYXNlIEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwiLFwiX19pZFwiOlwibG93ZXJjYXNlIGVhdnN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGxvd2VyY2FzZSBlYXZzXFxuTG93ZXJjYXNlIEVhdnMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogYXR0cmlidXRlXFxuKiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcImVhdiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImVhdiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiZWF2IGVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImVhdiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImVhdiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGVhdiBlbnRpdHkgbGlua3NcIn0se1wiZW50aXR5XCI6XCJlYXYgZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGVhdiBlbnRpdHkgbGlua3NcXG5FYXYgRW50aXR5IExpbmtzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBxdWVyeX0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGxpbmtcXG4qIHR5cGVcXG5cIixcIl9faWRcIjpcImVhdiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGVhdiBlbnRpdHkgbGlua3NcXG5FYXYgRW50aXR5IExpbmtzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiBxdWVyeX0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGxpbmtcXG4qIHR5cGVcXG5cIn0se1wiZW50aXR5XCI6XCJlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImVudGl0eSBsaW5rc1wiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGVudGl0eSBsaW5rc1wifSx7XCJlbnRpdHlcIjpcImVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBlbnRpdHkgbGlua3NcXG5FbnRpdHkgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcbiogdHlwZVxcblwiLFwiX19pZFwiOlwiZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBlbnRpdHkgbGlua3NcXG5FbnRpdHkgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcbiogdHlwZVxcblwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxidWlsdGluIGVudGl0eSBsaW5rc1wifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGJ1aWx0aW4gZW50aXR5IGxpbmtzXFxuQnVpbHRpbiBFbnRpdHkgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcbiogdHlwZVxcblwiLFwiX19pZFwiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGJ1aWx0aW4gZW50aXR5IGxpbmtzXFxuQnVpbHRpbiBFbnRpdHkgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcbiogdHlwZVxcblwifSx7XCJlbnRpdHlcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGRpcmVjdGlvbmxlc3MgbGlua3NcIn0se1wiZW50aXR5XCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGRpcmVjdGlvbmxlc3MgbGlua3NcXG5EaXJlY3Rpb25sZXNzIExpbmtzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGxpbmtcXG5cIixcIl9faWRcIjpcImRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGRpcmVjdGlvbmxlc3MgbGlua3NcXG5EaXJlY3Rpb25sZXNzIExpbmtzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGxpbmtcXG5cIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3N8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwiX19pZFwiOlwiYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc1wifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3NcXG5CdWlsdGluIERpcmVjdGlvbmxlc3MgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcblwiLFwiX19pZFwiOlwiYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3NcXG5CdWlsdGluIERpcmVjdGlvbmxlc3MgTGlua3MgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogbGlua1xcblwifSx7XCJlbnRpdHlcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwiY29sbGVjdGlvbiBlbnRpdGllc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJfX2lkXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGNvbGxlY3Rpb24gZW50aXRpZXNcIn0se1wiZW50aXR5XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIGNvbGxlY3Rpb24gZW50aXRpZXNcXG5Db2xsZWN0aW9uIEVudGl0aWVzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGNvbGxlY3Rpb25cXG5cIixcIl9faWRcIjpcImNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGNvbGxlY3Rpb24gZW50aXRpZXNcXG5Db2xsZWN0aW9uIEVudGl0aWVzIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBlbnRpdHlcXG4qIGNvbGxlY3Rpb25cXG5cIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXN8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiX19pZFwiOlwiYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXNcXG5CdWlsdGluIENvbGxlY3Rpb24gRW50aXRpZXMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogY29sbGVjdGlvblxcblwiLFwiX19pZFwiOlwiYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXNcXG5CdWlsdGluIENvbGxlY3Rpb24gRW50aXRpZXMgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGVudGl0eVxcbiogY29sbGVjdGlvblxcblwifSx7XCJlbnRpdHlcIjpcImNvbGxlY3Rpb258bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgY29sbGVjdGlvblxcbkNvbGxlY3Rpb24gaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHF1ZXJ5fS5cXG5cXG4jIyBGaWVsZHNcXG4qIGNvbGxlY3Rpb25cXG4qIGNvdW50XFxuXCIsXCJfX2lkXCI6XCJjb2xsZWN0aW9ufG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBjb2xsZWN0aW9uXFxuQ29sbGVjdGlvbiBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogcXVlcnl9LlxcblxcbiMjIEZpZWxkc1xcbiogY29sbGVjdGlvblxcbiogY291bnRcXG5cIn0se1wiZW50aXR5XCI6XCJzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInNlYXJjaHxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInNlYXJjaHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInNlYXJjaFwiLFwiX19pZFwiOlwic2VhcmNofG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHNlYXJjaFwifSx7XCJlbnRpdHlcIjpcInNlYXJjaHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBzZWFyY2hcXG5TZWFyY2ggaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGlkXFxuKiB0b3BcXG4qIGxlZnRcXG5cIixcIl9faWRcIjpcInNlYXJjaHxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgc2VhcmNoXFxuU2VhcmNoIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBpZFxcbiogdG9wXFxuKiBsZWZ0XFxuXCJ9LHtcImVudGl0eVwiOlwiYnVpbHRpbiBzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImJ1aWx0aW4gc2VhcmNofG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gc2VhcmNofG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gc2VhcmNofG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiYnVpbHRpbiBzZWFyY2hcIixcIl9faWRcIjpcImJ1aWx0aW4gc2VhcmNofG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGJ1aWx0aW4gc2VhcmNoXCJ9LHtcImVudGl0eVwiOlwiYnVpbHRpbiBzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgYnVpbHRpbiBzZWFyY2hcXG5CdWlsdGluIFNlYXJjaCBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogaWRcXG4qIHRvcFxcbiogbGVmdFxcblwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2h8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGJ1aWx0aW4gc2VhcmNoXFxuQnVpbHRpbiBTZWFyY2ggaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGlkXFxuKiB0b3BcXG4qIGxlZnRcXG5cIn0se1wiZW50aXR5XCI6XCJzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInNlYXJjaCBxdWVyeXxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInNlYXJjaCBxdWVyeXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInNlYXJjaCBxdWVyeVwiLFwiX19pZFwiOlwic2VhcmNoIHF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHNlYXJjaCBxdWVyeVwifSx7XCJlbnRpdHlcIjpcInNlYXJjaCBxdWVyeXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyBzZWFyY2ggcXVlcnlcXG5TZWFyY2ggUXVlcnkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHVuaW9ufS5cXG5cXG4jIyBGaWVsZHNcXG4qIGlkXFxuKiBzZWFyY2hcXG5cIixcIl9faWRcIjpcInNlYXJjaCBxdWVyeXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgc2VhcmNoIHF1ZXJ5XFxuU2VhcmNoIFF1ZXJ5IGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB1bmlvbn0uXFxuXFxuIyMgRmllbGRzXFxuKiBpZFxcbiogc2VhcmNoXFxuXCJ9LHtcImVudGl0eVwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIixcIl9faWRcIjpcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5fG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5XCJ9LHtcImVudGl0eVwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgYnVpbHRpbiBzZWFyY2ggcXVlcnlcXG5CdWlsdGluIFNlYXJjaCBRdWVyeSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogaWRcXG4qIHNlYXJjaFxcblwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnl8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIGJ1aWx0aW4gc2VhcmNoIHF1ZXJ5XFxuQnVpbHRpbiBTZWFyY2ggUXVlcnkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIGlkXFxuKiBzZWFyY2hcXG5cIn0se1wiZW50aXR5XCI6XCJ1aSB0ZW1wbGF0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWkgdGVtcGxhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWkgdGVtcGxhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWkgdGVtcGxhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aSB0ZW1wbGF0ZVwiLFwiX19pZFwiOlwidWkgdGVtcGxhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWkgdGVtcGxhdGVcIn0se1wiZW50aXR5XCI6XCJ1aSB0ZW1wbGF0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB1aSB0ZW1wbGF0ZVxcblVpIFRlbXBsYXRlIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcXG4qIHVpIHRlbXBsYXRlOiBwYXJlbnRcXG4qIHVpIHRlbXBsYXRlOiBpeFxcblwiLFwiX19pZFwiOlwidWkgdGVtcGxhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8Y29udGVudHwjIHVpIHRlbXBsYXRlXFxuVWkgVGVtcGxhdGUgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVxcbiogdWkgdGVtcGxhdGU6IHBhcmVudFxcbiogdWkgdGVtcGxhdGU6IGl4XFxuXCJ9LHtcImVudGl0eVwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmdcIixcIl9faWRcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWkgdGVtcGxhdGUgYmluZGluZ1wifSx7XCJlbnRpdHlcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgdWkgdGVtcGxhdGUgYmluZGluZ1xcblVpIFRlbXBsYXRlIEJpbmRpbmcgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXFxuKiB1aSB0ZW1wbGF0ZSBiaW5kaW5nOiBxdWVyeVxcblwiLFwiX19pZFwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgdWkgdGVtcGxhdGUgYmluZGluZ1xcblVpIFRlbXBsYXRlIEJpbmRpbmcgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXFxuKiB1aSB0ZW1wbGF0ZSBiaW5kaW5nOiBxdWVyeVxcblwifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZHxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJ1aSBlbWJlZHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVpIGVtYmVkfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJ1aSBlbWJlZHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInVpIGVtYmVkXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZHxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXx1aSBlbWJlZFwifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVpIGVtYmVkXFxuVWkgRW1iZWQgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIGVtYmVkOiBlbWJlZFxcbiogdWkgZW1iZWQ6IHRlbXBsYXRlXFxuKiB1aSBlbWJlZDogcGFyZW50XFxuKiB1aSBlbWJlZDogaXhcXG5cIixcIl9faWRcIjpcInVpIGVtYmVkfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1aSBlbWJlZFxcblVpIEVtYmVkIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBlbWJlZDogZW1iZWRcXG4qIHVpIGVtYmVkOiB0ZW1wbGF0ZVxcbiogdWkgZW1iZWQ6IHBhcmVudFxcbiogdWkgZW1iZWQ6IGl4XFxuXCJ9LHtcImVudGl0eVwiOlwidWkgZW1iZWQgc2NvcGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkIHNjb3BlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwidWkgZW1iZWQgc2NvcGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkIHNjb3BlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwidWkgZW1iZWQgc2NvcGVcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHVpIGVtYmVkIHNjb3BlXCJ9LHtcImVudGl0eVwiOlwidWkgZW1iZWQgc2NvcGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgdWkgZW1iZWQgc2NvcGVcXG5VaSBFbWJlZCBTY29wZSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgZW1iZWQgc2NvcGU6IGVtYmVkXFxuKiB1aSBlbWJlZCBzY29wZToga2V5XFxuKiB1aSBlbWJlZCBzY29wZTogdmFsdWVcXG5cIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1aSBlbWJlZCBzY29wZVxcblVpIEVtYmVkIFNjb3BlIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBlbWJlZCBzY29wZTogZW1iZWRcXG4qIHVpIGVtYmVkIHNjb3BlOiBrZXlcXG4qIHVpIGVtYmVkIHNjb3BlOiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIn0se1wiZW50aXR5XCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcXG5VaSBFbWJlZCBTY29wZSBCaW5kaW5nIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBlbWJlZFxcbiogdWkgZW1iZWQgc2NvcGUgYmluZGluZzoga2V5XFxuKiB1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBzb3VyY2VcXG4qIHVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGFsaWFzXFxuXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1aSBlbWJlZCBzY29wZSBiaW5kaW5nXFxuVWkgRW1iZWQgU2NvcGUgQmluZGluZyBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgZW1iZWQgc2NvcGUgYmluZGluZzogZW1iZWRcXG4qIHVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGtleVxcbiogdWkgZW1iZWQgc2NvcGUgYmluZGluZzogc291cmNlXFxuKiB1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBhbGlhc1xcblwifSx7XCJlbnRpdHlcIjpcInVpIGF0dHJpYnV0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWkgYXR0cmlidXRlfG1hbnVhbCBjb250ZW50IGJsb2NrfGlzIGF8Y29udGVudCBibG9ja1wifSx7XCJlbnRpdHlcIjpcInVpIGF0dHJpYnV0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWkgYXR0cmlidXRlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImFzc29jaWF0ZWQgZW50aXR5XCIsXCJ2YWx1ZVwiOlwidWkgYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWkgYXR0cmlidXRlXCJ9LHtcImVudGl0eVwiOlwidWkgYXR0cmlidXRlfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVpIGF0dHJpYnV0ZVxcblVpIEF0dHJpYnV0ZSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVxcbiogdWkgYXR0cmlidXRlOiBwcm9wZXJ0eVxcbiogdWkgYXR0cmlidXRlOiB2YWx1ZVxcblwiLFwiX19pZFwiOlwidWkgYXR0cmlidXRlfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyB1aSBhdHRyaWJ1dGVcXG5VaSBBdHRyaWJ1dGUgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcXG4qIHVpIGF0dHJpYnV0ZTogcHJvcGVydHlcXG4qIHVpIGF0dHJpYnV0ZTogdmFsdWVcXG5cIn0se1wiZW50aXR5XCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWkgYXR0cmlidXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWkgYXR0cmlidXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWkgYXR0cmlidXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ1wiLFwiX19pZFwiOlwidWkgYXR0cmlidXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWkgYXR0cmlidXRlIGJpbmRpbmdcIn0se1wiZW50aXR5XCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB1aSBhdHRyaWJ1dGUgYmluZGluZ1xcblVpIEF0dHJpYnV0ZSBCaW5kaW5nIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBhdHRyaWJ1dGUgYmluZGluZzogdGVtcGxhdGVcXG4qIHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBwcm9wZXJ0eVxcbiogdWkgYXR0cmlidXRlIGJpbmRpbmc6IHNvdXJjZVxcbiogdWkgYXR0cmlidXRlIGJpbmRpbmc6IGFsaWFzXFxuXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgdWkgYXR0cmlidXRlIGJpbmRpbmdcXG5VaSBBdHRyaWJ1dGUgQmluZGluZyBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgYXR0cmlidXRlIGJpbmRpbmc6IHRlbXBsYXRlXFxuKiB1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcXG4qIHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcXG4qIHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBhbGlhc1xcblwifSx7XCJlbnRpdHlcIjpcInVpIGV2ZW50fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJ1aSBldmVudHxtYW51YWwgY29udGVudCBibG9ja3xpcyBhfGNvbnRlbnQgYmxvY2tcIn0se1wiZW50aXR5XCI6XCJ1aSBldmVudHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVpIGV2ZW50fG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJ1aSBldmVudHxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJhc3NvY2lhdGVkIGVudGl0eVwiLFwidmFsdWVcIjpcInVpIGV2ZW50XCIsXCJfX2lkXCI6XCJ1aSBldmVudHxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXx1aSBldmVudFwifSx7XCJlbnRpdHlcIjpcInVpIGV2ZW50fG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVpIGV2ZW50XFxuVWkgRXZlbnQgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIGV2ZW50OiB0ZW1wbGF0ZVxcbiogdWkgZXZlbnQ6IGV2ZW50XFxuXCIsXCJfX2lkXCI6XCJ1aSBldmVudHxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgdWkgZXZlbnRcXG5VaSBFdmVudCBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgZXZlbnQ6IHRlbXBsYXRlXFxuKiB1aSBldmVudDogZXZlbnRcXG5cIn0se1wiZW50aXR5XCI6XCJ1aSBldmVudCBzdGF0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJpcyBhXCIsXCJ2YWx1ZVwiOlwiY29udGVudCBibG9ja1wiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWkgZXZlbnQgc3RhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwic291cmNlXCIsXCJ2YWx1ZVwiOlwibWFudWFsXCIsXCJfX2lkXCI6XCJ1aSBldmVudCBzdGF0ZXxtYW51YWwgY29udGVudCBibG9ja3xzb3VyY2V8bWFudWFsXCJ9LHtcImVudGl0eVwiOlwidWkgZXZlbnQgc3RhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aSBldmVudCBzdGF0ZVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8bWFudWFsIGNvbnRlbnQgYmxvY2t8YXNzb2NpYXRlZCBlbnRpdHl8dWkgZXZlbnQgc3RhdGVcIn0se1wiZW50aXR5XCI6XCJ1aSBldmVudCBzdGF0ZXxtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJjb250ZW50XCIsXCJ2YWx1ZVwiOlwiIyB1aSBldmVudCBzdGF0ZVxcblVpIEV2ZW50IFN0YXRlIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBldmVudCBzdGF0ZTogdGVtcGxhdGVcXG4qIHVpIGV2ZW50IHN0YXRlOiBldmVudFxcbiogdWkgZXZlbnQgc3RhdGU6IGtleVxcbiogdWkgZXZlbnQgc3RhdGU6IHZhbHVlXFxuXCIsXCJfX2lkXCI6XCJ1aSBldmVudCBzdGF0ZXxtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgdWkgZXZlbnQgc3RhdGVcXG5VaSBFdmVudCBTdGF0ZSBpcyBhIHtpcyBhOiBzeXN0ZW19IGFuZCB7aXMgYTogdGFibGV9LlxcblxcbiMjIEZpZWxkc1xcbiogdWkgZXZlbnQgc3RhdGU6IHRlbXBsYXRlXFxuKiB1aSBldmVudCBzdGF0ZTogZXZlbnRcXG4qIHVpIGV2ZW50IHN0YXRlOiBrZXlcXG4qIHVpIGV2ZW50IHN0YXRlOiB2YWx1ZVxcblwifSx7XCJlbnRpdHlcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiaXMgYVwiLFwidmFsdWVcIjpcImNvbnRlbnQgYmxvY2tcIixcIl9faWRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja1wiLFwiYXR0cmlidXRlXCI6XCJzb3VyY2VcIixcInZhbHVlXCI6XCJtYW51YWxcIixcIl9faWRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2t8c291cmNlfG1hbnVhbFwifSx7XCJlbnRpdHlcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCIsXCJfX2lkXCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrfGFzc29jaWF0ZWQgZW50aXR5fHVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIn0se1wiZW50aXR5XCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImNvbnRlbnRcIixcInZhbHVlXCI6XCIjIHVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcXG5VaSBFdmVudCBTdGF0ZSBCaW5kaW5nIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVxcbiogdWkgZXZlbnQgc3RhdGUgYmluZGluZzogZXZlbnRcXG4qIHVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGtleVxcbiogdWkgZXZlbnQgc3RhdGUgYmluZGluZzogc291cmNlXFxuKiB1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBhbGlhc1xcblwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ3xtYW51YWwgY29udGVudCBibG9ja3xjb250ZW50fCMgdWkgZXZlbnQgc3RhdGUgYmluZGluZ1xcblVpIEV2ZW50IFN0YXRlIEJpbmRpbmcgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHRlbXBsYXRlXFxuKiB1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBldmVudFxcbiogdWkgZXZlbnQgc3RhdGUgYmluZGluZzoga2V5XFxuKiB1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBzb3VyY2VcXG4qIHVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGFsaWFzXFxuXCJ9LHtcImVudGl0eVwiOlwic3lzdGVtIHVpfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcImlzIGFcIixcInZhbHVlXCI6XCJjb250ZW50IGJsb2NrXCIsXCJfX2lkXCI6XCJzeXN0ZW0gdWl8bWFudWFsIGNvbnRlbnQgYmxvY2t8aXMgYXxjb250ZW50IGJsb2NrXCJ9LHtcImVudGl0eVwiOlwic3lzdGVtIHVpfG1hbnVhbCBjb250ZW50IGJsb2NrXCIsXCJhdHRyaWJ1dGVcIjpcInNvdXJjZVwiLFwidmFsdWVcIjpcIm1hbnVhbFwiLFwiX19pZFwiOlwic3lzdGVtIHVpfG1hbnVhbCBjb250ZW50IGJsb2NrfHNvdXJjZXxtYW51YWxcIn0se1wiZW50aXR5XCI6XCJzeXN0ZW0gdWl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiYXNzb2NpYXRlZCBlbnRpdHlcIixcInZhbHVlXCI6XCJzeXN0ZW0gdWlcIixcIl9faWRcIjpcInN5c3RlbSB1aXxtYW51YWwgY29udGVudCBibG9ja3xhc3NvY2lhdGVkIGVudGl0eXxzeXN0ZW0gdWlcIn0se1wiZW50aXR5XCI6XCJzeXN0ZW0gdWl8bWFudWFsIGNvbnRlbnQgYmxvY2tcIixcImF0dHJpYnV0ZVwiOlwiY29udGVudFwiLFwidmFsdWVcIjpcIiMgc3lzdGVtIHVpXFxuU3lzdGVtIFVpIGlzIGEge2lzIGE6IHN5c3RlbX0gYW5kIHtpcyBhOiB0YWJsZX0uXFxuXFxuIyMgRmllbGRzXFxuKiB0ZW1wbGF0ZVxcblwiLFwiX19pZFwiOlwic3lzdGVtIHVpfG1hbnVhbCBjb250ZW50IGJsb2NrfGNvbnRlbnR8IyBzeXN0ZW0gdWlcXG5TeXN0ZW0gVWkgaXMgYSB7aXMgYTogc3lzdGVtfSBhbmQge2lzIGE6IHRhYmxlfS5cXG5cXG4jIyBGaWVsZHNcXG4qIHRlbXBsYXRlXFxuXCJ9XSxcImZpZWxkXCI6W3tcInZpZXdcIjpcIm1hbnVhbCBlbnRpdHlcIixcImZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcIm1hbnVhbCBlbnRpdHl8ZW50aXR5XCJ9LHtcInZpZXdcIjpcIm1hbnVhbCBlbnRpdHlcIixcImZpZWxkXCI6XCJjb250ZW50XCIsXCJfX2lkXCI6XCJtYW51YWwgZW50aXR5fGNvbnRlbnRcIn0se1widmlld1wiOlwibWFudWFsIGVhdlwiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwibWFudWFsIGVhdnxlbnRpdHlcIn0se1widmlld1wiOlwibWFudWFsIGVhdlwiLFwiZmllbGRcIjpcImF0dHJpYnV0ZVwiLFwiX19pZFwiOlwibWFudWFsIGVhdnxhdHRyaWJ1dGVcIn0se1widmlld1wiOlwibWFudWFsIGVhdlwiLFwiZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJtYW51YWwgZWF2fHZhbHVlXCJ9LHtcInZpZXdcIjpcImFjdGlvbiBlbnRpdHlcIixcImZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcImFjdGlvbiBlbnRpdHl8ZW50aXR5XCJ9LHtcInZpZXdcIjpcImFjdGlvbiBlbnRpdHlcIixcImZpZWxkXCI6XCJjb250ZW50XCIsXCJfX2lkXCI6XCJhY3Rpb24gZW50aXR5fGNvbnRlbnRcIn0se1widmlld1wiOlwiYWN0aW9uIGVudGl0eVwiLFwiZmllbGRcIjpcInNvdXJjZVwiLFwiX19pZFwiOlwiYWN0aW9uIGVudGl0eXxzb3VyY2VcIn0se1widmlld1wiOlwiZW50aXR5XCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlbnRpdHl8ZW50aXR5XCJ9LHtcInZpZXdcIjpcImVudGl0eVwiLFwiZmllbGRcIjpcImNvbnRlbnRcIixcIl9faWRcIjpcImVudGl0eXxjb250ZW50XCJ9LHtcInZpZXdcIjpcInVubW9kaWZpZWQgYWRkZWQgYml0c1wiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwidW5tb2RpZmllZCBhZGRlZCBiaXRzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHNcIixcImZpZWxkXCI6XCJjb250ZW50XCIsXCJfX2lkXCI6XCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHN8Y29udGVudFwifSx7XCJ2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwiZmllbGRcIjpcImJsb2NrXCIsXCJfX2lkXCI6XCJjb250ZW50IGJsb2Nrc3xibG9ja1wifSx7XCJ2aWV3XCI6XCJjb250ZW50IGJsb2Nrc1wiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiY29udGVudCBibG9ja3N8ZW50aXR5XCJ9LHtcInZpZXdcIjpcImNvbnRlbnQgYmxvY2tzXCIsXCJmaWVsZFwiOlwiY29udGVudFwiLFwiX19pZFwiOlwiY29udGVudCBibG9ja3N8Y29udGVudFwifSx7XCJ2aWV3XCI6XCJwYXJzZWQgY29udGVudCBibG9ja3NcIixcImZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc3xlbnRpdHlcIn0se1widmlld1wiOlwicGFyc2VkIGNvbnRlbnQgYmxvY2tzXCIsXCJmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8YXR0cmlidXRlXCJ9LHtcInZpZXdcIjpcInBhcnNlZCBjb250ZW50IGJsb2Nrc1wiLFwiZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJwYXJzZWQgY29udGVudCBibG9ja3N8dmFsdWVcIn0se1widmlld1wiOlwicGFyc2VkIGVhdnNcIixcImZpZWxkXCI6XCJlbnRpdHlcIixcIl9faWRcIjpcInBhcnNlZCBlYXZzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJwYXJzZWQgZWF2c1wiLFwiZmllbGRcIjpcImF0dHJpYnV0ZVwiLFwiX19pZFwiOlwicGFyc2VkIGVhdnN8YXR0cmlidXRlXCJ9LHtcInZpZXdcIjpcInBhcnNlZCBlYXZzXCIsXCJmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcInBhcnNlZCBlYXZzfHZhbHVlXCJ9LHtcInZpZXdcIjpcImVudGl0eSBlYXZzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3xlbnRpdHlcIn0se1widmlld1wiOlwiZW50aXR5IGVhdnNcIixcImZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImVudGl0eSBlYXZzfGF0dHJpYnV0ZVwifSx7XCJ2aWV3XCI6XCJlbnRpdHkgZWF2c1wiLFwiZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJlbnRpdHkgZWF2c3x2YWx1ZVwifSx7XCJ2aWV3XCI6XCJidWlsdGluIGVudGl0eSBlYXZzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBlYXZzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJidWlsdGluIGVudGl0eSBlYXZzXCIsXCJmaWVsZFwiOlwiYXR0cmlidXRlXCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBlYXZzfGF0dHJpYnV0ZVwifSx7XCJ2aWV3XCI6XCJidWlsdGluIGVudGl0eSBlYXZzXCIsXCJmaWVsZFwiOlwidmFsdWVcIixcIl9faWRcIjpcImJ1aWx0aW4gZW50aXR5IGVhdnN8dmFsdWVcIn0se1widmlld1wiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJmaWVsZFwiOlwiY29sbGVjdGlvblwiLFwiX19pZFwiOlwiaXMgYSBhdHRyaWJ1dGVzfGNvbGxlY3Rpb25cIn0se1widmlld1wiOlwiaXMgYSBhdHRyaWJ1dGVzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJpcyBhIGF0dHJpYnV0ZXN8ZW50aXR5XCJ9LHtcInZpZXdcIjpcImxvd2VyY2FzZSBlYXZzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJsb3dlcmNhc2UgZWF2c3xlbnRpdHlcIn0se1widmlld1wiOlwibG93ZXJjYXNlIGVhdnNcIixcImZpZWxkXCI6XCJhdHRyaWJ1dGVcIixcIl9faWRcIjpcImxvd2VyY2FzZSBlYXZzfGF0dHJpYnV0ZVwifSx7XCJ2aWV3XCI6XCJsb3dlcmNhc2UgZWF2c1wiLFwiZmllbGRcIjpcInZhbHVlXCIsXCJfX2lkXCI6XCJsb3dlcmNhc2UgZWF2c3x2YWx1ZVwifSx7XCJ2aWV3XCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJlYXYgZW50aXR5IGxpbmtzXCIsXCJmaWVsZFwiOlwibGlua1wiLFwiX19pZFwiOlwiZWF2IGVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcInZpZXdcIjpcImVhdiBlbnRpdHkgbGlua3NcIixcImZpZWxkXCI6XCJ0eXBlXCIsXCJfX2lkXCI6XCJlYXYgZW50aXR5IGxpbmtzfHR5cGVcIn0se1widmlld1wiOlwiZW50aXR5IGxpbmtzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJlbnRpdHkgbGlua3N8ZW50aXR5XCJ9LHtcInZpZXdcIjpcImVudGl0eSBsaW5rc1wiLFwiZmllbGRcIjpcImxpbmtcIixcIl9faWRcIjpcImVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcInZpZXdcIjpcImVudGl0eSBsaW5rc1wiLFwiZmllbGRcIjpcInR5cGVcIixcIl9faWRcIjpcImVudGl0eSBsaW5rc3x0eXBlXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xlbnRpdHlcIn0se1widmlld1wiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3NcIixcImZpZWxkXCI6XCJsaW5rXCIsXCJfX2lkXCI6XCJidWlsdGluIGVudGl0eSBsaW5rc3xsaW5rXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCIsXCJmaWVsZFwiOlwidHlwZVwiLFwiX19pZFwiOlwiYnVpbHRpbiBlbnRpdHkgbGlua3N8dHlwZVwifSx7XCJ2aWV3XCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsXCJmaWVsZFwiOlwibGlua1wiLFwiX19pZFwiOlwiZGlyZWN0aW9ubGVzcyBsaW5rc3xsaW5rXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gZGlyZWN0aW9ubGVzcyBsaW5rc1wiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiYnVpbHRpbiBkaXJlY3Rpb25sZXNzIGxpbmtzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3NcIixcImZpZWxkXCI6XCJsaW5rXCIsXCJfX2lkXCI6XCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3N8bGlua1wifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJmaWVsZFwiOlwiZW50aXR5XCIsXCJfX2lkXCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsXCJmaWVsZFwiOlwiY29sbGVjdGlvblwiLFwiX19pZFwiOlwiY29sbGVjdGlvbiBlbnRpdGllc3xjb2xsZWN0aW9uXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiLFwiZmllbGRcIjpcImVudGl0eVwiLFwiX19pZFwiOlwiYnVpbHRpbiBjb2xsZWN0aW9uIGVudGl0aWVzfGVudGl0eVwifSx7XCJ2aWV3XCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXNcIixcImZpZWxkXCI6XCJjb2xsZWN0aW9uXCIsXCJfX2lkXCI6XCJidWlsdGluIGNvbGxlY3Rpb24gZW50aXRpZXN8Y29sbGVjdGlvblwifSx7XCJ2aWV3XCI6XCJjb2xsZWN0aW9uXCIsXCJmaWVsZFwiOlwiY29sbGVjdGlvblwiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxjb2xsZWN0aW9uXCJ9LHtcInZpZXdcIjpcImNvbGxlY3Rpb25cIixcImZpZWxkXCI6XCJjb3VudFwiLFwiX19pZFwiOlwiY29sbGVjdGlvbnxjb3VudFwifSx7XCJ2aWV3XCI6XCJzZWFyY2hcIixcImZpZWxkXCI6XCJpZFwiLFwiX19pZFwiOlwic2VhcmNofGlkXCJ9LHtcInZpZXdcIjpcInNlYXJjaFwiLFwiZmllbGRcIjpcInRvcFwiLFwiX19pZFwiOlwic2VhcmNofHRvcFwifSx7XCJ2aWV3XCI6XCJzZWFyY2hcIixcImZpZWxkXCI6XCJsZWZ0XCIsXCJfX2lkXCI6XCJzZWFyY2h8bGVmdFwifSx7XCJ2aWV3XCI6XCJidWlsdGluIHNlYXJjaFwiLFwiZmllbGRcIjpcImlkXCIsXCJfX2lkXCI6XCJidWlsdGluIHNlYXJjaHxpZFwifSx7XCJ2aWV3XCI6XCJidWlsdGluIHNlYXJjaFwiLFwiZmllbGRcIjpcInRvcFwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2h8dG9wXCJ9LHtcInZpZXdcIjpcImJ1aWx0aW4gc2VhcmNoXCIsXCJmaWVsZFwiOlwibGVmdFwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2h8bGVmdFwifSx7XCJ2aWV3XCI6XCJzZWFyY2ggcXVlcnlcIixcImZpZWxkXCI6XCJpZFwiLFwiX19pZFwiOlwic2VhcmNoIHF1ZXJ5fGlkXCJ9LHtcInZpZXdcIjpcInNlYXJjaCBxdWVyeVwiLFwiZmllbGRcIjpcInNlYXJjaFwiLFwiX19pZFwiOlwic2VhcmNoIHF1ZXJ5fHNlYXJjaFwifSx7XCJ2aWV3XCI6XCJidWlsdGluIHNlYXJjaCBxdWVyeVwiLFwiZmllbGRcIjpcImlkXCIsXCJfX2lkXCI6XCJidWlsdGluIHNlYXJjaCBxdWVyeXxpZFwifSx7XCJ2aWV3XCI6XCJidWlsdGluIHNlYXJjaCBxdWVyeVwiLFwiZmllbGRcIjpcInNlYXJjaFwiLFwiX19pZFwiOlwiYnVpbHRpbiBzZWFyY2ggcXVlcnl8c2VhcmNoXCJ9LHtcInZpZXdcIjpcInNlYXJjaGVzIHRvIGVudGl0aWVzIHNoaW1cIixcImZpZWxkXCI6XCJpZFwiLFwiX19pZFwiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbXxpZFwifSx7XCJ2aWV3XCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsXCJmaWVsZFwiOlwic2VhcmNoXCIsXCJfX2lkXCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltfHNlYXJjaFwifSx7XCJ2aWV3XCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsXCJmaWVsZFwiOlwidG9wXCIsXCJfX2lkXCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltfHRvcFwifSx7XCJ2aWV3XCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsXCJmaWVsZFwiOlwibGVmdFwiLFwiX19pZFwiOlwic2VhcmNoZXMgdG8gZW50aXRpZXMgc2hpbXxsZWZ0XCJ9LHtcInZpZXdcIjpcInVpIHRlbXBsYXRlXCIsXCJmaWVsZFwiOlwidWkgdGVtcGxhdGU6IHRlbXBsYXRlXCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZXx1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIn0se1widmlld1wiOlwidWkgdGVtcGxhdGVcIixcImZpZWxkXCI6XCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZXx1aSB0ZW1wbGF0ZTogcGFyZW50XCJ9LHtcInZpZXdcIjpcInVpIHRlbXBsYXRlXCIsXCJmaWVsZFwiOlwidWkgdGVtcGxhdGU6IGl4XCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZXx1aSB0ZW1wbGF0ZTogaXhcIn0se1widmlld1wiOlwidWkgdGVtcGxhdGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXCIsXCJfX2lkXCI6XCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nfHVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXCJ9LHtcInZpZXdcIjpcInVpIHRlbXBsYXRlIGJpbmRpbmdcIixcImZpZWxkXCI6XCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nOiBxdWVyeVwiLFwiX19pZFwiOlwidWkgdGVtcGxhdGUgYmluZGluZ3x1aSB0ZW1wbGF0ZSBiaW5kaW5nOiBxdWVyeVwifSx7XCJ2aWV3XCI6XCJ1aSBlbWJlZFwiLFwiZmllbGRcIjpcInVpIGVtYmVkOiBlbWJlZFwiLFwiX19pZFwiOlwidWkgZW1iZWR8dWkgZW1iZWQ6IGVtYmVkXCJ9LHtcInZpZXdcIjpcInVpIGVtYmVkXCIsXCJmaWVsZFwiOlwidWkgZW1iZWQ6IHRlbXBsYXRlXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZHx1aSBlbWJlZDogdGVtcGxhdGVcIn0se1widmlld1wiOlwidWkgZW1iZWRcIixcImZpZWxkXCI6XCJ1aSBlbWJlZDogcGFyZW50XCIsXCJfX2lkXCI6XCJ1aSBlbWJlZHx1aSBlbWJlZDogcGFyZW50XCJ9LHtcInZpZXdcIjpcInVpIGVtYmVkXCIsXCJmaWVsZFwiOlwidWkgZW1iZWQ6IGl4XCIsXCJfX2lkXCI6XCJ1aSBlbWJlZHx1aSBlbWJlZDogaXhcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGVcIixcImZpZWxkXCI6XCJ1aSBlbWJlZCBzY29wZTogZW1iZWRcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfHVpIGVtYmVkIHNjb3BlOiBlbWJlZFwifSx7XCJ2aWV3XCI6XCJ1aSBlbWJlZCBzY29wZVwiLFwiZmllbGRcIjpcInVpIGVtYmVkIHNjb3BlOiBrZXlcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfHVpIGVtYmVkIHNjb3BlOiBrZXlcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGVcIixcImZpZWxkXCI6XCJ1aSBlbWJlZCBzY29wZTogdmFsdWVcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlfHVpIGVtYmVkIHNjb3BlOiB2YWx1ZVwifSx7XCJ2aWV3XCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsXCJmaWVsZFwiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZzogZW1iZWRcIixcIl9faWRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmd8dWkgZW1iZWQgc2NvcGUgYmluZGluZzogZW1iZWRcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGtleVwiLFwiX19pZFwiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ3x1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBrZXlcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IHNvdXJjZVwiLFwiX19pZFwiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ3x1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBzb3VyY2VcIn0se1widmlld1wiOlwidWkgZW1iZWQgc2NvcGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGFsaWFzXCIsXCJfX2lkXCI6XCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nfHVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGFsaWFzXCJ9LHtcInZpZXdcIjpcInVpIGF0dHJpYnV0ZVwiLFwiZmllbGRcIjpcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZXx1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCJ9LHtcInZpZXdcIjpcInVpIGF0dHJpYnV0ZVwiLFwiZmllbGRcIjpcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZXx1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCJ9LHtcInZpZXdcIjpcInVpIGF0dHJpYnV0ZVwiLFwiZmllbGRcIjpcInVpIGF0dHJpYnV0ZTogdmFsdWVcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZXx1aSBhdHRyaWJ1dGU6IHZhbHVlXCJ9LHtcInZpZXdcIjpcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsXCJmaWVsZFwiOlwidWkgYXR0cmlidXRlIGJpbmRpbmc6IHRlbXBsYXRlXCIsXCJfX2lkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ3x1aSBhdHRyaWJ1dGUgYmluZGluZzogdGVtcGxhdGVcIn0se1widmlld1wiOlwidWkgYXR0cmlidXRlIGJpbmRpbmdcIixcImZpZWxkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZSBiaW5kaW5nfHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBwcm9wZXJ0eVwifSx7XCJ2aWV3XCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZSBiaW5kaW5nfHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIn0se1widmlld1wiOlwidWkgYXR0cmlidXRlIGJpbmRpbmdcIixcImZpZWxkXCI6XCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogYWxpYXNcIixcIl9faWRcIjpcInVpIGF0dHJpYnV0ZSBiaW5kaW5nfHVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBhbGlhc1wifSx7XCJ2aWV3XCI6XCJ1aSBldmVudFwiLFwiZmllbGRcIjpcInVpIGV2ZW50OiB0ZW1wbGF0ZVwiLFwiX19pZFwiOlwidWkgZXZlbnR8dWkgZXZlbnQ6IHRlbXBsYXRlXCJ9LHtcInZpZXdcIjpcInVpIGV2ZW50XCIsXCJmaWVsZFwiOlwidWkgZXZlbnQ6IGV2ZW50XCIsXCJfX2lkXCI6XCJ1aSBldmVudHx1aSBldmVudDogZXZlbnRcIn0se1widmlld1wiOlwidWkgZXZlbnQgc3RhdGVcIixcImZpZWxkXCI6XCJ1aSBldmVudCBzdGF0ZTogdGVtcGxhdGVcIixcIl9faWRcIjpcInVpIGV2ZW50IHN0YXRlfHVpIGV2ZW50IHN0YXRlOiB0ZW1wbGF0ZVwifSx7XCJ2aWV3XCI6XCJ1aSBldmVudCBzdGF0ZVwiLFwiZmllbGRcIjpcInVpIGV2ZW50IHN0YXRlOiBldmVudFwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8dWkgZXZlbnQgc3RhdGU6IGV2ZW50XCJ9LHtcInZpZXdcIjpcInVpIGV2ZW50IHN0YXRlXCIsXCJmaWVsZFwiOlwidWkgZXZlbnQgc3RhdGU6IGtleVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8dWkgZXZlbnQgc3RhdGU6IGtleVwifSx7XCJ2aWV3XCI6XCJ1aSBldmVudCBzdGF0ZVwiLFwiZmllbGRcIjpcInVpIGV2ZW50IHN0YXRlOiB2YWx1ZVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGV8dWkgZXZlbnQgc3RhdGU6IHZhbHVlXCJ9LHtcInZpZXdcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIixcImZpZWxkXCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ3x1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwifSx7XCJ2aWV3XCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCIsXCJmaWVsZFwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogZXZlbnRcIixcIl9faWRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmd8dWkgZXZlbnQgc3RhdGUgYmluZGluZzogZXZlbnRcIn0se1widmlld1wiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGtleVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ3x1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBrZXlcIn0se1widmlld1wiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHNvdXJjZVwiLFwiX19pZFwiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ3x1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBzb3VyY2VcIn0se1widmlld1wiOlwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLFwiZmllbGRcIjpcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGFsaWFzXCIsXCJfX2lkXCI6XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nfHVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGFsaWFzXCJ9LHtcInZpZXdcIjpcInN5c3RlbSB1aVwiLFwiZmllbGRcIjpcInRlbXBsYXRlXCIsXCJfX2lkXCI6XCJzeXN0ZW0gdWl8dGVtcGxhdGVcIn1dLFwiYnVpbHRpbiBlbnRpdHlcIjpbe1wiZW50aXR5XCI6XCJ3aWtpIHJvb3RcIixcImNvbnRlbnRcIjpcIiMgV2lraSBSb290ICh7aXMgYTogc3lzdGVtfSwge2lzIGE6IHVpfSlcXG5cIixcIl9faWRcIjpcIndpa2kgcm9vdHwjIFdpa2kgUm9vdCAoe2lzIGE6IHN5c3RlbX0sIHtpcyBhOiB1aX0pXFxuXCJ9LHtcImVudGl0eVwiOlwicGVyZiBzdGF0c1wiLFwiY29udGVudFwiOlwiIyBQZXJmIFN0YXRzICh7aXMgYTogc3lzdGVtfSwge2lzIGE6IHVpfSlcXG5cIixcIl9faWRcIjpcInBlcmYgc3RhdHN8IyBQZXJmIFN0YXRzICh7aXMgYTogc3lzdGVtfSwge2lzIGE6IHVpfSlcXG5cIn0se1wiZW50aXR5XCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltXCIsXCJjb250ZW50XCI6XCIjIFNlYXJjaGVzIFRvIEVudGl0aWVzIFNoaW0gKHtpcyBhOiBzeXN0ZW19LCB7aXMgYTogcXVlcnl9KVxcblxcbiMjIEZpZWxkc1xcbiogaWRcXG4qIHNlYXJjaFxcbiogdG9wXFxuKiBsZWZ0XFxuXCIsXCJfX2lkXCI6XCJzZWFyY2hlcyB0byBlbnRpdGllcyBzaGltfCMgU2VhcmNoZXMgVG8gRW50aXRpZXMgU2hpbSAoe2lzIGE6IHN5c3RlbX0sIHtpcyBhOiBxdWVyeX0pXFxuXFxuIyMgRmllbGRzXFxuKiBpZFxcbiogc2VhcmNoXFxuKiB0b3BcXG4qIGxlZnRcXG5cIn0se1wiZW50aXR5XCI6XCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wiLFwiY29udGVudFwiOlwiXFxuICAgICMgUmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3MgKHtpcyBhOiBzeXN0ZW19KVxcbiAgICByb290OiB7cm9vdDogMS43MX1cXG4gICAgdWkgY29tcGlsZToge3VpIGNvbXBpbGU6IDAuMDR9XFxuICAgIHJlbmRlcjoge3JlbmRlcjogMC4zNX1cXG4gICAgdXBkYXRlOiB7dXBkYXRlOiAwLjI4fVxcbiAgICBIb3JyaWJsZSBoYWNrLCBkaXNyZWdhcmQgdGhpczoge3BlcmYgc3RhdHM6IHJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzfVxcbiAgICBcIixcIl9faWRcIjpcInJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzfFxcbiAgICAjIFJlbmRlciBwZXJmb3JtYW5jZSBzdGF0aXN0aWNzICh7aXMgYTogc3lzdGVtfSlcXG4gICAgcm9vdDoge3Jvb3Q6IDEuNzF9XFxuICAgIHVpIGNvbXBpbGU6IHt1aSBjb21waWxlOiAwLjA0fVxcbiAgICByZW5kZXI6IHtyZW5kZXI6IDAuMzV9XFxuICAgIHVwZGF0ZToge3VwZGF0ZTogMC4yOH1cXG4gICAgSG9ycmlibGUgaGFjaywgZGlzcmVnYXJkIHRoaXM6IHtwZXJmIHN0YXRzOiByZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc31cXG4gICAgXCJ9XSxcImJ1aWx0aW4gc2VhcmNoXCI6W3tcImlkXCI6XCJhOTJmYWQ0Ny1jY2FkLTQ4NWUtODBhYi0wOWJhOTAxOTc1YjRcIixcInRvcFwiOjExNCxcImxlZnRcIjo5NCxcIl9faWRcIjpcImE5MmZhZDQ3LWNjYWQtNDg1ZS04MGFiLTA5YmE5MDE5NzViNHwxMTR8OTRcIn0se1wiaWRcIjpcIjc2ZWI2ZWM4LWNhOGItNGZkMS05NThmLWI3NDRhODRjODc3ZFwiLFwidG9wXCI6NTUsXCJsZWZ0XCI6NzIxLFwiX19pZFwiOlwiNzZlYjZlYzgtY2E4Yi00ZmQxLTk1OGYtYjc0NGE4NGM4NzdkfDU1fDcyMVwifV0sXCJidWlsdGluIHNlYXJjaCBxdWVyeVwiOlt7XCJpZFwiOlwiYTkyZmFkNDctY2NhZC00ODVlLTgwYWItMDliYTkwMTk3NWI0XCIsXCJzZWFyY2hcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiX19pZFwiOlwiYTkyZmFkNDctY2NhZC00ODVlLTgwYWItMDliYTkwMTk3NWI0fHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwifSx7XCJpZFwiOlwiNzZlYjZlYzgtY2E4Yi00ZmQxLTk1OGYtYjc0NGE4NGM4NzdkXCIsXCJzZWFyY2hcIjpcImVkd2FyZCBub3J0b25cIixcIl9faWRcIjpcIjc2ZWI2ZWM4LWNhOGItNGZkMS05NThmLWI3NDRhODRjODc3ZHxlZHdhcmQgbm9ydG9uXCJ9XSxcInVpIHRlbXBsYXRlXCI6W3tcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwid2lraSByb290XCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCJcIixcInVpIHRlbXBsYXRlOiBpeFwiOlwiXCIsXCJfX2lkXCI6XCJ3aWtpIHJvb3R8fFwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcIjU4MDAxODRkLTk5NTMtNGQ3MS1iM2YwLTQzOWM0OWU1NGMxMVwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjoyLFwiX19pZFwiOlwiNTgwMDE4NGQtOTk1My00ZDcxLWIzZjAtNDM5YzQ5ZTU0YzExfDNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMnwyXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiMGRjY2ZhZWUtOTFhNS00YTAxLThjZGUtMGZiMDUwY2Y4MDZiXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCIwZGNjZmFlZS05MWE1LTRhMDEtOGNkZS0wZmIwNTBjZjgwNmJ8M2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCJwZXJmIHN0YXRzXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCJcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCJwZXJmIHN0YXRzfHwwXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiYTk5NzI0MjctYTVkMi00NjU2LWFmNGEtNWMwNmQ1YzFmNTk3XCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcInVpIHRlbXBsYXRlOiBpeFwiOjEsXCJfX2lkXCI6XCJhOTk3MjQyNy1hNWQyLTQ2NTYtYWY0YS01YzA2ZDVjMWY1OTd8M2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfDFcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCI4Yjc0OTgzYy0yYTUyLTRjNTYtOTExNC1jNTQ5ZmU2YjFjZTJcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIjNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YVwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MixcIl9faWRcIjpcIjhiNzQ5ODNjLTJhNTItNGM1Ni05MTE0LWM1NDlmZTZiMWNlMnwzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2F8MlwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcIjNmNGM3NDY3LWYzY2MtNDEyZS1iMWRhLTA1NGM0NGRhNjQ4Y1wiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiMTAzYjNmMmMtMDJkOS00OTEyLTkzYjUtZDgwMDA0ZTZmZTllXCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjowLFwiX19pZFwiOlwiM2Y0Yzc0NjctZjNjYy00MTJlLWIxZGEtMDU0YzQ0ZGE2NDhjfDEwM2IzZjJjLTAyZDktNDkxMi05M2I1LWQ4MDAwNGU2ZmU5ZXwwXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiZTY3ZGJkNzgtNzdiMS00MTVmLTkyOTItYjQ5MjIyOGY3NTEzXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCI4ZjdkZjg2Mi05ODZjLTQ3NWEtOTYyNC1kOGFjZTg5ZTNjMDdcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCJlNjdkYmQ3OC03N2IxLTQxNWYtOTI5Mi1iNDkyMjI4Zjc1MTN8OGY3ZGY4NjItOTg2Yy00NzVhLTk2MjQtZDhhY2U4OWUzYzA3fDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCI4NDU2NDkxZi1hZjkxLTRlZWYtOTMxNy03M2E4ZDM4YTg3NjlcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIndpa2kgcm9vdFwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MCxcIl9faWRcIjpcIjg0NTY0OTFmLWFmOTEtNGVlZi05MzE3LTczYThkMzhhODc2OXx3aWtpIHJvb3R8MFwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcImJmZGE4MjlhLWRlOGUtNDYwYi04Njk0LTk4N2VkOTc1YzIzNFwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjozLFwiX19pZFwiOlwiYmZkYTgyOWEtZGU4ZS00NjBiLTg2OTQtOTg3ZWQ5NzVjMjM0fDNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMnwzXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiMmRiNjUwOWMtZGQ0NC00MGY0LTljODMtYTEyMjM1MmYzNmNjXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCIwZGNjZmFlZS05MWE1LTRhMDEtOGNkZS0wZmIwNTBjZjgwNmJcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCIyZGI2NTA5Yy1kZDQ0LTQwZjQtOWM4My1hMTIyMzUyZjM2Y2N8MGRjY2ZhZWUtOTFhNS00YTAxLThjZGUtMGZiMDUwY2Y4MDZifDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCIxMDNiM2YyYy0wMmQ5LTQ5MTItOTNiNS1kODAwMDRlNmZlOWVcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MCxcIl9faWRcIjpcIjEwM2IzZjJjLTAyZDktNDkxMi05M2I1LWQ4MDAwNGU2ZmU5ZXwzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJ8MFwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwicGVyZiBzdGF0c1wiLFwidWkgdGVtcGxhdGU6IGl4XCI6MCxcIl9faWRcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMnxwZXJmIHN0YXRzfDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODBcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcImJhY2MzZTJjLTAzMWItNGQ5Yy05Y2RhLTc3NGJkN2JlZmUzMFwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MSxcIl9faWRcIjpcIjE4NTMxZDE0LTZmOWQtNDYwYS1iNjE2LTI0NTM5ZDI4YzE4MHxiYWNjM2UyYy0wMzFiLTRkOWMtOWNkYS03NzRiZDdiZWZlMzB8MVwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcInBlcmYgc3RhdHNcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIlwiLFwidWkgdGVtcGxhdGU6IGl4XCI6XCJcIixcIl9faWRcIjpcInBlcmYgc3RhdHN8fFwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcImRiOWU5MjU4LTFhYjctNGZkNi05ZDZjLThlODY5ZTA0Yzk0YlwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiYmZkYTgyOWEtZGU4ZS00NjBiLTg2OTQtOTg3ZWQ5NzVjMjM0XCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjowLFwiX19pZFwiOlwiZGI5ZTkyNTgtMWFiNy00ZmQ2LTlkNmMtOGU4NjllMDRjOTRifGJmZGE4MjlhLWRlOGUtNDYwYi04Njk0LTk4N2VkOTc1YzIzNHwwXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCI5ZjBlMmI5MS01MTNjLTRkNWItODU1OC02MzgzMzg2ZWU4NDRcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2F8OWYwZTJiOTEtNTEzYy00ZDViLTg1NTgtNjM4MzM4NmVlODQ0fDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCJkOGQwNTY0MS1mODY3LTQ1N2MtYWRjMy1iYThjNjRlZmQwN2ZcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIjU4MDAxODRkLTk5NTMtNGQ3MS1iM2YwLTQzOWM0OWU1NGMxMVwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MCxcIl9faWRcIjpcImQ4ZDA1NjQxLWY4NjctNDU3Yy1hZGMzLWJhOGM2NGVmZDA3Znw1ODAwMTg0ZC05OTUzLTRkNzEtYjNmMC00MzljNDllNTRjMTF8MFwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcImJhY2MzZTJjLTAzMWItNGQ5Yy05Y2RhLTc3NGJkN2JlZmUzMFwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiOGI3NDk4M2MtMmE1Mi00YzU2LTkxMTQtYzU0OWZlNmIxY2UyXCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjowLFwiX19pZFwiOlwiYmFjYzNlMmMtMDMxYi00ZDljLTljZGEtNzc0YmQ3YmVmZTMwfDhiNzQ5ODNjLTJhNTItNGM1Ni05MTE0LWM1NDlmZTZiMWNlMnwwXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiZjUxZjliZjEtMjMwZC00YThiLTg2NzEtYTFkN2MzNWJiMmNjXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCI4NDU2NDkxZi1hZjkxLTRlZWYtOTMxNy03M2E4ZDM4YTg3NjlcIixcInVpIHRlbXBsYXRlOiBpeFwiOjAsXCJfX2lkXCI6XCJmNTFmOWJmMS0yMzBkLTRhOGItODY3MS1hMWQ3YzM1YmIyY2N8ODQ1NjQ5MWYtYWY5MS00ZWVmLTkzMTctNzNhOGQzOGE4NzY5fDBcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCI4ZjdkZjg2Mi05ODZjLTQ3NWEtOTYyNC1kOGFjZTg5ZTNjMDdcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MSxcIl9faWRcIjpcIjhmN2RmODYyLTk4NmMtNDc1YS05NjI0LWQ4YWNlODllM2MwN3wzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJ8MVwifSx7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjpcIjY3NDg2N2RhLTZlYTItNDQ5MC1hNTcxLWE3NzEyY2I5ZmIyMFwiLFwidWkgdGVtcGxhdGU6IHBhcmVudFwiOlwiYmFjYzNlMmMtMDMxYi00ZDljLTljZGEtNzc0YmQ3YmVmZTMwXCIsXCJ1aSB0ZW1wbGF0ZTogaXhcIjowLFwiX19pZFwiOlwiNjc0ODY3ZGEtNmVhMi00NDkwLWE1NzEtYTc3MTJjYjlmYjIwfGJhY2MzZTJjLTAzMWItNGQ5Yy05Y2RhLTc3NGJkN2JlZmUzMHwwXCJ9LHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOlwiNDczMjRiZGQtMzMxMi00N2Q5LTgzMWMtNzhmYmEwNWE3MzQyXCIsXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCI6XCJiYWNjM2UyYy0wMzFiLTRkOWMtOWNkYS03NzRiZDdiZWZlMzBcIixcInVpIHRlbXBsYXRlOiBpeFwiOjIsXCJfX2lkXCI6XCI0NzMyNGJkZC0zMzEyLTQ3ZDktODMxYy03OGZiYTA1YTczNDJ8YmFjYzNlMmMtMDMxYi00ZDljLTljZGEtNzc0YmQ3YmVmZTMwfDJcIn0se1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCI6XCI5ZjBlMmI5MS01MTNjLTRkNWItODU1OC02MzgzMzg2ZWU4NDRcIixcInVpIHRlbXBsYXRlOiBwYXJlbnRcIjpcIjg0NTY0OTFmLWFmOTEtNGVlZi05MzE3LTczYThkMzhhODc2OVwiLFwidWkgdGVtcGxhdGU6IGl4XCI6MSxcIl9faWRcIjpcIjlmMGUyYjkxLTUxM2MtNGQ1Yi04NTU4LTYzODMzODZlZTg0NHw4NDU2NDkxZi1hZjkxLTRlZWYtOTMxNy03M2E4ZDM4YTg3Njl8MVwifV0sXCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nXCI6W3tcInVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXCI6XCIzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJcIixcInVpIHRlbXBsYXRlIGJpbmRpbmc6IGJpbmRpbmdcIjpcImJvdW5kIHZpZXcgM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJfX2lkXCI6XCIzZjIzMjYwMy0zZjAwLTQ1MjYtYWJjNy1jNGI3ZDI5OGQ1YzJ8dW5kZWZpbmVkXCJ9LHtcInVpIHRlbXBsYXRlIGJpbmRpbmc6IHRlbXBsYXRlXCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcInVpIHRlbXBsYXRlIGJpbmRpbmc6IGJpbmRpbmdcIjpcImJvdW5kIHZpZXcgM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhXCIsXCJfX2lkXCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2F8dW5kZWZpbmVkXCJ9XSxcInVpIGVtYmVkXCI6W3tcInVpIGVtYmVkOiBlbWJlZFwiOlwiMjkwOGQ0YWQtZDE1OC00NGU2LTkxMmQtNTJlYjE0MWJiZTMyXCIsXCJ1aSBlbWJlZDogdGVtcGxhdGVcIjpcInBlcmYgc3RhdHNcIixcInVpIGVtYmVkOiBwYXJlbnRcIjpcImY1MWY5YmYxLTIzMGQtNGE4Yi04NjcxLWExZDdjMzViYjJjY1wiLFwidWkgZW1iZWQ6IGl4XCI6MCxcIl9faWRcIjpcIjI5MDhkNGFkLWQxNTgtNDRlNi05MTJkLTUyZWIxNDFiYmUzMnxwZXJmIHN0YXRzfGY1MWY5YmYxLTIzMGQtNGE4Yi04NjcxLWExZDdjMzViYjJjY3wwXCJ9XSxcInVpIGF0dHJpYnV0ZVwiOlt7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2FcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcInNlYXJjaFwiLFwiX19pZFwiOlwiM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfHR8c2VhcmNoXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjQ3MzI0YmRkLTMzMTItNDdkOS04MzFjLTc4ZmJhMDVhNzM0MlwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiYnV0dG9uXCIsXCJfX2lkXCI6XCI0NzMyNGJkZC0zMzEyLTQ3ZDktODMxYy03OGZiYTA1YTczNDJ8dHxidXR0b25cIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiZGI5ZTkyNTgtMWFiNy00ZmQ2LTlkNmMtOGU4NjllMDRjOTRiXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJzcGFuXCIsXCJfX2lkXCI6XCJkYjllOTI1OC0xYWI3LTRmZDYtOWQ2Yy04ZTg2OWUwNGM5NGJ8dHxzcGFuXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjg0NTY0OTFmLWFmOTEtNGVlZi05MzE3LTczYThkMzhhODc2OVwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwiY29sb3JcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcInJlZFwiLFwiX19pZFwiOlwiODQ1NjQ5MWYtYWY5MS00ZWVmLTkzMTctNzNhOGQzOGE4NzY5fGNvbG9yfHJlZFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI1ODAwMTg0ZC05OTUzLTRkNzEtYjNmMC00MzljNDllNTRjMTFcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImxhYmVsXCIsXCJfX2lkXCI6XCI1ODAwMTg0ZC05OTUzLTRkNzEtYjNmMC00MzljNDllNTRjMTF8dHxsYWJlbFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIxMDNiM2YyYy0wMmQ5LTQ5MTItOTNiNS1kODAwMDRlNmZlOWVcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImxhYmVsXCIsXCJfX2lkXCI6XCIxMDNiM2YyYy0wMmQ5LTQ5MTItOTNiNS1kODAwMDRlNmZlOWV8dHxsYWJlbFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI4Yjc0OTgzYy0yYTUyLTRjNTYtOTExNC1jNTQ5ZmU2YjFjZTJcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcImNcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcInNlYXJjaC1hY3Rpb25zXCIsXCJfX2lkXCI6XCI4Yjc0OTgzYy0yYTUyLTRjNTYtOTExNC1jNTQ5ZmU2YjFjZTJ8Y3xzZWFyY2gtYWN0aW9uc1wifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCJhOTk3MjQyNy1hNWQyLTQ2NTYtYWY0YS01YzA2ZDVjMWY1OTdcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImNvbnRlbnRcIixcIl9faWRcIjpcImE5OTcyNDI3LWE1ZDItNDY1Ni1hZjRhLTVjMDZkNWMxZjU5N3x0fGNvbnRlbnRcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiZDhkMDU2NDEtZjg2Ny00NTdjLWFkYzMtYmE4YzY0ZWZkMDdmXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJzcGFuXCIsXCJfX2lkXCI6XCJkOGQwNTY0MS1mODY3LTQ1N2MtYWRjMy1iYThjNjRlZmQwN2Z8dHxzcGFuXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMlwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwiY1wiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwicGVyZi1zdGF0c1wiLFwiX19pZFwiOlwiM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyfGN8cGVyZi1zdGF0c1wifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI4NDU2NDkxZi1hZjkxLTRlZWYtOTMxNy03M2E4ZDM4YTg3NjlcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcImNcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcIndpa2ktcm9vdFwiLFwiX19pZFwiOlwiODQ1NjQ5MWYtYWY5MS00ZWVmLTkzMTctNzNhOGQzOGE4NzY5fGN8d2lraS1yb290XCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjg0NTY0OTFmLWFmOTEtNGVlZi05MzE3LTczYThkMzhhODc2OVwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiZGl2XCIsXCJfX2lkXCI6XCI4NDU2NDkxZi1hZjkxLTRlZWYtOTMxNy03M2E4ZDM4YTg3Njl8dHxkaXZcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiMGRjY2ZhZWUtOTFhNS00YTAxLThjZGUtMGZiMDUwY2Y4MDZiXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJjXCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJzZWFyY2gtaGVhZGVyXCIsXCJfX2lkXCI6XCIwZGNjZmFlZS05MWE1LTRhMDEtOGNkZS0wZmIwNTBjZjgwNmJ8Y3xzZWFyY2gtaGVhZGVyXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YVwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwiY1wiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiY29udGFpbmVyIHNlYXJjaC1jb250YWluZXJcIixcIl9faWRcIjpcIjNlODNkN2U2LWYxMzItNGIwMS1hZDdhLTc5OTQ5YjgyNjg3YXxjfGNvbnRhaW5lciBzZWFyY2gtY29udGFpbmVyXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjQ3MzI0YmRkLTMzMTItNDdkOS04MzFjLTc4ZmJhMDVhNzM0MlwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidGV4dFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiKyBjb2xsZWN0aW9uXCIsXCJfX2lkXCI6XCI0NzMyNGJkZC0zMzEyLTQ3ZDktODMxYy03OGZiYTA1YTczNDJ8dGV4dHwrIGNvbGxlY3Rpb25cIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiYmZkYTgyOWEtZGU4ZS00NjBiLTg2OTQtOTg3ZWQ5NzVjMjM0XCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJsYWJlbFwiLFwiX19pZFwiOlwiYmZkYTgyOWEtZGU4ZS00NjBiLTg2OTQtOTg3ZWQ5NzVjMjM0fHR8bGFiZWxcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiYmZkYTgyOWEtZGU4ZS00NjBiLTg2OTQtOTg3ZWQ5NzVjMjM0XCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0ZXh0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJ1cGRhdGVcIixcIl9faWRcIjpcImJmZGE4MjlhLWRlOGUtNDYwYi04Njk0LTk4N2VkOTc1YzIzNHx0ZXh0fHVwZGF0ZVwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI4ZjdkZjg2Mi05ODZjLTQ3NWEtOTYyNC1kOGFjZTg5ZTNjMDdcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImxhYmVsXCIsXCJfX2lkXCI6XCI4ZjdkZjg2Mi05ODZjLTQ3NWEtOTYyNC1kOGFjZTg5ZTNjMDd8dHxsYWJlbFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI4Yjc0OTgzYy0yYTUyLTRjNTYtOTExNC1jNTQ5ZmU2YjFjZTJcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImZvb3RlclwiLFwiX19pZFwiOlwiOGI3NDk4M2MtMmE1Mi00YzU2LTkxMTQtYzU0OWZlNmIxY2UyfHR8Zm9vdGVyXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjU4MDAxODRkLTk5NTMtNGQ3MS1iM2YwLTQzOWM0OWU1NGMxMVwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidGV4dFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwicmVuZGVyXCIsXCJfX2lkXCI6XCI1ODAwMTg0ZC05OTUzLTRkNzEtYjNmMC00MzljNDllNTRjMTF8dGV4dHxyZW5kZXJcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiZTY3ZGJkNzgtNzdiMS00MTVmLTkyOTItYjQ5MjIyOGY3NTEzXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJzcGFuXCIsXCJfX2lkXCI6XCJlNjdkYmQ3OC03N2IxLTQxNWYtOTI5Mi1iNDkyMjI4Zjc1MTN8dHxzcGFuXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjY3NDg2N2RhLTZlYTItNDQ5MC1hNTcxLWE3NzEyY2I5ZmIyMFwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiYnV0dG9uXCIsXCJfX2lkXCI6XCI2NzQ4NjdkYS02ZWEyLTQ0OTAtYTU3MS1hNzcxMmNiOWZiMjB8dHxidXR0b25cIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiMmRiNjUwOWMtZGQ0NC00MGY0LTljODMtYTEyMjM1MmYzNmNjXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJjXCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJzZWFyY2gtaW5wdXRcIixcIl9faWRcIjpcIjJkYjY1MDljLWRkNDQtNDBmNC05YzgzLWExMjIzNTJmMzZjY3xjfHNlYXJjaC1pbnB1dFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODBcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImJ1dHRvblwiLFwiX19pZFwiOlwiMTg1MzFkMTQtNmY5ZC00NjBhLWI2MTYtMjQ1MzlkMjhjMTgwfHR8YnV0dG9uXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcIjEwM2IzZjJjLTAyZDktNDkxMi05M2I1LWQ4MDAwNGU2ZmU5ZVwiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidGV4dFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwicm9vdFwiLFwiX19pZFwiOlwiMTAzYjNmMmMtMDJkOS00OTEyLTkzYjUtZDgwMDA0ZTZmZTllfHRleHR8cm9vdFwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI4ZjdkZjg2Mi05ODZjLTQ3NWEtOTYyNC1kOGFjZTg5ZTNjMDdcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRleHRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcInVpIGNvbXBpbGVcIixcIl9faWRcIjpcIjhmN2RmODYyLTk4NmMtNDc1YS05NjI0LWQ4YWNlODllM2MwN3x0ZXh0fHVpIGNvbXBpbGVcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiNjc0ODY3ZGEtNmVhMi00NDkwLWE1NzEtYTc3MTJjYjlmYjIwXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0ZXh0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCIrIGVudGl0eVwiLFwiX19pZFwiOlwiNjc0ODY3ZGEtNmVhMi00NDkwLWE1NzEtYTc3MTJjYjlmYjIwfHRleHR8KyBlbnRpdHlcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiM2YyMzI2MDMtM2YwMC00NTI2LWFiYzctYzRiN2QyOThkNWMyXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJyb3dcIixcIl9faWRcIjpcIjNmMjMyNjAzLTNmMDAtNDUyNi1hYmM3LWM0YjdkMjk4ZDVjMnx0fHJvd1wifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIzZjRjNzQ2Ny1mM2NjLTQxMmUtYjFkYS0wNTRjNDRkYTY0OGNcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcInNwYW5cIixcIl9faWRcIjpcIjNmNGM3NDY3LWYzY2MtNDEyZS1iMWRhLTA1NGM0NGRhNjQ4Y3x0fHNwYW5cIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiYmFjYzNlMmMtMDMxYi00ZDljLTljZGEtNzc0YmQ3YmVmZTMwXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJyb3dcIixcIl9faWRcIjpcImJhY2MzZTJjLTAzMWItNGQ5Yy05Y2RhLTc3NGJkN2JlZmUzMHx0fHJvd1wifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODBcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRleHRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcIisgYXR0cmlidXRlXCIsXCJfX2lkXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODB8dGV4dHwrIGF0dHJpYnV0ZVwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCIwZGNjZmFlZS05MWE1LTRhMDEtOGNkZS0wZmIwNTBjZjgwNmJcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImhlYWRlclwiLFwiX19pZFwiOlwiMGRjY2ZhZWUtOTFhNS00YTAxLThjZGUtMGZiMDUwY2Y4MDZifHR8aGVhZGVyXCJ9LHtcInVpIGF0dHJpYnV0ZTogdGVtcGxhdGVcIjpcImY1MWY5YmYxLTIzMGQtNGE4Yi04NjcxLWExZDdjMzViYjJjY1wiLFwidWkgYXR0cmlidXRlOiBwcm9wZXJ0eVwiOlwidFwiLFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOlwiaGVhZGVyXCIsXCJfX2lkXCI6XCJmNTFmOWJmMS0yMzBkLTRhOGItODY3MS1hMWQ3YzM1YmIyY2N8dHxoZWFkZXJcIn0se1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiOlwiMmRiNjUwOWMtZGQ0NC00MGY0LTljODMtYTEyMjM1MmYzNmNjXCIsXCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6XCJ0XCIsXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6XCJkaXZcIixcIl9faWRcIjpcIjJkYjY1MDljLWRkNDQtNDBmNC05YzgzLWExMjIzNTJmMzZjY3x0fGRpdlwifSx7XCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCI6XCI5ZjBlMmI5MS01MTNjLTRkNWItODU1OC02MzgzMzg2ZWU4NDRcIixcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjpcInRcIixcInVpIGF0dHJpYnV0ZTogdmFsdWVcIjpcImNvbnRlbnRcIixcIl9faWRcIjpcIjlmMGUyYjkxLTUxM2MtNGQ1Yi04NTU4LTYzODMzODZlZTg0NHx0fGNvbnRlbnRcIn1dLFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIjpbe1widWkgYXR0cmlidXRlIGJpbmRpbmc6IHRlbXBsYXRlXCI6XCJkYjllOTI1OC0xYWI3LTRmZDYtOWQ2Yy04ZTg2OWUwNGM5NGJcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBwcm9wZXJ0eVwiOlwidGV4dFwiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IHNvdXJjZVwiOlwicGVyZiBzdGF0c1wiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IGFsaWFzXCI6XCJ1cGRhdGVcIixcIl9faWRcIjpcImRiOWU5MjU4LTFhYjctNGZkNi05ZDZjLThlODY5ZTA0Yzk0Ynx0ZXh0fHBlcmYgc3RhdHN8dXBkYXRlXCJ9LHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiMmRiNjUwOWMtZGQ0NC00MGY0LTljODMtYTEyMjM1MmYzNmNjXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjpcInRleHRcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIjpcInNlYXJjaFwiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IGFsaWFzXCI6XCJzZWFyY2ggMlwiLFwiX19pZFwiOlwiMmRiNjUwOWMtZGQ0NC00MGY0LTljODMtYTEyMjM1MmYzNmNjfHRleHR8c2VhcmNofHNlYXJjaCAyXCJ9LHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiZTY3ZGJkNzgtNzdiMS00MTVmLTkyOTItYjQ5MjIyOGY3NTEzXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjpcInRleHRcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIjpcInBlcmYgc3RhdHNcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBhbGlhc1wiOlwidWkgY29tcGlsZVwiLFwiX19pZFwiOlwiZTY3ZGJkNzgtNzdiMS00MTVmLTkyOTItYjQ5MjIyOGY3NTEzfHRleHR8cGVyZiBzdGF0c3x1aSBjb21waWxlXCJ9LHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiM2Y0Yzc0NjctZjNjYy00MTJlLWIxZGEtMDU0YzQ0ZGE2NDhjXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjpcInRleHRcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIjpcInBlcmYgc3RhdHNcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBhbGlhc1wiOlwicm9vdFwiLFwiX19pZFwiOlwiM2Y0Yzc0NjctZjNjYy00MTJlLWIxZGEtMDU0YzQ0ZGE2NDhjfHRleHR8cGVyZiBzdGF0c3xyb290XCJ9LHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjpcInRvcFwiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IHNvdXJjZVwiOlwic2VhcmNoXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogYWxpYXNcIjpcInRvcFwiLFwiX19pZFwiOlwiM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhfHRvcHxzZWFyY2h8dG9wXCJ9LHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiM2U4M2Q3ZTYtZjEzMi00YjAxLWFkN2EtNzk5NDliODI2ODdhXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjpcImxlZnRcIixcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIjpcInNlYXJjaFwiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IGFsaWFzXCI6XCJsZWZ0XCIsXCJfX2lkXCI6XCIzZTgzZDdlNi1mMTMyLTRiMDEtYWQ3YS03OTk0OWI4MjY4N2F8bGVmdHxzZWFyY2h8bGVmdFwifSx7XCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogdGVtcGxhdGVcIjpcImQ4ZDA1NjQxLWY4NjctNDU3Yy1hZGMzLWJhOGM2NGVmZDA3ZlwiLFwidWkgYXR0cmlidXRlIGJpbmRpbmc6IHByb3BlcnR5XCI6XCJ0ZXh0XCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogc291cmNlXCI6XCJwZXJmIHN0YXRzXCIsXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogYWxpYXNcIjpcInJlbmRlclwiLFwiX19pZFwiOlwiZDhkMDU2NDEtZjg2Ny00NTdjLWFkYzMtYmE4YzY0ZWZkMDdmfHRleHR8cGVyZiBzdGF0c3xyZW5kZXJcIn1dLFwidWkgZXZlbnRcIjpbe1widWkgZXZlbnQ6IHRlbXBsYXRlXCI6XCI2NzQ4NjdkYS02ZWEyLTQ0OTAtYTU3MS1hNzcxMmNiOWZiMjBcIixcInVpIGV2ZW50OiBldmVudFwiOlwiY2xpY2tcIixcIl9faWRcIjpcIjY3NDg2N2RhLTZlYTItNDQ5MC1hNTcxLWE3NzEyY2I5ZmIyMHxjbGlja1wifSx7XCJ1aSBldmVudDogdGVtcGxhdGVcIjpcIjQ3MzI0YmRkLTMzMTItNDdkOS04MzFjLTc4ZmJhMDVhNzM0MlwiLFwidWkgZXZlbnQ6IGV2ZW50XCI6XCJjbGlja1wiLFwiX19pZFwiOlwiNDczMjRiZGQtMzMxMi00N2Q5LTgzMWMtNzhmYmEwNWE3MzQyfGNsaWNrXCJ9LHtcInVpIGV2ZW50OiB0ZW1wbGF0ZVwiOlwiMTg1MzFkMTQtNmY5ZC00NjBhLWI2MTYtMjQ1MzlkMjhjMTgwXCIsXCJ1aSBldmVudDogZXZlbnRcIjpcImNsaWNrXCIsXCJfX2lkXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODB8Y2xpY2tcIn1dLFwidWkgZXZlbnQgc3RhdGVcIjpbe1widWkgZXZlbnQgc3RhdGU6IHRlbXBsYXRlXCI6XCI2NzQ4NjdkYS02ZWEyLTQ0OTAtYTU3MS1hNzcxMmNiOWZiMjBcIixcInVpIGV2ZW50IHN0YXRlOiBldmVudFwiOlwiY2xpY2tcIixcInVpIGV2ZW50IHN0YXRlOiBrZXlcIjpcImtpbmRcIixcInVpIGV2ZW50IHN0YXRlOiB2YWx1ZVwiOlwiYWRkIGVudGl0eSBhY3Rpb25cIixcIl9faWRcIjpcIjY3NDg2N2RhLTZlYTItNDQ5MC1hNTcxLWE3NzEyY2I5ZmIyMHxjbGlja3xraW5kfGFkZCBlbnRpdHkgYWN0aW9uXCJ9LHtcInVpIGV2ZW50IHN0YXRlOiB0ZW1wbGF0ZVwiOlwiNDczMjRiZGQtMzMxMi00N2Q5LTgzMWMtNzhmYmEwNWE3MzQyXCIsXCJ1aSBldmVudCBzdGF0ZTogZXZlbnRcIjpcImNsaWNrXCIsXCJ1aSBldmVudCBzdGF0ZToga2V5XCI6XCJraW5kXCIsXCJ1aSBldmVudCBzdGF0ZTogdmFsdWVcIjpcImFkZCBjb2xsZWN0aW9uIGFjdGlvblwiLFwiX19pZFwiOlwiNDczMjRiZGQtMzMxMi00N2Q5LTgzMWMtNzhmYmEwNWE3MzQyfGNsaWNrfGtpbmR8YWRkIGNvbGxlY3Rpb24gYWN0aW9uXCJ9LHtcInVpIGV2ZW50IHN0YXRlOiB0ZW1wbGF0ZVwiOlwiMTg1MzFkMTQtNmY5ZC00NjBhLWI2MTYtMjQ1MzlkMjhjMTgwXCIsXCJ1aSBldmVudCBzdGF0ZTogZXZlbnRcIjpcImNsaWNrXCIsXCJ1aSBldmVudCBzdGF0ZToga2V5XCI6XCJraW5kXCIsXCJ1aSBldmVudCBzdGF0ZTogdmFsdWVcIjpcImFkZCBhdHRyaWJ1dGUgYWN0aW9uXCIsXCJfX2lkXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODB8Y2xpY2t8a2luZHxhZGQgYXR0cmlidXRlIGFjdGlvblwifV0sXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCI6W3tcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHRlbXBsYXRlXCI6XCI2NzQ4NjdkYS02ZWEyLTQ0OTAtYTU3MS1hNzcxMmNiOWZiMjBcIixcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGV2ZW50XCI6XCJjbGlja1wiLFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzoga2V5XCI6XCJpZFwiLFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogc291cmNlXCI6XCJzZWFyY2hcIixcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGFsaWFzXCI6XCJpZFwiLFwiX19pZFwiOlwiNjc0ODY3ZGEtNmVhMi00NDkwLWE1NzEtYTc3MTJjYjlmYjIwfGNsaWNrfGlkfHNlYXJjaHxpZFwifSx7XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOlwiNDczMjRiZGQtMzMxMi00N2Q5LTgzMWMtNzhmYmEwNWE3MzQyXCIsXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBldmVudFwiOlwiY2xpY2tcIixcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGtleVwiOlwiaWRcIixcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHNvdXJjZVwiOlwic2VhcmNoXCIsXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBhbGlhc1wiOlwiaWRcIixcIl9faWRcIjpcIjQ3MzI0YmRkLTMzMTItNDdkOS04MzFjLTc4ZmJhMDVhNzM0MnxjbGlja3xpZHxzZWFyY2h8aWRcIn0se1widWkgZXZlbnQgc3RhdGUgYmluZGluZzogdGVtcGxhdGVcIjpcIjE4NTMxZDE0LTZmOWQtNDYwYS1iNjE2LTI0NTM5ZDI4YzE4MFwiLFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogZXZlbnRcIjpcImNsaWNrXCIsXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBrZXlcIjpcImlkXCIsXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBzb3VyY2VcIjpcInNlYXJjaFwiLFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogYWxpYXNcIjpcImlkXCIsXCJfX2lkXCI6XCIxODUzMWQxNC02ZjlkLTQ2MGEtYjYxNi0yNDUzOWQyOGMxODB8Y2xpY2t8aWR8c2VhcmNofGlkXCJ9XSxcInN5c3RlbSB1aVwiOlt7XCJ0ZW1wbGF0ZVwiOlwid2lraSByb290XCIsXCJfX2lkXCI6XCJ3aWtpIHJvb3RcIn1dLFwiaGlzdG9yeSBzdGFja1wiOlt7XCJlbnRpdHlcIjpcImZvb1wiLFwicG9zXCI6MCxcIl9faWRcIjpcImZvb3wwXCJ9LHtcImVudGl0eVwiOlwiZW5naW5lZXJpbmdcIixcInBvc1wiOjEsXCJfX2lkXCI6XCJlbmdpbmVlcmluZ3wxXCJ9LHtcImVudGl0eVwiOlwiY2hyaXMgZ3JhbmdlclwiLFwicG9zXCI6MixcIl9faWRcIjpcImNocmlzIGdyYW5nZXJ8MlwifSx7XCJlbnRpdHlcIjpcImpvc2ggY29sZVwiLFwicG9zXCI6MyxcIl9faWRcIjpcImpvc2ggY29sZXwzXCJ9LHtcImVudGl0eVwiOlwiamFtaWUgYnJhbmRvblwiLFwicG9zXCI6NCxcIl9faWRcIjpcImphbWllIGJyYW5kb258NFwifSx7XCJlbnRpdHlcIjpcImNvcmV5IG1vbnRlbGxhXCIsXCJwb3NcIjo1LFwiX19pZFwiOlwiY29yZXkgbW9udGVsbGF8NVwifSx7XCJlbnRpdHlcIjpcImVyaWMgaG9mZm1hblwiLFwicG9zXCI6NixcIl9faWRcIjpcImVyaWMgaG9mZm1hbnw2XCJ9LHtcImVudGl0eVwiOlwic3VtIHBlb3BsZSdzIGFnZXNcIixcInBvc1wiOjcsXCJfX2lkXCI6XCJzdW0gcGVvcGxlJ3MgYWdlc3w3XCJ9LHtcImVudGl0eVwiOlwib3BlcmF0aW9uc1wiLFwicG9zXCI6OCxcIl9faWRcIjpcIm9wZXJhdGlvbnN8OFwifSx7XCJlbnRpdHlcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwicG9zXCI6OSxcIl9faWRcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudHw5XCJ9LHtcImVudGl0eVwiOlwicm9iZXJ0IGF0dG9ycmlcIixcInBvc1wiOjEwLFwiX19pZFwiOlwicm9iZXJ0IGF0dG9ycml8MTBcIn0se1wiZW50aXR5XCI6XCJwZW9wbGUgYWdlc1wiLFwicG9zXCI6MTEsXCJfX2lkXCI6XCJwZW9wbGUgYWdlc3wxMVwifSx7XCJlbnRpdHlcIjpcInBlb3BsZSBhZ2VzIGFuZCBoZWlnaHRzXCIsXCJwb3NcIjoxMixcIl9faWRcIjpcInBlb3BsZSBhZ2VzIGFuZCBoZWlnaHRzfDEyXCJ9LHtcImVudGl0eVwiOlwicGVvcGxlJ3MgYWdlcyBhbmQgaGVpZ2h0c1wiLFwicG9zXCI6MTMsXCJfX2lkXCI6XCJwZW9wbGUncyBhZ2VzIGFuZCBoZWlnaHRzfDEzXCJ9LHtcImVudGl0eVwiOlwiem9tZ1wiLFwicG9zXCI6MTQsXCJfX2lkXCI6XCJ6b21nfDE0XCJ9LHtcImVudGl0eVwiOlwiZGVwYXJ0bWVudFwiLFwicG9zXCI6MTUsXCJfX2lkXCI6XCJkZXBhcnRtZW50fDE1XCJ9LHtcImVudGl0eVwiOlwic3VtIG9mIHRoZSBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwicG9zXCI6MTYsXCJfX2lkXCI6XCJzdW0gb2YgdGhlIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fDE2XCJ9LHtcImVudGl0eVwiOlwic3VtIG9mIHRoZSB0b3AgMiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwicG9zXCI6MTcsXCJfX2lkXCI6XCJzdW0gb2YgdGhlIHRvcCAyIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fDE3XCJ9LHtcImVudGl0eVwiOlwicGVvcGxlJ3MgYWdlc1wiLFwicG9zXCI6MTgsXCJfX2lkXCI6XCJwZW9wbGUncyBhZ2VzfDE4XCJ9LHtcImVudGl0eVwiOlwiZW1wbG95ZWVcIixcInBvc1wiOjE5LFwiX19pZFwiOlwiZW1wbG95ZWV8MTlcIn0se1wiZW50aXR5XCI6XCJlbXBsb3llZXNcIixcInBvc1wiOjIwLFwiX19pZFwiOlwiZW1wbG95ZWVzfDIwXCJ9LHtcImVudGl0eVwiOlwicGVvcGxlXCIsXCJwb3NcIjoyMSxcIl9faWRcIjpcInBlb3BsZXwyMVwifSx7XCJlbnRpdHlcIjpcIm1vZGVybiBmYW1pbHlcIixcInBvc1wiOjIyLFwiX19pZFwiOlwibW9kZXJuIGZhbWlseXwyMlwifSx7XCJlbnRpdHlcIjpcInBpbG90XCIsXCJwb3NcIjoyMyxcIl9faWRcIjpcInBpbG90fDIzXCJ9LHtcImVudGl0eVwiOlwiZ3JlYXQgZXhwZWN0YXRpb25zXCIsXCJwb3NcIjoyNCxcIl9faWRcIjpcImdyZWF0IGV4cGVjdGF0aW9uc3wyNFwifSx7XCJlbnRpdHlcIjpcInRoZSBiaWN5Y2xlIHRoaWVmXCIsXCJwb3NcIjoyNSxcIl9faWRcIjpcInRoZSBiaWN5Y2xlIHRoaWVmfDI1XCJ9LHtcImVudGl0eVwiOlwiY29tZSBmbHkgd2l0aCBtZVwiLFwicG9zXCI6MjYsXCJfX2lkXCI6XCJjb21lIGZseSB3aXRoIG1lfDI2XCJ9LHtcImVudGl0eVwiOlwidGhlIGluY2lkZW50XCIsXCJwb3NcIjoyNyxcIl9faWRcIjpcInRoZSBpbmNpZGVudHwyN1wifSx7XCJlbnRpdHlcIjpcImNvYWwgZGlnZ2VyXCIsXCJwb3NcIjoyOCxcIl9faWRcIjpcImNvYWwgZGlnZ2VyfDI4XCJ9LHtcImVudGl0eVwiOlwicnVuIGZvciB5b3VyIHdpZmVcIixcInBvc1wiOjI5LFwiX19pZFwiOlwicnVuIGZvciB5b3VyIHdpZmV8MjlcIn0se1wiZW50aXR5XCI6XCJlbiBnYXJkZVwiLFwicG9zXCI6MzAsXCJfX2lkXCI6XCJlbiBnYXJkZXwzMFwifSx7XCJlbnRpdHlcIjpcImVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHlcIixcInBvc1wiOjMxLFwiX19pZFwiOlwiZXBpc29kZXMgb2YgbW9kZXJuIGZhbWlseXwzMVwifSx7XCJlbnRpdHlcIjpcImVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aG91dCBlZHdhcmQgbm9ydG9uXCIsXCJwb3NcIjozMixcIl9faWRcIjpcImVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aG91dCBlZHdhcmQgbm9ydG9ufDMyXCJ9LHtcImVudGl0eVwiOlwiZWR3YXJkIG5vcnRvblwiLFwicG9zXCI6MzMsXCJfX2lkXCI6XCJlZHdhcmQgbm9ydG9ufDMzXCJ9LHtcImVudGl0eVwiOlwidmluIGRpZXNlbFwiLFwicG9zXCI6MzQsXCJfX2lkXCI6XCJ2aW4gZGllc2VsfDM0XCJ9LHtcImVudGl0eVwiOlwiYW1lcmljYW5cIixcInBvc1wiOjM1LFwiX19pZFwiOlwiYW1lcmljYW58MzVcIn0se1wiZW50aXR5XCI6XCJhbWVyaWNhbnNcIixcInBvc1wiOjM2LFwiX19pZFwiOlwiYW1lcmljYW5zfDM2XCJ9LHtcImVudGl0eVwiOlwidmluIGFjdG9yc1wiLFwicG9zXCI6MzcsXCJfX2lkXCI6XCJ2aW4gYWN0b3JzfDM3XCJ9LHtcImVudGl0eVwiOlwiYWN0b3JcIixcInBvc1wiOjM4LFwiX19pZFwiOlwiYWN0b3J8MzhcIn0se1wiZW50aXR5XCI6XCJhY3RvcnMgd2hvIGFyZSBhbWVyaWNhblwiLFwicG9zXCI6MzksXCJfX2lkXCI6XCJhY3RvcnMgd2hvIGFyZSBhbWVyaWNhbnwzOVwifSx7XCJlbnRpdHlcIjpcImNvdW50IHRoZSBlcGlzb2RlcyBvZiBtb2Rlcm4gZmFtaWx5IHdpdGhvdXQgZWR3YXJkIG5vcnRvblwiLFwicG9zXCI6NDAsXCJfX2lkXCI6XCJjb3VudCB0aGUgZXBpc29kZXMgb2YgbW9kZXJuIGZhbWlseSB3aXRob3V0IGVkd2FyZCBub3J0b258NDBcIn0se1wiZW50aXR5XCI6XCJlcGlzb2RlcyBvZiBtb2Rlcm4gZmFtaWx5IHdpdGggZWR3YXJkIG5vcnRvblwiLFwicG9zXCI6NDEsXCJfX2lkXCI6XCJlcGlzb2RlcyBvZiBtb2Rlcm4gZmFtaWx5IHdpdGggZWR3YXJkIG5vcnRvbnw0MVwifSx7XCJlbnRpdHlcIjpcImFjdG9ycyByZWxhdGVkIHRvIG1vZGVybiBmYW1pbHlcIixcInBvc1wiOjQyLFwiX19pZFwiOlwiYWN0b3JzIHJlbGF0ZWQgdG8gbW9kZXJuIGZhbWlseXw0MlwifSx7XCJlbnRpdHlcIjpcImNvdW50IGVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aG91dCBlZHdhcmQgbm9ydG9uXCIsXCJwb3NcIjo0MyxcIl9faWRcIjpcImNvdW50IGVwaXNvZGVzIG9mIG1vZGVybiBmYW1pbHkgd2l0aG91dCBlZHdhcmQgbm9ydG9ufDQzXCJ9LHtcImVudGl0eVwiOlwiY291bnQgb2YgbW9kZXJuIGZhbWlseSBlcGlzb2RlcyB3aXRob3V0IGVkd2FyZCBub3J0b25cIixcInBvc1wiOjQ0LFwiX19pZFwiOlwiY291bnQgb2YgbW9kZXJuIGZhbWlseSBlcGlzb2RlcyB3aXRob3V0IGVkd2FyZCBub3J0b258NDRcIn0se1wiZW50aXR5XCI6XCJveWFrbyBkb25cIixcInBvc1wiOjQ1LFwiX19pZFwiOlwib3lha28gZG9ufDQ1XCJ9LHtcImVudGl0eVwiOlwiY2hpY2tlblwiLFwicG9zXCI6NDYsXCJfX2lkXCI6XCJjaGlja2VufDQ2XCJ9LHtcImVudGl0eVwiOlwiZWdnXCIsXCJwb3NcIjo0NyxcIl9faWRcIjpcImVnZ3w0N1wifSx7XCJlbnRpdHlcIjpcImRpc2hlc1wiLFwicG9zXCI6NDgsXCJfX2lkXCI6XCJkaXNoZXN8NDhcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCBhcmUgc3dlZXRcIixcInBvc1wiOjQ5LFwiX19pZFwiOlwiZGlzaGVzIHRoYXQgYXJlIHN3ZWV0fDQ5XCJ9LHtcImVudGl0eVwiOlwicmljZVwiLFwicG9zXCI6NTAsXCJfX2lkXCI6XCJyaWNlfDUwXCJ9LHtcImVudGl0eVwiOlwic2NhbGxpb25cIixcInBvc1wiOjUxLFwiX19pZFwiOlwic2NhbGxpb258NTFcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgd2l0aCBjaGlja2VuXCIsXCJwb3NcIjo1MixcIl9faWRcIjpcImRpc2hlcyB3aXRoIGNoaWNrZW58NTJcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgd2l0aCBjaGlja2VuIGFuZCBlZ2dzXCIsXCJwb3NcIjo1MyxcIl9faWRcIjpcImRpc2hlcyB3aXRoIGNoaWNrZW4gYW5kIGVnZ3N8NTNcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgd2l0aCBjaGlja2VuIGFuZCBlZ2dzIGFuZCByaWNlXCIsXCJwb3NcIjo1NCxcIl9faWRcIjpcImRpc2hlcyB3aXRoIGNoaWNrZW4gYW5kIGVnZ3MgYW5kIHJpY2V8NTRcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgd2l0aCBjaGlja2VuIGFuZFwiLFwicG9zXCI6NTUsXCJfX2lkXCI6XCJkaXNoZXMgd2l0aCBjaGlja2VuIGFuZHw1NVwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB3aXRoIGNoaWNrZW4gYW5kIHJpY2VcIixcInBvc1wiOjU2LFwiX19pZFwiOlwiZGlzaGVzIHdpdGggY2hpY2tlbiBhbmQgcmljZXw1NlwifSx7XCJlbnRpdHlcIjpcInNhdm9yeVwiLFwicG9zXCI6NTcsXCJfX2lkXCI6XCJzYXZvcnl8NTdcIn0se1wiZW50aXR5XCI6XCJBcHBsZSBQaWVcIixcInBvc1wiOjU4LFwiX19pZFwiOlwiQXBwbGUgUGllfDU4XCJ9LHtcImVudGl0eVwiOlwiYXBwbGUgcGllXCIsXCJwb3NcIjo1OSxcIl9faWRcIjpcImFwcGxlIHBpZXw1OVwifSx7XCJlbnRpdHlcIjpcImFwcGxlXCIsXCJwb3NcIjo2MCxcIl9faWRcIjpcImFwcGxlfDYwXCJ9LHtcImVudGl0eVwiOlwic3dlZXRcIixcInBvc1wiOjYxLFwiX19pZFwiOlwic3dlZXR8NjFcIn0se1wiZW50aXR5XCI6XCJzd2VldHNcIixcInBvc1wiOjYyLFwiX19pZFwiOlwic3dlZXRzfDYyXCJ9LHtcImVudGl0eVwiOlwiZGlzaGVzIHdpdGggYXBwbGVcIixcInBvc1wiOjYzLFwiX19pZFwiOlwiZGlzaGVzIHdpdGggYXBwbGV8NjNcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCBhcmUgc3dlZXQgd2l0aCByaWNlXCIsXCJwb3NcIjo2NCxcIl9faWRcIjpcImRpc2hlcyB0aGF0IGFyZSBzd2VldCB3aXRoIHJpY2V8NjRcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCBhcmUgc3dlZXQgd2l0aCBhcHBsZXNcIixcInBvc1wiOjY1LFwiX19pZFwiOlwiZGlzaGVzIHRoYXQgYXJlIHN3ZWV0IHdpdGggYXBwbGVzfDY1XCJ9LHtcImVudGl0eVwiOlwiZGlzaGVzIHRoYXQgYXJlIHN3ZWV0IHdpdGhvdXQgYXBwbGVzXCIsXCJwb3NcIjo2NixcIl9faWRcIjpcImRpc2hlcyB0aGF0IGFyZSBzd2VldCB3aXRob3V0IGFwcGxlc3w2NlwifSx7XCJlbnRpdHlcIjpcInJpY2UgcHVkZGluZ1wiLFwicG9zXCI6NjcsXCJfX2lkXCI6XCJyaWNlIHB1ZGRpbmd8NjdcIn0se1wiZW50aXR5XCI6XCJcXFwicmljZSBwdWRkaW5nXFxcIlwiLFwicG9zXCI6NjgsXCJfX2lkXCI6XCJcXFwicmljZSBwdWRkaW5nXFxcInw2OFwifSx7XCJlbnRpdHlcIjpcImdyYWluc1wiLFwicG9zXCI6NjksXCJfX2lkXCI6XCJncmFpbnN8NjlcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCB1c2UgYSBncmFpblwiLFwicG9zXCI6NzAsXCJfX2lkXCI6XCJkaXNoZXMgdGhhdCB1c2UgYSBncmFpbnw3MFwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB0aGF0IHVzZSBhIGdyYWluIHdpdGhvdXQgY2hpY2tlblwiLFwicG9zXCI6NzEsXCJfX2lkXCI6XCJkaXNoZXMgdGhhdCB1c2UgYSBncmFpbiB3aXRob3V0IGNoaWNrZW58NzFcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCB1c2UgYSBncmFpbiBhbmQgZG9uJ3QgaGF2ZSBjaGlja2VuXCIsXCJwb3NcIjo3MixcIl9faWRcIjpcImRpc2hlcyB0aGF0IHVzZSBhIGdyYWluIGFuZCBkb24ndCBoYXZlIGNoaWNrZW58NzJcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCB1c2UgYSBncmFpbiBhbmQgZG9uJ3QgaGF2ZSBhcHBsZXNcIixcInBvc1wiOjczLFwiX19pZFwiOlwiZGlzaGVzIHRoYXQgdXNlIGEgZ3JhaW4gYW5kIGRvbid0IGhhdmUgYXBwbGVzfDczXCJ9LHtcImVudGl0eVwiOlwiZGlzaGVzIHRoYXQgY29udGFpbiBhIGdyYWluIGFuZCBkb24ndCBoYXZlIGFwcGxlc1wiLFwicG9zXCI6NzQsXCJfX2lkXCI6XCJkaXNoZXMgdGhhdCBjb250YWluIGEgZ3JhaW4gYW5kIGRvbid0IGhhdmUgYXBwbGVzfDc0XCJ9LHtcImVudGl0eVwiOlwiZGlzaGVzIHRoYXQgY29udGFpbiBhIGdyYWluIGFuZCBkb24ndCBoYXZlIHNjYWxsaW9uc1wiLFwicG9zXCI6NzUsXCJfX2lkXCI6XCJkaXNoZXMgdGhhdCBjb250YWluIGEgZ3JhaW4gYW5kIGRvbid0IGhhdmUgc2NhbGxpb25zfDc1XCJ9LHtcImVudGl0eVwiOlwiY291bnQgaW5ncmVkaWVudHMgcGVyIGRpc2hcIixcInBvc1wiOjc2LFwiX19pZFwiOlwiY291bnQgaW5ncmVkaWVudHMgcGVyIGRpc2h8NzZcIn0se1wiZW50aXR5XCI6XCJwZXIgZGlzaCBjb3VudCB0aGUgaW5ncmVkaWVudHNcIixcInBvc1wiOjc3LFwiX19pZFwiOlwicGVyIGRpc2ggY291bnQgdGhlIGluZ3JlZGllbnRzfDc3XCJ9LHtcImVudGl0eVwiOlwiY291bnQgb2YgdGhlIGluZ3JlZGllbnRzIHBlciBkaXNoXCIsXCJwb3NcIjo3OCxcIl9faWRcIjpcImNvdW50IG9mIHRoZSBpbmdyZWRpZW50cyBwZXIgZGlzaHw3OFwifSx7XCJlbnRpdHlcIjpcImNvdW50IGluZ3JlZGllbnRzIHBlciBkaXNoIGluIG15IGNvbGxlY3Rpb25cIixcInBvc1wiOjc5LFwiX19pZFwiOlwiY291bnQgaW5ncmVkaWVudHMgcGVyIGRpc2ggaW4gbXkgY29sbGVjdGlvbnw3OVwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyBpbiBteSBjb2xsZWN0aW9uXCIsXCJwb3NcIjo4MCxcIl9faWRcIjpcImRpc2hlcyBpbiBteSBjb2xsZWN0aW9ufDgwXCJ9LHtcImVudGl0eVwiOlwiZGlzaGVzIGluIG15IGNvbGxlY3Rpb24gaW5ncmVkaWVudHNcIixcInBvc1wiOjgxLFwiX19pZFwiOlwiZGlzaGVzIGluIG15IGNvbGxlY3Rpb24gaW5ncmVkaWVudHN8ODFcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgaW4gbXkgY29sbGVjdGlvbiBwZXIgaW5ncmVkaWVudHNcIixcInBvc1wiOjgyLFwiX19pZFwiOlwiZGlzaGVzIGluIG15IGNvbGxlY3Rpb24gcGVyIGluZ3JlZGllbnRzfDgyXCJ9LHtcImVudGl0eVwiOlwicGVyIGRpc2hlcyBpbiBteSBjb2xsZWN0aW9uIGluZ3JlZGllbnRzXCIsXCJwb3NcIjo4MyxcIl9faWRcIjpcInBlciBkaXNoZXMgaW4gbXkgY29sbGVjdGlvbiBpbmdyZWRpZW50c3w4M1wifSx7XCJlbnRpdHlcIjpcInBlciBkaXNoZXMgaW4gbXkgY29sbGVjdGlvbiBjb3VudCBpbmdyZWRpZW50c1wiLFwicG9zXCI6ODQsXCJfX2lkXCI6XCJwZXIgZGlzaGVzIGluIG15IGNvbGxlY3Rpb24gY291bnQgaW5ncmVkaWVudHN8ODRcIn0se1wiZW50aXR5XCI6XCJjb3VudCBpbmdyZWRpZW50cyBteSBjb2xsZWN0aW9uXCIsXCJwb3NcIjo4NSxcIl9faWRcIjpcImNvdW50IGluZ3JlZGllbnRzIG15IGNvbGxlY3Rpb258ODVcIn0se1wiZW50aXR5XCI6XCJjb3VudCBpbmdyZWRpZW50cyBpbiBteSBjb2xsZWN0aW9uXCIsXCJwb3NcIjo4NixcIl9faWRcIjpcImNvdW50IGluZ3JlZGllbnRzIGluIG15IGNvbGxlY3Rpb258ODZcIn0se1wiZW50aXR5XCI6XCJjb3VudCBpbmdyZWRpZW50cyBpbiBteSBjb2xsZWN0aW9uIHBlciBkaXNoXCIsXCJwb3NcIjo4NyxcIl9faWRcIjpcImNvdW50IGluZ3JlZGllbnRzIGluIG15IGNvbGxlY3Rpb24gcGVyIGRpc2h8ODdcIn0se1wiZW50aXR5XCI6XCJjb3VudCBkaXNoZXMgaW4gbXkgY29sbGVjdGlvblwiLFwicG9zXCI6ODgsXCJfX2lkXCI6XCJjb3VudCBkaXNoZXMgaW4gbXkgY29sbGVjdGlvbnw4OFwifSx7XCJlbnRpdHlcIjpcIm15IGNvbGxlY3Rpb25cIixcInBvc1wiOjg5LFwiX19pZFwiOlwibXkgY29sbGVjdGlvbnw4OVwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB3aXRob3V0IGVnZ3NcIixcInBvc1wiOjkwLFwiX19pZFwiOlwiZGlzaGVzIHdpdGhvdXQgZWdnc3w5MFwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB3aXRob3V0IGNoaWNrZW4gYW5kIGVnZ3NcIixcInBvc1wiOjkxLFwiX19pZFwiOlwiZGlzaGVzIHdpdGhvdXQgY2hpY2tlbiBhbmQgZWdnc3w5MVwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB3aXRob3V0IGNoaWNrZW4gYW5kIHdpdGhvdXQgZWdnc1wiLFwicG9zXCI6OTIsXCJfX2lkXCI6XCJkaXNoZXMgd2l0aG91dCBjaGlja2VuIGFuZCB3aXRob3V0IGVnZ3N8OTJcIn0se1wiZW50aXR5XCI6XCJkaXNoZXMgdGhhdCBhcmUgY2hpY2tlblwiLFwicG9zXCI6OTMsXCJfX2lkXCI6XCJkaXNoZXMgdGhhdCBhcmUgY2hpY2tlbnw5M1wifSx7XCJlbnRpdHlcIjpcImNoaWNrZW4gcXVlc2FkaWxsYVwiLFwicG9zXCI6OTQsXCJfX2lkXCI6XCJjaGlja2VuIHF1ZXNhZGlsbGF8OTRcIn0se1wiZW50aXR5XCI6XCJUZXJyaXlha2lcIixcInBvc1wiOjk1LFwiX19pZFwiOlwiVGVycml5YWtpfDk1XCJ9LHtcImVudGl0eVwiOlwiXCIsXCJwb3NcIjo5NixcIl9faWRcIjpcInw5NlwifSx7XCJlbnRpdHlcIjpcImNvdW50IHBlciBpbmdyZWRpZW50IGluIG15IGNvbGxlY3Rpb25cIixcInBvc1wiOjk3LFwiX19pZFwiOlwiY291bnQgcGVyIGluZ3JlZGllbnQgaW4gbXkgY29sbGVjdGlvbnw5N1wifSx7XCJlbnRpdHlcIjpcInNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXCJwb3NcIjo5OCxcIl9faWRcIjpcInNhbGFyaWVzIHBlciBkZXBhcnRtZW50fDk4XCJ9LHtcImVudGl0eVwiOlwic3VtIG9mIHRoZSBzYWxhcmllcyBwZXIgZXBpc29kZVwiLFwicG9zXCI6OTksXCJfX2lkXCI6XCJzdW0gb2YgdGhlIHNhbGFyaWVzIHBlciBlcGlzb2RlfDk5XCJ9LHtcImVudGl0eVwiOlwic3VtIG9mIHRoZSBzYWxhcmllcyBwZXIgZXBpc29kZSBvZiBtb2Rlcm4gZmFtaWx5XCIsXCJwb3NcIjoxMDAsXCJfX2lkXCI6XCJzdW0gb2YgdGhlIHNhbGFyaWVzIHBlciBlcGlzb2RlIG9mIG1vZGVybiBmYW1pbHl8MTAwXCJ9LHtcImVudGl0eVwiOlwiZGVwYXJ0bWVudHNcIixcInBvc1wiOjEwMSxcIl9faWRcIjpcImRlcGFydG1lbnRzfDEwMVwifSx7XCJlbnRpdHlcIjpcImtvZG93YVwiLFwicG9zXCI6MTAyLFwiX19pZFwiOlwia29kb3dhfDEwMlwifSx7XCJlbnRpdHlcIjpcImRpc2hlcyB3aXRob3V0IGNoaWNrZW5cIixcInBvc1wiOjEwMyxcIl9faWRcIjpcImRpc2hlcyB3aXRob3V0IGNoaWNrZW58MTAzXCJ9XSxcImFkZGVkIGJpdHNcIjpbXSxcIm1hbnVhbCBlbnRpdHlcIjpbXSxcImJ1aWx0aW4gZW50aXR5IGVhdnNcIjpbXSxcImFkZGVkIGVhdnNcIjpbXSxcImJ1aWx0aW4gZW50aXR5IGxpbmtzXCI6W10sXCJidWlsdGluIGRpcmVjdGlvbmxlc3MgbGlua3NcIjpbXSxcImJ1aWx0aW4gY29sbGVjdGlvbiBlbnRpdGllc1wiOltdLFwiYWN0aW9uIGVudGl0eVwiOltdLFwidWkgZW1iZWQgc2NvcGVcIjpbXSxcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIjpbXSxcImFkZGluZyBhY3Rpb25cIjpbXSxcImFkZCBiaXQgYWN0aW9uXCI6W3tcInZpZXdcIjpcInN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFwiYWN0aW9uXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8IyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19XCIsXCJ0ZW1wbGF0ZVwiOlwiIyB7ZGVwYXJ0bWVudH1cXG57ZGVwYXJ0bWVudH0gaGFzIGEgdG90YWwgY29zdCBvZiB7dG90YWwgY29zdDoge3N1bX19XCIsXCJfX2lkXCI6XCJzdW0gb2Ygc2FsYXJpZXMgcGVyIGRlcGFydG1lbnR8c3VtIG9mIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50fCMge2RlcGFydG1lbnR9XFxue2RlcGFydG1lbnR9IGhhcyBhIHRvdGFsIGNvc3Qgb2Yge3RvdGFsIGNvc3Q6IHtzdW19fXwjIHtkZXBhcnRtZW50fVxcbntkZXBhcnRtZW50fSBoYXMgYSB0b3RhbCBjb3N0IG9mIHt0b3RhbCBjb3N0OiB7c3VtfX1cIn1dfSk7XG4iLCJkZWNsYXJlIHZhciBwbHVyYWxpemU7IC8vIEBUT0RPOiBpbXBvcnQgbWUuXG5cbmltcG9ydCB7cGFyc2UgYXMgbWFya2VkLCBSZW5kZXJlciBhcyBNYXJrZWRSZW5kZXJlcn0gZnJvbSBcIi4uL3ZlbmRvci9tYXJrZWRcIjtcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJjb2RlbWlycm9yL2NvZGVtaXJyb3IuZC50c1wiIC8+XG5pbXBvcnQgKiBhcyBDb2RlTWlycm9yIGZyb20gXCJjb2RlbWlycm9yXCI7XG5pbXBvcnQge0RpZmZ9IGZyb20gXCIuL3J1bnRpbWVcIjtcbmltcG9ydCB7Y3JlYXRlRWRpdG9yfSBmcm9tIFwiLi9yaWNoVGV4dEVkaXRvclwiO1xuaW1wb3J0IHtFbGVtZW50LCBIYW5kbGVyLCBSZW5kZXJIYW5kbGVyLCBSZW5kZXJlcn0gZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0IHtldmUsIGhhbmRsZSBhcyBhcHBIYW5kbGUsIGRpc3BhdGNoLCBhY3RpdmVTZWFyY2hlc30gZnJvbSBcIi4vYXBwXCI7XG5pbXBvcnQge1N0ZXBUeXBlLCBxdWVyeVRvRXhlY3V0YWJsZX0gZnJvbSBcIi4vcXVlcnlQYXJzZXJcIjtcbmltcG9ydCB7Y29weSwgdXVpZCwgY29lcmNlSW5wdXR9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmVudW0gUEFORSB7IEZVTEwsIFdJTkRPVywgUE9QT1VUIH07XG5lbnVtIEJMT0NLIHsgVEVYVCwgUFJPSkVDVElPTiB9O1xuXG5leHBvcnQgbGV0IHVpU3RhdGU6e1xuICB3aWRnZXQ6IHtcbiAgICBzZWFyY2g6IHtbcGFuZUlkOnN0cmluZ106IHt2YWx1ZTpzdHJpbmcsIHBsYW4/OmJvb2xlYW4sIGZvY3VzZWQ/OmJvb2xlYW59fVxuICB9XG59ID0ge1xuICB3aWRnZXQ6IHtcbiAgICBzZWFyY2g6IHt9XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVdGlsc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpc3BhdGNoZXNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5hcHBIYW5kbGUoXCJ1aSBmb2N1cyBzZWFyY2hcIiwgKGNoYW5nZXM6RGlmZiwge3BhbmVJZCwgdmFsdWV9OntwYW5lSWQ6c3RyaW5nLCB2YWx1ZTpzdHJpbmd9KSA9PiB7XG4gIGxldCBzdGF0ZSA9IHVpU3RhdGUud2lkZ2V0LnNlYXJjaFtwYW5lSWRdID0gdWlTdGF0ZS53aWRnZXQuc2VhcmNoW3BhbmVJZF0gfHwge3ZhbHVlfTtcbiAgc3RhdGUuZm9jdXNlZCA9IHRydWU7XG59KTtcbmFwcEhhbmRsZShcInVpIHNldCBzZWFyY2hcIiwgKGNoYW5nZXM6RGlmZiwge3BhbmVJZCwgdmFsdWV9OntwYW5lSWQ6c3RyaW5nLCB2YWx1ZTpzdHJpbmd9KSA9PiB7XG4gIGxldCBzdGF0ZSA9IHVpU3RhdGUud2lkZ2V0LnNlYXJjaFtwYW5lSWRdID0gdWlTdGF0ZS53aWRnZXQuc2VhcmNoW3BhbmVJZF0gfHwge3ZhbHVlfTtcbiAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgc3RhdGUuZm9jdXNlZCA9IGZhbHNlO1xuICBsZXQgZmFjdCA9IGNvcHkoZXZlLmZpbmRPbmUoXCJ1aSBwYW5lXCIsIHtwYW5lOiBwYW5lSWR9KSk7XG4gIGZhY3QuX19pZCA9IHVuZGVmaW5lZDtcbiAgZmFjdC5jb250YWlucyA9IHZhbHVlO1xuICBjaGFuZ2VzLnJlbW92ZShcInVpIHBhbmVcIiwge3BhbmU6IHBhbmVJZH0pXG4gICAgLmFkZChcInVpIHBhbmVcIiwgZmFjdCk7XG5cbiAgaWYoIWV2ZS5maW5kT25lKFwiZGlzcGxheSBuYW1lXCIsIHtuYW1lOiB2YWx1ZX0pKSBhY3RpdmVTZWFyY2hlc1t2YWx1ZV0gPSBxdWVyeVRvRXhlY3V0YWJsZSh2YWx1ZSk7XG59KTtcbmFwcEhhbmRsZShcInVpIHRvZ2dsZSBzZWFyY2ggcGxhblwiLCAoY2hhbmdlczpEaWZmLCB7cGFuZUlkfTp7cGFuZUlkOnN0cmluZ30pID0+IHtcbiAgbGV0IHN0YXRlID0gdWlTdGF0ZS53aWRnZXQuc2VhcmNoW3BhbmVJZF0gPSB1aVN0YXRlLndpZGdldC5zZWFyY2hbcGFuZUlkXSB8fCB7dmFsdWU6IFwiXCJ9O1xuICBzdGF0ZS5wbGFuID0gIXN0YXRlLnBsYW47XG59KTtcblxuYXBwSGFuZGxlKFwiYWRkIHNvdXJjZWQgZWF2XCIsIChjaGFuZ2VzOkRpZmYsIGVhdjp7ZW50aXR5OnN0cmluZywgYXR0cmlidXRlOnN0cmluZywgdmFsdWU6c3RyaW5nfG51bWJlciwgc291cmNlOnN0cmluZ30pID0+IHtcbiAgICBjaGFuZ2VzLmFkZChcInNvdXJjZWQgZWF2XCIsIGVhdik7XG59KTtcblxuYXBwSGFuZGxlKFwicmVtb3ZlIHNvdXJjZWQgZWF2XCIsIChjaGFuZ2VzOkRpZmYsIGVhdjp7ZW50aXR5OnN0cmluZywgc291cmNlOnN0cmluZ30pID0+IHtcbiAgICBjaGFuZ2VzLnJlbW92ZShcInNvdXJjZWQgZWF2XCIsIGVhdik7XG59KTtcblxuYXBwSGFuZGxlKFwidXBkYXRlIHBhZ2VcIiwgKGNoYW5nZXM6RGlmZiwge3BhZ2UsIGNvbnRlbnR9OiB7cGFnZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9KSA9PiB7XG4gICAgY2hhbmdlcy5yZW1vdmUoXCJwYWdlIGNvbnRlbnRcIiwge3BhZ2V9KTtcbiAgICBjaGFuZ2VzLmFkZChcInBhZ2UgY29udGVudFwiLCB7cGFnZSwgY29udGVudH0pO1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBXaWtpIENvbnRhaW5lcnNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZnVuY3Rpb24gcm9vdCgpOkVsZW1lbnQge1xuICBsZXQgcGFuZXMgPSBbXTtcbiAgZm9yKGxldCB7cGFuZTpwYW5lSWR9IG9mIGV2ZS5maW5kKFwidWkgcGFuZVwiKSkge1xuICAgIHBhbmVzLnB1c2gocGFuZShwYW5lSWQpKTtcbiAgfVxuICByZXR1cm4ge2M6IFwid2lraS1yb290XCIsIGlkOiBcInJvb3RcIiwgY2hpbGRyZW46IHBhbmVzfTtcbn1cblxuLy8gQFRPRE86IEFkZCBzZWFyY2ggZnVuY3Rpb25hbGl0eSArIFBhbmUgQ2hyb21lXG5sZXQgcGFuZUNocm9tZTp7W2tpbmQ6bnVtYmVyXTogKHBhbmVJZDpzdHJpbmcsIGVudGl0eUlkOnN0cmluZykgPT4ge2M/OiBzdHJpbmcsIGhlYWRlcj86RWxlbWVudCwgZm9vdGVyPzpFbGVtZW50fX0gPSB7XG4gIFtQQU5FLkZVTExdOiAocGFuZUlkLCBlbnRpdHlJZCkgPT4gKHtcbiAgICBjOiBcImZ1bGxzY3JlZW5cIixcbiAgICBoZWFkZXI6IHt0OiBcImhlYWRlclwiLCBjOiBcImZsZXgtcm93XCIsIGNoaWxkcmVuOiBbe2M6IFwibG9nbyBldmUtbG9nb1wifSwgc2VhcmNoSW5wdXQocGFuZUlkLCBlbnRpdHlJZCldfVxuICB9KSxcbiAgW1BBTkUuUE9QT1VUXTogKHBhbmVJZCwgZW50aXR5SWQpID0+ICh7XG4gICAgYzogXCJ3aW5kb3dcIixcbiAgICBoZWFkZXI6IHt0OiBcImhlYWRlclwiLCBjOiBcImZsZXgtcm93XCIsIGNoaWxkcmVuOiBbXG4gICAgICB7YzogXCJmbGV4LWdyb3cgdGl0bGVcIiwgdGV4dDogZW50aXR5SWR9LFxuICAgICAge2M6IFwiZmxleC1yb3cgY29udHJvbHNcIiwgY2hpbGRyZW46IFt7YzogXCJpb24tY2xvc2Utcm91bmRcIn1dfVxuICAgIF19XG4gIH0pLFxuICBbUEFORS5XSU5ET1ddOiAocGFuZUlkLCBlbnRpdHlJZCkgPT4gKHtcbiAgICBjOiBcIndpbmRvd1wiLFxuICAgIGhlYWRlcjoge3Q6IFwiaGVhZGVyXCIsIGM6IFwiZmxleC1yb3dcIiwgY2hpbGRyZW46IFtcbiAgICAgIHtjOiBcImZsZXgtZ3JvdyB0aXRsZVwiLCB0ZXh0OiBlbnRpdHlJZH0sXG4gICAgICB7YzogXCJmbGV4LXJvdyBjb250cm9sc1wiLCBjaGlsZHJlbjogW1xuICAgICAgICB7YzogXCJpb24tYW5kcm9pZC1zZWFyY2hcIn0sXG4gICAgICAgIHtjOiBcImlvbi1taW51cy1yb3VuZFwifSxcbiAgICAgICAge2M6IFwiaW9uLWNsb3NlLXJvdW5kXCJ9XG4gICAgICBdfVxuICAgIF19XG4gIH0pXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFuZShwYW5lSWQ6c3RyaW5nKTpFbGVtZW50IHtcbiAgLy8gQEZJWE1FOiBBZGQga2luZCB0byB1aSBwYW5lc1xuICBsZXQge2NvbnRhaW5zID0gdW5kZWZpbmVkLCBraW5kID0gUEFORS5GVUxMfSA9IGV2ZS5maW5kT25lKFwidWkgcGFuZVwiLCB7cGFuZTogcGFuZUlkfSkgfHwge307XG4gIGxldCBtYWtlQ2hyb21lID0gcGFuZUNocm9tZVtraW5kXTtcbiAgaWYoIW1ha2VDaHJvbWUpIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYW5lIGtpbmQ6ICcke2tpbmR9JyAoJHtQQU5FW2tpbmRdfSlgKTtcbiAgbGV0IHtjOmtsYXNzLCBoZWFkZXIsIGZvb3Rlcn0gPSBtYWtlQ2hyb21lKHBhbmVJZCwgY29udGFpbnMpO1xuICBsZXQgY29udGVudDtcbiAgbGV0IGRpc3BsYXkgPSBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLCB7bmFtZTogY29udGFpbnN9KSB8fCBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLCB7aWQ6IGNvbnRhaW5zfSk7XG4gIGlmKGRpc3BsYXkpIGNvbnRlbnQgPSBlbnRpdHkoZGlzcGxheS5pZCwgcGFuZUlkKTtcbiAgZWxzZSBpZihhY3RpdmVTZWFyY2hlc1tjb250YWluc10gJiYgYWN0aXZlU2VhcmNoZXNbY29udGFpbnNdLnBsYW4ubGVuZ3RoID4gMSkgY29udGVudCA9IHNlYXJjaChjb250YWlucywgcGFuZUlkKTtcbiAgZWxzZSBjb250ZW50ID0ge3RleHQ6IFwiTm8gcmVzdWx0cyBmb3VuZC4uLlwifTsgLy8gQCBUT0RPOiBFZGl0b3IgdG8gY3JlYXRlIG5ldyBlbnRpdHlcblxuICByZXR1cm4ge2M6IGB3aWtpLXBhbmUgJHtrbGFzcyB8fCBcIlwifWAsIGNoaWxkcmVuOiBbaGVhZGVyLCBjb250ZW50LCBmb290ZXJdfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaChzZWFyY2g6c3RyaW5nLCBwYW5lSWQ6c3RyaW5nKTpFbGVtZW50IHtcbiAgbGV0IHt0b2tlbnMsIHBsYW4sIGV4ZWN1dGFibGV9ID0gYWN0aXZlU2VhcmNoZXNbc2VhcmNoXTtcbiAgLy8gZmlndXJlIG91dCB3aGF0IHRoZSBoZWFkZXJzIGFyZVxuICBsZXQgaGVhZGVycyA9IFtdO1xuICBmb3IobGV0IHN0ZXAgb2YgcGxhbikge1xuICAgIGxldCBuYW1lID0gc3RlcC5uYW1lO1xuICAgIGlmKHN0ZXAuc2l6ZSA9PT0gMCB8fCBzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkZJTFRFUkJZRU5USVRZIHx8IHN0ZXAudHlwZSA9PT0gU3RlcFR5cGUuSU5URVJTRUNUKSBjb250aW51ZTtcbiAgICBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkdBVEhFUikgbmFtZSA9IGV2ZS5maW5kT25lKFwiZGlzcGxheSBuYW1lXCIsIHtpZDogbmFtZX0pLm5hbWU7XG4gICAgaGVhZGVycy5wdXNoKHtjOiBcImNvbHVtbiBmaWVsZFwiLCB2YWx1ZTogc3RlcC5uYW1lLCB0ZXh0OiBuYW1lfSk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IHdoYXQgZmllbGRzIGFyZSBncm91cGVkLCBpZiBhbnlcbiAgbGV0IGdyb3VwZWRGaWVsZHMgPSB7fTtcbiAgZm9yKGxldCBzdGVwIG9mIHBsYW4pIHtcbiAgICBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkdST1VQKSBncm91cGVkRmllbGRzW3N0ZXAuc3ViamVjdE5vZGUubmFtZV0gPSB0cnVlO1xuXG4gICAgZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkFHR1JFR0FURSkgZ3JvdXBlZEZpZWxkc1tzdGVwLm5hbWVdID0gdHJ1ZTtcbiAgfVxuXG4gIGxldCByZXN1bHRzID0gZXhlY3V0YWJsZS5leGVjKCk7XG4gIGxldCBncm91cEluZm8gPSByZXN1bHRzLmdyb3VwSW5mbztcbiAgbGV0IHBsYW5MZW5ndGggPSBwbGFuLmxlbmd0aDtcbiAgbGV0IGlzQml0ID0gcGxhbkxlbmd0aCA+IDE7XG4gIGxldCBncm91cHMgPSBbXTtcbiAgbmV4dFJlc3VsdDogZm9yKGxldCBpeCA9IDAsIGxlbiA9IHJlc3VsdHMudW5wcm9qZWN0ZWQubGVuZ3RoOyBpeCA8IGxlbjsgaXggKz0gZXhlY3V0YWJsZS51bnByb2plY3RlZFNpemUpIHtcbiAgICBpZihncm91cEluZm8gJiYgaXggPiBncm91cEluZm8ubGVuZ3RoKSBicmVhaztcbiAgICBpZihncm91cEluZm8gJiYgZ3JvdXBJbmZvW2l4XSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcblxuICAgIGxldCBncm91cDtcbiAgICBpZighZ3JvdXBJbmZvKSBncm91cHMucHVzaChncm91cCA9IHtjOiBcImdyb3VwXCIsIGNoaWxkcmVuOiBbXX0pO1xuICAgIGVsc2UgaWYoIWdyb3Vwc1tncm91cEluZm9baXhdXSkgZ3JvdXBzW2dyb3VwSW5mb1tpeF1dID0gZ3JvdXAgPSB7YzogXCJncm91cFwiLCBjaGlsZHJlbjogW119O1xuICAgIGVsc2UgZ3JvdXAgPSBncm91cHNbZ3JvdXBJbmZvW2l4XV07XG5cbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IobGV0IHN0ZXBJeCA9IDA7IHN0ZXBJeCA8IHBsYW5MZW5ndGg7IHN0ZXBJeCsrKSB7XG4gICAgICBsZXQgc3RlcCA9IHBsYW5bc3RlcEl4XTtcbiAgICAgIGlmKCFzdGVwLnNpemUpIGNvbnRpbnVlO1xuICAgICAgbGV0IGNodW5rID0gcmVzdWx0cy51bnByb2plY3RlZFtpeCArIG9mZnNldCArIHN0ZXAuc2l6ZSAtIDFdO1xuICAgICAgaWYoIWNodW5rKSBjb250aW51ZSBuZXh0UmVzdWx0O1xuICAgICAgb2Zmc2V0ICs9IHN0ZXAuc2l6ZTtcblxuICAgICAgbGV0IHRleHQsIGxpbmssIGtpbmQsIGNsaWNrO1xuICAgICAgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5HQVRIRVIpIHtcbiAgICAgICAgdGV4dCA9IGV2ZS5maW5kT25lKFwiZGlzcGxheSBuYW1lXCIsIHtpZDogY2h1bmtbXCJlbnRpdHlcIl19KS5uYW1lO1xuICAgICAgICBsaW5rID0gY2h1bmtbXCJlbnRpdHlcIl07XG4gICAgICAgIGtpbmQgPSBcImVudGl0eVwiO1xuICAgICAgfSBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gU3RlcFR5cGUuTE9PS1VQKSB7XG4gICAgICAgIHRleHQgPSBjaHVua1tcInZhbHVlXCJdO1xuICAgICAgICBraW5kID0gXCJhdHRyaWJ1dGVcIjtcbiAgICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkFHR1JFR0FURSkge1xuICAgICAgICB0ZXh0ID0gY2h1bmtbc3RlcC5zdWJqZWN0XTtcbiAgICAgICAga2luZCA9IFwidmFsdWVcIjtcbiAgICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPSBTdGVwVHlwZS5DQUxDVUxBVEUpIHtcbiAgICAgICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KGNodW5rLnJlc3VsdCk7XG4gICAgICAgIGtpbmQgPSBcInZhbHVlXCI7XG4gICAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSB8fCBzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLklOVEVSU0VDVCkge1xuICAgICAgfSBlbHNlIHRleHQgPSBKU09OLnN0cmluZ2lmeShjaHVuayk7XG5cbiAgICAgIGlmKHRleHQgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICBsZXQgaXRlbSA9IHtpZDogYCR7cGFuZUlkfSAke2l4fSAke3N0ZXBJeH1gLCBjOiBcImZpZWxkIFwiICsga2luZCwgdGV4dCwgZGF0YToge3BhbmVJZH0sIGxpbmssIGNsaWNrOiBsaW5rID8gbmF2aWdhdGUgOiB1bmRlZmluZWR9O1xuICAgICAgaWYoIWdyb3VwLmNoaWxkcmVuW3N0ZXBJeF0pIGdyb3VwLmNoaWxkcmVuW3N0ZXBJeF0gPSB7YzogXCJjb2x1bW5cIiwgdmFsdWU6IHN0ZXAubmFtZSwgY2hpbGRyZW46IFtpdGVtXX07XG4gICAgICBlbHNlIGlmKCFncm91cGVkRmllbGRzW3N0ZXAubmFtZV0pIGdyb3VwLmNoaWxkcmVuW3N0ZXBJeF0uY2hpbGRyZW4ucHVzaChpdGVtKTtcblxuICAgICAgaWYocGxhbkxlbmd0aCA9PT0gMSkgZ3JvdXAuYyA9IFwibGlzdC1yb3dcIjsgLy8gQEZJWE1FOiBJcyB0aGlzIHN0aWxsIG5lZWRlZD9cbiAgICB9XG4gIH1cbiAgLy8gQFRPRE86IFdpdGhvdXQgdGhpcyBJRCwgYSBidWcgb2NjdXJzIHdoZW4gcmV1c2luZyBlbGVtZW50cyB0aGF0IGluamVjdHMgYSB0ZXh0IG5vZGUgY29udGFpbmluZyBcInVuZGVmaW5lZFwiIGFmdGVyIGNlcnRhaW4gc2NlbmFyaW9zLlxuICBncm91cHMudW5zaGlmdCh7dDogXCJoZWFkZXJcIiwgaWQ6IGAke3BhbmVJZH18aGVhZGVyYCwgYzogXCJmbGV4LXJvd1wiLCBjaGlsZHJlbjogaGVhZGVyc30pO1xuICByZXR1cm4ge3Q6IFwiY29udGVudFwiLCBjOiBcIndpa2ktc2VhcmNoXCIsIGtleTogSlNPTi5zdHJpbmdpZnkocmVzdWx0cy51bnByb2plY3RlZCksIGNoaWxkcmVuOiBbe2lkOiBgJHtwYW5lSWR9fHRhYmxlYCwgYzogXCJyZXN1bHRzIHRhYmxlXCIsIGNoaWxkcmVuOiBncm91cHN9XSwgLypwb3N0UmVuZGVyOiBzaXplQ29sdW1ucyovIH07XG59XG5mdW5jdGlvbiBzaXplQ29sdW1ucyhub2RlOkhUTUxFbGVtZW50LCBlbGVtOkVsZW1lbnQpIHtcbiAgLy8gQEZJWE1FOiBIb3JyaWJsZSBoYWNrIHRvIGdldCBhcm91bmQgcmFuZG9tbHkgYWRkZWQgXCJ1bmRlZmluZWRcIiB0ZXh0IG5vZGUgdGhhdCdzIGNvbWluZyBmcm9tIGluIG1pY3JvcmVhY3QuXG4gIGxldCBjdXIgPSBub2RlO1xuICB3aGlsZShjdXIucGFyZW50RWxlbWVudCkgY3VyID0gY3VyLnBhcmVudEVsZW1lbnQ7XG4gIGlmKGN1ci50YWdOYW1lICE9PSBcIkhUTUxcIikgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjdXIpO1xuXG4gIGxldCBjaGlsZDpOb2RlLCBpeCA9IDA7XG4gIGxldCB3aWR0aHMgPSB7fTtcbiAgbGV0IGNvbHVtbnMgPSA8SFRNTEVsZW1lbnRbXT48YW55Pm5vZGUucXVlcnlTZWxlY3RvckFsbChcIi5jb2x1bW5cIik7XG4gIGZvcihsZXQgY29sdW1uIG9mIGNvbHVtbnMpIHtcbiAgICBjb2x1bW4uc3R5bGUud2lkdGggPSBcImF1dG9cIjtcbiAgICB3aWR0aHNbY29sdW1uW1widmFsdWVcIl1dID0gd2lkdGhzW2NvbHVtbltcInZhbHVlXCJdXSB8fCAwO1xuICAgIGlmKGNvbHVtbi5vZmZzZXRXaWR0aCA+IHdpZHRoc1tjb2x1bW5bXCJ2YWx1ZVwiXV0pIHdpZHRoc1tjb2x1bW5bXCJ2YWx1ZVwiXV0gPSBjb2x1bW4ub2Zmc2V0V2lkdGg7XG4gIH1cbiAgZm9yKGxldCBjb2x1bW4gb2YgY29sdW1ucykgY29sdW1uLnN0eWxlLndpZHRoID0gd2lkdGhzW2NvbHVtbltcInZhbHVlXCJdXSArIDE7XG5cbiAgaWYoY3VyLnRhZ05hbWUgIT09IFwiSFRNTFwiKSBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGN1cik7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDSFJJU1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIHBhcnNlUGFyYW1zKHJhd1BhcmFtczpzdHJpbmcpIHtcbiAgbGV0IHBhcmFtcyA9IHt9O1xuICBpZighcmF3UGFyYW1zKSByZXR1cm4gcGFyYW1zO1xuICBmb3IobGV0IGt2IG9mIHJhd1BhcmFtcy5zcGxpdChcIjtcIikpIHtcbiAgICBsZXQgW2tleSwgdmFsdWVdID0ga3Yuc3BsaXQoXCI9XCIpO1xuICAgIHBhcmFtc1trZXkudHJpbSgpXSA9IGNvZXJjZUlucHV0KHZhbHVlLnRyaW0oKSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gZ2V0RW1iZWQobWV0YTp7ZW50aXR5OiBzdHJpbmcsIHBhZ2U6IHN0cmluZywgcGFuZUlkOnN0cmluZ30sIHF1ZXJ5OnN0cmluZykge1xuICBsZXQgW2NvbnRlbnQsIHJhd1BhcmFtc10gPSBxdWVyeS5zcGxpdChcInxcIik7XG4gIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGxldCBsaW5rO1xuICBub2RlLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgbGV0IHBhcmFtcyA9IHBhcnNlUGFyYW1zKHJhd1BhcmFtcyk7XG4gIGxldCBjb250ZW50RGlzcGxheSA9IGV2ZS5maW5kT25lKFwiZGlzcGxheSBuYW1lXCIsIHtpZDogY29udGVudH0pO1xuXG4gIC8vIEBUT0RPOiBGaWd1cmUgb3V0IHdoYXQgdG8gZG8gZm9yIHthZ2U6IHtjdXJyZW50IHllYXIgLSBiaXJ0aCB5ZWFyfX1cbiAgaWYocGFyYW1zW1wiZWF2IHNvdXJjZVwiXSkge1xuICAgIC8vIEF0dHJpYnV0ZSByZWZlcmVuY2VcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoXCJhdHRyaWJ1dGVcIik7XG4gICAgbGV0IGVhdiA9IGV2ZS5maW5kT25lKFwic291cmNlZCBlYXZcIiwgeyBzb3VyY2U6IHBhcmFtc1tcImVhdiBzb3VyY2VcIl0gfSk7XG4gICAgaWYgKCFlYXYpIHtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChcImludmFsaWRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB7YXR0cmlidXRlLCB2YWx1ZX0gPSBlYXY7XG4gICAgICBsZXQgZGlzcGxheSA9IGV2ZS5maW5kT25lKFwiZGlzcGxheSBuYW1lXCIsIHsgaWQ6IHZhbHVlIH0pO1xuICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gXCJpcyBhXCIgfHwgZGlzcGxheSkge1xuICAgICAgICBsaW5rID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gZGlzcGxheSA/IGRpc3BsYXkubmFtZSA6IHZhbHVlXG5cbiAgICB9XG5cbiAgfSBlbHNlIGlmKGNvbnRlbnREaXNwbGF5KSB7XG4gICAgLy8gRW50aXR5IHJlZmVyZW5jZVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZChcImVudGl0eVwiKTtcbiAgICBub2RlLnRleHRDb250ZW50ID0gY29udGVudERpc3BsYXkubmFtZTtcbiAgICBsaW5rID0gY29udGVudDtcbiAgfSBlbHNlIHtcbiAgICAvLyBFbWJlZGRlZCBxdWVyaWVzXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKFwicXVlcnlcIik7XG4gICAgLy8gQEZJWE1FOiBIb3JyaWJsZSBrbHVkZ2UsIG5lZWQgYSBtaWNyb1JlYWN0LmNvbXBpbGUoLi4uKVxuICAgIGxldCBzdWJSZW5kZXJlciA9IG5ldyBSZW5kZXJlcigpO1xuICAgIHN1YlJlbmRlcmVyLnJlbmRlcihbe2lkOiBcInJvb3RcIiwgY2hpbGRyZW46IFtzZWFyY2goY29udGVudCwgbWV0YS5wYW5lSWQpXX1dKTtcbiAgICBub2RlID0gc3ViUmVuZGVyZXIuY29udGVudDtcbiAgfVxuXG4gIGlmIChsaW5rKSB7XG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKFwibGlua1wiKTtcbiAgICBub2RlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBkaXNwYXRjaChcInVpIHNldCBzZWFyY2hcIiwgeyBwYW5lSWQ6IG1ldGEucGFuZUlkLCB2YWx1ZTogbGluayB9KS5jb21taXQoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGdldElubGluZShtZXRhLCBxdWVyeSkge1xuICBsZXQgW2NvbnRlbnQsIHJhd1BhcmFtc10gPSBxdWVyeS5zbGljZSgxLCAtMSkuc3BsaXQoXCJ8XCIpO1xuICBsZXQgcGFyYW1zID0gcGFyc2VQYXJhbXMocmF3UGFyYW1zKTtcbiAgaWYgKGNvbnRlbnQuaW5kZXhPZihcIjpcIikgPiAtMSkge1xuICAgIGxldCBzb3VyY2VJZCA9IHV1aWQoKTtcbiAgICBsZXQgZW50aXR5ID0gbWV0YS5lbnRpdHk7XG4gICAgbGV0IFthdHRyaWJ1dGUsIHZhbHVlXSA9IHF1ZXJ5LnN1YnN0cmluZygxLCBxdWVyeS5sZW5ndGggLSAxKS5zcGxpdChcIjpcIik7XG4gICAgdmFsdWUgPSBjb2VyY2VJbnB1dCh2YWx1ZS50cmltKCkpO1xuICAgIGxldCBkaXNwbGF5ID0gZXZlLmZpbmRPbmUoXCJkaXNwbGF5IG5hbWVcIiwge25hbWU6IHZhbHVlfSk7XG4gICAgaWYoZGlzcGxheSkge1xuICAgICAgdmFsdWUgPSBkaXNwbGF5LmlkO1xuICAgIH1cbiAgICBkaXNwYXRjaChcImFkZCBzb3VyY2VkIGVhdlwiLCB7IGVudGl0eSwgYXR0cmlidXRlLCB2YWx1ZSwgc291cmNlOiBzb3VyY2VJZCB9KS5jb21taXQoKTtcbiAgICByZXR1cm4gYHske2VudGl0eX0ncyAke2F0dHJpYnV0ZX18ZWF2IHNvdXJjZSA9ICR7c291cmNlSWR9fWA7XG4gIH0gZWxzZSBpZighcGFyYW1zW1wiZWF2IHNvdXJjZVwiXSkge1xuICAgIGFjdGl2ZVNlYXJjaGVzW2NvbnRlbnRdID0gcXVlcnlUb0V4ZWN1dGFibGUoY29udGVudCk7XG4gIH1cbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG5mdW5jdGlvbiByZW1vdmVJbmxpbmUobWV0YSwgcXVlcnkpIHtcbiAgbGV0IFtzZWFyY2gsIHJhd1BhcmFtc10gPSBxdWVyeS5zdWJzdHJpbmcoMSwgcXVlcnkubGVuZ3RoIC0gMSkuc3BsaXQoXCJ8XCIpO1xuICBsZXQgcGFyYW1zID0gcGFyc2VQYXJhbXMocmF3UGFyYW1zKTtcbiAgbGV0IHNvdXJjZSA9IHBhcmFtc1tcImVhdiBzb3VyY2VcIl07XG4gIGlmIChzb3VyY2UgJiYgZXZlLmZpbmRPbmUoXCJzb3VyY2VkIGVhdlwiLCB7IHNvdXJjZSB9KSkge1xuICAgIGRpc3BhdGNoKFwicmVtb3ZlIHNvdXJjZWQgZWF2XCIsIHsgZW50aXR5OiBtZXRhLmVudGl0eSwgc291cmNlIH0pLmNvbW1pdCgpO1xuICB9IGVsc2Uge1xuICB9XG59XG5cbnZhciB3aWtpRWRpdG9yID0gY3JlYXRlRWRpdG9yKGdldEVtYmVkLCBnZXRJbmxpbmUsIHJlbW92ZUlubGluZSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGVudGl0eShlbnRpdHlJZDpzdHJpbmcsIHBhbmVJZDpzdHJpbmcpOkVsZW1lbnQge1xuICBsZXQgY29udGVudCA9IGV2ZS5maW5kT25lKFwiZW50aXR5XCIsIHtlbnRpdHk6IGVudGl0eUlkfSlbXCJjb250ZW50XCJdO1xuICBsZXQgcGFnZSA9IGV2ZS5maW5kT25lKFwiZW50aXR5IHBhZ2VcIiwge2VudGl0eTogZW50aXR5SWR9KVtcInBhZ2VcIl07XG4gIC8vIEBUT0RPOiBNb3ZlIHRoZXNlIGludG8gYmxvY2tzXG4vLyAgIGlmKGV2ZS5maW5kT25lKFwiY29sbGVjdGlvblwiLCB7Y29sbGVjdGlvbjogZW50aXR5SWR9KSkgYmxvY2tzLnB1c2goe2lkOiBgJHtwYW5lSWR9fGluZGV4YCwgYzogXCJ3aWtpLWJsb2NrXCIsIGNoaWxkcmVuOiBbaW5kZXgoe2NvbGxlY3Rpb25JZDogZW50aXR5SWQsIGRhdGE6IHtwYW5lSWR9LCBjbGljazogbmF2aWdhdGV9KV19KTtcbi8vICAgYmxvY2tzLnB1c2goe2lkOiBgJHtwYW5lSWR9fHJlbGF0ZWRgLCBjOiBcIndpa2ktYmxvY2tcIiwgY2hpbGRyZW46IFtyZWxhdGVkKHtlbnRpdHlJZCwgZGF0YToge3BhbmVJZH0sIGNsaWNrOiBuYXZpZ2F0ZX0pXX0pO1xuICByZXR1cm4ge3Q6IFwiY29udGVudFwiLCBjOiBcIndpa2ktZW50aXR5XCIsIGNoaWxkcmVuOiBbXG4gICAgICB7YzogXCJ3aWtpLWVkaXRvclwiLCBwb3N0UmVuZGVyOiB3aWtpRWRpdG9yLCBjaGFuZ2U6IHVwZGF0ZVBhZ2UsIG1ldGE6IHtlbnRpdHk6IGVudGl0eUlkLCBwYWdlLCBwYW5lSWR9LCB2YWx1ZTogY29udGVudH1cbiAgXX07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBhZ2UobWV0YSwgY29udGVudCkge1xuICAgIGRpc3BhdGNoKFwidXBkYXRlIHBhZ2VcIiwge3BhZ2U6IG1ldGEucGFnZSwgY29udGVudH0pLmNvbW1pdCgpO1xufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZShldmVudCwgZWxlbSkge1xuICBsZXQge3BhbmVJZH0gPSBlbGVtLmRhdGE7XG4gIGRpc3BhdGNoKFwidWkgc2V0IHNlYXJjaFwiLCB7cGFuZUlkLCB2YWx1ZTogZWxlbS5saW5rfSkuY29tbWl0KCk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBXaWtpIFdpZGdldHNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoSW5wdXQocGFuZUlkOnN0cmluZywgdmFsdWU6c3RyaW5nKTpFbGVtZW50IHtcbiAgbGV0IGRpc3BsYXkgPSBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLCB7aWQ6IHZhbHVlfSk7XG4gIGxldCBuYW1lID0gdmFsdWU7XG4gIGlmKGRpc3BsYXkpIHtcbiAgICBuYW1lID0gZGlzcGxheS5uYW1lO1xuICB9XG4gIGxldCBzdGF0ZSA9IHVpU3RhdGUud2lkZ2V0LnNlYXJjaFtwYW5lSWRdIHx8IHtmb2N1c2VkOiBmYWxzZSwgcGxhbjogZmFsc2V9O1xuICByZXR1cm4ge1xuICAgIGM6IFwiZmxleC1ncm93IHdpa2ktc2VhcmNoLXdyYXBwZXJcIixcbiAgICBjaGlsZHJlbjogW1xuICAgICAgY29kZU1pcnJvckVsZW1lbnQoe1xuICAgICAgICBjOiBgZmxleC1ncm93IHdpa2ktc2VhcmNoLWlucHV0ICR7c3RhdGUuZm9jdXNlZCA/IFwic2VsZWN0ZWRcIjogXCJcIn1gLFxuICAgICAgICBwYW5lSWQsXG4gICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICBmb2N1czogZm9jdXNTZWFyY2gsXG4gICAgICAgIGJsdXI6IHNldFNlYXJjaCxcbiAgICAgICAgLy8gY2hhbmdlOiB1cGRhdGVTZWFyY2gsXG4gICAgICAgIHNob3J0Y3V0czoge1wiRW50ZXJcIjogc2V0U2VhcmNofVxuICAgICAgfSksXG4gICAgICB7YzogXCJjb250cm9sc1wiLCBjaGlsZHJlbjogW1xuICAgICAgICB7YzogYGlvbi1pb3MtYXJyb3ctJHtzdGF0ZS5wbGFuID8gJ3VwJyA6ICdkb3duJ30gcGxhbmAsIGNsaWNrOiB0b2dnbGVTZWFyY2hQbGFuLCBwYW5lSWR9LFxuICAgICAgICAvLyB3aGlsZSB0ZWNobmljYWxseSBhIGJ1dHRvbiwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBhcyBjbGlja2luZyBpdCB3aWxsIGJsdXIgdGhlIGVkaXRvclxuICAgICAgICAvLyB3aGljaCB3aWxsIGV4ZWN1dGUgdGhlIHNlYXJjaFxuICAgICAgICB7YzogXCJpb24tYW5kcm9pZC1zZWFyY2ggdmlzaWJsZVwiLCBwYW5lSWR9XG4gICAgICBdfSxcbiAgICBdXG4gIH07XG59O1xuXG5mdW5jdGlvbiBmb2N1c1NlYXJjaChldmVudCwgZWxlbSkge1xuICBkaXNwYXRjaChcInVpIGZvY3VzIHNlYXJjaFwiLCBlbGVtKS5jb21taXQoKTtcbn1cbmZ1bmN0aW9uIHNldFNlYXJjaChldmVudCwgZWxlbSkge1xuICBkaXNwYXRjaChcInVpIHNldCBzZWFyY2hcIiwge3BhbmVJZDogZWxlbS5wYW5lSWQsIHZhbHVlOiBldmVudC52YWx1ZX0pLmNvbW1pdCgpO1xufVxuZnVuY3Rpb24gdXBkYXRlU2VhcmNoKGV2ZW50LCBlbGVtKSB7XG4gIGRpc3BhdGNoKFwidWkgdXBkYXRlIHNlYXJjaFwiLCBlbGVtKS5jb21taXQoKTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVNlYXJjaFBsYW4oZXZlbnQsIGVsZW0pIHtcbiAgY29uc29sZS5sb2coXCJ0b2dnbGUgc2VhcmNoIHBsYW5cIiwgZWxlbSk7XG4gIGRpc3BhdGNoKFwidWkgdG9nZ2xlIHNlYXJjaCBwbGFuXCIsIGVsZW0pLmNvbW1pdCgpO1xufVxuXG5pbnRlcmZhY2UgSW5kZXhFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7Y29sbGVjdGlvbklkOnN0cmluZywgZGF0YT86e319XG5leHBvcnQgZnVuY3Rpb24gaW5kZXgoZWxlbTpJbmRleEVsZW1lbnQpOkluZGV4RWxlbWVudCB7XG4gIGxldCBmYWN0cyA9IGV2ZS5maW5kKFwiaXMgYSBhdHRyaWJ1dGVzXCIsIHtjb2xsZWN0aW9uOiBlbGVtLmNvbGxlY3Rpb25JZH0pO1xuICBsZXQgY2xpY2sgPSBlbGVtLmNsaWNrO1xuICBkZWxldGUgZWxlbS5jbGljaztcbiAgZWxlbS50ID0gXCJwXCI7XG4gIGVsZW0uY2hpbGRyZW4gPSBbXG4gICAge3Q6IFwiaDJcIiwgdGV4dDogYFRoZXJlICR7cGx1cmFsaXplKFwiYXJlXCIsIGZhY3RzLmxlbmd0aCl9ICR7ZmFjdHMubGVuZ3RofSAke3BsdXJhbGl6ZShlbGVtLmNvbGxlY3Rpb25JZCwgZmFjdHMubGVuZ3RoKX06YH0sXG4gICAge3Q6IFwidWxcIiwgY2hpbGRyZW46IGZhY3RzLm1hcCgoZmFjdCkgPT4gKHt0OiBcImxpXCIsIGM6IFwiZW50aXR5IGxpbmtcIiwgdGV4dDogZmFjdC5lbnRpdHksIGRhdGE6IGVsZW0uZGF0YSwgbGluazogZmFjdC5lbnRpdHksIGNsaWNrfSkpfVxuICBdO1xuICByZXR1cm4gZWxlbTtcbn1cblxuaW50ZXJmYWNlIFJlbGF0ZWRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7ZW50aXR5SWQ6c3RyaW5nLCBkYXRhPzp7fX1cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGVkKGVsZW06UmVsYXRlZEVsZW1lbnQpOlJlbGF0ZWRFbGVtZW50IHtcbiAgbGV0IGZhY3RzID0gZXZlLmZpbmQoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHtlbnRpdHk6IGVsZW0uZW50aXR5SWR9KTtcbiAgZWxlbS50ID0gXCJwXCI7XG4gIGVsZW0uYyA9IFwiZmxleC1yb3cgZmxleC13cmFwIGNzdlwiICsgKGVsZW0uYyB8fCBcIlwiKTtcbiAgbGV0IGNsaWNrID0gZWxlbS5jbGljaztcbiAgZGVsZXRlIGVsZW0uY2xpY2s7XG5cbiAgaWYoZmFjdHMubGVuZ3RoKSBlbGVtLmNoaWxkcmVuID0gW1xuICAgIHt0OiBcImgyXCIsIHRleHQ6IGAke2VsZW0uZW50aXR5SWR9IGlzIHJlbGF0ZWQgdG86YH0sXG4gIF0uY29uY2F0KGZhY3RzLm1hcCgoZmFjdCkgPT4gKHtjOiBcImVudGl0eSBsaW5rXCIsIHRleHQ6IGZhY3QubGluaywgZGF0YTogZWxlbS5kYXRhLCBsaW5rOiBmYWN0LmxpbmssIGNsaWNrfSkpKTtcbiAgZWxzZSBlbGVtLnRleHQgPSBgJHtlbGVtLmVudGl0eUlkfSBpcyBub3QgcmVsYXRlZCB0byBhbnkgb3RoZXIgZW50aXRpZXMuYDtcbiAgcmV0dXJuIGVsZW07XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVSVRLXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW50ZXJmYWNlIENNTm9kZSBleHRlbmRzIEhUTUxFbGVtZW50IHsgY206IGFueSB9XG5pbnRlcmZhY2UgQ01FbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gIGF1dG9mb2N1cz86IGJvb2xlYW5cbiAgbGluZU51bWJlcnM/OiBib29sZWFuLFxuICBsaW5lV3JhcHBpbmc/OiBib29sZWFuLFxuICBtb2RlPzogc3RyaW5nLFxuICBzaG9ydGN1dHM/OiB7W3Nob3J0Y3V0OnN0cmluZ106IEhhbmRsZXI8YW55Pn1cbn07XG5pbnRlcmZhY2UgQ01FdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvclxuICB2YWx1ZTogc3RyaW5nXG59XG5leHBvcnQgZnVuY3Rpb24gY29kZU1pcnJvckVsZW1lbnQoZWxlbTpDTUVsZW1lbnQpOkNNRWxlbWVudCB7XG4gIGVsZW0ucG9zdFJlbmRlciA9IGNvZGVNaXJyb3JQb3N0UmVuZGVyKGVsZW0ucG9zdFJlbmRlcik7XG4gIHJldHVybiBlbGVtO1xufVxuXG5sZXQgX2NvZGVNaXJyb3JQb3N0UmVuZGVyTWVtbyA9IHt9O1xuZnVuY3Rpb24gaGFuZGxlQ01FdmVudChoYW5kbGVyOkhhbmRsZXI8RXZlbnQ+LCBlbGVtOkNNRWxlbWVudCk6KGNtOkNvZGVNaXJyb3IuRWRpdG9yKSA9PiB2b2lkIHtcbiAgcmV0dXJuIChjbTpDb2RlTWlycm9yLkVkaXRvcikgPT4ge1xuICAgIGxldCBldnQgPSA8Q01FdmVudD48YW55PihuZXcgQ3VzdG9tRXZlbnQoXCJDTUV2ZW50XCIpKTtcbiAgICBldnQuZWRpdG9yID0gY207XG4gICAgZXZ0LnZhbHVlID0gY20uZ2V0RG9jKCkuZ2V0VmFsdWUoKTtcbiAgICBoYW5kbGVyKGV2dCwgZWxlbSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvZGVNaXJyb3JQb3N0UmVuZGVyKHBvc3RSZW5kZXI/OlJlbmRlckhhbmRsZXIpOlJlbmRlckhhbmRsZXIge1xuICBsZXQga2V5ID0gcG9zdFJlbmRlciA/IHBvc3RSZW5kZXIudG9TdHJpbmcoKSA6IFwiXCI7XG4gIGlmKF9jb2RlTWlycm9yUG9zdFJlbmRlck1lbW9ba2V5XSkgcmV0dXJuIF9jb2RlTWlycm9yUG9zdFJlbmRlck1lbW9ba2V5XTtcbiAgcmV0dXJuIF9jb2RlTWlycm9yUG9zdFJlbmRlck1lbW9ba2V5XSA9IChub2RlOkNNTm9kZSwgZWxlbTpDTUVsZW1lbnQpID0+IHtcbiAgICBsZXQgY20gPSBub2RlLmNtO1xuICAgIGlmKCFjbSkge1xuICAgICAgbGV0IGV4dHJhS2V5cyA9IHt9O1xuICAgICAgaWYoZWxlbS5zaG9ydGN1dHMpIHtcbiAgICAgICAgZm9yKGxldCBzaG9ydGN1dCBpbiBlbGVtLnNob3J0Y3V0cylcbiAgICAgICAgICBleHRyYUtleXNbc2hvcnRjdXRdID0gaGFuZGxlQ01FdmVudChlbGVtLnNob3J0Y3V0c1tzaG9ydGN1dF0sIGVsZW0pO1xuICAgICAgfVxuICAgICAgY20gPSBub2RlLmNtID0gQ29kZU1pcnJvcihub2RlLCB7XG4gICAgICAgIGxpbmVXcmFwcGluZzogZWxlbS5saW5lV3JhcHBpbmcgIT09IGZhbHNlID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICBsaW5lTnVtYmVyczogZWxlbS5saW5lTnVtYmVycyxcbiAgICAgICAgbW9kZTogZWxlbS5tb2RlIHx8IFwiZ2ZtXCIsXG4gICAgICAgIGV4dHJhS2V5c1xuICAgICAgfSk7XG4gICAgICBpZihlbGVtLmNoYW5nZSkgY20ub24oXCJjaGFuZ2VcIiwgaGFuZGxlQ01FdmVudChlbGVtLmNoYW5nZSwgZWxlbSkpO1xuICAgICAgaWYoZWxlbS5ibHVyKSBjbS5vbihcImJsdXJcIiwgaGFuZGxlQ01FdmVudChlbGVtLmJsdXIsIGVsZW0pKTtcbiAgICAgIGlmKGVsZW0uZm9jdXMpIGNtLm9uKFwiZm9jdXNcIiwgaGFuZGxlQ01FdmVudChlbGVtLmZvY3VzLCBlbGVtKSk7XG4gICAgICBpZihlbGVtLmF1dG9mb2N1cykgY20uZm9jdXMoKTtcbiAgICB9XG5cbiAgICBpZihjbS5nZXREb2MoKS5nZXRWYWx1ZSgpICE9PSBlbGVtLnZhbHVlKSBjbS5zZXRWYWx1ZShlbGVtLnZhbHVlIHx8IFwiXCIpO1xuICAgIGlmKHBvc3RSZW5kZXIpIHBvc3RSZW5kZXIobm9kZSwgZWxlbSk7XG4gIH1cbn1cblxuLy8gQE5PVEU6IFVuY29tbWVudCB0aGlzIHRvIGVuYWJsZSB0aGUgbmV3IFVJLCBvciB0eXBlIGB3aW5kb3dbXCJORVVFX1VJXCJdID0gdHJ1ZTsgYXBwLnJlbmRlcigpYCBpbnRvIHRoZSBjb25zb2xlIHRvIGVuYWJsZSBpdCB0cmFuc2llbnRseS5cbndpbmRvd1tcIk5FVUVfVUlcIl0gPSB0cnVlO1xuIiwiaW1wb3J0IHt1bnBhZCwgcmVwZWF0LCBERUJVRywgdXVpZH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7RWxlbWVudCwgSGFuZGxlcn0gZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0IHtJbmRleGVyLCBRdWVyeX0gZnJvbSBcIi4vcnVudGltZVwiO1xuXG5mdW5jdGlvbiByZXNvbHZlKHRhYmxlLCBmYWN0KSB7XG4gIGxldCBuZXVlID0ge307XG4gIGZvcihsZXQgZmllbGQgaW4gZmFjdClcbiAgICBuZXVlW2Ake3RhYmxlfTogJHtmaWVsZH1gXSA9IGZhY3RbZmllbGRdO1xuICByZXR1cm4gbmV1ZTtcbn1cbmZ1bmN0aW9uIGh1bWFuaXplKHRhYmxlLCBmYWN0KSB7XG4gIGxldCBuZXVlID0ge307XG4gIGZvcihsZXQgZmllbGQgaW4gZmFjdClcbiAgICBuZXVlW2ZpZWxkLnNsaWNlKHRhYmxlLmxlbmd0aCArIDIpXSA9IGZhY3RbZmllbGRdO1xuICByZXR1cm4gbmV1ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCB0YWJsZSwgZmFjdCkge1xuICByZXR1cm4gY2hhbmdlc2V0LmFkZCh0YWJsZSwgcmVzb2x2ZSh0YWJsZSwgZmFjdCkpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCB0YWJsZSwgZmFjdCkge1xuICByZXR1cm4gY2hhbmdlc2V0LnJlbW92ZSh0YWJsZSwgcmVzb2x2ZSh0YWJsZSwgZmFjdCkpO1xufVxuZnVuY3Rpb24gaHVtYW5pemVkRmluZChpeGVyOkluZGV4ZXIsIHRhYmxlLCBxdWVyeSkge1xuICBsZXQgcmVzdWx0cyA9IFtdO1xuICBmb3IobGV0IGZhY3Qgb2YgaXhlci5maW5kKHRhYmxlLCByZXNvbHZlKHRhYmxlLCBxdWVyeSkpKSByZXN1bHRzLnB1c2goaHVtYW5pemUodGFibGUsIGZhY3QpKTtcbiAgbGV0IGRpYWcgPSB7fTtcbiAgZm9yKGxldCB0YWJsZSBpbiBpeGVyLnRhYmxlcykgZGlhZ1t0YWJsZV0gPSBpeGVyLnRhYmxlc1t0YWJsZV0udGFibGUubGVuZ3RoO1xuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IGNsYXNzIFVJIHtcbiAgcHJvdGVjdGVkIF9iaW5kaW5nOlF1ZXJ5O1xuICBwcm90ZWN0ZWQgX2VtYmVkZGVkOnt9O1xuICBwcm90ZWN0ZWQgX2NoaWxkcmVuOlVJW10gPSBbXTtcbiAgcHJvdGVjdGVkIF9hdHRyaWJ1dGVzOnt9ID0ge307XG4gIHByb3RlY3RlZCBfZXZlbnRzOnt9ID0ge307XG5cbiAgcHJvdGVjdGVkIF9wYXJlbnQ6VUk7XG5cbiAgc3RhdGljIHJlbW92ZSh0ZW1wbGF0ZTpzdHJpbmcsIGl4ZXI6SW5kZXhlcikge1xuICAgIGxldCBjaGFuZ2VzZXQgPSBpeGVyLmRpZmYoKTtcbiAgICByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIFwidWkgdGVtcGxhdGVcIiwge3RlbXBsYXRlfSk7XG4gICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIHRlbXBsYXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlfSk7XG4gICAgbGV0IGJpbmRpbmdzID0gaHVtYW5pemVkRmluZChpeGVyLCBcInVpIHRlbXBsYXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlfSk7XG4gICAgZm9yKGxldCBiaW5kaW5nIG9mIGJpbmRpbmdzKSBjaGFuZ2VzZXQubWVyZ2UoUXVlcnkucmVtb3ZlKGJpbmRpbmcuYmluZGluZywgaXhlcikpO1xuICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBlbWJlZFwiLCB7dGVtcGxhdGV9KTtcbiAgICBsZXQgZW1iZWRzID0gaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGVtYmVkXCIsIHt0ZW1wbGF0ZX0pO1xuICAgIGZvcihsZXQgZW1iZWQgb2YgZW1iZWRzKSB7XG4gICAgICByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIFwidWkgZW1iZWQgc2NvcGVcIiwge3RlbXBsYXRlLCBlbWJlZDogZW1iZWQuZW1iZWR9KTtcbiAgICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZSwgZW1iZWQ6IGVtYmVkLmVtYmVkfSk7XG4gICAgfVxuICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBhdHRyaWJ1dGVcIiwge3RlbXBsYXRlfSk7XG4gICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZX0pO1xuICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBldmVudFwiLCB7dGVtcGxhdGV9KTtcbiAgICBsZXQgZXZlbnRzID0gaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGV2ZW50XCIsIHt0ZW1wbGF0ZX0pO1xuICAgIGZvcihsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIFwidWkgZXZlbnQgc3RhdGVcIiwge3RlbXBsYXRlLCBldmVudDogZXZlbnQuZXZlbnR9KTtcbiAgICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZSwgZXZlbnQ6IGV2ZW50LmV2ZW50fSk7XG4gICAgfVxuXG4gICAgZm9yKGxldCBjaGlsZCBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgdGVtcGxhdGVcIiwge3BhcmVudDogdGVtcGxhdGV9KSkgY2hhbmdlc2V0Lm1lcmdlKFVJLnJlbW92ZShjaGlsZC50ZW1wbGF0ZSwgaXhlcikpO1xuICAgIHJldHVybiBjaGFuZ2VzZXQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaWQpIHtcblxuICB9XG4gIGNvcHkoKSB7XG4gICAgbGV0IG5ldWUgPSBuZXcgVUkodGhpcy5pZCk7XG4gICAgbmV1ZS5fYmluZGluZyA9IHRoaXMuX2JpbmRpbmc7XG4gICAgbmV1ZS5fZW1iZWRkZWQgPSB0aGlzLl9lbWJlZGRlZDtcbiAgICBuZXVlLl9jaGlsZHJlbiA9IHRoaXMuX2NoaWxkcmVuO1xuICAgIG5ldWUuX2F0dHJpYnV0ZXMgPSB0aGlzLl9hdHRyaWJ1dGVzO1xuICAgIG5ldWUuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICBuZXVlLl9wYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XG4gICAgcmV0dXJuIG5ldWU7XG4gIH1cbiAgY2hhbmdlc2V0KGl4ZXI6SW5kZXhlcikge1xuICAgIGxldCBjaGFuZ2VzZXQgPSBpeGVyLmRpZmYoKTtcblxuICAgIGxldCBwYXJlbnQgPSB0aGlzLl9hdHRyaWJ1dGVzW1wicGFyZW50XCJdIHx8ICh0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50LmlkKSB8fCBcIlwiO1xuICAgIGxldCBpeCA9IHRoaXMuX2F0dHJpYnV0ZXNbXCJpeFwiXTtcbiAgICBpZihpeCA9PT0gdW5kZWZpbmVkKSBpeCA9ICh0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50Ll9jaGlsZHJlbi5pbmRleE9mKHRoaXMpKTtcbiAgICBpZihpeCA9PT0gLTEgfHwgaXggPT09IHVuZGVmaW5lZCkgaXggPSBcIlwiO1xuICAgIGlmKHRoaXMuX2VtYmVkZGVkKSBwYXJlbnQgPSBcIlwiO1xuXG4gICAgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIHRlbXBsYXRlXCIsIHt0ZW1wbGF0ZTogdGhpcy5pZCwgcGFyZW50LCBpeH0pO1xuICAgIGlmKHRoaXMuX2JpbmRpbmcpIHtcbiAgICAgIGlmKCF0aGlzLl9iaW5kaW5nLm5hbWUgfHwgdGhpcy5fYmluZGluZy5uYW1lID09PSBcInVua25vd25cIikgdGhpcy5fYmluZGluZy5uYW1lID0gYGJvdW5kIHZpZXcgJHt0aGlzLmlkfWA7XG4gICAgICBjaGFuZ2VzZXQubWVyZ2UodGhpcy5fYmluZGluZy5jaGFuZ2VzZXQoaXhlcikpO1xuICAgICAgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIHRlbXBsYXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlOiB0aGlzLmlkLCBiaW5kaW5nOiB0aGlzLl9iaW5kaW5nLm5hbWV9KTtcbiAgICB9XG4gICAgaWYodGhpcy5fZW1iZWRkZWQpIHtcbiAgICAgIGxldCBlbWJlZCA9IHV1aWQoKTtcbiAgICAgIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBlbWJlZFwiLCB7ZW1iZWQsIHRlbXBsYXRlOiB0aGlzLmlkLCBwYXJlbnQ6ICh0aGlzLl9wYXJlbnQgfHwgPGFueT57fSkuaWQsIGl4fSk7XG4gICAgICBmb3IobGV0IGtleSBpbiB0aGlzLl9lbWJlZGRlZCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9hdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIHtlbWJlZCwga2V5LCBzb3VyY2U6IHZhbHVlWzBdLCBhbGlhczogdmFsdWVbMV19KTtcbiAgICAgICAgZWxzZSByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgZW1iZWQgc2NvcGVcIiwge2VtYmVkLCBrZXksIHZhbHVlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yKGxldCBwcm9wZXJ0eSBpbiB0aGlzLl9hdHRyaWJ1dGVzKSB7XG4gICAgICBsZXQgdmFsdWUgPSB0aGlzLl9hdHRyaWJ1dGVzW3Byb3BlcnR5XTtcbiAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBhdHRyaWJ1dGUgYmluZGluZ1wiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIHByb3BlcnR5LCBzb3VyY2U6IHZhbHVlWzBdLCBhbGlhczogdmFsdWVbMV19KTtcbiAgICAgIGVsc2UgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIGF0dHJpYnV0ZVwiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIHByb3BlcnR5LCB2YWx1ZX0pO1xuICAgIH1cblxuICAgIGZvcihsZXQgZXZlbnQgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgZXZlbnRcIiwge3RlbXBsYXRlOiB0aGlzLmlkLCBldmVudH0pO1xuICAgICAgbGV0IHN0YXRlID0gdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICAgIGZvcihsZXQga2V5IGluIHN0YXRlKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHN0YXRlW2tleV07XG4gICAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlOiB0aGlzLmlkLCBldmVudCwga2V5LCBzb3VyY2U6IHZhbHVlWzBdLCBhbGlhczogdmFsdWVbMV19KTtcbiAgICAgICAgZWxzZSByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgZXZlbnQgc3RhdGVcIiwge3RlbXBsYXRlOiB0aGlzLmlkLCBldmVudCwga2V5LCB2YWx1ZX0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvcihsZXQgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIGNoYW5nZXNldC5tZXJnZShjaGlsZC5jaGFuZ2VzZXQoaXhlcikpO1xuXG4gICAgcmV0dXJuIGNoYW5nZXNldDtcbiAgfVxuICBsb2FkKHRlbXBsYXRlOnN0cmluZywgaXhlcjpJbmRleGVyLCBwYXJlbnQ/OlVJKSB7XG4gICAgbGV0IGZhY3QgPSBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgdGVtcGxhdGVcIiwge3RlbXBsYXRlfSlbMF07XG4gICAgaWYoIWZhY3QpIHJldHVybiB0aGlzO1xuICAgIGlmKHBhcmVudCB8fCBmYWN0LnBhcmVudCkgdGhpcy5fcGFyZW50ID0gcGFyZW50IHx8IG5ldyBVSSh0aGlzLl9wYXJlbnQpO1xuICAgIGxldCBiaW5kaW5nID0gaHVtYW5pemVkRmluZChpeGVyLCBcInVpIHRlbXBsYXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlfSlbMF07XG4gICAgaWYoYmluZGluZykgdGhpcy5iaW5kKChuZXcgUXVlcnkoaXhlciwgYmluZGluZy5iaW5kaW5nKSkpO1xuICAgIGxldCBlbWJlZCA9IGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBlbWJlZFwiLCB7dGVtcGxhdGUsIHBhcmVudDogdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50LmlkIDogXCJcIn0pWzBdO1xuICAgIGlmKGVtYmVkKSB7XG4gICAgICBsZXQgc2NvcGUgPSB7fTtcbiAgICAgIGZvcihsZXQgYXR0ciBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgZW1iZWQgc2NvcGVcIiwge2VtYmVkOiBlbWJlZC5lbWJlZH0pKSBzY29wZVthdHRyLmtleV0gPSBhdHRyLnZhbHVlO1xuICAgICAgZm9yKGxldCBhdHRyIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIHtlbWJlZDogZW1iZWQuZW1iZWR9KSkgc2NvcGVbYXR0ci5rZXldID0gW2F0dHIuc291cmNlLCBhdHRyLmFsaWFzXTtcbiAgICAgIHRoaXMuZW1iZWQoc2NvcGUpO1xuICAgIH1cblxuICAgIGZvcihsZXQgYXR0ciBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgYXR0cmlidXRlXCIsIHt0ZW1wbGF0ZX0pKSB0aGlzLmF0dHJpYnV0ZShhdHRyLnByb3BlcnR5LCBhdHRyLnZhbHVlKTtcbiAgICBmb3IobGV0IGF0dHIgb2YgaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZX0pKSB0aGlzLmF0dHJpYnV0ZShhdHRyLnByb3BlcnR5LCBbYXR0ci5zb3VyY2UsIGF0dHIuYWxpYXNdKTtcblxuICAgIGZvcihsZXQgZXZlbnQgb2YgaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGV2ZW50XCIsIHt0ZW1wbGF0ZX0pKSB7XG4gICAgICBsZXQgc3RhdGUgPSB7fTtcbiAgICAgIGZvcihsZXQgYXR0ciBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgZXZlbnQgc3RhdGVcIiwge3RlbXBsYXRlLCBldmVudDogZXZlbnQuZXZlbnR9KSkgc3RhdGVbZXZlbnQua2V5XSA9IGV2ZW50LnZhbHVlO1xuICAgICAgZm9yKGxldCBhdHRyIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZSwgZXZlbnQ6IGV2ZW50LmV2ZW50fSkpIHN0YXRlW2V2ZW50LmtleV0gPSBbZXZlbnQuc291cmNlLCBldmVudC5hbGlhc11cbiAgICAgIHRoaXMuZXZlbnQoZXZlbnQuZXZlbnQsIHN0YXRlKTtcbiAgICB9XG5cbiAgICBmb3IobGV0IGNoaWxkIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSB0ZW1wbGF0ZVwiLCB7cGFyZW50OiB0ZW1wbGF0ZX0pKVxuICAgICAgdGhpcy5jaGlsZCgobmV3IFVJKGNoaWxkLnRlbXBsYXRlKSkubG9hZChjaGlsZC50ZW1wbGF0ZSwgaXhlciwgdGhpcykpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjaGlsZHJlbihuZXVlPzpVSVtdLCBhcHBlbmQgPSBmYWxzZSkge1xuICAgIGlmKCFuZXVlKSByZXR1cm4gdGhpcy5fY2hpbGRyZW47XG4gICAgaWYoIWFwcGVuZCkgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICBmb3IobGV0IGNoaWxkIG9mIG5ldWUpIHtcbiAgICAgIGxldCBjb3BpZWQgPSBjaGlsZC5jb3B5KCk7XG4gICAgICBjb3BpZWQuX3BhcmVudCA9IHRoaXM7XG4gICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGNvcGllZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbjtcbiAgfVxuICBjaGlsZChjaGlsZDpVSSwgaXg/OiBudW1iZXIsIGVtYmVkPzp7fSkge1xuICAgIGNoaWxkID0gY2hpbGQuY29weSgpO1xuICAgIGNoaWxkLl9wYXJlbnQgPSB0aGlzO1xuICAgIGlmKGVtYmVkKSBjaGlsZC5lbWJlZChlbWJlZCk7XG4gICAgaWYoIWl4KSB0aGlzLl9jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICBlbHNlIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpeCwgMCwgY2hpbGQpO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuICByZW1vdmVDaGlsZChpeDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpeCwgMSk7XG4gIH1cblxuICBhdHRyaWJ1dGVzKHByb3BlcnRpZXM/OiB7fSwgbWVyZ2UgPSBmYWxzZSkge1xuICAgIGlmKCFwcm9wZXJ0aWVzKSByZXR1cm4gdGhpcy5fYXR0cmlidXRlcztcbiAgICBpZighbWVyZ2UpIHtcbiAgICAgIGZvcihsZXQgcHJvcCBpbiB0aGlzLl9hdHRyaWJ1dGVzKSBkZWxldGUgdGhpcy5fYXR0cmlidXRlc1twcm9wXTtcbiAgICB9XG4gICAgZm9yKGxldCBwcm9wIGluIHByb3BlcnRpZXMpIHRoaXMuX2F0dHJpYnV0ZXNbcHJvcF0gPSBwcm9wZXJ0aWVzW3Byb3BdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGF0dHJpYnV0ZShwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZT86IGFueSkge1xuICAgIGlmKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzW3Byb3BlcnR5XTtcbiAgICB0aGlzLl9hdHRyaWJ1dGVzW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUF0dHJpYnV0ZShwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgZGVsZXRlIHRoaXMuX2F0dHJpYnV0ZXNbcHJvcGVydHldO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZXZlbnRzKGV2ZW50cz86IHt9LCBtZXJnZSA9IGZhbHNlKSB7XG4gICAgaWYoIWV2ZW50cykgcmV0dXJuIHRoaXMuX2V2ZW50cztcbiAgICBpZighbWVyZ2UpIHtcbiAgICAgIGZvcihsZXQgZXZlbnQgaW4gdGhpcy5fZXZlbnRzKSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICB9XG4gICAgZm9yKGxldCBldmVudCBpbiBldmVudHMpIHRoaXMuX2V2ZW50c1tldmVudF0gPSBldmVudHNbZXZlbnRdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGV2ZW50KGV2ZW50OiBzdHJpbmcsIHN0YXRlPzogYW55KSB7XG4gICAgaWYoc3RhdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX2V2ZW50c1tldmVudF07XG4gICAgdGhpcy5fYXR0cmlidXRlc1tldmVudF0gPSBzdGF0ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZW1vdmVFdmVudChldmVudDogc3RyaW5nKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1tldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBlbWJlZChzY29wZTp7fXxib29sZWFuID0ge30pIHtcbiAgICBpZighc2NvcGUpIHtcbiAgICAgIHRoaXMuX2VtYmVkZGVkID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmKHNjb3BlID09PSB0cnVlKSBzY29wZSA9IHt9O1xuICAgIHRoaXMuX2VtYmVkZGVkID0gc2NvcGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBiaW5kKGJpbmRpbmc6UXVlcnkpIHtcbiAgICB0aGlzLl9iaW5kaW5nID0gYmluZGluZztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5pbnRlcmZhY2UgVWlXYXJuaW5nIHtcbiAgXCJ1aSB3YXJuaW5nOiB0ZW1wbGF0ZVwiOiBzdHJpbmdcbiAgXCJ1aSB3YXJuaW5nOiB3YXJuaW5nXCI6IHN0cmluZ1xufVxuXG4vLyBAVE9ETzogRmluaXNoIHJlZmVyZW5jZSBpbXBsLlxuLy8gQFRPRE86IFRoZW4gYnVpbGQgYml0LWdlbmVyYXRpbmcgdmVyc2lvblxuZXhwb3J0IGNsYXNzIFVJUmVuZGVyZXIge1xuICBwdWJsaWMgY29tcGlsZWQgPSAwO1xuICBwcm90ZWN0ZWQgX3RhZ0NvbXBpbGVyczp7W3RhZzogc3RyaW5nXTogKGVsZW06RWxlbWVudCkgPT4gdm9pZH0gPSB7fTtcbiAgcHJvdGVjdGVkIF9oYW5kbGVyczpIYW5kbGVyPEV2ZW50PltdID0gW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIGl4ZXI6SW5kZXhlcikge31cblxuICBjb21waWxlKHJvb3RzOihzdHJpbmd8RWxlbWVudClbXSk6RWxlbWVudFtdIHtcbiAgICBpZihERUJVRy5SRU5ERVJFUikgY29uc29sZS5ncm91cChcInVpIGNvbXBpbGVcIik7XG4gICAgbGV0IGNvbXBpbGVkRWxlbXM6RWxlbWVudFtdID0gW107XG4gICAgZm9yKGxldCByb290IG9mIHJvb3RzKSB7XG4gICAgICAvLyBAVE9ETzogcmVwYXJlbnQgZHluYW1pYyByb290cyBpZiBuZWVkZWQuXG4gICAgICBpZih0eXBlb2Ygcm9vdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsZXQgZWxlbXMgPSB0aGlzLl9jb21waWxlV3JhcHBlcihyb290LCBjb21waWxlZEVsZW1zLmxlbmd0aCk7XG4gICAgICAgIGNvbXBpbGVkRWxlbXMucHVzaC5hcHBseShjb21waWxlZEVsZW1zLCBlbGVtcyk7XG4gICAgICAgIGxldCBiYXNlID0gdGhpcy5peGVyLmZpbmRPbmUoXCJ1aSB0ZW1wbGF0ZVwiLCB7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjogcm9vdH0pO1xuICAgICAgICBpZighYmFzZSkgY29udGludWU7XG4gICAgICAgIGxldCBwYXJlbnQgPSBiYXNlW1widWkgdGVtcGxhdGU6IHBhcmVudFwiXTtcbiAgICAgICAgaWYocGFyZW50KSB7XG4gICAgICAgICAgZm9yKGxldCBlbGVtIG9mIGVsZW1zKSBlbGVtLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmKCFyb290Lml4KSByb290Lml4ID0gY29tcGlsZWRFbGVtcy5sZW5ndGg7XG4gICAgICAgIGNvbXBpbGVkRWxlbXMucHVzaChyb290KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoREVCVUcuUkVOREVSRVIpIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICByZXR1cm4gY29tcGlsZWRFbGVtcztcbiAgfVxuXG4gIHByb3RlY3RlZCBfY29tcGlsZVdyYXBwZXIodGVtcGxhdGU6c3RyaW5nLCBiYXNlSXg6IG51bWJlciwgY29uc3RyYWludHM6e30gPSB7fSwgYmluZGluZ1N0YWNrOmFueVtdID0gW10sIGRlcHRoOm51bWJlciA9IDApOkVsZW1lbnRbXSB7XG4gICAgbGV0IGVsZW1zID0gW107XG4gICAgbGV0IGJpbmRpbmcgPSB0aGlzLml4ZXIuZmluZE9uZShcInVpIHRlbXBsYXRlIGJpbmRpbmdcIiwge1widWkgdGVtcGxhdGUgYmluZGluZzogdGVtcGxhdGVcIjogdGVtcGxhdGV9KTtcbiAgICBpZighYmluZGluZykge1xuICAgICAgbGV0IGVsZW0gPSB0aGlzLl9jb21waWxlRWxlbWVudCh0ZW1wbGF0ZSwgYmluZGluZ1N0YWNrLCBkZXB0aCk7XG4gICAgICBpZihlbGVtKSBlbGVtc1swXSA9IGVsZW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBib3VuZFF1ZXJ5ID0gYmluZGluZ1tcInVpIHRlbXBsYXRlIGJpbmRpbmc6IGJpbmRpbmdcIl07XG4gICAgICBsZXQgZmFjdHMgPSB0aGlzLmdldEJvdW5kRmFjdHMoYm91bmRRdWVyeSwgY29uc3RyYWludHMpO1xuICAgICAgbGV0IGl4ID0gMDtcbiAgICAgIGZvcihsZXQgZmFjdCBvZiBmYWN0cykge1xuICAgICAgICBiaW5kaW5nU3RhY2sucHVzaChmYWN0KTtcbiAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9jb21waWxlRWxlbWVudCh0ZW1wbGF0ZSwgYmluZGluZ1N0YWNrLCBkZXB0aCk7XG4gICAgICAgIGJpbmRpbmdTdGFjay5wb3AoKTtcbiAgICAgICAgaWYoZWxlbSkgZWxlbXMucHVzaChlbGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbXMuc29ydCgoYSwgYikgPT4gYS5peCAtIGIuaXgpO1xuICAgIGxldCBwcmV2SXggPSB1bmRlZmluZWQ7XG4gICAgZm9yKGxldCBlbGVtIG9mIGVsZW1zKSB7XG4gICAgICBlbGVtLml4ID0gZWxlbS5peCA/IGVsZW0uaXggKyBiYXNlSXggOiBiYXNlSXg7XG4gICAgICBpZihlbGVtLml4ID09PSBwcmV2SXgpIGVsZW0uaXgrKztcbiAgICAgIHByZXZJeCA9IGVsZW0uaXg7XG4gICAgfVxuICAgIHJldHVybiBlbGVtcztcbiAgfVxuXG4gIHByb3RlY3RlZCBfY29tcGlsZUVsZW1lbnQodGVtcGxhdGU6c3RyaW5nLCBiaW5kaW5nU3RhY2s6YW55W10sIGRlcHRoOm51bWJlcik6RWxlbWVudCB7XG4gICAgaWYoREVCVUcuUkVOREVSRVIpIGNvbnNvbGUubG9nKHJlcGVhdChcIiAgXCIsIGRlcHRoKSArIFwiKiBjb21waWxlXCIsIHRlbXBsYXRlKTtcbiAgICBsZXQgZWxlbWVudFRvQ2hpbGRyZW4gPSB0aGlzLml4ZXIuaW5kZXgoXCJ1aSB0ZW1wbGF0ZVwiLCBbXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCJdKTtcbiAgICBsZXQgZWxlbWVudFRvRW1iZWRzID0gdGhpcy5peGVyLmluZGV4KFwidWkgZW1iZWRcIiwgW1widWkgZW1iZWQ6IHBhcmVudFwiXSk7XG4gICAgbGV0IGVtYmVkVG9TY29wZSA9IHRoaXMuaXhlci5pbmRleChcInVpIGVtYmVkIHNjb3BlXCIsIFtcInVpIGVtYmVkIHNjb3BlOiBlbWJlZFwiXSk7XG4gICAgbGV0IGVtYmVkVG9TY29wZUJpbmRpbmcgPSB0aGlzLml4ZXIuaW5kZXgoXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nXCIsIFtcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGVtYmVkXCJdKTtcbiAgICBsZXQgZWxlbWVudFRvQXR0cnMgPSB0aGlzLml4ZXIuaW5kZXgoXCJ1aSBhdHRyaWJ1dGVcIiwgW1widWkgYXR0cmlidXRlOiB0ZW1wbGF0ZVwiXSk7XG4gICAgbGV0IGVsZW1lbnRUb0F0dHJCaW5kaW5ncyA9IHRoaXMuaXhlci5pbmRleChcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsIFtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiXSk7XG4gICAgbGV0IGVsZW1lbnRUb0V2ZW50cyA9IHRoaXMuaXhlci5pbmRleChcInVpIGV2ZW50XCIsIFtcInVpIGV2ZW50OiB0ZW1wbGF0ZVwiXSk7XG4gICAgdGhpcy5jb21waWxlZCsrO1xuICAgIGxldCBiYXNlID0gdGhpcy5peGVyLmZpbmRPbmUoXCJ1aSB0ZW1wbGF0ZVwiLCB7XCJ1aSB0ZW1wbGF0ZTogdGVtcGxhdGVcIjogdGVtcGxhdGV9KTtcbiAgICBpZighYmFzZSkge1xuICAgICAgY29uc29sZS53YXJuKGB1aSB0ZW1wbGF0ZSAke3RlbXBsYXRlfSBkb2VzIG5vdCBleGlzdC4gSWdub3JpbmcuYCk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGxldCBhdHRycyA9IGVsZW1lbnRUb0F0dHJzW3RlbXBsYXRlXTtcbiAgICBsZXQgYm91bmRBdHRycyA9IGVsZW1lbnRUb0F0dHJCaW5kaW5nc1t0ZW1wbGF0ZV07XG4gICAgbGV0IGV2ZW50cyA9IGVsZW1lbnRUb0V2ZW50c1t0ZW1wbGF0ZV07XG5cbiAgICAvLyBIYW5kbGUgbWV0YSBwcm9wZXJ0aWVzXG4gICAgbGV0IGVsZW06RWxlbWVudCA9IHtfdGVtcGxhdGU6IHRlbXBsYXRlLCBpeDogYmFzZVtcInVpIHRlbXBsYXRlOiBpeFwiXX07XG5cbiAgICAvLyBIYW5kbGUgc3RhdGljIHByb3BlcnRpZXNcbiAgICBpZihhdHRycykge1xuICAgICAgZm9yKGxldCB7XCJ1aSBhdHRyaWJ1dGU6IHByb3BlcnR5XCI6IHByb3AsIFwidWkgYXR0cmlidXRlOiB2YWx1ZVwiOiB2YWx9IG9mIGF0dHJzKSBlbGVtW3Byb3BdID0gdmFsO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBib3VuZCBwcm9wZXJ0aWVzXG4gICAgaWYoYm91bmRBdHRycykge1xuICAgICAgLy8gQEZJWE1FOiBXaGF0IGRvIHdpdGggc291cmNlP1xuICAgICAgZm9yKGxldCB7XCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogcHJvcGVydHlcIjogcHJvcCwgXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogc291cmNlXCI6IHNvdXJjZSwgXCJ1aSBhdHRyaWJ1dGUgYmluZGluZzogYWxpYXNcIjogYWxpYXN9IG9mIGJvdW5kQXR0cnMpXG4gICAgICAgIGVsZW1bcHJvcF0gPSB0aGlzLmdldEJvdW5kVmFsdWUoc291cmNlLCBhbGlhcywgYmluZGluZ1N0YWNrKTtcbiAgICB9XG5cbiAgICAvLyBBdHRhY2ggZXZlbnQgaGFuZGxlcnNcbiAgICBpZihldmVudHMpIHtcbiAgICAgIGZvcihsZXQge1widWkgZXZlbnQ6IGV2ZW50XCI6IGV2ZW50fSBvZiBldmVudHMpIGVsZW1bZXZlbnRdID0gdGhpcy5nZW5lcmF0ZUV2ZW50SGFuZGxlcihlbGVtLCBldmVudCwgYmluZGluZ1N0YWNrKTtcbiAgICB9XG5cbiAgICAvLyBDb21waWxlIGNoaWxkcmVuXG4gICAgbGV0IGNoaWxkcmVuID0gZWxlbWVudFRvQ2hpbGRyZW5bdGVtcGxhdGVdIHx8IFtdO1xuICAgIGxldCBlbWJlZHMgPSBlbGVtZW50VG9FbWJlZHNbdGVtcGxhdGVdIHx8IFtdO1xuICAgIGlmKGNoaWxkcmVuLmxlbmd0aCB8fCBlbWJlZHMubGVuZ3RoKSB7XG4gICAgICBlbGVtLmNoaWxkcmVuID0gW107XG4gICAgICBsZXQgY2hpbGRJeCA9IDAsIGVtYmVkSXggPSAwO1xuICAgICAgd2hpbGUoY2hpbGRJeCA8IGNoaWxkcmVuLmxlbmd0aCB8fCBlbWJlZEl4IDwgZW1iZWRzLmxlbmd0aCkge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltjaGlsZEl4XTtcbiAgICAgICAgbGV0IGVtYmVkID0gZW1iZWRzW2VtYmVkSXhdO1xuICAgICAgICBsZXQgYWRkLCBjb25zdHJhaW50cyA9IHt9LCBjaGlsZEJpbmRpbmdTdGFjayA9IGJpbmRpbmdTdGFjaztcbiAgICAgICAgaWYoIWVtYmVkIHx8IGNoaWxkICYmIGNoaWxkLml4IDw9IGVtYmVkLml4KSB7XG4gICAgICAgICAgYWRkID0gY2hpbGRyZW5bY2hpbGRJeCsrXVtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiXTtcbiAgICAgICAgICAvLyBSZXNvbHZlIGJvdW5kIGFsaWFzZXMgaW50byBjb25zdHJhaW50c1xuICAgICAgICAgIGNvbnN0cmFpbnRzID0gdGhpcy5nZXRCb3VuZFNjb3BlKGJpbmRpbmdTdGFjayk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGQgPSBlbWJlZHNbZW1iZWRJeCsrXVtcInVpIGVtYmVkOiB0ZW1wbGF0ZVwiXTtcbiAgICAgICAgICBmb3IobGV0IHNjb3BlIG9mIGVtYmVkVG9TY29wZVtlbWJlZFtcInVpIGVtYmVkOiBlbWJlZFwiXV0gfHwgW10pXG4gICAgICAgICAgICBjb25zdHJhaW50c1tzY29wZVtcInVpIGVtYmVkIHNjb3BlOiBrZXlcIl1dID0gc2NvcGVbXCJ1aSBlbWJlZCBzY29wZTogdmFsdWVcIl07XG5cbiAgICAgICAgICBmb3IobGV0IHNjb3BlIG9mIGVtYmVkVG9TY29wZUJpbmRpbmdbZW1iZWRbXCJ1aSBlbWJlZDogZW1iZWRcIl1dIHx8IFtdKSB7XG4gICAgICAgICAgICAvLyBARklYTUU6IFdoYXQgZG8gYWJvdXQgc291cmNlP1xuICAgICAgICAgICAgbGV0IHtcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGtleVwiOiBrZXksIFwidWkgZW1iZWQgc2NvcGUgYmluZGluZzogc291cmNlXCI6IHNvdXJjZSwgXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBhbGlhc1wiOiBhbGlhc30gPSBzY29wZTtcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzW2tleV0gPSB0aGlzLmdldEJvdW5kVmFsdWUoc291cmNlLCBhbGlhcywgYmluZGluZ1N0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGRCaW5kaW5nU3RhY2sgPSBbY29uc3RyYWludHNdO1xuICAgICAgICB9XG4gICAgICAgIGVsZW0uY2hpbGRyZW4ucHVzaC5hcHBseShlbGVtLmNoaWxkcmVuLCB0aGlzLl9jb21waWxlV3JhcHBlcihhZGQsIGVsZW0uY2hpbGRyZW4ubGVuZ3RoLCBjb25zdHJhaW50cywgY2hpbGRCaW5kaW5nU3RhY2ssIGRlcHRoICsgMSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMuX3RhZ0NvbXBpbGVyc1tlbGVtLnRdKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl90YWdDb21waWxlcnNbZWxlbS50XShlbGVtKTtcbiAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGNvbXBpbGUgdGVtcGxhdGU6ICcke3RlbXBsYXRlfScgZHVlIHRvICcke2Vycn0nIGZvciBlbGVtZW50ICcke0pTT04uc3RyaW5naWZ5KGVsZW0pfSdgKTtcbiAgICAgICAgZWxlbS50ID0gXCJ1aS1lcnJvclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbGVtO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldEJvdW5kRmFjdHMocXVlcnksIGNvbnN0cmFpbnRzKTpzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuaXhlci5maW5kKHF1ZXJ5LCBjb25zdHJhaW50cyk7XG4gIH1cbiAgcHJvdGVjdGVkIGdldEJvdW5kU2NvcGUoYmluZGluZ1N0YWNrOmFueVtdKTp7fSB7XG4gICAgbGV0IHNjb3BlID0ge307XG4gICAgZm9yKGxldCBmYWN0IG9mIGJpbmRpbmdTdGFjaykge1xuICAgICAgZm9yKGxldCBhbGlhcyBpbiBmYWN0KSBzY29wZVthbGlhc10gPSBmYWN0W2FsaWFzXTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlO1xuICB9XG5cbiAgLy9ARklYTUU6IFdoYXQgZG8gYWJvdXQgc291cmNlP1xuICBwcm90ZWN0ZWQgZ2V0Qm91bmRWYWx1ZShzb3VyY2U6c3RyaW5nLCBhbGlhczpzdHJpbmcsIGJpbmRpbmdTdGFjazphbnlbXSk6YW55IHsgLy8gQEZJWE1FOiBGaW5kcyBkb24ndCBjcmVhdGUgYSBzb3VyY2UgZmllbGQgb24gdGhlIHJlc3VsdC5cbiAgICBmb3IobGV0IGl4ID0gYmluZGluZ1N0YWNrLmxlbmd0aCAtIDE7IGl4ID49IDA7IGl4LS0pIHtcbiAgICAgIGxldCBmYWN0ID0gYmluZGluZ1N0YWNrW2l4XTtcbiAgICAgIGlmKHNvdXJjZSBpbiBmYWN0ICYmIGZhY3RbYWxpYXNdKSByZXR1cm4gZmFjdFthbGlhc107XG4gICAgfVxuICB9XG4gIHByb3RlY3RlZCBnZW5lcmF0ZUV2ZW50SGFuZGxlcihlbGVtOkVsZW1lbnQsIGV2ZW50OnN0cmluZywgYmluZGluZ1N0YWNrOmFueVtdKTpIYW5kbGVyPEV2ZW50PiB7XG4gICAgbGV0IHRlbXBsYXRlID0gZWxlbVtcIl90ZW1wbGF0ZVwiXTtcbiAgICBsZXQgbWVtb0tleSA9IGAke3RlbXBsYXRlfTo6JHtldmVudH1gO1xuICAgIGxldCBhdHRyS2V5ID0gYCR7ZXZlbnR9OjpzdGF0ZWA7XG4gICAgZWxlbVthdHRyS2V5XSA9IHRoaXMuZ2V0RXZlbnRTdGF0ZSh0ZW1wbGF0ZSwgZXZlbnQsIGJpbmRpbmdTdGFjayk7XG4gICAgaWYodGhpcy5faGFuZGxlcnNbbWVtb0tleV0pIHJldHVybiB0aGlzLl9oYW5kbGVyc1ttZW1vS2V5XTtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBpZihldmVudCA9PT0gXCJjaGFuZ2VcIiB8fCBldmVudCA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICB0aGlzLl9oYW5kbGVyc1ttZW1vS2V5XSA9IChldnQ6RXZlbnQsIGVsZW06RWxlbWVudCkgPT4ge1xuICAgICAgICBsZXQgcHJvcHM6YW55ID0ge307XG4gICAgICAgIGlmKGVsZW0udCA9PT0gXCJzZWxlY3RcIiB8fCBlbGVtLnQgPT09IFwiaW5wdXRcIiB8fCBlbGVtLnQgPT09IFwidGV4dGFyZWFcIikgcHJvcHMudmFsdWUgPSAoPEhUTUxTZWxlY3RFbGVtZW50fEhUTUxJbnB1dEVsZW1lbnQ+ZXZ0LnRhcmdldCkudmFsdWU7XG4gICAgICAgIGlmKGVsZW0udHlwZSA9PT0gXCJjaGVja2JveFwiKSBwcm9wcy52YWx1ZSA9ICg8SFRNTElucHV0RWxlbWVudD5ldnQudGFyZ2V0KS5jaGVja2VkO1xuICAgICAgICBzZWxmLmhhbmRsZUV2ZW50KHRlbXBsYXRlLCBldmVudCwgZXZ0LCBlbGVtLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVyc1ttZW1vS2V5XSA9IChldnQ6RXZlbnQsIGVsZW06RWxlbWVudCkgPT4ge1xuICAgICAgICBzZWxmLmhhbmRsZUV2ZW50KHRlbXBsYXRlLCBldmVudCwgZXZ0LCBlbGVtLCB7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZXJzW21lbW9LZXldO1xuICB9XG4gIHByb3RlY3RlZCBoYW5kbGVFdmVudCh0ZW1wbGF0ZTpzdHJpbmcsIGV2ZW50TmFtZTpzdHJpbmcsIGV2ZW50OkV2ZW50LCBlbGVtOkVsZW1lbnQsIGV2ZW50UHJvcHM6e30pIHtcbiAgICBsZXQgYXR0cktleSA9IGAke2V2ZW50TmFtZX06OnN0YXRlYDtcbiAgICBsZXQgc3RhdGUgPSBlbGVtW2F0dHJLZXldO1xuICAgIGxldCBjb250ZW50ID0gdW5wYWQoNikgYFxuICAgICAgIyAke2V2ZW50TmFtZX0gKHtpcyBhOiBldmVudH0pXG4gICAgICAjIyBNZXRhXG4gICAgICBldmVudCB0YXJnZXQ6IHtldmVudCB0YXJnZXQ6ICR7ZWxlbS5pZH19XG4gICAgICBldmVudCB0ZW1wbGF0ZToge2V2ZW50IHRlbXBsYXRlOiAke3RlbXBsYXRlfX1cbiAgICAgIGV2ZW50IHR5cGU6IHtldmVudCB0eXBlOiAke2V2ZW50TmFtZX19XG5cbiAgICAgICMjIFN0YXRlXG4gICAgYDtcbiAgICBpZihzdGF0ZVtcIipldmVudCpcIl0pIHtcbiAgICAgIGZvcihsZXQgcHJvcCBpbiBzdGF0ZVtcIipldmVudCpcIl0pXG4gICAgICAgIGNvbnRlbnQgKz0gYCR7cHJvcH06IHske3Byb3B9OiAke2V2ZW50UHJvcHNbc3RhdGVbXCIqZXZlbnQqXCJdW3Byb3BdXX19XFxuYDtcbiAgICB9XG4gICAgZm9yKGxldCBwcm9wIGluIHN0YXRlKSB7XG4gICAgICBpZihwcm9wID09PSBcIipldmVudCpcIikgY29udGludWU7XG4gICAgICBjb250ZW50ICs9IGAke3Byb3B9OiB7JHtwcm9wfTogJHtzdGF0ZVtwcm9wXX19XFxuYFxuICAgIH1cblxuICAgIGxldCBjaGFuZ2VzZXQgPSB0aGlzLml4ZXIuZGlmZigpO1xuICAgIGxldCByYXcgPSB1dWlkKCk7XG4gICAgbGV0IGVudGl0eSA9IGAke2V2ZW50TmFtZX0gZXZlbnQgJHtyYXcuc2xpY2UoLTEyKX1gO1xuICAgIGNoYW5nZXNldC5hZGQoXCJidWlsdGluIGVudGl0eVwiLCB7ZW50aXR5LCBjb250ZW50fSk7XG4gICAgdGhpcy5peGVyLmFwcGx5RGlmZihjaGFuZ2VzZXQpO1xuICAgIGNvbnNvbGUubG9nKGVudGl0eSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RXZlbnRTdGF0ZSh0ZW1wbGF0ZTpzdHJpbmcsIGV2ZW50OnN0cmluZywgYmluZGluZ1N0YWNrOmFueVtdKTp7fSB7XG4gICAgbGV0IHN0YXRlID0ge307XG4gICAgbGV0IHN0YXRpY0F0dHJzID0gdGhpcy5peGVyLmZpbmQoXCJ1aSBldmVudCBzdGF0ZVwiLCB7XCJ1aSBldmVudCBzdGF0ZTogdGVtcGxhdGVcIjogdGVtcGxhdGUsIFwidWkgZXZlbnQgc3RhdGU6IGV2ZW50XCI6IGV2ZW50fSk7XG4gICAgZm9yKGxldCB7XCJ1aSBldmVudCBzdGF0ZToga2V5XCI6IGtleSwgXCJ1aSBldmVudCBzdGF0ZTogdmFsdWVcIjogdmFsfSBvZiBzdGF0aWNBdHRycykgc3RhdGVba2V5XSA9IHZhbDtcblxuICAgIGxldCBib3VuZEF0dHJzID0gdGhpcy5peGVyLmZpbmQoXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nXCIsIHtcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHRlbXBsYXRlXCI6IHRlbXBsYXRlLCBcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGV2ZW50XCI6IGV2ZW50fSk7XG4gICAgZm9yKGxldCB7XCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBrZXlcIjoga2V5LCBcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IHNvdXJjZVwiOiBzb3VyY2UsIFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogYWxpYXNcIjogYWxpYXN9IG9mIGJvdW5kQXR0cnMpIHtcbiAgICAgIGlmKHNvdXJjZSA9PT0gXCIqZXZlbnQqXCIpIHtcbiAgICAgICAgc3RhdGVbXCIqZXZlbnQqXCJdID0gc3RhdGVbXCIqZXZlbnQqXCJdIHx8IHt9O1xuICAgICAgICBzdGF0ZVtcIipldmVudCpcIl1ba2V5XSA9IGFsaWFzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGVba2V5XSA9IHRoaXMuZ2V0Qm91bmRWYWx1ZShzb3VyY2UsIGFsaWFzLCBiaW5kaW5nU3RhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5kZWNsYXJlIHZhciBleHBvcnRzO1xuaWYodGhpcy53aW5kb3cpIHdpbmRvd1tcInVpUmVuZGVyZXJcIl0gPSBleHBvcnRzOyIsImltcG9ydCB7djQgYXMgX3V1aWR9IGZyb20gXCIuLi92ZW5kb3IvdXVpZFwiO1xuZXhwb3J0IHZhciB1dWlkID0gX3V1aWQ7XG5cbmV4cG9ydCB2YXIgRU5WID0gXCJicm93c2VyXCI7XG50cnkge1xuICB3aW5kb3dcbn0gY2F0Y2goZXJyKSB7XG4gIEVOViA9IFwibm9kZVwiO1xufVxuXG5leHBvcnQgdmFyIERFQlVHOmFueSA9IHtcblxufTtcblxuaWYoRU5WID09PSBcImJyb3dzZXJcIikgd2luZG93W1wiREVCVUdcIl0gPSBERUJVRztcblxudHlwZSBUZW1wbGF0ZVN0cmluZ1RhZyA9IChzdHJpbmdzOnN0cmluZ1tdLCAuLi52YWx1ZXM6YW55W10pID0+IHN0cmluZ1xuaW50ZXJmYWNlIHVucGFkIHtcbiAgKGluZGVudDpudW1iZXIpOiBUZW1wbGF0ZVN0cmluZ1RhZ1xuICBtZW1vOiB7W2luZGVudDpudW1iZXJdOiBUZW1wbGF0ZVN0cmluZ1RhZ31cbn1cbmV4cG9ydCB2YXIgdW5wYWQ6dW5wYWQgPSA8YW55PmZ1bmN0aW9uKGluZGVudCkge1xuICBpZih1bnBhZC5tZW1vW2luZGVudF0pIHJldHVybiB1bnBhZC5tZW1vW2luZGVudF07XG4gIHJldHVybiB1bnBhZC5tZW1vW2luZGVudF0gPSBmdW5jdGlvbihzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBpZighc3RyaW5ncy5sZW5ndGgpIHJldHVybjtcbiAgICBsZXQgcmVzID0gXCJcIjtcbiAgICBsZXQgaXggPSAwO1xuICAgIGZvcihsZXQgc3RyIG9mIHN0cmluZ3MpIHJlcyArPSBzdHIgKyAodmFsdWVzLmxlbmd0aCA+IGl4ID8gdmFsdWVzW2l4KytdIDogXCJcIik7XG5cbiAgICBpZihyZXNbMF0gPT09IFwiXFxuXCIpIHJlcyA9IHJlcy5zbGljZSgxKTtcbiAgICBsZXQgY2hhckl4ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICByZXMgPSByZXMuc2xpY2UoMCwgY2hhckl4KSArIHJlcy5zbGljZShjaGFySXggKyBpbmRlbnQpO1xuICAgICAgY2hhckl4ID0gcmVzLmluZGV4T2YoXCJcXG5cIiwgY2hhckl4KSArIDE7XG4gICAgICBpZighY2hhckl4KSBicmVhaztcbiAgICB9XG4gIHJldHVybiByZXM7XG4gIH1cbn07XG51bnBhZC5tZW1vID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQoc3RyOnN0cmluZywgbGVuZ3RoOm51bWJlcikge1xuICBsZXQgbGVuID0gbGVuZ3RoIC8gc3RyLmxlbmd0aDtcbiAgbGV0IHJlcyA9IFwiXCI7XG4gIGZvcihsZXQgaXggPSAwOyBpeCA8IGxlbjsgaXgrKykgIHJlcyArPSBzdHI7XG4gIHJldHVybiAocmVzLmxlbmd0aCA+IGxlbmd0aCkgPyByZXMuc2xpY2UoMCwgbGVuZ3RoKSA6IHJlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bmRlcmxpbmUoc3RhcnRJeCwgbGVuZ3RoKSB7XG4gIHJldHVybiByZXBlYXQoXCIgXCIsIHN0YXJ0SXgpICsgXCJeXCIgKyByZXBlYXQoXCJ+XCIsIGxlbmd0aCAtIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZSh3b3JkOnN0cmluZyk6c3RyaW5nIHtcbiAgcmV0dXJuIHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpdGxlY2FzZShuYW1lOnN0cmluZyk6c3RyaW5nIHtcbiAgcmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLm1hcChjYXBpdGFsaXplKS5qb2luKFwiIFwiKTtcbn1cblxuZXhwb3J0IHZhciBzdHJpbmcgPSB7XG4gIHVucGFkLFxuICByZXBlYXQsXG4gIHVuZGVybGluZSxcbiAgY2FwaXRhbGl6ZSxcbiAgdGl0bGVjYXNlXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFpbChhcnIpIHtcbiAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbmV4cG9ydCB2YXIgYXJyYXkgPSB7XG4gIHRhaWxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2VyY2VJbnB1dChpbnB1dCkge1xuICAvLyBodHRwOi8vanNwZXJmLmNvbS9yZWdleC12cy1wbHVzLWNvZXJjaW9uXG4gIGlmICghaXNOYU4oK2lucHV0KSkgcmV0dXJuICtpbnB1dDtcbiAgZWxzZSBpZiAoaW5wdXQgPT09IFwidHJ1ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgZWxzZSBpZiAoaW5wdXQgPT09IFwiZmFsc2VcIikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbi8vIFNoYWxsb3cgY29weSB0aGUgZ2l2ZW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob2JqKSB7XG4gIGlmKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG9iajtcbiAgaWYob2JqIGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBvYmouc2xpY2UoKTtcbiAgbGV0IHJlcyA9IHt9O1xuICBmb3IobGV0IGtleSBpbiBvYmopIHJlc1trZXldID0gb2JqW2tleV07XG4gIHJldHVybiByZXM7XG59IiwiXCJ1c2Ugc3RyaWN0XCJcbmltcG9ydCB7cGFyc2UgYXMgbWFya2VkLCBSZW5kZXJlciBhcyBNYXJrZWRSZW5kZXJlcn0gZnJvbSBcIi4uL3ZlbmRvci9tYXJrZWRcIjtcbmltcG9ydCB7RWxlbWVudH0gZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tIFwiLi9ydW50aW1lXCI7XG5pbXBvcnQge1Rva2VuVHlwZXMsIFN0ZXBUeXBlLCBnZXRUb2tlbnMsIHF1ZXJ5VG9FeGVjdXRhYmxlfSBmcm9tIFwiLi9xdWVyeVBhcnNlclwiO1xuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuL2FwcFwiO1xuaW1wb3J0ICogYXMgbWljcm9SZWFjdCBmcm9tIFwiLi9taWNyb1JlYWN0XCI7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0ICogYXMgdWkgZnJvbSBcIi4vdWlcIjtcblxuZGVjbGFyZSB2YXIgQ29kZU1pcnJvcjtcbmRlY2xhcmUgdmFyIHBsdXJhbGl6ZTtcbmRlY2xhcmUgdmFyIHV1aWQ7XG5cbmNvbnN0IE1BWF9OVU1CRVIgPSBydW50aW1lLk1BWF9OVU1CRVI7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFbnRpdHlcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCB2YXIgY29lcmNlSW5wdXQgPSB1dGlscy5jb2VyY2VJbnB1dDtcblxudmFyIGJyZWFrcyA9IC9be31cXHw6XFxuI1wiXS87XG52YXIgdHlwZXMgPSB7XG4gIFwiI1wiOiBcImhlYWRlclwiLFxuICBcIntcIjogXCJsaW5rIG9wZW5cIixcbiAgXCJ9XCI6IFwibGluayBjbG9zZVwiLFxuICBcIjpcIjogXCJhc3NpZ25tZW50XCIsXG4gIFwiXFxcIlwiOiBcInRleHRcIixcbn1cbmZ1bmN0aW9uIHRva2VuaXplKGVudGl0eSkge1xuICBsZXQgbGluZSA9IDA7XG4gIGxldCBpeCA9IDA7XG4gIGxldCBsZW4gPSBlbnRpdHkubGVuZ3RoO1xuICBsZXQgdG9rZW5zID0gW107XG4gIGxldCBjdXIgPSB7aXgsIGxpbmUsIHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwifTtcbiAgZm9yKDsgaXggPCBsZW47IGl4KyspIHtcbiAgICBsZXQgY2ggPSBlbnRpdHlbaXhdO1xuICAgIGlmKGNoLm1hdGNoKGJyZWFrcykpIHtcbiAgICAgIGxldCB0eXBlID0gdHlwZXNbY2hdO1xuICAgICAgaWYodHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgY2ggPSBlbnRpdHlbKytpeF07XG4gICAgICAgIHdoaWxlKGNoICYmIGNoICE9PSBcIlxcXCJcIikge1xuICAgICAgICAgIGlmKGNoID09PSBcIlxcblwiKSBsaW5lKys7XG4gICAgICAgICAgY3VyLnRleHQgKz0gY2g7XG4gICAgICAgICAgY2ggPSBlbnRpdHlbKytpeF07XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zLnB1c2goY3VyKTtcbiAgICAgICAgaXgrKztcbiAgICAgICAgY3VyID0ge2l4OiBpeCsxLCBsaW5lLCB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJcIn07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYoY2ggPT09IFwiXFxuXCIpIGxpbmUrKztcbiAgICAgIGlmKGN1ci50ZXh0ICE9PSBcIlwiIHx8IGN1ci5saW5lICE9PSBsaW5lKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKGN1cik7XG4gICAgICB9XG4gICAgICBpZihjaCA9PT0gXCJcXG5cIikge1xuICAgICAgICBjdXIgPSB7aXg6IGl4KzEsIGxpbmUsIHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwifTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXIgPSB7aXgsIGxpbmUsIHR5cGUsIHRleHQ6IGNofTtcbiAgICAgIHRva2Vucy5wdXNoKGN1cik7XG4gICAgICBpZih0eXBlc1tjdXIudGV4dF0pIHtcbiAgICAgICAgY3VyLnR5cGUgPSB0eXBlc1tjdXIudGV4dF07XG4gICAgICB9XG4gICAgICBpZih0eXBlID09PSBcImhlYWRlclwiKSB7XG4gICAgICAgIC8vdHJpbSB0aGUgbmV4dCBjaGFyYWN0ZXIgaWYgaXQncyBhIHNwYWNlIGJldHdlZW4gdGhlIGhlYWRlciBpbmRpY2F0b3JcbiAgICAgICAgLy9hbmQgdGhlIHRleHQ7XG4gICAgICAgIGlmKGVudGl0eVtpeCsxXSA9PT0gXCIgXCIpIGl4Kys7XG4gICAgICB9XG4gICAgICBjdXIgPSB7aXg6IGl4KzEsIGxpbmUsIHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwifTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyLnRleHQgKz0gY2g7XG4gICAgfVxuICB9XG4gIHRva2Vucy5wdXNoKGN1cik7XG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHRva2Vucykge1xuICBsZXQgbGlua3MgPSBbXTtcbiAgbGV0IGVhdnMgPSBbXTtcbiAgbGV0IGNvbGxlY3Rpb25zID0gW107XG4gIGxldCBzdGF0ZTphbnkgPSB7aXRlbXM6IFtdfTtcbiAgbGV0IGxpbmVzID0gW107XG4gIGxldCBsaW5lO1xuICBsZXQgbGluZUl4ID0gLTE7XG4gIGZvcihsZXQgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgaWYodG9rZW4ubGluZSAhPT0gbGluZUl4KSB7XG4gICAgICAvLyB0aGlzIGFjY291bnRzIGZvciBibGFuayBsaW5lcy5cbiAgICAgIHdoaWxlKGxpbmVJeCA8IHRva2VuLmxpbmUpIHtcbiAgICAgICAgbGluZSA9IHtpeDogdG9rZW4ubGluZSwgaGVhZGVyOiBmYWxzZSwgaXRlbXM6IFtdfTtcbiAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgbGluZUl4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB7dHlwZX0gPSB0b2tlbjtcbiAgICBzd2l0Y2godHlwZSkge1xuICAgICAgY2FzZSBcImhlYWRlclwiOlxuICAgICAgICBsaW5lLmhlYWRlciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxpbmsgb3BlblwiOlxuICAgICAgICBzdGF0ZS5jYXB0dXJpbmcgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5tb2RlID0gXCJsaW5rXCI7XG4gICAgICAgIHN0YXRlLml0ZW1zLnB1c2godG9rZW4pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsaW5rIGNsb3NlXCI6XG4gICAgICAgIHN0YXRlLml0ZW1zLnB1c2godG9rZW4pO1xuICAgICAgICBzdGF0ZS50eXBlID0gXCJsaW5rXCI7XG4gICAgICAgIGlmKHN0YXRlLm1vZGUgPT09IFwiYXNzaWdubWVudFwiKSB7XG4gICAgICAgICAgaWYoc3RhdGUuYXR0cmlidXRlID09PSBcImlzIGFcIikge1xuICAgICAgICAgICAgc3RhdGUudHlwZSA9IFwiY29sbGVjdGlvblwiO1xuICAgICAgICAgICAgc3RhdGUubGluayA9IHN0YXRlLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS50eXBlID0gXCJlYXZcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWF2cy5wdXNoKHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS50eXBlID0gXCJlYXZcIjtcbiAgICAgICAgICBzdGF0ZS5hdHRyaWJ1dGUgPSBcImdlbmVyaWMgcmVsYXRlZCB0b1wiO1xuICAgICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUubGluaztcbiAgICAgICAgICBlYXZzLnB1c2goc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUuaXRlbXMucHVzaChzdGF0ZSk7XG4gICAgICAgIHN0YXRlID0ge2l0ZW1zOiBbXX07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFzc2lnbm1lbnRcIjpcbiAgICAgICAgaWYoIXN0YXRlLmNhcHR1cmluZykge1xuICAgICAgICAgIHRva2VuLnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICBsaW5lLml0ZW1zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBcImFzc2lnbm1lbnRcIjtcbiAgICAgICAgc3RhdGUuYXR0cmlidXRlID0gc3RhdGUubGluaztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBpZighc3RhdGUuY2FwdHVyaW5nKSB7XG4gICAgICAgICAgbGluZS5pdGVtcy5wdXNoKHRva2VuKTtcbiAgICAgICAgfSBlbHNlIGlmKHN0YXRlLm1vZGUgPT09IFwibGlua1wiKSB7XG4gICAgICAgICAgc3RhdGUubGluayA9IHRva2VuLnRleHQudHJpbSgpO1xuICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2godG9rZW4pO1xuICAgICAgICB9IGVsc2UgaWYoc3RhdGUubW9kZSA9PT0gXCJhc3NpZ25tZW50XCIpIHtcbiAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGNvZXJjZUlucHV0KHRva2VuLnRleHQudHJpbSgpKTtcbiAgICAgICAgICBzdGF0ZS5pdGVtcy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtsaW5lcywgbGlua3MsIGNvbGxlY3Rpb25zLCBlYXZzfTtcbn1cblxudmFyIHBhcnNlQ2FjaGU7XG5mdW5jdGlvbiBwYXJzZUVudGl0eShlbnRpdHlJZCwgY29udGVudCkge1xuICBpZighcGFyc2VDYWNoZSkgcGFyc2VDYWNoZSA9IHt9O1xuICBsZXQgY2FjaGVkID0gcGFyc2VDYWNoZVtlbnRpdHlJZF07XG4gIGlmKCFjYWNoZWQgfHwgY2FjaGVkWzBdICE9PSBjb250ZW50KSB7XG4gICAgY2FjaGVkID0gcGFyc2VDYWNoZVtlbnRpdHlJZF0gPSBbY29udGVudCwgcGFyc2UodG9rZW5pemUoY29udGVudCkpXTtcbiAgfVxuICByZXR1cm4gY2FjaGVkWzFdO1xufVxuXG5mdW5jdGlvbiBDb2RlTWlycm9yRWxlbWVudChub2RlLCBlbGVtKSB7XG4gIGxldCBjbSA9IG5vZGUuZWRpdG9yO1xuICBpZighY20pIHtcbiAgICBjbSA9IG5vZGUuZWRpdG9yID0gbmV3IENvZGVNaXJyb3Iobm9kZSwge1xuICAgICAgbW9kZTogXCJnZm1cIixcbiAgICAgIGxpbmVXcmFwcGluZzogdHJ1ZSxcbiAgICAgIGV4dHJhS2V5czoge1xuICAgICAgICBcIkNtZC1FbnRlclwiOiAoY20pID0+IHtcbiAgICAgICAgICBsZXQgbGF0ZXN0ID0gYXBwLnJlbmRlcmVyLnRyZWVbZWxlbS5pZF07XG4gICAgICAgICAgY29tbWl0RW50aXR5KGNtLCBsYXRlc3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJDdHJsLUVudGVyXCI6IChjbSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBsYXRlc3QgPSBhcHAucmVuZGVyZXIudHJlZVtlbGVtLmlkXTtcbiAgICAgICAgICAgICAgICBjb21taXRFbnRpdHkoY20sIGxhdGVzdCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmKGVsZW0ub25JbnB1dCkge1xuICAgICAgY20ub24oXCJjaGFuZ2VcIiwgZWxlbS5vbklucHV0KVxuICAgIH1cbiAgICBpZihlbGVtLmtleWRvd24pIHtcbiAgICAgIGNtLm9uKFwia2V5ZG93blwiLCAoY20pID0+IHsgZWxlbS5rZXlkb3duKGNtLCBlbGVtKTsgfSk7XG4gICAgfVxuICAgIGlmKGVsZW0uYmx1cikge1xuICAgICAgY20ub24oXCJibHVyXCIsIChjbSkgPT4geyBlbGVtLmJsdXIoY20sIGVsZW0pOyB9KTtcbiAgICB9XG4gICAgY20uZm9jdXMoKTtcbiAgfVxuICBpZihjbS5nZXRWYWx1ZSgpICE9PSBlbGVtLnZhbHVlKSB7XG4gICAgY20uc2V0VmFsdWUoZWxlbS52YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gTmV3Qml0RWRpdG9yKG5vZGUsIGVsZW0pIHtcbiAgbGV0IGNtID0gbm9kZS5lZGl0b3I7XG4gIGlmKCFjbSkge1xuICAgIGNtID0gbm9kZS5lZGl0b3IgPSBuZXcgQ29kZU1pcnJvcihub2RlLCB7XG4gICAgICBtb2RlOiBcImdmbVwiLFxuICAgICAgbGluZVdyYXBwaW5nOiB0cnVlLFxuICAgICAgZXh0cmFLZXlzOiB7XG4gICAgICAgIFwiQ21kLUVudGVyXCI6IChjbSkgPT4ge1xuICAgICAgICAgIGxldCBsYXRlc3QgPSBhcHAucmVuZGVyZXIudHJlZVtlbGVtLmlkXTtcbiAgICAgICAgICBzdWJtaXRBY3Rpb24oY20sIGxhdGVzdCk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiQ3RybC1FbnRlclwiOiAoY20pID0+IHtcbiAgICAgICAgICAgIGxldCBsYXRlc3QgPSBhcHAucmVuZGVyZXIudHJlZVtlbGVtLmlkXTtcbiAgICAgICAgICAgIHN1Ym1pdEFjdGlvbihjbSwgbGF0ZXN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmKGVsZW0ub25JbnB1dCkge1xuICAgICAgY20ub24oXCJjaGFuZ2VcIiwgZWxlbS5vbklucHV0KVxuICAgIH1cbiAgICBpZihlbGVtLmtleWRvd24pIHtcbiAgICAgIGNtLm9uKFwia2V5ZG93blwiLCAoY20pID0+IHsgZWxlbS5rZXlkb3duKGNtLCBlbGVtKTsgfSk7XG4gICAgfVxuICAgIGlmKGVsZW0uYmx1cikge1xuICAgICAgY20ub24oXCJibHVyXCIsIChjbSkgPT4geyBlbGVtLmJsdXIoY20sIGVsZW0pOyB9KTtcbiAgICB9XG4gICAgY20uZm9jdXMoKTtcbiAgICBjbS5zZXRWYWx1ZShcIlxcblwiKTtcbiAgICAvLyBjcmVhdGUgYSBsaW5lIHdpZGdldFxuICAgIGxldCB3aWRnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHdpZGdldC5jbGFzc05hbWUgPSBcImhlYWRlci1saW5lXCI7XG4gICAgY20uYWRkTGluZVdpZGdldCgwLCB3aWRnZXQpO1xuICAgIGNtLmFkZExpbmVDbGFzcygwLCBcInRleHRcIiwgXCJoZWFkZXJcIik7XG4gIH1cbiAgaWYoY20uZ2V0VmFsdWUoKSAhPT0gZWxlbS52YWx1ZSkge1xuICAgIGNtLnNldFZhbHVlKGVsZW0udmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENNU2VhcmNoQm94KG5vZGUsIGVsZW0pIHtcbiAgbGV0IGNtID0gbm9kZS5lZGl0b3I7XG4gIGlmKCFjbSkge1xuICAgIGxldCBzdGF0ZSA9IHttYXJrczogW119O1xuICAgIGNtID0gbm9kZS5lZGl0b3IgPSBuZXcgQ29kZU1pcnJvcihub2RlLCB7XG4gICAgICBsaW5lV3JhcHBpbmc6IHRydWUsXG4gICAgICBleHRyYUtleXM6IHtcbiAgICAgICAgXCJFbnRlclwiOiAoY20pID0+IHtcbiAgICAgICAgICBsZXQgbGF0ZXN0ID0gYXBwLnJlbmRlcmVyLnRyZWVbZWxlbS5pZF07XG4gICAgICAgICAgYXBwLmRpc3BhdGNoKFwic2V0U2VhcmNoXCIsIHt2YWx1ZTogY20uZ2V0VmFsdWUoKSwgc2VhcmNoSWQ6IGxhdGVzdC5zZWFyY2hJZH0pLmNvbW1pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY20ub24oXCJjaGFuZ2VcIiwgKGNtKSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBjbS5nZXRWYWx1ZSgpO1xuICAgICAgbGV0IHRva2VucyA9IGdldFRva2Vucyh2YWx1ZSk7XG4gICAgICBmb3IobGV0IG1hcmsgb2Ygc3RhdGUubWFya3MpIHtcbiAgICAgICAgbWFyay5jbGVhcigpO1xuICAgICAgfVxuICAgICAgc3RhdGUubWFya3MgPSBbXTtcbiAgICAgIGZvcihsZXQgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgIGxldCBzdGFydCA9IGNtLnBvc0Zyb21JbmRleCh0b2tlbi5wb3MpO1xuICAgICAgICBsZXQgc3RvcCA9IGNtLnBvc0Zyb21JbmRleCh0b2tlbi5wb3MgKyB0b2tlbi5vcmlnLmxlbmd0aCk7XG4gICAgICAgIHN0YXRlLm1hcmtzLnB1c2goY20ubWFya1RleHQoc3RhcnQsIHN0b3AsIHtjbGFzc05hbWU6IFRva2VuVHlwZXNbdG9rZW4udHlwZV0udG9Mb3dlckNhc2UoKX0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjbS5mb2N1cygpO1xuICB9XG4gIGlmKGNtLmdldFZhbHVlKCkgIT09IGVsZW0udmFsdWUpIHtcbiAgICBjbS5zZXRWYWx1ZShlbGVtLnZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnRpdHlUb0dyYXBoKGVudGl0eUlkLCBjb250ZW50KSB7XG4gIGxldCBwYXJzZWQgPSBwYXJzZUVudGl0eShlbnRpdHlJZCwgY29udGVudCk7XG4gIGxldCBsaW5rcyA9IFtdO1xuICBmb3IobGV0IGxpbmsgb2YgcGFyc2VkLmxpbmtzKSB7XG4gICAgbGlua3MucHVzaCh7bGluazogbGluay5saW5rLnRvTG93ZXJDYXNlKCksIHR5cGU6IChsaW5rLmxpbmtUeXBlIHx8IFwidW5rbm93blwiKS50b0xvd2VyQ2FzZSgpfSk7XG4gIH1cbiAgZm9yKGxldCBjb2xsZWN0aW9uIG9mIHBhcnNlZC5jb2xsZWN0aW9ucykge1xuICAgIGxpbmtzLnB1c2goe2xpbms6IGNvbGxlY3Rpb24ubGluay50b0xvd2VyQ2FzZSgpLCB0eXBlOiBcImNvbGxlY3Rpb25cIn0pO1xuICB9XG4gIHJldHVybiBsaW5rcztcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFdpa2lcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBkcmFnZ2luZyA9IG51bGw7XG5cbmFwcC5oYW5kbGUoXCJzdGFydEVkaXRpbmdFbnRpdHlcIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICByZXN1bHQuYWRkKFwiZWRpdGluZ1wiLCB7ZWRpdGluZzogdHJ1ZSwgc2VhcmNoOiBpbmZvLnNlYXJjaElkfSk7XG59KTtcblxuYXBwLmhhbmRsZShcInN0b3BFZGl0aW5nRW50aXR5XCIsIChyZXN1bHQsIGluZm8pID0+IHtcbiAgaWYoIWV2ZS5maW5kT25lKFwiZWRpdGluZ1wiKSkgcmV0dXJuO1xuICByZXN1bHQucmVtb3ZlKFwiZWRpdGluZ1wiKTtcbiAgbGV0IHtlbnRpdHksIHZhbHVlfSA9IGluZm87XG4gIGVudGl0eSA9IGVudGl0eS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgaWYoIWVudGl0eSkgcmV0dXJuO1xuICB2YXIgYmxvY2tJZCA9IGVudGl0eSArIFwifG1hbnVhbCBjb250ZW50IGJsb2NrXCI7XG4gIGlmKCFldmUuZmluZE9uZShcIm1hbnVhbCBlYXZcIiwge2VudGl0eTogYmxvY2tJZH0pKSB7XG4gICAgcmVzdWx0LmFkZChcIm1hbnVhbCBlYXZcIiwge2VudGl0eTogYmxvY2tJZCwgYXR0cmlidXRlOiBcImlzIGFcIiwgdmFsdWU6IFwiY29udGVudCBibG9ja1wifSk7XG4gICAgcmVzdWx0LmFkZChcIm1hbnVhbCBlYXZcIiwge2VudGl0eTogYmxvY2tJZCwgYXR0cmlidXRlOiBcInNvdXJjZVwiLCB2YWx1ZTogXCJtYW51YWxcIn0pO1xuICAgIHJlc3VsdC5hZGQoXCJtYW51YWwgZWF2XCIsIHtlbnRpdHk6IGJsb2NrSWQsIGF0dHJpYnV0ZTogXCJhc3NvY2lhdGVkIGVudGl0eVwiLCB2YWx1ZTogZW50aXR5fSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnJlbW92ZShcIm1hbnVhbCBlYXZcIiwge2VudGl0eTogYmxvY2tJZCwgYXR0cmlidXRlOiBcImNvbnRlbnRcIn0pO1xuICB9XG4gIHJlc3VsdC5hZGQoXCJtYW51YWwgZWF2XCIsIHtlbnRpdHk6IGJsb2NrSWQsIGF0dHJpYnV0ZTogXCJjb250ZW50XCIsIHZhbHVlfSk7XG59KTtcblxuYXBwLmhhbmRsZShcInNldFNlYXJjaFwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIGxldCBzZWFyY2hJZCA9IGluZm8uc2VhcmNoSWQ7XG4gIGxldCBzZWFyY2ggPSBldmUuZmluZE9uZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IHNlYXJjaElkfSlbXCJzZWFyY2hcIl07XG4gIGlmKHNlYXJjaCA9PT0gaW5mby52YWx1ZSkgcmV0dXJuO1xuXG4gIGlmKCFldmUuZmluZE9uZShcImhpc3Rvcnkgc3RhY2tcIiwge2VudGl0eTogc2VhcmNofSkpIHtcbiAgICBsZXQgc3RhY2sgPSBldmUuZmluZChcImhpc3Rvcnkgc3RhY2tcIik7XG4gICAgcmVzdWx0LmFkZChcImhpc3Rvcnkgc3RhY2tcIiwge2VudGl0eTogc2VhcmNoLCBwb3M6IHN0YWNrLmxlbmd0aH0pO1xuICB9XG4gIGxldCBuZXdTZWFyY2hWYWx1ZSA9IGluZm8udmFsdWUudHJpbSgpO1xuICBhcHAuYWN0aXZlU2VhcmNoZXNbc2VhcmNoSWRdID0gcXVlcnlUb0V4ZWN1dGFibGUobmV3U2VhcmNoVmFsdWUpO1xuICByZXN1bHQucmVtb3ZlKFwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIiwge2lkOiBzZWFyY2hJZH0pO1xuICByZXN1bHQuYWRkKFwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIiwge2lkOiBzZWFyY2hJZCwgc2VhcmNoOiBuZXdTZWFyY2hWYWx1ZX0pO1xufSk7XG5cbmFwcC5oYW5kbGUoXCJzdWJtaXRBY3Rpb25cIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBsZXQgc2VhcmNoSWQgPSBpbmZvLnNlYXJjaElkO1xuICBsZXQgc2VhcmNoID0gZXZlLmZpbmRPbmUoXCJzZWFyY2ggcXVlcnlcIiwge2lkOiBzZWFyY2hJZH0pW1wic2VhcmNoXCJdO1xuICByZXN1bHQubWVyZ2Uoc2F2ZVNlYXJjaChzZWFyY2gsIGFwcC5hY3RpdmVTZWFyY2hlc1tzZWFyY2hJZF0uZXhlY3V0YWJsZSkpO1xuICBpZihpbmZvLnR5cGUgPT09IFwiYXR0cmlidXRlXCIpIHtcbiAgICBpZighaW5mby5lbnRpdHkgfHwgIWluZm8uYXR0cmlidXRlIHx8ICFpbmZvLnZhbHVlKSByZXR1cm47XG4gICAgcmVzdWx0Lm1lcmdlKGFkZEVhdkFjdGlvbihzZWFyY2gsIGluZm8uZW50aXR5LCBpbmZvLmF0dHJpYnV0ZSwgaW5mby52YWx1ZSkpO1xuICB9IGVsc2UgaWYoaW5mby50eXBlID09PSBcImNvbGxlY3Rpb25cIikge1xuICAgIHJlc3VsdC5tZXJnZShhZGRUb0NvbGxlY3Rpb25BY3Rpb24oc2VhcmNoLCBpbmZvLmVudGl0eSwgaW5mby5jb2xsZWN0aW9uKSk7XG4gIH0gZWxzZSBpZihpbmZvLnR5cGUgPT09IFwiYml0XCIpIHtcbiAgICBsZXQgdGVtcGxhdGUgPSBpbmZvLnRlbXBsYXRlLnRyaW0oKTtcbiAgICBpZih0ZW1wbGF0ZVswXSAhPT0gXCIjXCIpIHtcbiAgICAgIHRlbXBsYXRlID0gXCIjIFwiICsgdGVtcGxhdGU7XG4gICAgfVxuICAgIHJlc3VsdC5tZXJnZShhZGRCaXRBY3Rpb24oc2VhcmNoLCB0ZW1wbGF0ZSkpO1xuICB9XG59KTtcblxuYXBwLmhhbmRsZShcImFkZE5ld1NlYXJjaFwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIGxldCBpZCA9IHV1aWQoKTtcbiAgbGV0IHNlYXJjaCA9IGluZm8uc2VhcmNoIHx8IFwiXCI7XG4gIGFwcC5hY3RpdmVTZWFyY2hlc1tpZF0gPSBxdWVyeVRvRXhlY3V0YWJsZShzZWFyY2gpO1xuICByZXN1bHQuYWRkKFwiYnVpbHRpbiBzZWFyY2hcIiwge2lkLCB0b3A6IGluZm8udG9wIHx8IDEwMCwgbGVmdDogaW5mby5sZWZ0IHx8IDEwMH0pO1xuICByZXN1bHQuYWRkKFwiYnVpbHRpbiBzZWFyY2ggcXVlcnlcIiwge2lkLCBzZWFyY2h9KTtcbn0pO1xuXG5hcHAuaGFuZGxlKFwiYWRkTmV3U3ludGF4U2VhcmNoXCIsIChyZXN1bHQsIGluZm8pID0+IHtcbiAgbGV0IGlkID0gdXVpZCgpO1xuICBsZXQgY29kZSA9IGluZm8uc2VhcmNoIHx8IFwiXCI7XG4gIHJlc3VsdC5hZGQoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkLCB0b3A6IGluZm8udG9wIHx8IDEwMCwgbGVmdDogaW5mby5sZWZ0IHx8IDEwMH0pO1xuICByZXN1bHQuYWRkKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIGNvZGVcIiwge2lkLCBjb2RlfSk7XG59KTtcblxuYXBwLmhhbmRsZShcInJlbW92ZVNlYXJjaFwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIGxldCB7c2VhcmNoSWR9ID0gaW5mbztcbiAgaWYoIXNlYXJjaElkKSByZXR1cm47XG4gIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHNlYXJjaFwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHNlYXJjaCBxdWVyeVwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pO1xuICByZXN1bHQucmVtb3ZlKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIGNvZGVcIiwge2lkOiBzZWFyY2hJZH0pO1xuICBmb3IobGV0IHZpZXcgb2YgZXZlLmZpbmQoXCJidWlsdGluIHN5bnRheCBzZWFyY2ggdmlld1wiLCB7aWQ6IHNlYXJjaElkfSkpIHtcbiAgICBsZXQgZGlmZiA9IHJlbW92ZVZpZXcodmlldy52aWV3KTtcbiAgICByZXN1bHQubWVyZ2UoZGlmZik7XG4gIH1cbiAgcmVzdWx0LnJlbW92ZShcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCB2aWV3XCIsIHtpZDogc2VhcmNoSWR9KTtcbiAgcmVzdWx0LnJlbW92ZShcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCBlcnJvclwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIGFwcC5hY3RpdmVTZWFyY2hlc1tzZWFyY2hJZF0gPSBudWxsO1xufSk7XG5cbmFwcC5oYW5kbGUoXCJzdGFydEFkZGluZ0FjdGlvblwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIHJlc3VsdC5yZW1vdmUoXCJhZGRpbmcgYWN0aW9uXCIpO1xuICByZXN1bHQuYWRkKFwiYWRkaW5nIGFjdGlvblwiLCB7dHlwZTogaW5mby50eXBlLCBzZWFyY2g6IGluZm8uc2VhcmNoSWR9KTtcbn0pO1xuXG5hcHAuaGFuZGxlKFwic3RvcEFkZGluZ0FjdGlvblwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIHJlc3VsdC5yZW1vdmUoXCJhZGRpbmcgYWN0aW9uXCIpO1xufSk7XG5cbmFwcC5oYW5kbGUoXCJyZW1vdmVBY3Rpb25cIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBpZihpbmZvLnR5cGUgPT09IFwiZWF2XCIpIHtcbiAgICByZXN1bHQubWVyZ2UocmVtb3ZlQWRkRWF2QWN0aW9uKGluZm8uYWN0aW9uSWQpKTtcbiAgfSBlbHNlIGlmKGluZm8udHlwZSA9PT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICByZXN1bHQubWVyZ2UocmVtb3ZlQWRkVG9Db2xsZWN0aW9uQWN0aW9uKGluZm8uYWN0aW9uSWQpKTtcbiAgfSBlbHNlIGlmKGluZm8udHlwZSA9PT0gXCJiaXRcIikge1xuICAgIHJlc3VsdC5tZXJnZShyZW1vdmVBZGRCaXRBY3Rpb24oaW5mby5hY3Rpb25JZCkpO1xuICB9XG59KTtcblxuYXBwLmhhbmRsZShcInN0YXJ0RHJhZ2dpbmdcIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBsZXQge3NlYXJjaElkLCB4LCB5fSA9IGluZm87XG4gIGxldCBwb3MgPSBldmUuZmluZE9uZShcInNlYXJjaFwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIGlmKCFwb3MpIHtcbiAgICBwb3MgPSBldmUuZmluZE9uZShcImJ1aWx0aW4gc3ludGF4IHNlYXJjaFwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIH1cbiAgZHJhZ2dpbmcgPSB7aWQ6IHNlYXJjaElkLCBvZmZzZXRUb3A6IHkgLSBwb3MudG9wLCBvZmZzZXRMZWZ0OiB4IC0gcG9zLmxlZnQsIGFjdGlvbjogaW5mby5hY3Rpb24gfHwgXCJtb3ZlU2VhcmNoXCJ9O1xufSk7XG5cbmFwcC5oYW5kbGUoXCJzdG9wRHJhZ2dpbmdcIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBkcmFnZ2luZyA9IG51bGw7XG59KTtcblxuYXBwLmhhbmRsZShcIm1vdmVTZWFyY2hcIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBsZXQge3NlYXJjaElkLCB4LCB5fSA9IGluZm87XG4gIGlmKGV2ZS5maW5kT25lKFwiYnVpbHRpbiBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pKSB7XG4gICAgcmVzdWx0LnJlbW92ZShcImJ1aWx0aW4gc2VhcmNoXCIsIHtpZDogc2VhcmNoSWR9KTtcbiAgICByZXN1bHQuYWRkKFwiYnVpbHRpbiBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZCwgdG9wOiB5IC0gZHJhZ2dpbmcub2Zmc2V0VG9wLCBsZWZ0OiB4IC0gZHJhZ2dpbmcub2Zmc2V0TGVmdH0pO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pO1xuICAgIHJlc3VsdC5hZGQoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZCwgdG9wOiB5IC0gZHJhZ2dpbmcub2Zmc2V0VG9wLCBsZWZ0OiB4IC0gZHJhZ2dpbmcub2Zmc2V0TGVmdH0pO1xuICB9XG59KTtcblxuYXBwLmhhbmRsZShcInJlc2l6ZVNlYXJjaFwiLCAocmVzdWx0LCBpbmZvKSA9PiB7XG4gIGxldCB7c2VhcmNoSWQsIHgsIHl9ID0gaW5mbztcbiAgbGV0IHR5cGUgPSBcImJ1aWx0aW4gc2VhcmNoIHNpemVcIjtcbiAgbGV0IHBvcyA9IGV2ZS5maW5kT25lKFwiYnVpbHRpbiBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pO1xuICBpZighcG9zKSB7XG4gICAgcG9zID0gZXZlLmZpbmRPbmUoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pO1xuICB9XG4gIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHNlYXJjaCBzaXplXCIsIHtpZDogc2VhcmNoSWR9KTtcbiAgbGV0IGhlaWdodCA9IHkgLSBwb3MudG9wICsgNTtcbiAgbGV0IHdpZHRoID0geCAtIHBvcy5sZWZ0ICsgNTtcbiAgaWYod2lkdGggPD0gMTAwKSB7XG4gICAgd2lkdGggPSAxMDA7XG4gIH1cbiAgaWYoaGVpZ2h0IDw9IDEwMCkge1xuICAgIGhlaWdodCA9IDEwMDtcbiAgfVxuICByZXN1bHQuYWRkKHR5cGUsIHtpZDogc2VhcmNoSWQsIHdpZHRoLCBoZWlnaHR9KTtcbn0pO1xuXG5hcHAuaGFuZGxlKFwidG9nZ2xlU2hvd1BsYW5cIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBpZihldmUuZmluZE9uZShcInNob3dQbGFuXCIsIHtzZWFyY2g6IGluZm8uc2VhcmNoSWR9KSkge1xuICAgIHJlc3VsdC5yZW1vdmUoXCJzaG93UGxhblwiLCB7c2VhcmNoOiBpbmZvLnNlYXJjaElkfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LmFkZChcInNob3dQbGFuXCIsIHtzZWFyY2g6IGluZm8uc2VhcmNoSWR9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByb290KCkge1xuICBpZih3aW5kb3dbXCJzbGlkZXNcIl0pIHJldHVybiB3aW5kb3dbXCJzbGlkZXNcIl0ucm9vdCgpO1xuICBlbHNlIGlmKHdpbmRvd1tcIk5FVUVfVUlcIl0pIHJldHVybiB1aS5yb290KCk7XG4gIGVsc2UgcmV0dXJuIGV2ZVJvb3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV2ZVJvb3QoKTpFbGVtZW50IHtcbiAgbGV0IHNlYXJjaGVycyA9IFtdO1xuICBmb3IobGV0IHNlYXJjaCBvZiBldmUuZmluZChcInNlYXJjaFwiKSkge1xuICAgIHNlYXJjaGVycy5wdXNoKG5ld1NlYXJjaFJlc3VsdHMoc2VhcmNoLmlkKSk7XG4gIH1cbiAgZm9yKGxldCBzZWFyY2ggb2YgZXZlLmZpbmQoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIikpIHtcbiAgICBzZWFyY2hlcnMucHVzaChzeW50YXhTZWFyY2goc2VhcmNoLmlkKSk7XG4gIH1cbiAgcmV0dXJuIHtpZDogXCJyb290XCIsIGM6IFwicm9vdFwiLCBkYmxjbGljazogYWRkTmV3U2VhcmNoLCBjaGlsZHJlbjogW1xuLy8gICAgICAgc2xpZGVDb250cm9scygpLFxuICAgIHtjOiBcImNhbnZhc1wiLCBtb3VzZW1vdmU6IG1heWJlRHJhZywgbW91c2V1cDpzdG9wRHJhZ2dpbmcsIGNoaWxkcmVuOiBzZWFyY2hlcnN9LFxuICBdfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVEcmFnKGUsIGVsZW0pIHtcbiAgaWYoZHJhZ2dpbmcpIHtcbiAgICBhcHAuZGlzcGF0Y2goZHJhZ2dpbmcuYWN0aW9uLCB7c2VhcmNoSWQ6IGRyYWdnaW5nLmlkLCB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WX0pLmNvbW1pdCgpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGROZXdTZWFyY2goZSwgZWxlbSkge1xuICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYW52YXNcIikpIHtcbiAgICBpZihlLnNoaWZ0S2V5KSB7XG4gICAgICBhcHAuZGlzcGF0Y2goXCJhZGROZXdTeW50YXhTZWFyY2hcIiwge3RvcDogZS5jbGllbnRZLCBsZWZ0OiBlLmNsaWVudFh9KS5jb21taXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwLmRpc3BhdGNoKFwiYWRkTmV3U2VhcmNoXCIsIHt0b3A6IGUuY2xpZW50WSwgbGVmdDogZS5jbGllbnRYfSkuY29tbWl0KCk7XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmplY3RFbWJlZGRlZFNlYXJjaGVzKG5vZGU6SFRNTEVsZW1lbnQsIGVsZW06RWxlbWVudCkge1xuICBsZXQgZW1iZWRkZWQ6SFRNTEVsZW1lbnRbXSA9IDxhbnk+bm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZW1iZWRkZWQtc2VhcmNoXVwiKTtcbiAgZm9yKGxldCBlbWJlZCBvZiBlbWJlZGRlZCkge1xuICAgIGxldCBzZWFyY2gsIHNlYXJjaElkLCBzZWFyY2hUZXh0ID0gZW1iZWQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbWJlZGRlZC1zZWFyY2hcIik7XG4gICAgZm9yKGxldCBpZCBpbiBhcHAuYWN0aXZlU2VhcmNoZXMpIHtcbiAgICAgIGlmKGFwcC5hY3RpdmVTZWFyY2hlc1tpZF0udGV4dCA9PT0gc2VhcmNoVGV4dCkge1xuICAgICAgICBzZWFyY2hJZCA9IGlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoc2VhcmNoSWQpIHNlYXJjaCA9IGFwcC5hY3RpdmVTZWFyY2hlc1tzZWFyY2hJZF07XG4gICAgZWxzZSB7XG4gICAgICBzZWFyY2hJZCA9IHV1aWQoKTtcbiAgICAgIHNlYXJjaCA9IGFwcC5hY3RpdmVTZWFyY2hlc1tzZWFyY2hJZF0gPSBxdWVyeVRvRXhlY3V0YWJsZShzZWFyY2hUZXh0KTtcbiAgICB9XG4gICAgLy8gQEZJWE1FOiBIb3JyaWJsZSwgaG9ycmlibGUga2x1ZGdlLlxuICAgIGxldCBzdWJSZW5kZXJlciA9IG5ldyBtaWNyb1JlYWN0LlJlbmRlcmVyKCk7XG4gICAgbGV0IGNvbnRlbnRzID0gZW50aXR5Q29udGVudHMoZWxlbVtcInNlYXJjaElkXCJdLCBzZWFyY2hJZCwgc2VhcmNoKTtcbiAgICBzdWJSZW5kZXJlci5yZW5kZXIoY29udGVudHMuZWxlbXMpO1xuICAgIGxldCBub2RlID0gc3ViUmVuZGVyZXIuY29udGVudDtcbiAgICBpZihjb250ZW50cy5pbmxpbmUpIHtcbiAgICAgICAgZW1iZWQuY2xhc3NMaXN0LmFkZChcImlubGluZVwiKTtcbiAgICAgICAgbGV0IGlubGluZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB3aGlsZShub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgaW5saW5lQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGlubGluZUNvbnRhaW5lcjtcbiAgICB9XG4gICAgZW1iZWQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIH1cbn1cblxudmFyIG1hcmtlZEVudGl0eVJlbmRlcmVyID0gbmV3IE1hcmtlZFJlbmRlcmVyKCk7XG5tYXJrZWRFbnRpdHlSZW5kZXJlci5oZWFkaW5nID0gZnVuY3Rpb24odGV4dDpzdHJpbmcsIGxldmVsOiBudW1iZXIpIHtcbiAgcmV0dXJuIGA8aCR7bGV2ZWx9PiR7dGV4dH08L2gke2xldmVsfT5gOyAvLyBvdmVycmlkZSBhdXRvLXNldHRpbmcgYW4gaWQgYmFzZWQgb24gY29udGVudC5cbn07XG5mdW5jdGlvbiBlbnRpdHlUb0hUTUwoZW50aXR5SWQ6c3RyaW5nLCBzZWFyY2hJZDpzdHJpbmcsIGNvbnRlbnQ6c3RyaW5nLCBwYXNzdGhyb3VnaD86IHN0cmluZ1tdKTpzdHJpbmcge1xuICBsZXQgbWQgPSBtYXJrZWQoY29udGVudCwge2JyZWFrczogdHJ1ZSwgcmVuZGVyZXI6IG1hcmtlZEVudGl0eVJlbmRlcmVyfSk7XG4gIGxldCBpeCA9IG1kLmluZGV4T2YoXCJ7XCIpO1xuICBsZXQgcXVlcnlDb3VudCA9IDA7XG4gIGxldCBzdGFjayA9IFtdO1xuICB3aGlsZShpeCAhPT0gLTEpIHtcbiAgICBpZihtZFtpeCAtIDFdID09PSBcIlxcXFxcIikge1xuICAgICAgbWQgPSBtZC5zbGljZSgwLCBpeCAtIDEpICsgbWQuc2xpY2UoaXgpO1xuICAgICAgaXgtLTtcblxuICAgIH0gZWxzZSBpZihtZFtpeF0gPT09IFwie1wiKSBzdGFjay5wdXNoKGl4KTtcbiAgICBlbHNlIGlmKG1kW2l4XSA9PT0gXCJ9XCIpIHtcbiAgICAgIGxldCBzdGFydEl4ID0gc3RhY2sucG9wKCk7XG4gICAgICBsZXQgY29udGVudCA9IG1kLnNsaWNlKHN0YXJ0SXggKyAxLCBpeCk7XG4gICAgICBsZXQgY29sb25JeCA9IGNvbnRlbnQuaW5kZXhPZihcIjpcIik7XG5cbiAgICAgIGxldCB2YWx1ZSA9IChjb2xvbkl4ICE9PSAtMSA/IGNvbnRlbnQuc2xpY2UoY29sb25JeCArIDEpIDogY29udGVudCkudHJpbSgpO1xuICAgICAgbGV0IHJlcGxhY2VtZW50O1xuICAgICAgbGV0IHR5cGUgPSBcImF0dHJpYnV0ZVwiO1xuICAgICAgaWYoZXZlLmZpbmRPbmUoXCJjb2xsZWN0aW9uXCIsIHtjb2xsZWN0aW9uOiB2YWx1ZS50b0xvd2VyQ2FzZSgpfSkpIHR5cGUgPSBcImNvbGxlY3Rpb25cIjtcbiAgICAgIGVsc2UgaWYoZXZlLmZpbmRPbmUoXCJlbnRpdHlcIiwge2VudGl0eTogdmFsdWUudG9Mb3dlckNhc2UoKX0pKSB0eXBlID0gXCJlbnRpdHlcIjtcbiAgICAgIGVsc2UgaWYocGFzc3Rocm91Z2ggJiYgcGFzc3Rocm91Z2guaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB0eXBlID0gXCJwYXNzdGhyb3VnaFwiO1xuICAgICAgZWxzZSBpZihjb2xvbkl4ID09PSAtMSkgdHlwZSA9IFwicXVlcnlcIjtcblxuICAgICAgaWYodHlwZSA9PT0gXCJhdHRyaWJ1dGVcIikge1xuICAgICAgICBsZXQgYXR0ciA9IGNvbnRlbnQuc2xpY2UoMCwgY29sb25JeCkudHJpbSgpO1xuICAgICAgICByZXBsYWNlbWVudCA9IGA8c3BhbiBjbGFzcz1cImF0dHJpYnV0ZVwiIGRhdGEtYXR0cmlidXRlPVwiJHthdHRyfVwiPiR7dmFsdWV9PC9zcGFuPmA7XG5cbiAgICAgIH0gZWxzZSBpZih0eXBlID09PSBcImVudGl0eVwiKSB7XG4gICAgICAgIGxldCBhdHRyID0gY29udGVudC5zbGljZSgwLCBjb2xvbkl4ICE9PSAtMSA/IGNvbG9uSXggOiB1bmRlZmluZWQpLnRyaW0oKTtcbiAgICAgICAgbGV0IG9uQ2xpY2sgPSBgYXBwLmRpc3BhdGNoKCdzZXRTZWFyY2gnLCB7dmFsdWU6ICcke3ZhbHVlfScsIHNlYXJjaElkOiAnJHtzZWFyY2hJZH0nfSkuY29tbWl0KCk7YDtcbiAgICAgICAgcmVwbGFjZW1lbnQgPSBgPGEgY2xhc3M9XCJsaW5rIGF0dHJpYnV0ZSBlbnRpdHlcIiBkYXRhLWF0dHJpYnV0ZT1cIiR7YXR0cn1cIiBvbmNsaWNrPVwiJHtvbkNsaWNrfVwiPiR7dmFsdWV9PC9hPmA7XG5cbiAgICAgIH0gZWxzZSBpZih0eXBlID09PSBcImNvbGxlY3Rpb25cIikge1xuICAgICAgICBsZXQgYXR0ciA9IGNvbnRlbnQuc2xpY2UoMCwgY29sb25JeCAhPT0gLTEgPyBjb2xvbkl4IDogdW5kZWZpbmVkKS50cmltKCk7XG4gICAgICAgIGxldCBvbkNsaWNrID0gYGFwcC5kaXNwYXRjaCgnc2V0U2VhcmNoJywge3ZhbHVlOiAnJHt2YWx1ZX0nLCBzZWFyY2hJZDogJyR7c2VhcmNoSWR9J30pLmNvbW1pdCgpO2A7XG4gICAgICAgIHJlcGxhY2VtZW50ID0gYDxhIGNsYXNzPVwibGluayBhdHRyaWJ1dGUgY29sbGVjdGlvblwiIGRhdGEtYXR0cmlidXRlPVwiJHthdHRyfVwiIG9uY2xpY2s9XCIke29uQ2xpY2t9XCI+JHt2YWx1ZX08L2E+YDtcblxuICAgICAgfSBlbHNlIGlmKHR5cGUgPT09IFwicXVlcnlcIikge1xuICAgICAgICAvL3Rocm93IG5ldyBFcnJvcihcIkBUT0RPOiBJbXBsZW1lbnQgZW1iZWRkZWQgcHJvamVjdGlvbnNcIik7XG4gICAgICAgIC8vIGFkZCBwb3N0UmVuZGVyIHRvIG5ld1NlYXJjaCBwYW5lIGNvbnRhaW5lciB0aGF0IGNoZWNrcyBmb3IgZGF0YS1zZWFyY2ggYXR0cmlidXRlLiBJZiBpdCBleGlzdHMsIGNvbXBpbGUgdGhlIHNlYXJjaCB0ZW1wbGF0ZSBmb3IgZWFjaCBvZiB0aGVtIGFuZCBpbnNlcnQuXG4gICAgICAgIGxldCBjb250YWluZXJJZCA9IGAke3NlYXJjaElkfXwke2NvbnRlbnR9fCR7cXVlcnlDb3VudCsrfWA7XG4gICAgICAgIHJlcGxhY2VtZW50ID0gYDxzcGFuIGNsYXNzPVwiZW1iZWRkZWQtcXVlcnkgc2VhcmNoLXJlc3VsdHNcIiBpZD1cIiR7Y29udGFpbmVySWR9XCIgZGF0YS1lbWJlZGRlZC1zZWFyY2g9XCIke2NvbnRlbnR9XCI+PC9zcGFuPmA7XG4gICAgICB9XG5cbiAgICAgIGlmKHR5cGUgIT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICBtZCA9IG1kLnNsaWNlKDAsIHN0YXJ0SXgpICsgcmVwbGFjZW1lbnQgKyBtZC5zbGljZShpeCArIDEpO1xuICAgICAgICBpeCArPSByZXBsYWNlbWVudC5sZW5ndGggLSBjb250ZW50Lmxlbmd0aCAtIDI7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHttZFtpeF19JyBhdCBpbmRleCAke2l4fWApO1xuICAgIH1cblxuICAgIC8vIEBOT1RFOiBUaGVyZSBoYXMgZ290IHRvIGJlIGEgbW9yZSBlbGVnYW50IHNvbHV0aW9uIGZvciAobWluIGlmID4gMCkgaGVyZS5cbiAgICBsZXQgbmV4dENsb3NlSXggPSBtZC5pbmRleE9mKFwifVwiLCBpeCArIDEpO1xuICAgIGxldCBuZXh0T3Blbkl4ID0gbWQuaW5kZXhPZihcIntcIiwgaXggKyAxKTtcbiAgICBpZihuZXh0Q2xvc2VJeCA9PT0gLTEpIGl4ID0gbmV4dE9wZW5JeDtcbiAgICBlbHNlIGlmKG5leHRPcGVuSXggPT09IC0xKSBpeCA9IG5leHRDbG9zZUl4O1xuICAgIGVsc2UgaWYobmV4dENsb3NlSXggPCBuZXh0T3Blbkl4KSBpeCA9IG5leHRDbG9zZUl4O1xuICAgIGVsc2UgaXggPSBuZXh0T3Blbkl4O1xuICB9XG5cbiAgcmV0dXJuIG1kO1xufVxuXG5mdW5jdGlvbiBlbnRpdHlVaShlbnRpdHlJZCwgaW5zdGFuY2U6c3RyaW5nfG51bWJlciA9IFwiXCIsIHNlYXJjaElkKSB7XG4gIGxldCBlbnRpdHlCbG9ja3MgPSBldmUuZmluZChcImNvbnRlbnQgYmxvY2tzXCIsIHtlbnRpdHk6IGVudGl0eUlkfSk7XG4gIGxldCBlbnRpdHlWaWV3cyA9IFtdO1xuICBmb3IobGV0IGJsb2NrIG9mIGVudGl0eUJsb2Nrcykge1xuICAgIGxldCBpc01hbnVhbCA9IGV2ZS5maW5kT25lKFwiZW50aXR5IGVhdnNcIiwge2VudGl0eTogYmxvY2suYmxvY2ssIGF0dHJpYnV0ZTogXCJzb3VyY2VcIiwgdmFsdWU6IFwibWFudWFsXCJ9KTtcbiAgICBsZXQgZW50aXR5VmlldztcbiAgICBpZihpc01hbnVhbCkge1xuICAgICAgaWYoIWV2ZS5maW5kT25lKFwiZWRpdGluZ1wiLCB7c2VhcmNoOiBzZWFyY2hJZH0pKSB7XG4gICAgICAgIGVudGl0eVZpZXcgPSB7XG4gICAgICAgIGlkOiBgJHtibG9jay5ibG9ja30ke2luc3RhbmNlfWAsXG4gICAgICAgIGM6IFwiZW50aXR5XCIsXG4gICAgICAgIHNlYXJjaElkLFxuICAgICAgICBlbnRpdHk6IGVudGl0eUlkLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogZW50aXR5VG9IVE1MKGVudGl0eUlkLCBzZWFyY2hJZCwgYmxvY2suY29udGVudCksXG4gICAgICAgIHBvc3RSZW5kZXI6IGluamVjdEVtYmVkZGVkU2VhcmNoZXMsXG4gICAgICAgIGRibGNsaWNrOiBlZGl0RW50aXR5XG4gICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW50aXR5VmlldyA9IHtpZDogYCR7YmxvY2suYmxvY2t9JHtpbnN0YW5jZX18ZWRpdG9yYCwgYzogXCJlbnRpdHkgZWRpdG9yXCIsIGVudGl0eTogZW50aXR5SWQsIHNlYXJjaElkLCBwb3N0UmVuZGVyOiBDb2RlTWlycm9yRWxlbWVudCwgdmFsdWU6IGJsb2NrLmNvbnRlbnQsIGJsdXI6IGNvbW1pdEVudGl0eX07XG4gICAgICB9XG4gICAgICBlbnRpdHlWaWV3cy51bnNoaWZ0KGVudGl0eVZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc291cmNlID0gZXZlLmZpbmRPbmUoXCJlbnRpdHkgZWF2c1wiLCB7ZW50aXR5OiBibG9jay5ibG9jaywgYXR0cmlidXRlOiBcInNvdXJjZVwifSkudmFsdWU7XG4gICAgICAvL3N0cmlwIHRoZSBoZWFkZXJcbiAgICAgIGxldCBjb250ZW50ID0gYmxvY2suY29udGVudDtcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZyhjb250ZW50LmluZGV4T2YoXCJcXG5cIikpO1xuXG4gICAgICBsZXQgY2hpbGRyZW46RWxlbWVudFtdID0gW3tkYW5nZXJvdXNseVNldElubmVySFRNTDogZW50aXR5VG9IVE1MKGVudGl0eUlkLCBzZWFyY2hJZCwgY29udGVudCl9XTtcbiAgICAgIGNoaWxkcmVuLnB1c2goe2M6IFwic291cmNlLWxpbmsgaW9uLWhlbHBcIiwgdGV4dDogXCJcIiwgY2xpY2s6IGZvbGxvd0xpbmssIGxpbmtUZXh0OiBzb3VyY2UsIHNlYXJjaElkfSk7XG4gICAgICBlbnRpdHlWaWV3ID0ge2lkOiBgJHtibG9jay5ibG9ja30ke2luc3RhbmNlfWAsIGM6IFwiZW50aXR5IGdlbmVyYXRlZFwiLCBzZWFyY2hJZCwgZW50aXR5OiBlbnRpdHlJZCwgY2hpbGRyZW59O1xuICAgICAgZW50aXR5Vmlld3MucHVzaChlbnRpdHlWaWV3KTtcbiAgICB9XG4gIH1cbiAgaWYoZW50aXR5Vmlld3MubGVuZ3RoID09PSAwKSB7XG4gICAgaWYoIWV2ZS5maW5kT25lKFwiZWRpdGluZ1wiLCB7c2VhcmNoOiBzZWFyY2hJZH0pKSB7XG4gICAgICBlbnRpdHlWaWV3cy5wdXNoKHtpZDogYCR7ZW50aXR5SWR9JHtpbnN0YW5jZX1gLCBjOiBcImVudGl0eVwiLCBzZWFyY2hJZCwgZW50aXR5OiBlbnRpdHlJZCwgY2hpbGRyZW46IFt7YzogXCJwbGFjZWhvbGRlclwiLCB0ZXh0OiBcIkFkZCBhIGRlc2NyaXB0aW9uXCJ9XSwgZGJsY2xpY2s6IGVkaXRFbnRpdHl9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50aXR5Vmlld3MucHVzaCh7aWQ6IGAke2VudGl0eUlkfSR7aW5zdGFuY2V9fGVkaXRvcmAsIGM6IFwiZW50aXR5IGVkaXRvclwiLCBlbnRpdHk6IGVudGl0eUlkLCBzZWFyY2hJZCwgcG9zdFJlbmRlcjogQ29kZU1pcnJvckVsZW1lbnQsIHZhbHVlOiBcIlwiLCBibHVyOiBjb21taXRFbnRpdHl9KTtcbiAgICB9XG4gIH1cbiAgbGV0IHJlbGF0ZWRCaXRzID0gW107XG4gIGZvcihsZXQgaW5jb21pbmcgb2YgZXZlLmZpbmQoXCJlbnRpdHkgbGlua3NcIiwge2xpbms6IGVudGl0eUlkfSkpIHtcbiAgICBpZihpbmNvbWluZy5lbnRpdHkgPT09IGVudGl0eUlkKSBjb250aW51ZTtcbiAgICBpZihldmUuZmluZE9uZShcImVudGl0eSBlYXZzXCIsIHtlbnRpdHk6IGluY29taW5nLmVudGl0eSwgYXR0cmlidXRlOiBcImlzIGFcIiwgdmFsdWU6IFwiY29udGVudCBibG9ja1wifSkpIGNvbnRpbnVlO1xuICAgIGlmKGV2ZS5maW5kT25lKFwiZW50aXR5IGVhdnNcIiwge2VudGl0eTogaW5jb21pbmcuZW50aXR5LCBhdHRyaWJ1dGU6IFwiaXMgYVwiLCB2YWx1ZTogZW50aXR5SWR9KSkgY29udGludWU7XG4gICAgcmVsYXRlZEJpdHMucHVzaCh7YzogXCJlbnRpdHkgbGlua1wiLCBjbGljazogZm9sbG93TGluaywgc2VhcmNoSWQsIGxpbmtUZXh0OiBpbmNvbWluZy5lbnRpdHksIHRleHQ6IGluY29taW5nLmVudGl0eX0pO1xuICB9XG4gIGlmKHJlbGF0ZWRCaXRzLmxlbmd0aCkge1xuICAgIGVudGl0eVZpZXdzLnB1c2goe2M6IFwiZW50aXR5IHJlbGF0ZWQtYml0c1wiLCBjaGlsZHJlbjogW1xuICAgICAge3RleHQ6IFwiUmVsYXRlZCBjYXJkczogXCJ9LFxuICAgICAge2M6IFwicmVsYXRlZC1saXN0XCIsIGNoaWxkcmVuOiByZWxhdGVkQml0c31cbiAgICBdfSk7XG4gIH1cblxuICByZXR1cm4ge2M6IFwiZW50aXR5LWNvbnRhaW5lclwiLCBjaGlsZHJlbjogW1xuICAgIHtjOiBcImVudGl0eS1ibG9ja3NcIiwgY2hpbGRyZW46IGVudGl0eVZpZXdzfSxcbiAgXX07XG59XG5cbmZ1bmN0aW9uIHNlYXJjaERlc2NyaXB0aW9uKHRva2VucywgcGxhbikge1xuICBsZXQgcGxhbkNoaWxkcmVuID0gW107XG4gIGZvcihsZXQgc3RlcCBvZiBwbGFuKSB7XG4gICAgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5HQVRIRVIpIHtcbiAgICAgIGxldCByZWxhdGVkID0gc3RlcC5yZWxhdGVkVG8gPyBcInJlbGF0ZWQgdG8gdGhvc2VcIiA6IFwiXCI7XG4gICAgICBsZXQgY29sbCA9IFwiYW55dGhpbmdcIlxuICAgICAgaWYoc3RlcC5zdWJqZWN0KSB7XG4gICAgICAgIGNvbGwgPSBwbHVyYWxpemUoc3RlcC5zdWJqZWN0LCAyKTtcbiAgICAgIH1cbiAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgY29sbGVjdGlvblwiLCB0ZXh0OiBgZ2F0aGVyICR7Y29sbH0gJHtyZWxhdGVkfWB9KTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5JTlRFUlNFQ1QpIHtcbiAgICAgIGlmKHN0ZXAuZGVzZWxlY3RlZCkge1xuICAgICAgICBwbGFuQ2hpbGRyZW4ucHVzaCh7YzogXCJ0ZXh0XCIsIHRleHQ6IGByZW1vdmUgdGhlICR7cGx1cmFsaXplKHN0ZXAuc3ViamVjdCwgMil9YH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGxhbkNoaWxkcmVuLnB1c2goe2M6IFwidGV4dFwiLCB0ZXh0OiBga2VlcCBvbmx5IHRoZSAke3BsdXJhbGl6ZShzdGVwLnN1YmplY3QsIDIpfWB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5MT09LVVApIHtcbiAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgYXR0cmlidXRlXCIsIHRleHQ6IGBsb29rdXAgJHtzdGVwLnN1YmplY3R9YH0pO1xuICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkZJTkQpIHtcbiAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgZW50aXR5XCIsIHRleHQ6IGBmaW5kICR7c3RlcC5zdWJqZWN0fWB9KTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSkge1xuICAgICAgaWYoc3RlcC5kZXNlbGVjdGVkKSB7XG4gICAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgZW50aXR5XCIsIHRleHQ6IGByZW1vdmUgYW55dGhpbmcgcmVsYXRlZCB0byAke3N0ZXAuc3ViamVjdH1gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwbGFuQ2hpbGRyZW4ucHVzaCh7YzogXCJ0ZXh0IGVudGl0eVwiLCB0ZXh0OiBgcmVsYXRlZCB0byAke3N0ZXAuc3ViamVjdH1gfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHN0ZXAudHlwZSA9PT0gU3RlcFR5cGUuRklMVEVSKSB7XG4gICAgICBwbGFuQ2hpbGRyZW4ucHVzaCh7YzogXCJ0ZXh0IG9wZXJhdGlvblwiLCB0ZXh0OiBgZmlsdGVyIHRob3NlIGJ5ICR7c3RlcC5zdWJqZWN0fWB9KTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5TT1JUKSB7XG4gICAgICBwbGFuQ2hpbGRyZW4ucHVzaCh7YzogXCJ0ZXh0IG9wZXJhdGlvblwiLCB0ZXh0OiBgc29ydCB0aGVtYH0pO1xuICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkdST1VQKSB7XG4gICAgICBwbGFuQ2hpbGRyZW4ucHVzaCh7YzogXCJ0ZXh0IG9wZXJhdGlvblwiLCB0ZXh0OiBgZ3JvdXAgdGhlbWB9KTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5MSU1JVCkge1xuICAgICAgbGV0IGxpbWl0O1xuICAgICAgaWYoc3RlcC5saW1pdC5yZXN1bHRzKSB7XG4gICAgICAgIGxpbWl0ID0gYHRvICR7c3RlcC5saW1pdC5yZXN1bHRzfSByZXN1bHRzYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbWl0ID0gYHRvICR7c3RlcC5saW1pdC5wZXJHcm91cH0gaXRlbXMgcGVyIGdyb3VwYDtcbiAgICAgIH1cbiAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgb3BlcmF0aW9uXCIsIHRleHQ6IGBsaW1pdCAke2xpbWl0fWB9KTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5DQUxDVUxBVEUpIHtcbiAgICAgIHBsYW5DaGlsZHJlbi5wdXNoKHtjOiBcInRleHQgb3BlcmF0aW9uXCIsIHRleHQ6IGBjYWxjdWxhdGUgJHtzdGVwLmZ1bmN9YH0pO1xuICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkFHR1JFR0FURSkge1xuICAgICAgcGxhbkNoaWxkcmVuLnB1c2goe2M6IFwidGV4dCBvcGVyYXRpb25cIiwgdGV4dDogYCR7c3RlcC5zdWJqZWN0fWB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxhbkNoaWxkcmVuLnB1c2goe2M6IFwidGV4dFwiLCB0ZXh0OiBgJHtzdGVwLnR5cGV9LT5gfSk7XG4gICAgfVxuICB9XG4gIHBsYW5DaGlsZHJlbi51bnNoaWZ0KCk7XG4gIHJldHVybiB7YzogXCJwbGFuLWNvbnRhaW5lclwiLCBjaGlsZHJlbjogW1xuICAgIHtjOiBcImRlc2NyaXB0aW9uXCIsIHRleHQ6IFwiU2VhcmNoIHBsYW46XCJ9LFxuICAgIHtjOiBcInNlYXJjaC1wbGFuXCIsIGNoaWxkcmVuOiBwbGFuQ2hpbGRyZW59XG4gIF19O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW50aXR5Q29udGVudHMocGFuZUlkOnN0cmluZywgc2VhcmNoSWQ6c3RyaW5nLCBzZWFyY2gpOiB7ZWxlbXM6IEVsZW1lbnRbXSwgaW5saW5lPzogYm9vbGVhbn0ge1xuICBsZXQgcGxhbiA9IHNlYXJjaC5wbGFuO1xuICBpZighcGxhbi5sZW5ndGgpXG4gICAgcmV0dXJuIHtpbmxpbmU6IHRydWUsIGVsZW1zOiBbe3Q6IFwic3BhblwiLCBjOiBcImxpbmtcIiwgdGV4dDogc2VhcmNoLnF1ZXJ5U3RyaW5nLCBsaW5rVGV4dDogc2VhcmNoLnF1ZXJ5U3RyaW5nLCBjbGljazpmb2xsb3dMaW5rLCBzZWFyY2hJZDogcGFuZUlkfV19O1xuXG4gIGxldCBjb250ZW50cyA9IFtdO1xuICBsZXQgc2luZ2xldG9uID0gdHJ1ZTtcbiAgaWYocGxhbi5sZW5ndGggPT09IDEgJiYgKHBsYW5bMF0udHlwZSA9PT0gU3RlcFR5cGUuRklORCB8fCBwbGFuWzBdLnR5cGUgPT09IFN0ZXBUeXBlLkdBVEhFUikpIHtcbiAgICBjb250ZW50cy5wdXNoKHtjOiBcInNpbmdsZXRvblwiLCBjaGlsZHJlbjogW2VudGl0eVVpKHBsYW5bMF0uc3ViamVjdCB8fCBwbGFuWzBdLnN1YmplY3QsIHNlYXJjaElkLCBzZWFyY2hJZCldfSk7XG4gIH0gZWxzZSBzaW5nbGV0b24gPSBmYWxzZTtcblxuICAvLyBJZiB3ZSdyZSBqdXN0IGxvb2tpbmcgdXAgYW4gYXR0cmlidXRlIGZvciBhIHNwZWNpZmljIGVudGl0eSwgZW1iZWQgdGhhdCB2YWx1ZVxuICBpZihwbGFuLmxlbmd0aCA9PT0gMiAmJiBwbGFuWzBdLnR5cGUgPT09IFN0ZXBUeXBlLkZJTkQgJiYgcGxhblsxXS50eXBlID09PSBTdGVwVHlwZS5MT09LVVApIHtcbiAgICBsZXQgcmVzdWx0cyA9IHNlYXJjaC5leGVjdXRhYmxlLmV4ZWMoKTtcbiAgICBsZXQgdGV4dDtcbiAgICBpZighcmVzdWx0cy5yZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICB0ZXh0ID0gYCgnJHtzZWFyY2gucXVlcnlTdHJpbmd9JyB3YXMgbm90IGZvdW5kKWA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IHJlc3VsdHMucmVzdWx0c1swXVtwbGFuWzFdLm5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4ge2lubGluZTogdHJ1ZSwgZWxlbXM6IFt7dDogXCJzcGFuXCIsIGM6IFwiYXR0cmlidXRlXCIsIHRleHR9XX07XG4gIH1cblxuICBpZihzaW5nbGV0b24pIHJldHVybiB7ZWxlbXM6IGNvbnRlbnRzfTtcbiAgbGV0IHJlc3VsdEl0ZW1zID0gW107XG4gIGNvbnRlbnRzLnB1c2goe2M6IFwicmVzdWx0c1wiLCBpZDogXCJyb290XCIsIGNoaWxkcmVuOiByZXN1bHRJdGVtc30pO1xuICBsZXQgaGVhZGVycyA9IFtdO1xuICAvLyBmaWd1cmUgb3V0IHdoYXQgdGhlIGhlYWRlcnMgYXJlXG4gIGZvcihsZXQgc3RlcCBvZiBwbGFuKSB7XG4gICAgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSB8fCBzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLklOVEVSU0VDVCkgY29udGludWU7XG4gICAgaWYoc3RlcC5zaXplID09PSAwKSBjb250aW51ZTtcbiAgICBoZWFkZXJzLnB1c2goe3RleHQ6IHN0ZXAubmFtZX0pO1xuICB9XG5cbiAgbGV0IGdyb3VwZWRGaWVsZHMgPSB7fTtcbiAgLy8gZmlndXJlIG91dCB3aGF0IGZpZWxkcyBhcmUgZ3JvdXBlZCwgaWYgYW55XG4gIGZvcihsZXQgc3RlcCBvZiBwbGFuKSB7XG4gICAgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5HUk9VUCkge1xuICAgICAgZ3JvdXBlZEZpZWxkc1tzdGVwLnN1YmplY3ROb2RlLm5hbWVdID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5BR0dSRUdBVEUpIHtcbiAgICAgIGdyb3VwZWRGaWVsZHNbc3RlcC5uYW1lXSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlc3VsdHMgPSBzZWFyY2guZXhlY3V0YWJsZS5leGVjKCk7XG4gIGxldCBncm91cEluZm8gPSByZXN1bHRzLmdyb3VwSW5mbztcbiAgbGV0IHBsYW5MZW5ndGggPSBwbGFuLmxlbmd0aDtcbiAgbGV0IGl0ZW1DbGFzcyA9IHBsYW5MZW5ndGggPiAxID8gXCIgYml0XCIgOiBcIiBsaW5rIGxpc3QtaXRlbVwiO1xuICByb3c6IGZvcihsZXQgaXggPSAwLCBsZW4gPSByZXN1bHRzLnVucHJvamVjdGVkLmxlbmd0aDsgaXggPCBsZW47IGl4ICs9IHNlYXJjaC5leGVjdXRhYmxlLnVucHJvamVjdGVkU2l6ZSkge1xuICAgIGlmKGdyb3VwSW5mbyAmJiBpeCA+IGdyb3VwSW5mby5sZW5ndGgpIGJyZWFrO1xuICAgIGlmKGdyb3VwSW5mbyAmJiBncm91cEluZm9baXhdID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgLy8gR2V0IGNvbnRlbnQgcm93IHRvIGluc2VydCBpbnRvXG4gICAgbGV0IHJlc3VsdEl0ZW07XG4gICAgaWYoZ3JvdXBJbmZvICYmIHJlc3VsdEl0ZW1zW2dyb3VwSW5mb1tpeF1dKSByZXN1bHRJdGVtID0gcmVzdWx0SXRlbXNbZ3JvdXBJbmZvW2l4XV07XG4gICAgZWxzZSBpZihncm91cEluZm8pIHJlc3VsdEl0ZW0gPSByZXN1bHRJdGVtc1tncm91cEluZm9baXhdXSA9IHtjOiBcInBhdGhcIiwgY2hpbGRyZW46IFtdfTtcbiAgICBlbHNlIHtcbiAgICAgIHJlc3VsdEl0ZW0gPSB7YzogXCJwYXRoXCIsIGNoaWxkcmVuOiBbXX07XG4gICAgICByZXN1bHRJdGVtcy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgIH1cblxuICAgIGxldCBwbGFuT2Zmc2V0ID0gMDtcbiAgICBmb3IobGV0IHBsYW5JeCA9IDA7IHBsYW5JeCA8IHBsYW5MZW5ndGg7IHBsYW5JeCsrKSB7XG4gICAgICBsZXQgcGxhbkl0ZW0gPSBwbGFuW3BsYW5JeF07XG4gICAgICBsZXQgaXRlbSwgaWQgPSBgJHtzZWFyY2hJZH0gJHtpeH0gJHtwbGFuSXh9YDtcbiAgICAgIGlmKHBsYW5JdGVtLnNpemUpIHtcbiAgICAgICAgbGV0IHJlc3VsdFBhcnQgPSByZXN1bHRzLnVucHJvamVjdGVkW2l4ICsgcGxhbk9mZnNldCArIHBsYW5JdGVtLnNpemUgLSAxXTtcbiAgICAgICAgaWYoIXJlc3VsdFBhcnQpIGNvbnRpbnVlIHJvdztcbiAgICAgICAgbGV0IHRleHQsIGtsYXNzLCBjbGljaywgbGluaztcbiAgICAgICAgaWYocGxhbkl0ZW0udHlwZSA9PT0gU3RlcFR5cGUuR0FUSEVSKSB7XG4gICAgICAgICAgaXRlbSA9IHtpZCwgYzogYCR7aXRlbUNsYXNzfSBlbnRpdHkgYml0YCwgdGV4dDogcmVzdWx0UGFydFtcImVudGl0eVwiXSwgY2xpY2s6IGZvbGxvd0xpbmssIHNlYXJjaElkOiBwYW5lSWQsIGxpbmtUZXh0OiByZXN1bHRQYXJ0W1wiZW50aXR5XCJdfTtcbiAgICAgICAgfSBlbHNlIGlmKHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLkxPT0tVUCkge1xuICAgICAgICAgIGl0ZW0gPSB7aWQsIGM6IGAke2l0ZW1DbGFzc30gYXR0cmlidXRlYCwgdGV4dDogcmVzdWx0UGFydFtcInZhbHVlXCJdfTtcbiAgICAgICAgfSBlbHNlIGlmKHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLkFHR1JFR0FURSkge1xuICAgICAgICAgIGl0ZW0gPSB7aWQsIGM6IGAke2l0ZW1DbGFzc30gdmFsdWVgLCB0ZXh0OiByZXN1bHRQYXJ0W3BsYW5JdGVtLm5hbWVdfTtcbiAgICAgICAgfSBlbHNlIGlmKHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLkZJTFRFUkJZRU5USVRZIHx8IHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLklOVEVSU0VDVCkge1xuICAgICAgICAgIC8vIHdlIGRvbid0IHJlYWxseSB3YW50IHRoZXNlIHRvIHNob3cgdXAuXG4gICAgICAgIH0gZWxzZSBpZihwbGFuSXRlbS50eXBlID09PSBTdGVwVHlwZS5DQUxDVUxBVEUpIHtcbiAgICAgICAgICBpdGVtID0ge2lkLCBjOiBgJHtpdGVtQ2xhc3N9IHZhbHVlYCwgdGV4dDogcmVzdWx0UGFydFtcInJlc3VsdFwiXX07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbSA9IHtpZCwgYzogaXRlbUNsYXNzLCB0ZXh0OiBKU09OLnN0cmluZ2lmeShyZXN1bHRQYXJ0KX07XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXRlbSkge1xuICAgICAgICAgIGlmKGdyb3VwZWRGaWVsZHNbcGxhbkl0ZW0ubmFtZV0gJiYgIXJlc3VsdEl0ZW0uY2hpbGRyZW5bcGxhbkl4XSkge1xuICAgICAgICAgICAgcmVzdWx0SXRlbS5jaGlsZHJlbltwbGFuSXhdID0ge2M6IFwic3ViLWdyb3VwXCIsIGNoaWxkcmVuOiBbaXRlbV19O1xuICAgICAgICAgIH0gZWxzZSBpZighZ3JvdXBlZEZpZWxkc1twbGFuSXRlbS5uYW1lXSAmJiAhcmVzdWx0SXRlbS5jaGlsZHJlbltwbGFuSXhdKSB7XG4gICAgICAgICAgICByZXN1bHRJdGVtLmNoaWxkcmVuW3BsYW5JeF0gPSB7YzogXCJzdWItZ3JvdXBcIiwgY2hpbGRyZW46IFtpdGVtXX07XG4gICAgICAgICAgfSBlbHNlIGlmKCFncm91cGVkRmllbGRzW3BsYW5JdGVtLm5hbWVdKSB7XG4gICAgICAgICAgICByZXN1bHRJdGVtLmNoaWxkcmVuW3BsYW5JeF0uY2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYocGxhbkxlbmd0aCA9PT0gMSkgcmVzdWx0SXRlbS5jID0gXCJwYXRoIGxpc3Qtcm93XCI7XG4gICAgICAgIH1cbiAgICAgICAgcGxhbk9mZnNldCArPSBwbGFuSXRlbS5zaXplO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXN1bHRJdGVtcy51bnNoaWZ0KHtjOiBcInNlYXJjaC1oZWFkZXJzXCIsIGNoaWxkcmVuOiBoZWFkZXJzfSk7XG5cbiAgcmV0dXJuIHtlbGVtczogY29udGVudHN9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2VhcmNoUmVzdWx0cyhzZWFyY2hJZCkge1xuICBsZXQge3RvcCwgbGVmdH0gPSBldmUuZmluZE9uZShcInNlYXJjaFwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIGxldCBzZWFyY2ggPSBldmUuZmluZE9uZShcInNlYXJjaCBxdWVyeVwiLCB7aWQ6IHNlYXJjaElkfSlbXCJzZWFyY2hcIl07XG4gIGxldCB7dG9rZW5zLCBwbGFuLCBleGVjdXRhYmxlfSA9IGFwcC5hY3RpdmVTZWFyY2hlc1tzZWFyY2hJZF07XG4gIGxldCByZXN1bHRJdGVtcyA9IFtdO1xuICBsZXQgZ3JvdXBlZEZpZWxkcyA9IHt9O1xuICBpZihleGVjdXRhYmxlICYmIHBsYW4ubGVuZ3RoICYmIChwbGFuLmxlbmd0aCA+IDEgfHwgcGxhblswXS50eXBlID09PSBTdGVwVHlwZS5HQVRIRVIpKSB7XG4gICAgLy8gZmlndXJlIG91dCB3aGF0IGZpZWxkcyBhcmUgZ3JvdXBlZCwgaWYgYW55XG4gICAgZm9yKGxldCBzdGVwIG9mIHBsYW4pIHtcbiAgICAgIGlmKHN0ZXAudHlwZSA9PT0gU3RlcFR5cGUuR1JPVVApIHtcbiAgICAgICAgZ3JvdXBlZEZpZWxkc1tzdGVwLnN1YmplY3ROb2RlLm5hbWVdID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZihzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLkFHR1JFR0FURSkge1xuICAgICAgICBncm91cGVkRmllbGRzW3N0ZXAubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZXN1bHRzID0gZXhlY3V0YWJsZS5leGVjKCk7XG4gICAgbGV0IGdyb3VwSW5mbyA9IHJlc3VsdHMuZ3JvdXBJbmZvO1xuICAgIGxldCBwbGFuTGVuZ3RoID0gcGxhbi5sZW5ndGg7XG4gICAgcm93OiBmb3IobGV0IGl4ID0gMCwgbGVuID0gcmVzdWx0cy51bnByb2plY3RlZC5sZW5ndGg7IGl4IDwgbGVuOyBpeCArPSBleGVjdXRhYmxlLnVucHJvamVjdGVkU2l6ZSkge1xuICAgICAgaWYoZ3JvdXBJbmZvICYmIGl4ID4gZ3JvdXBJbmZvLmxlbmd0aCkgYnJlYWs7XG4gICAgICBpZihncm91cEluZm8gJiYgZ3JvdXBJbmZvW2l4XSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgIGxldCByZXN1bHRJdGVtO1xuICAgICAgaWYoZ3JvdXBJbmZvICYmICFyZXN1bHRJdGVtc1tncm91cEluZm9baXhdXSkge1xuICAgICAgICByZXN1bHRJdGVtID0gcmVzdWx0SXRlbXNbZ3JvdXBJbmZvW2l4XV0gPSB7YzogXCJwYXRoXCIsIGNoaWxkcmVuOiBbXX07XG4gICAgICB9IGVsc2UgaWYoIWdyb3VwSW5mbykge1xuICAgICAgICByZXN1bHRJdGVtID0ge2M6IFwicGF0aFwiLCBjaGlsZHJlbjogW119O1xuICAgICAgICByZXN1bHRJdGVtcy5wdXNoKHJlc3VsdEl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0SXRlbSA9IHJlc3VsdEl0ZW1zW2dyb3VwSW5mb1tpeF1dO1xuICAgICAgfVxuICAgICAgbGV0IHBsYW5PZmZzZXQgPSAwO1xuICAgICAgZm9yKGxldCBwbGFuSXggPSAwOyBwbGFuSXggPCBwbGFuTGVuZ3RoOyBwbGFuSXgrKykge1xuICAgICAgICBsZXQgcGxhbkl0ZW0gPSBwbGFuW3BsYW5JeF07XG4gICAgICAgIGlmKHBsYW5JdGVtLnNpemUpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0UGFydCA9IHJlc3VsdHMudW5wcm9qZWN0ZWRbaXggKyBwbGFuT2Zmc2V0ICsgcGxhbkl0ZW0uc2l6ZSAtIDFdO1xuICAgICAgICAgIGlmKCFyZXN1bHRQYXJ0KSBjb250aW51ZSByb3c7XG4gICAgICAgICAgbGV0IHRleHQsIGtsYXNzLCBjbGljaywgbGluaztcbiAgICAgICAgICBpZihwbGFuSXRlbS50eXBlID09PSBTdGVwVHlwZS5HQVRIRVIpIHtcbiAgICAgICAgICAgIHRleHQgPSByZXN1bHRQYXJ0W1wiZW50aXR5XCJdO1xuICAgICAgICAgICAga2xhc3MgPSBcImVudGl0eVwiO1xuICAgICAgICAgICAgY2xpY2sgPSBmb2xsb3dMaW5rO1xuICAgICAgICAgICAgbGluayA9IHJlc3VsdFBhcnRbXCJlbnRpdHlcIl07XG4gICAgICAgICAgfSBlbHNlIGlmKHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLkxPT0tVUCkge1xuICAgICAgICAgICAgdGV4dCA9IHJlc3VsdFBhcnRbXCJ2YWx1ZVwiXTtcbiAgICAgICAgICAgIGtsYXNzID0gXCJhdHRyaWJ1dGVcIjtcbiAgICAgICAgICB9IGVsc2UgaWYocGxhbkl0ZW0udHlwZSA9PT0gU3RlcFR5cGUuQUdHUkVHQVRFKSB7XG4gICAgICAgICAgICB0ZXh0ID0gcmVzdWx0UGFydFtwbGFuSXRlbS5zdWJqZWN0XTtcbiAgICAgICAgICAgIGtsYXNzID0gXCJ2YWx1ZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZihwbGFuSXRlbS50eXBlID09PSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSB8fCBwbGFuSXRlbS50eXBlID09PSBTdGVwVHlwZS5JTlRFUlNFQ1QpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IHJlYWxseSB3YW50IHRoZXNlIHRvIHNob3cgdXAuXG4gICAgICAgICAgfSBlbHNlIGlmKHBsYW5JdGVtLnR5cGUgPT09IFN0ZXBUeXBlLkNBTENVTEFURSkge1xuICAgICAgICAgICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdFBhcnQucmVzdWx0KTtcbiAgICAgICAgICAgIGtsYXNzID0gXCJ2YWx1ZVwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0ID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0UGFydCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2xhc3MgKz0gcGxhbkxlbmd0aCA+IDEgPyBcIiBiaXRcIiA6IFwiIGxpbmsgbGlzdC1pdGVtXCI7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHtpZDogYCR7c2VhcmNoSWR9ICR7aXh9ICR7cGxhbkl4fWAsIGM6IGAke2tsYXNzfWAsIHRleHQsIGNsaWNrLCBzZWFyY2hJZCwgbGlua1RleHQ6IGxpbmt9O1xuICAgICAgICAgICAgaWYoZ3JvdXBlZEZpZWxkc1twbGFuSXRlbS5uYW1lXSAmJiAhcmVzdWx0SXRlbS5jaGlsZHJlbltwbGFuSXhdKSB7XG4gICAgICAgICAgICAgIHJlc3VsdEl0ZW0uY2hpbGRyZW5bcGxhbkl4XSA9IHtjOiBcInN1Yi1ncm91cFwiLCBjaGlsZHJlbjogW2l0ZW1dfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZighZ3JvdXBlZEZpZWxkc1twbGFuSXRlbS5uYW1lXSAmJiAhcmVzdWx0SXRlbS5jaGlsZHJlbltwbGFuSXhdKSB7XG4gICAgICAgICAgICAgIHJlc3VsdEl0ZW0uY2hpbGRyZW5bcGxhbkl4XSA9IHtjOiBcInN1Yi1ncm91cFwiLCBjaGlsZHJlbjogW2l0ZW1dfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZighZ3JvdXBlZEZpZWxkc1twbGFuSXRlbS5uYW1lXSkge1xuICAgICAgICAgICAgICByZXN1bHRJdGVtLmNoaWxkcmVuW3BsYW5JeF0uY2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHBsYW5MZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgcmVzdWx0SXRlbS5jID0gXCJwYXRoIGxpc3Qtcm93XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBsYW5PZmZzZXQgKz0gcGxhbkl0ZW0uc2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgZW50aXR5Q29udGVudCA9IFtdO1xuICBsZXQgbm9IZWFkZXJzID0gZmFsc2U7XG4gIGlmKHBsYW4ubGVuZ3RoID09PSAxICYmIHBsYW5bMF0udHlwZSA9PT0gU3RlcFR5cGUuRklORCkge1xuICAgIGVudGl0eUNvbnRlbnQucHVzaCh7YzogXCJzaW5nbGV0b25cIiwgY2hpbGRyZW46IFtlbnRpdHlVaShwbGFuWzBdLnN1YmplY3QsIHNlYXJjaElkLCBzZWFyY2hJZCldfSk7XG4gIH0gZWxzZSBpZihwbGFuLmxlbmd0aCA9PT0gMSAmJiBwbGFuWzBdLnR5cGUgPT09IFN0ZXBUeXBlLkdBVEhFUikge1xuICAgIGVudGl0eUNvbnRlbnQudW5zaGlmdCh7YzogXCJzaW5nbGV0b25cIiwgY2hpbGRyZW46IFtlbnRpdHlVaShwbGFuWzBdLnN1YmplY3QsIHNlYXJjaElkLCBzZWFyY2hJZCldfSk7XG4gICAgbGV0IHRleHQgPSBgVGhlcmUgYXJlIG5vICR7cGx1cmFsaXplKHBsYW5bMF0uc3ViamVjdCwgcmVzdWx0SXRlbXMubGVuZ3RoKX0gaW4gdGhlIHN5c3RlbS5gO1xuICAgIGlmKHJlc3VsdEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRleHQgPSBgVGhlcmUgJHtwbHVyYWxpemUoXCJhcmVcIiwgcmVzdWx0SXRlbXMubGVuZ3RoKX0gJHtyZXN1bHRJdGVtcy5sZW5ndGh9ICR7cGx1cmFsaXplKHBsYW5bMF0uc3ViamVjdCwgcmVzdWx0SXRlbXMubGVuZ3RoKX06YDtcbiAgICB9XG4gICAgcmVzdWx0SXRlbXMudW5zaGlmdCh7YzogXCJkZXNjcmlwdGlvblwiLCB0ZXh0fSk7XG4gICAgbm9IZWFkZXJzID0gdHJ1ZTtcbiAgfSBlbHNlIGlmKHBsYW4ubGVuZ3RoID09PSAwKSB7XG4gICAgZW50aXR5Q29udGVudC5wdXNoKHtjOiBcInNpbmdsZXRvblwiLCBjaGlsZHJlbjogW2VudGl0eVVpKHNlYXJjaC50b0xvd2VyQ2FzZSgpLCBzZWFyY2hJZCwgc2VhcmNoSWQpXX0pO1xuICB9IGVsc2Uge1xuICAgIGxldCBoZWFkZXJzID0gW11cbiAgICAvLyBmaWd1cmUgb3V0IHdoYXQgdGhlIGhlYWRlcnMgYXJlXG4gICAgaWYoIW5vSGVhZGVycykge1xuICAgICAgZm9yKGxldCBzdGVwIG9mIHBsYW4pIHtcbiAgICAgICAgaWYoc3RlcC50eXBlID09PSBTdGVwVHlwZS5GSUxURVJCWUVOVElUWSB8fCBzdGVwLnR5cGUgPT09IFN0ZXBUeXBlLklOVEVSU0VDVCkgY29udGludWU7XG4gICAgICAgIGlmKHN0ZXAuc2l6ZSA9PT0gMCkgY29udGludWU7XG4gICAgICAgIGhlYWRlcnMucHVzaCh7dGV4dDogc3RlcC5uYW1lfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdEl0ZW1zLnVuc2hpZnQoe2M6IFwic2VhcmNoLWhlYWRlcnNcIiwgY2hpbGRyZW46IGhlYWRlcnN9KTtcbiAgfVxuXG4gIGxldCBhY3Rpb25zID0gW107XG4gIGZvcihsZXQgYml0QWN0aW9uIG9mIGV2ZS5maW5kKFwiYWRkIGJpdCBhY3Rpb25cIiwge3ZpZXc6IHNlYXJjaH0pKSB7XG4gICAgbGV0IHt0ZW1wbGF0ZSwgYWN0aW9ufSA9IGJpdEFjdGlvbjtcbiAgICBhY3Rpb25zLnB1c2goe2M6IFwiYWN0aW9uIG5ldy1iaXRcIiwgY2hpbGRyZW46IFtcbiAgICAgIHtjOiBcImJpdCBlbnRpdHlcIiwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGVudGl0eVRvSFRNTChhY3Rpb24sIHNlYXJjaElkLCB0ZW1wbGF0ZSwgT2JqZWN0LmtleXMoZXhlY3V0YWJsZS5wcm9qZWN0aW9uTWFwKSl9LFxuICAgICAge2M6IFwicmVtb3ZlIGlvbi1hbmRyb2lkLWNsb3NlXCIsIGNsaWNrOiByZW1vdmVBY3Rpb24sIGFjdGlvblR5cGU6IFwiYml0XCIsIGFjdGlvbklkOiBiaXRBY3Rpb24uYWN0aW9ufVxuICAgIF19KVxuICB9XG5cbiAgbGV0IGFjdGlvbkNvbnRhaW5lcjtcbiAgbGV0IGFkZEFjdGlvbkNoaWxkcmVuID0gW107XG4gIGxldCBhZGRpbmcgPSBldmUuZmluZE9uZShcImFkZGluZyBhY3Rpb25cIiwge3NlYXJjaDogc2VhcmNoSWR9KTtcbiAgaWYoYWRkaW5nKSB7XG4gICAgaWYoYWRkaW5nLnR5cGUgPT09IFwiYml0XCIpIHtcbiAgICAgIGFkZEFjdGlvbkNoaWxkcmVuLnB1c2goe2M6IFwiYWRkLWNhcmQtZWRpdG9yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcIm5ldy1iaXQtZWRpdG9yXCIsIHNlYXJjaElkLCB2YWx1ZTogXCJcXG5cIiwgcG9zdFJlbmRlcjogTmV3Qml0RWRpdG9yfSxcbiAgICAgICAge2M6IFwic3BhY2VyXCJ9LFxuICAgICAgICAvLyAgICAgICAgIHtjOiBcImJ1dHRvblwiLCB0ZXh0OiBcInN1Ym1pdFwiLCBjbGljazogc3VibWl0QWN0aW9ufSxcbiAgICAgICAge2M6IFwiaW9uLWFuZHJvaWQtY2xvc2UgY2xvc2VcIiwgY2xpY2s6IHN0b3BBZGRpbmdBY3Rpb259LFxuICAgICAgXX0pO1xuICAgIH1cbiAgfVxuICBpZihwbGFuLmxlbmd0aCAmJiBwbGFuWzBdLnR5cGUgIT09IFN0ZXBUeXBlLkZJTkQpIHtcbiAgICBsZXQgdGV4dCA9IFwiQWRkIGEgY2FyZFwiO1xuICAgIGlmKGFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICB0ZXh0ID0gXCJBZGQgYW5vdGhlciBjYXJkXCJcbiAgICB9XG4gICAgYWN0aW9uQ29udGFpbmVyID0ge2M6IFwiYWN0aW9ucy1jb250YWluZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIHtjOiBcImFjdGlvbnMtaGVhZGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHtjOiBcImFkZC1jYXJkLWxpbmtcIiwgdGV4dDogdGV4dCwgYWN0aW9uVHlwZTogXCJiaXRcIiwgc2VhcmNoSWQsIGNsaWNrOiBzdGFydEFkZGluZ0FjdGlvbn0sXG4vLyAgICAgICAgIHtjOiBcInNwYWNlclwifSxcbi8vICAgICAgICAge2M6IFwiXCIsIHRleHQ6IFwiK1wiLCBhY3Rpb25UeXBlOiBcImJpdFwiLCBzZWFyY2hJZCwgY2xpY2s6IHN0YXJ0QWRkaW5nQWN0aW9ufVxuICAgICAgXX0sXG4gICAgICBhY3Rpb25zLmxlbmd0aCA/IHtjOiBcImFjdGlvbnNcIiwgY2hpbGRyZW46IGFjdGlvbnN9IDogdW5kZWZpbmVkLFxuICAgIF19O1xuICB9XG5cbiAgbGV0IHNpemUgPSBldmUuZmluZE9uZShcImJ1aWx0aW4gc2VhcmNoIHNpemVcIiwge2lkOiBzZWFyY2hJZH0pO1xuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgaWYoc2l6ZSkge1xuICAgIHdpZHRoID0gc2l6ZS53aWR0aDtcbiAgICBoZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgfVxuXG4gIGxldCBpc0RyYWdnaW5nID0gZHJhZ2dpbmcgJiYgZHJhZ2dpbmcuaWQgPT09IHNlYXJjaElkID8gXCJkcmFnZ2luZ1wiIDogXCJcIjtcbiAgbGV0IHNob3dQbGFuID0gZXZlLmZpbmRPbmUoXCJzaG93UGxhblwiLCB7c2VhcmNoOiBzZWFyY2hJZH0pID8gc2VhcmNoRGVzY3JpcHRpb24odG9rZW5zLCBwbGFuKSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIHtpZDogYCR7c2VhcmNoSWR9fGNvbnRhaW5lcmAsIGM6IGBjb250YWluZXIgc2VhcmNoLWNvbnRhaW5lciAke2lzRHJhZ2dpbmd9YCwgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBjaGlsZHJlbjogW1xuICAgIHtjOiBcInNlYXJjaC1pbnB1dFwiLCBtb3VzZWRvd246IHN0YXJ0RHJhZ2dpbmcsIG1vdXNldXA6IHN0b3BEcmFnZ2luZywgc2VhcmNoSWQsIGNoaWxkcmVuOiBbXG4gICAgICB7YzogXCJzZWFyY2gtYm94XCIsIHZhbHVlOiBzZWFyY2gsIHBvc3RSZW5kZXI6IENNU2VhcmNoQm94LCBzZWFyY2hJZH0sXG4gICAgICB7YzogXCJzcGFjZXJcIn0sXG4gICAgICB7YzogYGlvbi1pb3MtYXJyb3ctJHtzaG93UGxhbiA/ICd1cCcgOiAnZG93bid9IHBsYW5gLCBjbGljazogdG9nZ2xlU2hvd1BsYW4sIHNlYXJjaElkfSxcbiAgICAgIHtjOiBcImlvbi1hbmRyb2lkLWNsb3NlIGNsb3NlXCIsIGNsaWNrOiByZW1vdmVTZWFyY2gsIHNlYXJjaElkfSxcbiAgICBdfSxcbiAgICB7YzogXCJjb250YWluZXItY29udGVudFwiLCBjaGlsZHJlbjogW1xuICAgICAgICBzaG93UGxhbixcbiAgICAgICAge2M6IFwiZW50aXR5LWNvbnRlbnRcIiwgY2hpbGRyZW46IGVudGl0eUNvbnRlbnR9LFxuICAgICAgICByZXN1bHRJdGVtcy5sZW5ndGggPyB7YzogXCJzZWFyY2gtcmVzdWx0c1wiLCBjaGlsZHJlbjogcmVzdWx0SXRlbXN9IDoge30sXG4gICAgICAgIGFjdGlvbkNvbnRhaW5lcixcbiAgICAgICAge2M6IFwiYWRkLWFjdGlvblwiLCBjaGlsZHJlbjogYWRkQWN0aW9uQ2hpbGRyZW59LFxuICAgIF19LFxuICAgIHtjOiBcInJlc2l6ZVwiLCBtb3VzZWRvd246IHN0YXJ0RHJhZ2dpbmcsIG1vdXNldXA6IHN0b3BEcmFnZ2luZywgc2VhcmNoSWQsIGFjdGlvbjogXCJyZXNpemVTZWFyY2hcIn1cbiAgXX07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFjdGlvbihlLCBlbGVtKSB7XG4gIGFwcC5kaXNwYXRjaChcInJlbW92ZUFjdGlvblwiLCB7dHlwZTogZWxlbS5hY3Rpb25UeXBlLCBhY3Rpb25JZDogZWxlbS5hY3Rpb25JZH0pLmNvbW1pdCgpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVTaG93UGxhbihlLCBlbGVtKSB7XG4gIGFwcC5kaXNwYXRjaChcInRvZ2dsZVNob3dQbGFuXCIsIHtzZWFyY2hJZDogZWxlbS5zZWFyY2hJZH0pLmNvbW1pdCgpO1xufVxuXG5mdW5jdGlvbiBzdGFydERyYWdnaW5nKGUsIGVsZW0pIHtcbiAgaWYoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgIGFwcC5kaXNwYXRjaChcInN0YXJ0RHJhZ2dpbmdcIiwge3NlYXJjaElkOiBlbGVtLnNlYXJjaElkLCB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSwgYWN0aW9uOiBlbGVtLmFjdGlvbn0pLmNvbW1pdCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BEcmFnZ2luZyhlLCBlbGVtKSB7XG4gIGlmKCFkcmFnZ2luZykgcmV0dXJuO1xuICBhcHAuZGlzcGF0Y2goXCJzdG9wRHJhZ2dpbmdcIiwge30pLmNvbW1pdCgpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTZWFyY2goZSwgZWxlbSkge1xuICBhcHAuZGlzcGF0Y2goXCJyZW1vdmVTZWFyY2hcIiwge3NlYXJjaElkOiBlbGVtLnNlYXJjaElkfSkuY29tbWl0KCk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QWRkaW5nQWN0aW9uKGUsIGVsZW0pIHtcbiAgYXBwLmRpc3BhdGNoKFwic3RhcnRBZGRpbmdBY3Rpb25cIiwge3R5cGU6IGVsZW0uYWN0aW9uVHlwZSwgc2VhcmNoSWQ6IGVsZW0uc2VhcmNoSWR9KS5jb21taXQoKTtcbn1cblxuZnVuY3Rpb24gc3RvcEFkZGluZ0FjdGlvbihlLCBlbGVtKSB7XG4gIGFwcC5kaXNwYXRjaChcInN0b3BBZGRpbmdBY3Rpb25cIiwge30pLmNvbW1pdCgpO1xufVxuXG5mdW5jdGlvbiBzdWJtaXRBY3Rpb24oZSwgZWxlbSkge1xuICBsZXQgdmFsdWVzOmFueSA9IHt0eXBlOiBldmUuZmluZE9uZShcImFkZGluZyBhY3Rpb25cIilbXCJ0eXBlXCJdLFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJZDogZWxlbS5zZWFyY2hJZH07XG4gIGlmKHZhbHVlcy50eXBlID09PSBcImJpdFwiKSB7XG4gICAgaWYoZS5nZXRWYWx1ZSkge1xuICAgICAgdmFsdWVzLnRlbXBsYXRlID0gZS5nZXRWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZWRpdG9yID0gZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIm5ldy1iaXQtZWRpdG9yXCIpLmVkaXRvcjtcbiAgICAgIHZhbHVlcy50ZW1wbGF0ZSA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgcGFyZW50ID0gZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgZm9yKGxldCBjaGlsZCBvZiBwYXJlbnQuY2hpbGROb2Rlcykge1xuICAgICAgaWYoY2hpbGQubm9kZU5hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgICB2YWx1ZXNbY2hpbGQuY2xhc3NOYW1lXSA9IGNoaWxkLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhcHAuZGlzcGF0Y2goXCJzdWJtaXRBY3Rpb25cIiwgdmFsdWVzKVxuICAgICAgLmRpc3BhdGNoKFwic3RvcEFkZGluZ0FjdGlvblwiLCB7fSlcbiAgICAgIC5jb21taXQoKTtcbn1cblxuZnVuY3Rpb24gY29tbWl0RW50aXR5KGNtLCBlbGVtKSB7XG4gIGFwcC5kaXNwYXRjaChcInN0b3BFZGl0aW5nRW50aXR5XCIsIHtzZWFyY2hJZDogZWxlbS5zZWFyY2hJZCwgZW50aXR5OiBlbGVtLmVudGl0eSwgdmFsdWU6IGNtLmdldFZhbHVlKCl9KS5jb21taXQoKTtcbn1cblxuZnVuY3Rpb24gZWRpdEVudGl0eShlLCBlbGVtKSB7XG4gIGFwcC5kaXNwYXRjaChcInN0YXJ0RWRpdGluZ0VudGl0eVwiLCB7c2VhcmNoSWQ6IGVsZW0uc2VhcmNoSWQsIGVudGl0eTogZWxlbS5lbnRpdHl9KS5jb21taXQoKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBmb2xsb3dMaW5rKGUsIGVsZW0pIHsgLy8gQERFUFJFQ0FURURcbiAgYXBwLmRpc3BhdGNoKFwic2V0U2VhcmNoXCIsIHt2YWx1ZTogZWxlbS5saW5rVGV4dCwgc2VhcmNoSWQ6IGVsZW0uc2VhcmNoSWR9KS5jb21taXQoKTtcbn1cblxuZnVuY3Rpb24gc2F2ZVNlYXJjaChuYW1lLCBxdWVyeSkge1xuICBpZighZXZlLmZpbmRPbmUoXCJ2aWV3XCIsIHt2aWV3OiBuYW1lfSkpIHtcbiAgICBxdWVyeS5uYW1lID0gbmFtZTtcbiAgICBsZXQgZGlmZiA9IHF1ZXJ5T2JqZWN0VG9EaWZmKHF1ZXJ5KTtcbiAgICByZXR1cm4gZGlmZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZlLmRpZmYoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRUb0NvbGxlY3Rpb25BY3Rpb24obmFtZSwgZmllbGQsIGNvbGxlY3Rpb24pIHtcbiAgbGV0IGRpZmYgPSBldmUuZGlmZigpO1xuICAvLyBhZGQgYW4gYWN0aW9uXG4gIGxldCBhY3Rpb24gPSBgJHtuYW1lfXwke2ZpZWxkfXwke2NvbGxlY3Rpb259YDtcbiAgZGlmZi5hZGQoXCJhZGQgY29sbGVjdGlvbiBhY3Rpb25cIiwge3ZpZXc6IG5hbWUsIGFjdGlvbiwgZmllbGQsIGNvbGxlY3Rpb259KTtcbiAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXc6IFwiYWRkZWQgY29sbGVjdGlvbnNcIiwgYWN0aW9uLCBraW5kOiBcInVuaW9uXCIsIGl4OiAxfSk7XG4gIC8vIGEgc291cmNlXG4gIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IG5hbWV9KTtcbiAgLy8gYSBtYXBwaW5nXG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbiwgZnJvbTogXCJlbnRpdHlcIiwgXCJ0byBzb3VyY2VcIjogYWN0aW9uLCBcInRvIGZpZWxkXCI6IGZpZWxkfSk7XG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbTogXCJjb2xsZWN0aW9uXCIsIHZhbHVlOiBjb2xsZWN0aW9ufSk7XG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbTogXCJzb3VyY2Ugdmlld1wiLCB2YWx1ZTogbmFtZX0pO1xuICByZXR1cm4gZGlmZjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWRkVG9Db2xsZWN0aW9uQWN0aW9uKGFjdGlvbikge1xuICBsZXQgaW5mbyA9IGV2ZS5maW5kT25lKFwiYWRkIGNvbGxlY3Rpb24gYWN0aW9uXCIsIHthY3Rpb259KTtcbiAgaWYoaW5mbykge1xuICAgIGxldCBkaWZmID0gYWRkVG9Db2xsZWN0aW9uQWN0aW9uKGluZm8udmlldywgaW5mby5maWVsZCwgaW5mby5jb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gZGlmZi5yZXZlcnNlKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2ZS5kaWZmKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVhdkFjdGlvbihuYW1lLCBlbnRpdHksIGF0dHJpYnV0ZSwgZmllbGQpIHtcbiAgbGV0IGRpZmYgPSBldmUuZGlmZigpO1xuICAvLyBhZGQgYW4gYWN0aW9uXG4gIGxldCBhY3Rpb24gPSBgJHtuYW1lfXwke2VudGl0eX18JHthdHRyaWJ1dGV9fCR7ZmllbGR9YDtcbiAgZGlmZi5hZGQoXCJhZGQgZWF2IGFjdGlvblwiLCB7dmlldzogbmFtZSwgYWN0aW9uLCBlbnRpdHksIGF0dHJpYnV0ZSwgZmllbGQsfSk7XG4gIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3OiBcImFkZGVkIGVhdnNcIiwgYWN0aW9uLCBraW5kOiBcInVuaW9uXCIsIGl4OiAxfSk7XG4gIC8vIGEgc291cmNlXG4gIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IG5hbWV9KTtcbiAgLy8gYSBtYXBwaW5nXG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbiwgZnJvbTogXCJlbnRpdHlcIiwgXCJ0byBzb3VyY2VcIjogYWN0aW9uLCBcInRvIGZpZWxkXCI6IGVudGl0eX0pO1xuICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb24sIGZyb206IFwidmFsdWVcIiwgXCJ0byBzb3VyY2VcIjogYWN0aW9uLCBcInRvIGZpZWxkXCI6IGZpZWxkfSk7XG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgY29uc3RhbnRcIiwge2FjdGlvbiwgZnJvbTogXCJhdHRyaWJ1dGVcIiwgdmFsdWU6IGF0dHJpYnV0ZX0pO1xuICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb24sIGZyb206IFwic291cmNlIHZpZXdcIiwgdmFsdWU6IG5hbWV9KTtcbiAgcmV0dXJuIGRpZmY7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFkZEVhdkFjdGlvbihhY3Rpb24pIHtcbiAgbGV0IGluZm8gPSBldmUuZmluZE9uZShcImFkZCBlYXYgYWN0aW9uXCIsIHthY3Rpb259KTtcbiAgaWYoaW5mbykge1xuICAgIGxldCBkaWZmID0gYWRkRWF2QWN0aW9uKGluZm8udmlldywgaW5mby5lbnRpdHksIGluZm8uYXR0cmlidXRlLCBpbmZvLmZpZWxkKTtcbiAgICByZXR1cm4gZGlmZi5yZXZlcnNlKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2ZS5kaWZmKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJpdEFjdGlvbihuYW1lLCB0ZW1wbGF0ZSkge1xuICAvLyBjb25zb2xlLmxvZyhuYW1lLCBcInxcIiwgdGVtcGxhdGUsIFwifFwiLCBxdWVyeSk7XG4gIGxldCBkaWZmID0gZXZlLmRpZmYoKTtcbiAgLy8gYWRkIGFuIGFjdGlvblxuICBsZXQgYml0UXVlcnlJZCA9IGAke25hbWV9fGJpdGA7XG4gIGxldCBhY3Rpb24gPSBgJHtuYW1lfXwke3RlbXBsYXRlfWA7XG4gIGRpZmYuYWRkKFwiYWRkIGJpdCBhY3Rpb25cIiwge3ZpZXc6IG5hbWUsIGFjdGlvbiwgdGVtcGxhdGV9KTtcbi8vICAgZGlmZi5yZW1vdmUoXCJhZGQgYml0IGFjdGlvblwiLCB7dmlldzogbmFtZX0pO1xuICBsZXQgYml0UXVlcnkgPSBldmUucXVlcnkoYml0UXVlcnlJZClcbiAgICAgICAgICAgICAgICAgIC5zZWxlY3QoXCJhZGQgYml0IGFjdGlvblwiLCB7dmlldzogbmFtZX0sIFwiYWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgICAuc2VsZWN0KG5hbWUsIHt9LCBcInRhYmxlXCIpXG4gICAgICAgICAgICAgICAgICAuY2FsY3VsYXRlKFwiYml0IHRlbXBsYXRlXCIsIHtyb3c6IFtcInRhYmxlXCJdLCBuYW1lLCB0ZW1wbGF0ZTogW1wiYWN0aW9uXCIsIFwidGVtcGxhdGVcIl0sIGFjdGlvbjogW1wiYWN0aW9uXCIsIFwiYWN0aW9uXCJdfSwgXCJyZXN1bHRcIilcbiAgICAgICAgICAgICAgICAgIC5wcm9qZWN0KHtlbnRpdHk6IFtcInJlc3VsdFwiLCBcImVudGl0eVwiXSwgYXR0cmlidXRlOiBbXCJyZXN1bHRcIiwgXCJhdHRyaWJ1dGVcIl0sIHZhbHVlOiBbXCJyZXN1bHRcIiwgXCJ2YWx1ZVwiXX0pO1xuICBkaWZmLm1lcmdlKHF1ZXJ5T2JqZWN0VG9EaWZmKGJpdFF1ZXJ5KSk7XG4gIC8vIGRpZmYubWVyZ2UocmVtb3ZlVmlldyhiaXRRdWVyeUlkKSk7XG4gIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3OiBcImdlbmVyYXRlZCBlYXZcIiwgYWN0aW9uLCBraW5kOiBcInVuaW9uXCIsIGl4OiAxfSk7XG4gIC8vIGEgc291cmNlXG4gIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IGJpdFF1ZXJ5SWR9KTtcbiAgLy8gYSBtYXBwaW5nXG4gIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbiwgZnJvbTogXCJlbnRpdHlcIiwgXCJ0byBzb3VyY2VcIjogYWN0aW9uLCBcInRvIGZpZWxkXCI6IFwiZW50aXR5XCJ9KTtcbiAgZGlmZi5hZGQoXCJhY3Rpb24gbWFwcGluZ1wiLCB7YWN0aW9uLCBmcm9tOiBcImF0dHJpYnV0ZVwiLCBcInRvIHNvdXJjZVwiOiBhY3Rpb24sIFwidG8gZmllbGRcIjogXCJhdHRyaWJ1dGVcIn0pO1xuICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb24sIGZyb206IFwidmFsdWVcIiwgXCJ0byBzb3VyY2VcIjogYWN0aW9uLCBcInRvIGZpZWxkXCI6IFwidmFsdWVcIn0pO1xuICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb24sIGZyb206IFwic291cmNlIHZpZXdcIiwgdmFsdWU6IG5hbWV9KTtcbiAgcmV0dXJuIGRpZmY7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFkZEJpdEFjdGlvbihhY3Rpb24pIHtcbiAgbGV0IGluZm8gPSBldmUuZmluZE9uZShcImFkZCBiaXQgYWN0aW9uXCIsIHthY3Rpb259KTtcbiAgaWYoaW5mbykge1xuICAgIGxldCBkaWZmID0gYWRkQml0QWN0aW9uKGluZm8udmlldywgaW5mby50ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIGRpZmYucmV2ZXJzZSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmUuZGlmZigpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWaWV3KHZpZXcpIHtcbiAgcmV0dXJuIHJ1bnRpbWUuUXVlcnkucmVtb3ZlKHZpZXcsIGV2ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclNhdmVkKCkge1xuICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gIGRpZmYucmVtb3ZlKFwidmlld1wiKTtcbiAgZGlmZi5yZW1vdmUoXCJhY3Rpb25cIik7XG4gIGRpZmYucmVtb3ZlKFwiYWN0aW9uIHNvdXJjZVwiKTtcbiAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gbWFwcGluZ1wiKTtcbiAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiKTtcbiAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIik7XG4gIGRpZmYucmVtb3ZlKFwiYWN0aW9uIG1hcHBpbmcgbGltaXRcIik7XG4gIGRpZmYucmVtb3ZlKFwiYWRkIGNvbGxlY3Rpb24gYWN0aW9uXCIpO1xuICBkaWZmLnJlbW92ZShcImFkZCBlYXYgYWN0aW9uXCIpO1xuICByZXR1cm4gZGlmZjtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN5bnRheCBzZWFyY2hcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmFwcC5oYW5kbGUoXCJzZXRTeW50YXhTZWFyY2hcIiwgKHJlc3VsdCwgaW5mbykgPT4ge1xuICBsZXQgc2VhcmNoSWQgPSBpbmZvLnNlYXJjaElkO1xuICBsZXQgY29kZSA9IGV2ZS5maW5kT25lKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIGNvZGVcIiwge2lkOiBzZWFyY2hJZH0pW1wiY29kZVwiXTtcbiAgaWYoY29kZSA9PT0gaW5mby5jb2RlKSByZXR1cm47XG5cbiAgbGV0IG5ld1NlYXJjaFZhbHVlID0gaW5mby5jb2RlLnRyaW0oKTtcbiAgbGV0IHdyYXBwZWQgPSBuZXdTZWFyY2hWYWx1ZTtcbiAgaWYod3JhcHBlZC5pbmRleE9mKFwiKHF1ZXJ5XCIpICE9PSAwKSB7XG4gICAgd3JhcHBlZCA9IGAocXVlcnkgOiQkdmlldyBcIiR7c2VhcmNoSWR9XCJcXG4ke3dyYXBwZWR9KWA7XG4gIH1cbiAgLy8gcmVtb3ZlIHRoZSBvbGQgb25lXG4gIGZvcihsZXQgdmlldyBvZiBldmUuZmluZChcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCB2aWV3XCIsIHtpZDogc2VhcmNoSWR9KSkge1xuICAgIGxldCBkaWZmID0gcmVtb3ZlVmlldyh2aWV3LnZpZXcpO1xuICAgIHJlc3VsdC5tZXJnZShkaWZmKTtcbiAgfVxuICByZXN1bHQucmVtb3ZlKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIHZpZXdcIiwge2lkOiBzZWFyY2hJZH0pO1xuICByZXN1bHQucmVtb3ZlKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIGVycm9yXCIsIHtpZDogc2VhcmNoSWR9KTtcblxuICB0cnkge1xuICAgIHZhciBwYXJzZWQgPSB3aW5kb3dbXCJwYXJzZXJcIl0ucGFyc2VEU0wod3JhcHBlZCk7XG4gICAgZm9yKGxldCB2aWV3IGluIHBhcnNlZC52aWV3cykge1xuICAgICAgcmVzdWx0LmFkZChcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCB2aWV3XCIsIHtpZDogc2VhcmNoSWQsIHZpZXd9KTtcbiAgICB9XG4gICAgcmVzdWx0Lm1lcmdlKHdpbmRvd1tcInBhcnNlclwiXS5hc0RpZmYoZXZlLCBwYXJzZWQpKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVzdWx0LmFkZChcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCBlcnJvclwiLCB7aWQ6IHNlYXJjaElkLCBlcnJvcjogZS50b1N0cmluZygpfSlcbiAgfVxuXG4gIHJlc3VsdC5yZW1vdmUoXCJidWlsdGluIHN5bnRheCBzZWFyY2ggY29kZVwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIHJlc3VsdC5hZGQoXCJidWlsdGluIHN5bnRheCBzZWFyY2ggY29kZVwiLCB7aWQ6IHNlYXJjaElkLCBjb2RlOiBuZXdTZWFyY2hWYWx1ZX0pO1xufSk7XG5cblxuZnVuY3Rpb24gQ01TeW50YXhFZGl0b3Iobm9kZSwgZWxlbSkge1xuICBsZXQgY20gPSBub2RlLmVkaXRvcjtcbiAgaWYoIWNtKSB7XG4gICAgbGV0IHN0YXRlID0ge21hcmtzOiBbXX07XG4gICAgY20gPSBub2RlLmVkaXRvciA9IG5ldyBDb2RlTWlycm9yKG5vZGUsIHtcbiAgICAgIG1vZGU6IFwiY2xvanVyZVwiLFxuICAgICAgbGluZVdyYXBwaW5nOiB0cnVlLFxuICAgICAgZXh0cmFLZXlzOiB7XG4gICAgICAgIFwiQ3RybC1FbnRlclwiOiAoY20pID0+IHtcbiAgICAgICAgICBhcHAuZGlzcGF0Y2goXCJzZXRTeW50YXhTZWFyY2hcIiwge3NlYXJjaElkOmVsZW0uc2VhcmNoSWQsIGNvZGU6IGNtLmdldFZhbHVlKCl9KS5jb21taXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJDbWQtRW50ZXJcIjogKGNtKSA9PiB7XG4gICAgICAgICAgYXBwLmRpc3BhdGNoKFwic2V0U3ludGF4U2VhcmNoXCIsIHtzZWFyY2hJZDplbGVtLnNlYXJjaElkLCBjb2RlOiBjbS5nZXRWYWx1ZSgpfSkuY29tbWl0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjbS5vbihcImNoYW5nZVwiLCAoY20pID0+IHtcbi8vICAgICAgIGxldCB2YWx1ZSA9IGNtLmdldFZhbHVlKCk7XG4vLyAgICAgICBsZXQgdG9rZW5zID0gbmV3U2VhcmNoVG9rZW5zKHZhbHVlKTtcbi8vICAgICAgIGZvcihsZXQgbWFyayBvZiBzdGF0ZS5tYXJrcykge1xuLy8gICAgICAgICBtYXJrLmNsZWFyKCk7XG4vLyAgICAgICB9XG4vLyAgICAgICBzdGF0ZS5tYXJrcyA9IFtdO1xuLy8gICAgICAgZm9yKGxldCB0b2tlbiBvZiB0b2tlbnMpIHtcbi8vICAgICAgICAgbGV0IHN0YXJ0ID0gY20ucG9zRnJvbUluZGV4KHRva2VuLnBvcyk7XG4vLyAgICAgICAgIGxldCBzdG9wID0gY20ucG9zRnJvbUluZGV4KHRva2VuLnBvcyArIHRva2VuLm9yaWcubGVuZ3RoKTtcbi8vICAgICAgICAgc3RhdGUubWFya3MucHVzaChjbS5tYXJrVGV4dChzdGFydCwgc3RvcCwge2NsYXNzTmFtZTogdG9rZW4udHlwZX0pKTtcbi8vICAgICAgIH1cbiAgICB9KTtcbiAgICBjbS5mb2N1cygpO1xuICB9XG4gIGlmKGNtLmdldFZhbHVlKCkgIT09IGVsZW0udmFsdWUpIHtcbiAgICBjbS5zZXRWYWx1ZShlbGVtLnZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzeW50YXhTZWFyY2goc2VhcmNoSWQpIHtcbiAgbGV0IHt0b3AsIGxlZnR9ID0gZXZlLmZpbmRPbmUoXCJidWlsdGluIHN5bnRheCBzZWFyY2hcIiwge2lkOiBzZWFyY2hJZH0pO1xuICBsZXQgY29kZSA9IGV2ZS5maW5kT25lKFwiYnVpbHRpbiBzeW50YXggc2VhcmNoIGNvZGVcIiwge2lkOiBzZWFyY2hJZH0pW1wiY29kZVwiXTtcbiAgbGV0IGlzRHJhZ2dpbmcgPSBkcmFnZ2luZyAmJiBkcmFnZ2luZy5pZCA9PT0gc2VhcmNoSWQgPyBcImRyYWdnaW5nXCIgOiBcIlwiO1xuICBsZXQgZXJyb3IgPSBldmUuZmluZE9uZShcImJ1aWx0aW4gc3ludGF4IHNlYXJjaCBlcnJvclwiLCB7aWQ6IHNlYXJjaElkfSk7XG4gIGxldCByZXN1bHRVaTtcbiAgaWYoIWVycm9yKSB7XG4gICAgbGV0IHJlc3VsdHMgPSBldmUuZmluZChzZWFyY2hJZCk7XG4gICAgbGV0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHJlc3VsdHNbMF0gfHwge30pLmZpbHRlcigoZmllbGQpID0+IGZpZWxkICE9PSBcIl9faWRcIik7XG4gICAgbGV0IGhlYWRlcnMgPSBbXTtcbiAgICBmb3IobGV0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgaGVhZGVycy5wdXNoKHtjOiBcImhlYWRlclwiLCB0ZXh0OiBmaWVsZH0pO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0SXRlbXMgPSBbXTtcbiAgICBmb3IobGV0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICBsZXQgZmllbGRJdGVtcyA9IFtdO1xuICAgICAgZm9yKGxldCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgICAgZmllbGRJdGVtcy5wdXNoKHtjOiBcImZpZWxkXCIsIHRleHQ6IHJlc3VsdFtmaWVsZF19KTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdEl0ZW1zLnB1c2goe2M6IFwicm93XCIsIGNoaWxkcmVuOiBmaWVsZEl0ZW1zfSk7XG4gICAgfVxuICAgIHJlc3VsdFVpID0ge2M6IFwicmVzdWx0c1wiLCBjaGlsZHJlbjogW1xuICAgICAge2M6IFwiaGVhZGVyc1wiLCBjaGlsZHJlbjogaGVhZGVyc30sXG4gICAgICB7YzogXCJyb3dzXCIsIGNoaWxkcmVuOiByZXN1bHRJdGVtc31cbiAgICBdfTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHRVaSA9IHtjOiBcImVycm9yXCIsIHRleHQ6IGVycm9yLmVycm9yfTtcbiAgfVxuXG4gIGxldCBzaXplID0gZXZlLmZpbmRPbmUoXCJidWlsdGluIHNlYXJjaCBzaXplXCIsIHtpZDogc2VhcmNoSWR9KTtcbiAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gIGlmKHNpemUpIHtcbiAgICB3aWR0aCA9IHNpemUud2lkdGg7XG4gICAgaGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIHtpZDogYCR7c2VhcmNoSWR9fGNvbnRhaW5lcmAsIGM6IGBjb250YWluZXIgc2VhcmNoLWNvbnRhaW5lciAke2lzRHJhZ2dpbmd9IHN5bnRheC1zZWFyY2hgLCB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIGNoaWxkcmVuOiBbXG4gICAge2M6IFwic2VhcmNoLWlucHV0XCIsIG1vdXNlZG93bjogc3RhcnREcmFnZ2luZywgc2VhcmNoSWQsIGNoaWxkcmVuOiBbXG4gICAgICB7YzogXCJzZWFyY2gtYm94IHN5bnRheC1lZGl0b3JcIiwgdmFsdWU6IGNvZGUsIHBvc3RSZW5kZXI6IENNU3ludGF4RWRpdG9yLCBzZWFyY2hJZH0sXG4gICAgICB7YzogXCJpb24tYW5kcm9pZC1jbG9zZSBjbG9zZVwiLCBjbGljazogcmVtb3ZlU2VhcmNoLCBzZWFyY2hJZH0sXG4gICAgXX0sXG4gICAgcmVzdWx0VWksXG4gICAge2M6IFwicmVzaXplXCIsIG1vdXNlZG93bjogc3RhcnREcmFnZ2luZywgc2VhcmNoSWQsIGFjdGlvbjogXCJyZXNpemVTZWFyY2hcIn1cbiAgXX07XG59XG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFTVCBhbmQgY29tcGlsZXJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIHZpZXc6IHZpZXcsIGtpbmRbdW5pb258cXVlcnl8dGFibGVdXG4vLyBhY3Rpb246IHZpZXcsIGFjdGlvbiwga2luZFtzZWxlY3R8Y2FsY3VsYXRlfHByb2plY3R8dW5pb258dW51bmlvbnxzdGF0ZWZ1bHxsaW1pdHxzb3J0fGdyb3VwfGFnZ3JlZ2F0ZV0sIGl4XG4vLyBhY3Rpb24gc291cmNlOiBhY3Rpb24sIHNvdXJjZSB2aWV3XG4vLyBhY3Rpb24gbWFwcGluZzogYWN0aW9uLCBmcm9tLCB0byBzb3VyY2UsIHRvIGZpZWxkXG4vLyBhY3Rpb24gbWFwcGluZyBjb25zdGFudDogYWN0aW9uLCBmcm9tLCB2YWx1ZVxuXG52YXIgcmVjb21waWxlVHJpZ2dlciA9IHtcbiAgZXhlYzogKCkgPT4ge1xuICAgIGZvcihsZXQgdmlldyBvZiBldmUuZmluZChcInZpZXdcIikpIHtcbiAgICAgIGlmKHZpZXcua2luZCA9PT0gXCJ0YWJsZVwiKSBjb250aW51ZTtcbiAgICAgIGxldCBxdWVyeSA9IGNvbXBpbGUoZXZlLCB2aWV3LnZpZXcpO1xuICAgICAgZXZlLmFzVmlldyhxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG5ldmUuYWRkVGFibGUoXCJ2aWV3XCIsIFtcInZpZXdcIiwgXCJraW5kXCJdKTtcbmV2ZS5hZGRUYWJsZShcImFjdGlvblwiLCBbXCJ2aWV3XCIsIFwiYWN0aW9uXCIsIFwia2luZFwiLCBcIml4XCJdKTtcbmV2ZS5hZGRUYWJsZShcImFjdGlvbiBzb3VyY2VcIiwgW1wiYWN0aW9uXCIsIFwic291cmNlIHZpZXdcIl0pO1xuZXZlLmFkZFRhYmxlKFwiYWN0aW9uIG1hcHBpbmdcIiwgW1wiYWN0aW9uXCIsIFwiZnJvbVwiLCBcInRvIHNvdXJjZVwiLCBcInRvIGZpZWxkXCJdKTtcbmV2ZS5hZGRUYWJsZShcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIFtcImFjdGlvblwiLCBcImZyb21cIiwgXCJ2YWx1ZVwiXSk7XG5ldmUuYWRkVGFibGUoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwgW1wiYWN0aW9uXCIsIFwiaXhcIiwgXCJzb3VyY2VcIiwgXCJmaWVsZFwiLCBcImRpcmVjdGlvblwiXSk7XG5ldmUuYWRkVGFibGUoXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiLCBbXCJhY3Rpb25cIiwgXCJsaW1pdCB0eXBlXCIsIFwidmFsdWVcIl0pO1xuXG5ldmUudGFibGUoXCJ2aWV3XCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbmV2ZS50YWJsZShcImFjdGlvblwiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG5ldmUudGFibGUoXCJhY3Rpb24gc291cmNlXCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbmV2ZS50YWJsZShcImFjdGlvbiBtYXBwaW5nXCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbmV2ZS50YWJsZShcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbmV2ZS50YWJsZShcImFjdGlvbiBtYXBwaW5nIHNvcnRlZFwiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG5ldmUudGFibGUoXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG5cbmZ1bmN0aW9uIHF1ZXJ5T2JqZWN0VG9EaWZmKHF1ZXJ5OnJ1bnRpbWUuUXVlcnkpIHtcbiAgcmV0dXJuIHF1ZXJ5LmNoYW5nZXNldChldmUpO1xufVxuLy8gYWRkIHRoZSBhZGRlZCBjb2xsZWN0aW9ucyB1bmlvbiBzbyB0aGF0IHNvdXJjZXMgY2FuIGJlIGFkZGVkIHRvIGl0IGJ5XG4vLyBhY3Rpb25zLlxudmFyIGRpZmYgPSBldmUuZGlmZigpO1xuZGlmZi5hZGQoXCJ2aWV3XCIsIHt2aWV3OiBcImdlbmVyYXRlZCBlYXZcIiwga2luZDogXCJ1bmlvblwifSk7XG5ldmUuYXBwbHlEaWZmKGRpZmYpO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlKGl4ZXIsIHZpZXdJZCkge1xuICBsZXQgdmlldyA9IGl4ZXIuZmluZE9uZShcInZpZXdcIiwge3ZpZXc6IHZpZXdJZH0pO1xuICBpZighdmlldykge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gdmlldyBmb3VuZCBmb3IgJHt2aWV3SWR9LmApO1xuICB9XG4gIGxldCBjb21waWxlZCA9IGl4ZXJbdmlldy5raW5kXSh2aWV3SWQpO1xuICBsZXQgYWN0aW9ucyA9IGl4ZXIuZmluZChcImFjdGlvblwiLCB7dmlldzogdmlld0lkfSk7XG4gIGlmKCFhY3Rpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBWaWV3ICR7dmlld0lkfSBoYXMgbm8gYWN0aW9ucy5gKTtcbiAgfVxuICAvLyBzb3J0IGFjdGlvbnMgYnkgaXhcbiAgYWN0aW9ucy5zb3J0KChhLCBiKSA9PiBhLml4IC0gYi5peCk7XG4gIGZvcihsZXQgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBsZXQgYWN0aW9uS2luZCA9IGFjdGlvbi5raW5kO1xuICAgIGlmKGFjdGlvbktpbmQgPT09IFwibGltaXRcIikge1xuICAgICAgbGV0IGxpbWl0ID0ge307XG4gICAgICBmb3IobGV0IGxpbWl0TWFwcGluZyBvZiBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSkpIHtcbiAgICAgICAgbGltaXRbbGltaXRNYXBwaW5nW1wibGltaXQgdHlwZVwiXV0gPSBsaW1pdE1hcHBpbmdbXCJ2YWx1ZVwiXTtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkLmxpbWl0KGxpbWl0KTtcbiAgICB9IGVsc2UgaWYoYWN0aW9uS2luZCA9PT0gXCJzb3J0XCIgfHwgYWN0aW9uS2luZCA9PT0gXCJncm91cFwiKSB7XG4gICAgICBsZXQgc29ydGVkID0gW107XG4gICAgICBsZXQgbWFwcGluZ3MgPSBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwge2FjdGlvbjogYWN0aW9uLmFjdGlvbn0pO1xuICAgICAgbWFwcGluZ3Muc29ydCgoYSwgYikgPT4gYS5peCAtIGIuaXgpO1xuICAgICAgZm9yKGxldCBtYXBwaW5nIG9mIG1hcHBpbmdzKSB7XG4gICAgICAgIHNvcnRlZC5wdXNoKFttYXBwaW5nW1wic291cmNlXCJdLCBtYXBwaW5nW1wiZmllbGRcIl0sIG1hcHBpbmdbXCJkaXJlY3Rpb25cIl1dKTtcbiAgICAgIH1cbiAgICAgIGlmKHNvcnRlZC5sZW5ndGgpIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0oc29ydGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHthY3Rpb25LaW5kfSB3aXRob3V0IGFueSBtYXBwaW5nczogJHthY3Rpb24uYWN0aW9ufWApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtYXBwaW5ncyA9IGl4ZXIuZmluZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb246IGFjdGlvbi5hY3Rpb259KTtcbiAgICAgIGxldCBtYXBwaW5nT2JqZWN0ID0ge307XG4gICAgICBmb3IobGV0IG1hcHBpbmcgb2YgbWFwcGluZ3MpIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG1hcHBpbmdbXCJ0byBzb3VyY2VcIl07XG4gICAgICAgIGxldCBmaWVsZCA9IG1hcHBpbmdbXCJ0byBmaWVsZFwiXTtcbiAgICAgICAgaWYoYWN0aW9uS2luZCA9PT0gXCJ1bmlvblwiIHx8IGFjdGlvbktpbmQgPT09IFwidW51bmlvblwiKSB7XG4gICAgICAgICAgbWFwcGluZ09iamVjdFttYXBwaW5nLmZyb21dID0gW2ZpZWxkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBwaW5nT2JqZWN0W21hcHBpbmcuZnJvbV0gPSBbc291cmNlLCBmaWVsZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjb25zdGFudHMgPSBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSk7XG4gICAgICBmb3IobGV0IGNvbnN0YW50IG9mIGNvbnN0YW50cykge1xuICAgICAgICBtYXBwaW5nT2JqZWN0W2NvbnN0YW50LmZyb21dID0gY29uc3RhbnQudmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgc291cmNlID0gaXhlci5maW5kT25lKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSk7XG4gICAgICBpZighc291cmNlICYmIGFjdGlvbktpbmQgIT09IFwicHJvamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHthY3Rpb25LaW5kfSBhY3Rpb24gd2l0aG91dCBhIHNvdXJjZSBpbiAnJHt2aWV3SWR9J2ApO1xuICAgICAgfVxuICAgICAgaWYoYWN0aW9uS2luZCAhPT0gXCJwcm9qZWN0XCIpIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0oc291cmNlW1wic291cmNlIHZpZXdcIl0sIG1hcHBpbmdPYmplY3QsIGFjdGlvbi5hY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0obWFwcGluZ09iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb21waWxlZDtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV2ZSBmdW5jdGlvbnNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnJ1bnRpbWUuZGVmaW5lKFwiZW50aXR5IHRvIGdyYXBoXCIsIHttdWx0aTogdHJ1ZX0sIGZ1bmN0aW9uKGVudGl0eSwgdGV4dCkge1xuICByZXR1cm4gZW50aXR5VG9HcmFwaChlbnRpdHksIHRleHQpO1xufSk7XG5cbnJ1bnRpbWUuZGVmaW5lKFwicGFyc2UgZWF2c1wiLCB7bXVsdGk6IHRydWV9LCBmdW5jdGlvbihlbnRpdHksIHRleHQpIHtcbiAgcmV0dXJuIHBhcnNlRW50aXR5KGVudGl0eSwgdGV4dCkuZWF2cztcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcImJpdCB0ZW1wbGF0ZVwiLCB7bXVsdGk6IHRydWV9LCBmdW5jdGlvbihyb3csIG5hbWUsIHRlbXBsYXRlLCBhY3Rpb24pIHtcbiAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZTtcbiAgZm9yKGxldCBrZXkgaW4gcm93KSB7XG4gICAgbGV0IGl0ZW0gPSByb3dba2V5XTtcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKG5ldyBSZWdFeHAoYHske2tleS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csIFwiXFxcXCQxXCIpfX1gLCBcImdpXCIpLCBpdGVtKTtcbiAgfVxuICBsZXQgZW50aXR5O1xuICBsZXQgaGVhZGVyID0gY29udGVudC5tYXRjaCgvIy4qJC9tZ2kpO1xuICBpZihoZWFkZXIpIHtcbiAgICBlbnRpdHkgPSBoZWFkZXJbMF0ucmVwbGFjZShcIiNcIiwgXCJcIikudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIH0gZWxzZSB7XG4gICAgZW50aXR5ID0gYCR7bmFtZX18JHtyb3cuX19pZH1gO1xuICB9XG4gIGxldCBibG9ja0lkID0gYCR7YWN0aW9ufXwke3Jvdy5fX2lkfWA7XG4gIHJldHVybiBbe2VudGl0eTogYmxvY2tJZCwgYXR0cmlidXRlOiBcImlzIGFcIiwgdmFsdWU6IFwiY29udGVudCBibG9ja1wifSxcbiAgICAgICAgICB7ZW50aXR5OiBibG9ja0lkLCBhdHRyaWJ1dGU6IFwiYXNzb2NpYXRlZCBlbnRpdHlcIiwgdmFsdWU6IGVudGl0eX0sXG4gICAgICAgICAge2VudGl0eTogYmxvY2tJZCwgYXR0cmlidXRlOiBcImNvbnRlbnRcIiwgdmFsdWU6IGNvbnRlbnR9LFxuICAgICAgICAgIHtlbnRpdHk6IGJsb2NrSWQsIGF0dHJpYnV0ZTogXCJzb3VyY2VcIiwgdmFsdWU6IG5hbWV9XTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcImNvbGxlY3Rpb24gY29udGVudFwiLCB7fSwgZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICByZXR1cm4ge2NvbnRlbnQ6IGAjICR7cGx1cmFsaXplKGNvbGxlY3Rpb24sIDIpfWB9O1xufSk7XG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFF1ZXJpZXNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIGV2ZS5hZGRUYWJsZShcIm1hbnVhbCBlbnRpdHlcIiwgW1wiZW50aXR5XCIsIFwiY29udGVudFwiXSk7XG4vLyBldmUuYWRkVGFibGUoXCJhY3Rpb24gZW50aXR5XCIsIFtcImVudGl0eVwiLCBcImNvbnRlbnRcIiwgXCJzb3VyY2VcIl0pO1xuXG4vLyBldmUuYXNWaWV3KGV2ZS51bmlvbihcImVudGl0eVwiKVxuLy8gICAgICAgICAgICAgICAudW5pb24oXCJtYW51YWwgZW50aXR5XCIsIHtlbnRpdHk6IFtcImVudGl0eVwiXSwgY29udGVudDogW1wiY29udGVudFwiXX0pXG4vLyAgICAgICAgICAgICAgIC51bmlvbihcImFjdGlvbiBlbnRpdHlcIiwge2VudGl0eTogW1wiZW50aXR5XCJdLCBjb250ZW50OiBbXCJjb250ZW50XCJdfSlcbi8vICAgICAgICAgICAgICAgLnVuaW9uKFwidW5tb2RpZmllZCBhZGRlZCBiaXRzXCIsIHtlbnRpdHk6IFtcImVudGl0eVwiXSwgY29udGVudDogW1wiY29udGVudFwiXX0pXG4vLyAgICAgICAgICAgICAgIC51bmlvbihcImF1dG9tYXRpYyBjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHtlbnRpdHk6IFtcImVudGl0eVwiXSwgY29udGVudDogW1wiY29udGVudFwiXX0pKTtcblxuLy8gZXZlLmFzVmlldyhldmUucXVlcnkoXCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHNcIilcbi8vICAgICAgICAgICAgICAgLnNlbGVjdChcImFkZGVkIGJpdHNcIiwge30sIFwiYWRkZWRcIilcbi8vICAgICAgICAgICAgICAgLmRlc2VsZWN0KFwibWFudWFsIGVudGl0eVwiLCB7ZW50aXR5OiBbXCJhZGRlZFwiLCBcImVudGl0eVwiXX0pXG4vLyAgICAgICAgICAgICAgIC5wcm9qZWN0KHtlbnRpdHk6IFtcImFkZGVkXCIsIFwiZW50aXR5XCJdLCBjb250ZW50OiBbXCJhZGRlZFwiLCBcImNvbnRlbnRcIl19KSk7XG5cbi8vIGV2ZS5hc1ZpZXcoZXZlLnF1ZXJ5KFwicGFyc2VkIGVhdnNcIilcbi8vICAgICAgICAgICAgIC5zZWxlY3QoXCJlbnRpdHlcIiwge30sIFwiZW50aXR5XCIpXG4vLyAgICAgICAgICAgICAuY2FsY3VsYXRlKFwicGFyc2UgZWF2c1wiLCB7ZW50aXR5OiBbXCJlbnRpdHlcIiwgXCJlbnRpdHlcIl0sIHRleHQ6IFtcImVudGl0eVwiLCBcImNvbnRlbnRcIl19LCBcInBhcnNlZFwiKVxuLy8gICAgICAgICAgICAgLnByb2plY3Qoe2VudGl0eTogW1wiZW50aXR5XCIsIFwiZW50aXR5XCJdLCBhdHRyaWJ1dGU6IFtcInBhcnNlZFwiLCBcImF0dHJpYnV0ZVwiXSwgdmFsdWU6IFtcInBhcnNlZFwiLCBcInZhbHVlXCJdfSkpO1xuXG4vLyBldmUuYXNWaWV3KGV2ZS51bmlvbihcImVudGl0eSBlYXZzXCIpXG4vLyAgICAgICAgICAgICAudW5pb24oXCJhZGRlZCBjb2xsZWN0aW9uc1wiLCB7ZW50aXR5OiBbXCJlbnRpdHlcIl0sIGF0dHJpYnV0ZTogXCJpcyBhXCIsIHZhbHVlOiBbXCJjb2xsZWN0aW9uXCJdfSlcbi8vICAgICAgICAgICAgIC51bmlvbihcInBhcnNlZCBlYXZzXCIsIHtlbnRpdHk6IFtcImVudGl0eVwiXSwgYXR0cmlidXRlOiBbXCJhdHRyaWJ1dGVcIl0sIHZhbHVlOiBbXCJ2YWx1ZVwiXX0pXG4vLyAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgc3RvcmVkIHVuaW9uIHRoYXQgaXMgdXNlZCBieSB0aGUgYWRkIGVhdiBhY3Rpb24gdG8gdGFrZSBxdWVyeSByZXN1bHRzIGFuZFxuLy8gICAgICAgICAgICAgLy8gcHVzaCB0aGVtIGludG8gZWF2cywgZS5nLiBzdW0gc2FsYXJpZXMgcGVyIGRlcGFydG1lbnQgLT4gW3RvdGFsIHNhbGFyeSA9ICpdXG4vLyAgICAgICAgICAgICAudW5pb24oXCJhZGRlZCBlYXZzXCIsIHtlbnRpdHk6IFtcImVudGl0eVwiXSwgYXR0cmlidXRlOiBbXCJhdHRyaWJ1dGVcIl0sIHZhbHVlOiBbXCJ2YWx1ZVwiXX0pKTtcblxuLy8gZXZlLmFzVmlldyhldmUucXVlcnkoXCJpcyBhIGF0dHJpYnV0ZXNcIilcbi8vICAgICAgICAgICAgICAgLnNlbGVjdChcImVudGl0eSBlYXZzXCIsIHthdHRyaWJ1dGU6IFwiaXMgYVwifSwgXCJpcyBhXCIpXG4vLyAgICAgICAgICAgICAgIC5wcm9qZWN0KHtjb2xsZWN0aW9uOiBbXCJpcyBhXCIsIFwidmFsdWVcIl0sIGVudGl0eTogW1wiaXMgYVwiLCBcImVudGl0eVwiXX0pKTtcblxuLy8gQEhBQ0s6IHRoaXMgdmlldyBpcyByZXF1aXJlZCBiZWNhdXNlIHlvdSBjYW4ndCBjdXJyZW50bHkgam9pbiBhIHNlbGVjdCBvbiB0aGUgcmVzdWx0IG9mIGEgZnVuY3Rpb24uXG4vLyBzbyB3ZSBjcmVhdGUgYSB2ZXJzaW9uIG9mIHRoZSBlYXZzIHRhYmxlIHRoYXQgYWxyZWFkeSBoYXMgZXZlcnl0aGluZyBsb3dlcmNhc2VkLlxuLy8gZXZlLmFzVmlldyhldmUucXVlcnkoXCJsb3dlcmNhc2UgZWF2c1wiKVxuLy8gICAgICAgICAgICAgICAuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwge30sIFwiZWF2XCIpXG4vLyAgICAgICAgICAgICAgIC5jYWxjdWxhdGUoXCJsb3dlcmNhc2VcIiwge3RleHQ6IFtcImVhdlwiLCBcInZhbHVlXCJdfSwgXCJsb3dlclwiKVxuLy8gICAgICAgICAgICAgICAucHJvamVjdCh7ZW50aXR5OiBbXCJlYXZcIiwgXCJlbnRpdHlcIl0sIGF0dHJpYnV0ZTogW1wiZWF2XCIsIFwiYXR0cmlidXRlXCJdLCB2YWx1ZTogW1wibG93ZXJcIiwgXCJyZXN1bHRcIl19KSk7XG5cbi8vIGV2ZS5hc1ZpZXcoZXZlLnF1ZXJ5KFwiZW50aXR5IGxpbmtzXCIpXG4vLyAgICAgICAgICAgICAgIC5zZWxlY3QoXCJsb3dlcmNhc2UgZWF2c1wiLCB7fSwgXCJlYXZcIilcbi8vICAgICAgICAgICAgICAgLnNlbGVjdChcImVudGl0eVwiLCB7ZW50aXR5OiBbXCJlYXZcIiwgXCJ2YWx1ZVwiXX0sIFwiZW50aXR5XCIpXG4vLyAgICAgICAgICAgICAgIC5wcm9qZWN0KHtlbnRpdHk6IFtcImVhdlwiLCBcImVudGl0eVwiXSwgbGluazogW1wiZW50aXR5XCIsIFwiZW50aXR5XCJdLCB0eXBlOiBbXCJlYXZcIiwgXCJhdHRyaWJ1dGVcIl19KSk7XG5cbi8vIGV2ZS5hc1ZpZXcoZXZlLnVuaW9uKFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiKVxuLy8gICAgICAgICAgICAgICAudW5pb24oXCJlbnRpdHkgbGlua3NcIiwge2VudGl0eTogW1wiZW50aXR5XCJdLCBsaW5rOiBbXCJsaW5rXCJdfSlcbi8vICAgICAgICAgICAgICAgLnVuaW9uKFwiZW50aXR5IGxpbmtzXCIsIHtlbnRpdHk6IFtcImxpbmtcIl0sIGxpbms6IFtcImVudGl0eVwiXX0pKTtcblxuLy8gZXZlLmFzVmlldyhldmUudW5pb24oXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIpXG4vLyAgICAgICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGVzZSBhcmUgZWRpdG9yLWxldmVsIHZpZXdzXG4vLyAgICAgICAgICAgICAudW5pb24oXCJpcyBhIGF0dHJpYnV0ZXNcIiwge2VudGl0eTogW1wiZW50aXR5XCJdLCBjb2xsZWN0aW9uOiBbXCJjb2xsZWN0aW9uXCJdfSlcbi8vICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBzdG9yZWQgdW5pb24gdGhhdCBpcyB1c2VkIGJ5IHRoZSBhZGQgdG8gY29sbGVjdGlvbiBhY3Rpb24gdG8gdGFrZSBxdWVyeSByZXN1bHRzIGFuZFxuLy8gICAgICAgICAgICAgLy8gcHVzaCB0aGVtIGludG8gY29sbGVjdGlvbnMsIGUuZy4gcGVvcGxlIG9sZGVyIHRoYW4gMjEgLT4gW1tjYW4gZHJpbmtdXVxuLy8gICAgICAgICAgICAgLnVuaW9uKFwiYWRkZWQgY29sbGVjdGlvbnNcIiwge2VudGl0eTogW1wiZW50aXR5XCJdLCBjb2xsZWN0aW9uOiBbXCJjb2xsZWN0aW9uXCJdfSkpO1xuXG4vLyBldmUuYXNWaWV3KGV2ZS5xdWVyeShcImNvbGxlY3Rpb25cIilcbi8vICAgICAgICAgICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHt9LCBcImNvbGxlY3Rpb25zXCIpXG4vLyAgICAgICAgICAgICAuZ3JvdXAoW1tcImNvbGxlY3Rpb25zXCIsIFwiY29sbGVjdGlvblwiXV0pXG4vLyAgICAgICAgICAgICAuYWdncmVnYXRlKFwiY291bnRcIiwge30sIFwiY291bnRcIilcbi8vICAgICAgICAgICAgIC5wcm9qZWN0KHtjb2xsZWN0aW9uOiBbXCJjb2xsZWN0aW9uc1wiLCBcImNvbGxlY3Rpb25cIl0sIGNvdW50OiBbXCJjb3VudFwiLCBcImNvdW50XCJdfSkpO1xuXG4vLyBldmUuYXNWaWV3KGV2ZS5xdWVyeShcImF1dG9tYXRpYyBjb2xsZWN0aW9uIGVudGl0aWVzXCIpXG4vLyAgICAgICAgICAgICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uXCIsIHt9LCBcImNvbGxcIilcbi8vICAgICAgICAgICAgICAgLmRlc2VsZWN0KFwibWFudWFsIGVudGl0eVwiLCB7ZW50aXR5OiBbXCJjb2xsXCIsIFwiY29sbGVjdGlvblwiXX0pXG4vLyAgICAgICAgICAgICAgIC5jYWxjdWxhdGUoXCJjb2xsZWN0aW9uIGNvbnRlbnRcIiwge2NvbGxlY3Rpb246IFtcImNvbGxcIiwgXCJjb2xsZWN0aW9uXCJdfSwgXCJjb250ZW50XCIpXG4vLyAgICAgICAgICAgICAgIC5wcm9qZWN0KHtlbnRpdHk6IFtcImNvbGxcIiwgXCJjb2xsZWN0aW9uXCJdLCBjb250ZW50OiBbXCJjb250ZW50XCIsIFwiY29udGVudFwiXX0pKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdvXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBpbml0U2VhcmNoZXMoKSB7XG4gIGZvcihsZXQgc2VhcmNoIG9mIGV2ZS5maW5kKFwiYnVpbHRpbiBzZWFyY2hcIikpIHtcbiAgICBsZXQgdmFsdWUgPSBldmUuZmluZE9uZShcImJ1aWx0aW4gc2VhcmNoIHF1ZXJ5XCIsIHtpZDogc2VhcmNoLmlkfSlbXCJzZWFyY2hcIl07XG4gICAgYXBwLmFjdGl2ZVNlYXJjaGVzW3NlYXJjaC5pZF0gPSBxdWVyeVRvRXhlY3V0YWJsZSh2YWx1ZSk7XG4gIH1cbiAgZm9yKGxldCBwYW5lIG9mIGV2ZS5maW5kKFwidWkgcGFuZVwiKSkge1xuICAgIGlmKGV2ZS5maW5kT25lKFwiZW50aXR5XCIsIHtlbnRpdHk6IHBhbmUuY29udGFpbnN9KSkgY29udGludWU7XG4gICAgYXBwLmFjdGl2ZVNlYXJjaGVzW3BhbmUuY29udGFpbnNdID0gcXVlcnlUb0V4ZWN1dGFibGUocGFuZS5jb250YWlucyk7XG4gIH1cbn1cblxuLy8gQFRPRE86IEtJTEwgTUVcbmltcG9ydCBcIi4vYm9vdHN0cmFwXCI7XG5cbmZ1bmN0aW9uIGluaXRFdmUoKSB7XG4gIGxldCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2VbYXBwLmV2ZUxvY2FsU3RvcmFnZUtleV07XG4gIGlmKCFzdG9yZWQpIHtcbiAgICB2YXIgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgbGV0IGlkID0gdXVpZCgpO1xuICAgIGRpZmYuYWRkKFwiYnVpbHRpbiBzZWFyY2hcIiwge2lkLCB0b3A6IDEwMCwgbGVmdDogMTAwfSk7XG4gICAgZGlmZi5hZGQoXCJidWlsdGluIHNlYXJjaCBxdWVyeVwiLCB7aWQsIHNlYXJjaDogXCJmb29cIn0pO1xuICAgIGV2ZS5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgfVxuICBpbml0U2VhcmNoZXMoKTtcbn1cblxuYXBwLnJlbmRlclJvb3RzW1wid2lraVwiXSA9IHJvb3Q7XG5hcHAuaW5pdChcIndpa2lcIiwgZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChsb2NhbFN0b3JhZ2VbXCJ0aGVtZVwiXSB8fCBcImxpZ2h0XCIpO1xuICBhcHAuYWN0aXZlU2VhcmNoZXMgPSB7fTtcbiAgaW5pdEV2ZSgpO1xufSk7XG5cbmRlY2xhcmUgdmFyIGV4cG9ydHM7XG53aW5kb3dbXCJ3aWtpXCJdID0gZXhwb3J0cztcbiIsIiIsIi8qKlxuICogbWFya2VkIC0gYSBtYXJrZG93biBwYXJzZXJcbiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NoamovbWFya2VkXG4gKi9cbihmdW5jdGlvbigpe3ZhciBibG9jaz17bmV3bGluZTovXlxcbisvLGNvZGU6L14oIHs0fVteXFxuXStcXG4qKSsvLGZlbmNlczpub29wLGhyOi9eKCAqWy0qX10pezMsfSAqKD86XFxuK3wkKS8saGVhZGluZzovXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKiMqICooPzpcXG4rfCQpLyxucHRhYmxlOm5vb3AsbGhlYWRpbmc6L14oW15cXG5dKylcXG4gKig9fC0pezIsfSAqKD86XFxuK3wkKS8sYmxvY2txdW90ZTovXiggKj5bXlxcbl0rKFxcbig/IWRlZilbXlxcbl0rKSpcXG4qKSsvLGxpc3Q6L14oICopKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLGh0bWw6L14gKig/OmNvbW1lbnQgKig/OlxcbnxcXHMqJCl8Y2xvc2VkICooPzpcXG57Mix9fFxccyokKXxjbG9zaW5nICooPzpcXG57Mix9fFxccyokKSkvLGRlZjovXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogK1tcIihdKFteXFxuXSspW1wiKV0pPyAqKD86XFxuK3wkKS8sdGFibGU6bm9vcCxwYXJhZ3JhcGg6L14oKD86W15cXG5dK1xcbj8oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8dGFnfGRlZikpKylcXG4qLyx0ZXh0Oi9eW15cXG5dKy99O2Jsb2NrLmJ1bGxldD0vKD86WyorLV18XFxkK1xcLikvO2Jsb2NrLml0ZW09L14oICopKGJ1bGwpIFteXFxuXSooPzpcXG4oPyFcXDFidWxsIClbXlxcbl0qKSovO2Jsb2NrLml0ZW09cmVwbGFjZShibG9jay5pdGVtLFwiZ21cIikoL2J1bGwvZyxibG9jay5idWxsZXQpKCk7YmxvY2subGlzdD1yZXBsYWNlKGJsb2NrLmxpc3QpKC9idWxsL2csYmxvY2suYnVsbGV0KShcImhyXCIsXCJcXFxcbisoPz1cXFxcMT8oPzpbLSpfXSAqKXszLH0oPzpcXFxcbit8JCkpXCIpKFwiZGVmXCIsXCJcXFxcbisoPz1cIitibG9jay5kZWYuc291cmNlK1wiKVwiKSgpO2Jsb2NrLmJsb2NrcXVvdGU9cmVwbGFjZShibG9jay5ibG9ja3F1b3RlKShcImRlZlwiLGJsb2NrLmRlZikoKTtibG9jay5fdGFnPVwiKD8hKD86XCIrXCJhfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZVwiK1wifHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvXCIrXCJ8c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpXFxcXGIpXFxcXHcrKD8hOi98W15cXFxcd1xcXFxzQF0qQClcXFxcYlwiO2Jsb2NrLmh0bWw9cmVwbGFjZShibG9jay5odG1sKShcImNvbW1lbnRcIiwvPCEtLVtcXHNcXFNdKj8tLT4vKShcImNsb3NlZFwiLC88KHRhZylbXFxzXFxTXSs/PFxcL1xcMT4vKShcImNsb3NpbmdcIiwvPHRhZyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo/Pi8pKC90YWcvZyxibG9jay5fdGFnKSgpO2Jsb2NrLnBhcmFncmFwaD1yZXBsYWNlKGJsb2NrLnBhcmFncmFwaCkoXCJoclwiLGJsb2NrLmhyKShcImhlYWRpbmdcIixibG9jay5oZWFkaW5nKShcImxoZWFkaW5nXCIsYmxvY2subGhlYWRpbmcpKFwiYmxvY2txdW90ZVwiLGJsb2NrLmJsb2NrcXVvdGUpKFwidGFnXCIsXCI8XCIrYmxvY2suX3RhZykoXCJkZWZcIixibG9jay5kZWYpKCk7YmxvY2subm9ybWFsPW1lcmdlKHt9LGJsb2NrKTtibG9jay5nZm09bWVyZ2Uoe30sYmxvY2subm9ybWFsLHtmZW5jZXM6L14gKihgezMsfXx+ezMsfSlbIFxcLl0qKFxcUyspPyAqXFxuKFtcXHNcXFNdKj8pXFxzKlxcMSAqKD86XFxuK3wkKS8scGFyYWdyYXBoOi9eLyxoZWFkaW5nOi9eICooI3sxLDZ9KSArKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvfSk7YmxvY2suZ2ZtLnBhcmFncmFwaD1yZXBsYWNlKGJsb2NrLnBhcmFncmFwaCkoXCIoPyFcIixcIig/IVwiK2Jsb2NrLmdmbS5mZW5jZXMuc291cmNlLnJlcGxhY2UoXCJcXFxcMVwiLFwiXFxcXDJcIikrXCJ8XCIrYmxvY2subGlzdC5zb3VyY2UucmVwbGFjZShcIlxcXFwxXCIsXCJcXFxcM1wiKStcInxcIikoKTtibG9jay50YWJsZXM9bWVyZ2Uoe30sYmxvY2suZ2ZtLHtucHRhYmxlOi9eICooXFxTLipcXHwuKilcXG4gKihbLTpdKyAqXFx8Wy18IDpdKilcXG4oKD86LipcXHwuKig/OlxcbnwkKSkqKVxcbiovLHRhYmxlOi9eICpcXHwoLispXFxuICpcXHwoICpbLTpdK1stfCA6XSopXFxuKCg/OiAqXFx8LiooPzpcXG58JCkpKilcXG4qL30pO2Z1bmN0aW9uIExleGVyKG9wdGlvbnMpe3RoaXMudG9rZW5zPVtdO3RoaXMudG9rZW5zLmxpbmtzPXt9O3RoaXMub3B0aW9ucz1vcHRpb25zfHxtYXJrZWQuZGVmYXVsdHM7dGhpcy5ydWxlcz1ibG9jay5ub3JtYWw7aWYodGhpcy5vcHRpb25zLmdmbSl7aWYodGhpcy5vcHRpb25zLnRhYmxlcyl7dGhpcy5ydWxlcz1ibG9jay50YWJsZXN9ZWxzZXt0aGlzLnJ1bGVzPWJsb2NrLmdmbX19fUxleGVyLnJ1bGVzPWJsb2NrO0xleGVyLmxleD1mdW5jdGlvbihzcmMsb3B0aW9ucyl7dmFyIGxleGVyPW5ldyBMZXhlcihvcHRpb25zKTtyZXR1cm4gbGV4ZXIubGV4KHNyYyl9O0xleGVyLnByb3RvdHlwZS5sZXg9ZnVuY3Rpb24oc3JjKXtzcmM9c3JjLnJlcGxhY2UoL1xcclxcbnxcXHIvZyxcIlxcblwiKS5yZXBsYWNlKC9cXHQvZyxcIiAgICBcIikucmVwbGFjZSgvXFx1MDBhMC9nLFwiIFwiKS5yZXBsYWNlKC9cXHUyNDI0L2csXCJcXG5cIik7cmV0dXJuIHRoaXMudG9rZW4oc3JjLHRydWUpfTtMZXhlci5wcm90b3R5cGUudG9rZW49ZnVuY3Rpb24oc3JjLHRvcCxicSl7dmFyIHNyYz1zcmMucmVwbGFjZSgvXiArJC9nbSxcIlwiKSxuZXh0LGxvb3NlLGNhcCxidWxsLGIsaXRlbSxzcGFjZSxpLGw7d2hpbGUoc3JjKXtpZihjYXA9dGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7aWYoY2FwWzBdLmxlbmd0aD4xKXt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwic3BhY2VcIn0pfX1pZihjYXA9dGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7Y2FwPWNhcFswXS5yZXBsYWNlKC9eIHs0fS9nbSxcIlwiKTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiY29kZVwiLHRleHQ6IXRoaXMub3B0aW9ucy5wZWRhbnRpYz9jYXAucmVwbGFjZSgvXFxuKyQvLFwiXCIpOmNhcH0pO2NvbnRpbnVlfWlmKGNhcD10aGlzLnJ1bGVzLmZlbmNlcy5leGVjKHNyYykpe3NyYz1zcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO3RoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJjb2RlXCIsbGFuZzpjYXBbMl0sdGV4dDpjYXBbM118fFwiXCJ9KTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7dGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImhlYWRpbmdcIixkZXB0aDpjYXBbMV0ubGVuZ3RoLHRleHQ6Y2FwWzJdfSk7Y29udGludWV9aWYodG9wJiYoY2FwPXRoaXMucnVsZXMubnB0YWJsZS5leGVjKHNyYykpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtpdGVtPXt0eXBlOlwidGFibGVcIixoZWFkZXI6Y2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLFwiXCIpLnNwbGl0KC8gKlxcfCAqLyksYWxpZ246Y2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZyxcIlwiKS5zcGxpdCgvICpcXHwgKi8pLGNlbGxzOmNhcFszXS5yZXBsYWNlKC9cXG4kLyxcIlwiKS5zcGxpdChcIlxcblwiKX07Zm9yKGk9MDtpPGl0ZW0uYWxpZ24ubGVuZ3RoO2krKyl7aWYoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cInJpZ2h0XCJ9ZWxzZSBpZigvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cImNlbnRlclwifWVsc2UgaWYoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cImxlZnRcIn1lbHNle2l0ZW0uYWxpZ25baV09bnVsbH19Zm9yKGk9MDtpPGl0ZW0uY2VsbHMubGVuZ3RoO2krKyl7aXRlbS5jZWxsc1tpXT1pdGVtLmNlbGxzW2ldLnNwbGl0KC8gKlxcfCAqLyl9dGhpcy50b2tlbnMucHVzaChpdGVtKTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy5saGVhZGluZy5leGVjKHNyYykpe3NyYz1zcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO3RoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJoZWFkaW5nXCIsZGVwdGg6Y2FwWzJdPT09XCI9XCI/MToyLHRleHQ6Y2FwWzFdfSk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMuaHIuZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiaHJcIn0pO2NvbnRpbnVlfWlmKGNhcD10aGlzLnJ1bGVzLmJsb2NrcXVvdGUuZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiYmxvY2txdW90ZV9zdGFydFwifSk7Y2FwPWNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sXCJcIik7dGhpcy50b2tlbihjYXAsdG9wLHRydWUpO3RoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJibG9ja3F1b3RlX2VuZFwifSk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMubGlzdC5leGVjKHNyYykpe3NyYz1zcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO2J1bGw9Y2FwWzJdO3RoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJsaXN0X3N0YXJ0XCIsb3JkZXJlZDpidWxsLmxlbmd0aD4xfSk7Y2FwPWNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO25leHQ9ZmFsc2U7bD1jYXAubGVuZ3RoO2k9MDtmb3IoO2k8bDtpKyspe2l0ZW09Y2FwW2ldO3NwYWNlPWl0ZW0ubGVuZ3RoO2l0ZW09aXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKy8sXCJcIik7aWYofml0ZW0uaW5kZXhPZihcIlxcbiBcIikpe3NwYWNlLT1pdGVtLmxlbmd0aDtpdGVtPSF0aGlzLm9wdGlvbnMucGVkYW50aWM/aXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeIHsxLFwiK3NwYWNlK1wifVwiLFwiZ21cIiksXCJcIik6aXRlbS5yZXBsYWNlKC9eIHsxLDR9L2dtLFwiXCIpfWlmKHRoaXMub3B0aW9ucy5zbWFydExpc3RzJiZpIT09bC0xKXtiPWJsb2NrLmJ1bGxldC5leGVjKGNhcFtpKzFdKVswXTtpZihidWxsIT09YiYmIShidWxsLmxlbmd0aD4xJiZiLmxlbmd0aD4xKSl7c3JjPWNhcC5zbGljZShpKzEpLmpvaW4oXCJcXG5cIikrc3JjO2k9bC0xfX1sb29zZT1uZXh0fHwvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO2lmKGkhPT1sLTEpe25leHQ9aXRlbS5jaGFyQXQoaXRlbS5sZW5ndGgtMSk9PT1cIlxcblwiO2lmKCFsb29zZSlsb29zZT1uZXh0fXRoaXMudG9rZW5zLnB1c2goe3R5cGU6bG9vc2U/XCJsb29zZV9pdGVtX3N0YXJ0XCI6XCJsaXN0X2l0ZW1fc3RhcnRcIn0pO3RoaXMudG9rZW4oaXRlbSxmYWxzZSxicSk7dGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImxpc3RfaXRlbV9lbmRcIn0pfXRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJsaXN0X2VuZFwifSk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMuaHRtbC5leGVjKHNyYykpe3NyYz1zcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO3RoaXMudG9rZW5zLnB1c2goe3R5cGU6dGhpcy5vcHRpb25zLnNhbml0aXplP1wicGFyYWdyYXBoXCI6XCJodG1sXCIscHJlOiF0aGlzLm9wdGlvbnMuc2FuaXRpemVyJiYoY2FwWzFdPT09XCJwcmVcInx8Y2FwWzFdPT09XCJzY3JpcHRcInx8Y2FwWzFdPT09XCJzdHlsZVwiKSx0ZXh0OmNhcFswXX0pO2NvbnRpbnVlfWlmKCFicSYmdG9wJiYoY2FwPXRoaXMucnVsZXMuZGVmLmV4ZWMoc3JjKSkpe3NyYz1zcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO3RoaXMudG9rZW5zLmxpbmtzW2NhcFsxXS50b0xvd2VyQ2FzZSgpXT17aHJlZjpjYXBbMl0sdGl0bGU6Y2FwWzNdfTtjb250aW51ZX1pZih0b3AmJihjYXA9dGhpcy5ydWxlcy50YWJsZS5leGVjKHNyYykpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtpdGVtPXt0eXBlOlwidGFibGVcIixoZWFkZXI6Y2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLFwiXCIpLnNwbGl0KC8gKlxcfCAqLyksYWxpZ246Y2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZyxcIlwiKS5zcGxpdCgvICpcXHwgKi8pLGNlbGxzOmNhcFszXS5yZXBsYWNlKC8oPzogKlxcfCAqKT9cXG4kLyxcIlwiKS5zcGxpdChcIlxcblwiKX07Zm9yKGk9MDtpPGl0ZW0uYWxpZ24ubGVuZ3RoO2krKyl7aWYoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cInJpZ2h0XCJ9ZWxzZSBpZigvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cImNlbnRlclwifWVsc2UgaWYoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSl7aXRlbS5hbGlnbltpXT1cImxlZnRcIn1lbHNle2l0ZW0uYWxpZ25baV09bnVsbH19Zm9yKGk9MDtpPGl0ZW0uY2VsbHMubGVuZ3RoO2krKyl7aXRlbS5jZWxsc1tpXT1pdGVtLmNlbGxzW2ldLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csXCJcIikuc3BsaXQoLyAqXFx8ICovKX10aGlzLnRva2Vucy5wdXNoKGl0ZW0pO2NvbnRpbnVlfWlmKHRvcCYmKGNhcD10aGlzLnJ1bGVzLnBhcmFncmFwaC5leGVjKHNyYykpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTt0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwicGFyYWdyYXBoXCIsdGV4dDpjYXBbMV0uY2hhckF0KGNhcFsxXS5sZW5ndGgtMSk9PT1cIlxcblwiP2NhcFsxXS5zbGljZSgwLC0xKTpjYXBbMV19KTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7dGhpcy50b2tlbnMucHVzaCh7dHlwZTpcInRleHRcIix0ZXh0OmNhcFswXX0pO2NvbnRpbnVlfWlmKHNyYyl7dGhyb3cgbmV3IEVycm9yKFwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitzcmMuY2hhckNvZGVBdCgwKSl9fXJldHVybiB0aGlzLnRva2Vuc307dmFyIGlubGluZT17ZXNjYXBlOi9eXFxcXChbXFxcXGAqe31cXFtcXF0oKSMrXFwtLiFfPl0pLyxhdXRvbGluazovXjwoW14gPl0rKEB8OlxcLylbXiA+XSspPi8sdXJsOm5vb3AsdGFnOi9ePCEtLVtcXHNcXFNdKj8tLT58XjxcXC8/XFx3Kyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo/Pi8sbGluazovXiE/XFxbKGluc2lkZSlcXF1cXChocmVmXFwpLyxyZWZsaW5rOi9eIT9cXFsoaW5zaWRlKVxcXVxccypcXFsoW15cXF1dKilcXF0vLG5vbGluazovXiE/XFxbKCg/OlxcW1teXFxdXSpcXF18W15cXFtcXF1dKSopXFxdLyxzdHJvbmc6L15fXyhbXFxzXFxTXSs/KV9fKD8hXyl8XlxcKlxcKihbXFxzXFxTXSs/KVxcKlxcKig/IVxcKikvLGVtOi9eXFxiXygoPzpbXl9dfF9fKSs/KV9cXGJ8XlxcKigoPzpcXCpcXCp8W1xcc1xcU10pKz8pXFwqKD8hXFwqKS8sY29kZTovXihgKylcXHMqKFtcXHNcXFNdKj9bXmBdKVxccypcXDEoPyFgKS8sYnI6L14gezIsfVxcbig/IVxccyokKS8sZGVsOm5vb3AsdGV4dDovXltcXHNcXFNdKz8oPz1bXFxcXDwhXFxbXypgXXwgezIsfVxcbnwkKS99O2lubGluZS5faW5zaWRlPS8oPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqLztpbmxpbmUuX2hyZWY9L1xccyo8PyhbXFxzXFxTXSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccyovO2lubGluZS5saW5rPXJlcGxhY2UoaW5saW5lLmxpbmspKFwiaW5zaWRlXCIsaW5saW5lLl9pbnNpZGUpKFwiaHJlZlwiLGlubGluZS5faHJlZikoKTtpbmxpbmUucmVmbGluaz1yZXBsYWNlKGlubGluZS5yZWZsaW5rKShcImluc2lkZVwiLGlubGluZS5faW5zaWRlKSgpO2lubGluZS5ub3JtYWw9bWVyZ2Uoe30saW5saW5lKTtpbmxpbmUucGVkYW50aWM9bWVyZ2Uoe30saW5saW5lLm5vcm1hbCx7c3Ryb25nOi9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLGVtOi9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopL30pO2lubGluZS5nZm09bWVyZ2Uoe30saW5saW5lLm5vcm1hbCx7ZXNjYXBlOnJlcGxhY2UoaW5saW5lLmVzY2FwZSkoXCJdKVwiLFwifnxdKVwiKSgpLHVybDovXihodHRwcz86XFwvXFwvW15cXHM8XStbXjwuLDo7XCInKVxcXVxcc10pLyxkZWw6L15+fig/PVxcUykoW1xcc1xcU10qP1xcUyl+fi8sdGV4dDpyZXBsYWNlKGlubGluZS50ZXh0KShcIl18XCIsXCJ+XXxcIikoXCJ8XCIsXCJ8aHR0cHM/Oi8vfFwiKSgpfSk7aW5saW5lLmJyZWFrcz1tZXJnZSh7fSxpbmxpbmUuZ2ZtLHticjpyZXBsYWNlKGlubGluZS5icikoXCJ7Mix9XCIsXCIqXCIpKCksdGV4dDpyZXBsYWNlKGlubGluZS5nZm0udGV4dCkoXCJ7Mix9XCIsXCIqXCIpKCl9KTtmdW5jdGlvbiBJbmxpbmVMZXhlcihsaW5rcyxvcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9uc3x8bWFya2VkLmRlZmF1bHRzO3RoaXMubGlua3M9bGlua3M7dGhpcy5ydWxlcz1pbmxpbmUubm9ybWFsO3RoaXMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyfHxuZXcgUmVuZGVyZXI7dGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9ucztpZighdGhpcy5saW5rcyl7dGhyb3cgbmV3IEVycm9yKFwiVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS5cIil9aWYodGhpcy5vcHRpb25zLmdmbSl7aWYodGhpcy5vcHRpb25zLmJyZWFrcyl7dGhpcy5ydWxlcz1pbmxpbmUuYnJlYWtzfWVsc2V7dGhpcy5ydWxlcz1pbmxpbmUuZ2ZtfX1lbHNlIGlmKHRoaXMub3B0aW9ucy5wZWRhbnRpYyl7dGhpcy5ydWxlcz1pbmxpbmUucGVkYW50aWN9fUlubGluZUxleGVyLnJ1bGVzPWlubGluZTtJbmxpbmVMZXhlci5vdXRwdXQ9ZnVuY3Rpb24oc3JjLGxpbmtzLG9wdGlvbnMpe3ZhciBpbmxpbmU9bmV3IElubGluZUxleGVyKGxpbmtzLG9wdGlvbnMpO3JldHVybiBpbmxpbmUub3V0cHV0KHNyYyl9O0lubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oc3JjKXt2YXIgb3V0PVwiXCIsbGluayx0ZXh0LGhyZWYsY2FwO3doaWxlKHNyYyl7aWYoY2FwPXRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz1jYXBbMV07Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtpZihjYXBbMl09PT1cIkBcIil7dGV4dD1jYXBbMV0uY2hhckF0KDYpPT09XCI6XCI/dGhpcy5tYW5nbGUoY2FwWzFdLnN1YnN0cmluZyg3KSk6dGhpcy5tYW5nbGUoY2FwWzFdKTtocmVmPXRoaXMubWFuZ2xlKFwibWFpbHRvOlwiKSt0ZXh0fWVsc2V7dGV4dD1lc2NhcGUoY2FwWzFdKTtocmVmPXRleHR9b3V0Kz10aGlzLnJlbmRlcmVyLmxpbmsoaHJlZixudWxsLHRleHQpO2NvbnRpbnVlfWlmKCF0aGlzLmluTGluayYmKGNhcD10aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTt0ZXh0PWVzY2FwZShjYXBbMV0pO2hyZWY9dGV4dDtvdXQrPXRoaXMucmVuZGVyZXIubGluayhocmVmLG51bGwsdGV4dCk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMudGFnLmV4ZWMoc3JjKSl7aWYoIXRoaXMuaW5MaW5rJiYvXjxhIC9pLnRlc3QoY2FwWzBdKSl7dGhpcy5pbkxpbms9dHJ1ZX1lbHNlIGlmKHRoaXMuaW5MaW5rJiYvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSl7dGhpcy5pbkxpbms9ZmFsc2V9c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz10aGlzLm9wdGlvbnMuc2FuaXRpemU/dGhpcy5vcHRpb25zLnNhbml0aXplcj90aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSk6ZXNjYXBlKGNhcFswXSk6Y2FwWzBdO2NvbnRpbnVlfWlmKGNhcD10aGlzLnJ1bGVzLmxpbmsuZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTt0aGlzLmluTGluaz10cnVlO291dCs9dGhpcy5vdXRwdXRMaW5rKGNhcCx7aHJlZjpjYXBbMl0sdGl0bGU6Y2FwWzNdfSk7dGhpcy5pbkxpbms9ZmFsc2U7Y29udGludWV9aWYoKGNhcD10aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKXx8KGNhcD10aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtsaW5rPShjYXBbMl18fGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLFwiIFwiKTtsaW5rPXRoaXMubGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtpZighbGlua3x8IWxpbmsuaHJlZil7b3V0Kz1jYXBbMF0uY2hhckF0KDApO3NyYz1jYXBbMF0uc3Vic3RyaW5nKDEpK3NyYztjb250aW51ZX10aGlzLmluTGluaz10cnVlO291dCs9dGhpcy5vdXRwdXRMaW5rKGNhcCxsaW5rKTt0aGlzLmluTGluaz1mYWxzZTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtvdXQrPXRoaXMucmVuZGVyZXIuc3Ryb25nKHRoaXMub3V0cHV0KGNhcFsyXXx8Y2FwWzFdKSk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKXtzcmM9c3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtvdXQrPXRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzJdfHxjYXBbMV0pKTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz10aGlzLnJlbmRlcmVyLmNvZGVzcGFuKGVzY2FwZShjYXBbMl0sdHJ1ZSkpO2NvbnRpbnVlfWlmKGNhcD10aGlzLnJ1bGVzLmJyLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz10aGlzLnJlbmRlcmVyLmJyKCk7Y29udGludWV9aWYoY2FwPXRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz10aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtjb250aW51ZX1pZihjYXA9dGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSl7c3JjPXNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7b3V0Kz10aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO2NvbnRpbnVlfWlmKHNyYyl7dGhyb3cgbmV3IEVycm9yKFwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitzcmMuY2hhckNvZGVBdCgwKSl9fXJldHVybiBvdXR9O0lubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rPWZ1bmN0aW9uKGNhcCxsaW5rKXt2YXIgaHJlZj1lc2NhcGUobGluay5ocmVmKSx0aXRsZT1saW5rLnRpdGxlP2VzY2FwZShsaW5rLnRpdGxlKTpudWxsO3JldHVybiBjYXBbMF0uY2hhckF0KDApIT09XCIhXCI/dGhpcy5yZW5kZXJlci5saW5rKGhyZWYsdGl0bGUsdGhpcy5vdXRwdXQoY2FwWzFdKSk6dGhpcy5yZW5kZXJlci5pbWFnZShocmVmLHRpdGxlLGVzY2FwZShjYXBbMV0pKX07SW5saW5lTGV4ZXIucHJvdG90eXBlLnNtYXJ0eXBhbnRzPWZ1bmN0aW9uKHRleHQpe2lmKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpcmV0dXJuIHRleHQ7cmV0dXJuIHRleHQucmVwbGFjZSgvLS0tL2csXCLigJRcIikucmVwbGFjZSgvLS0vZyxcIuKAk1wiKS5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcIlxcc10pJy9nLFwiJDHigJhcIikucmVwbGFjZSgvJy9nLFwi4oCZXCIpLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csXCIkMeKAnFwiKS5yZXBsYWNlKC9cIi9nLFwi4oCdXCIpLnJlcGxhY2UoL1xcLnszfS9nLFwi4oCmXCIpfTtJbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlPWZ1bmN0aW9uKHRleHQpe2lmKCF0aGlzLm9wdGlvbnMubWFuZ2xlKXJldHVybiB0ZXh0O3ZhciBvdXQ9XCJcIixsPXRleHQubGVuZ3RoLGk9MCxjaDtmb3IoO2k8bDtpKyspe2NoPXRleHQuY2hhckNvZGVBdChpKTtpZihNYXRoLnJhbmRvbSgpPi41KXtjaD1cInhcIitjaC50b1N0cmluZygxNil9b3V0Kz1cIiYjXCIrY2grXCI7XCJ9cmV0dXJuIG91dH07ZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnN8fHt9fVJlbmRlcmVyLnByb3RvdHlwZS5jb2RlPWZ1bmN0aW9uKGNvZGUsbGFuZyxlc2NhcGVkKXtpZih0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KXt2YXIgb3V0PXRoaXMub3B0aW9ucy5oaWdobGlnaHQoY29kZSxsYW5nKTtpZihvdXQhPW51bGwmJm91dCE9PWNvZGUpe2VzY2FwZWQ9dHJ1ZTtjb2RlPW91dH19aWYoIWxhbmcpe3JldHVyblwiPHByZT48Y29kZT5cIisoZXNjYXBlZD9jb2RlOmVzY2FwZShjb2RlLHRydWUpKStcIlxcbjwvY29kZT48L3ByZT5cIn1yZXR1cm4nPHByZT48Y29kZSBjbGFzcz1cIicrdGhpcy5vcHRpb25zLmxhbmdQcmVmaXgrZXNjYXBlKGxhbmcsdHJ1ZSkrJ1wiPicrKGVzY2FwZWQ/Y29kZTplc2NhcGUoY29kZSx0cnVlKSkrXCJcXG48L2NvZGU+PC9wcmU+XFxuXCJ9O1JlbmRlcmVyLnByb3RvdHlwZS5ibG9ja3F1b3RlPWZ1bmN0aW9uKHF1b3RlKXtyZXR1cm5cIjxibG9ja3F1b3RlPlxcblwiK3F1b3RlK1wiPC9ibG9ja3F1b3RlPlxcblwifTtSZW5kZXJlci5wcm90b3R5cGUuaHRtbD1mdW5jdGlvbihodG1sKXtyZXR1cm4gaHRtbH07UmVuZGVyZXIucHJvdG90eXBlLmhlYWRpbmc9ZnVuY3Rpb24odGV4dCxsZXZlbCxyYXcpe3JldHVyblwiPGhcIitsZXZlbCsnIGlkPVwiJyt0aGlzLm9wdGlvbnMuaGVhZGVyUHJlZml4K3Jhdy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teXFx3XSsvZyxcIi1cIikrJ1wiPicrdGV4dCtcIjwvaFwiK2xldmVsK1wiPlxcblwifTtSZW5kZXJlci5wcm90b3R5cGUuaHI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sP1wiPGhyLz5cXG5cIjpcIjxocj5cXG5cIn07UmVuZGVyZXIucHJvdG90eXBlLmxpc3Q9ZnVuY3Rpb24oYm9keSxvcmRlcmVkKXt2YXIgdHlwZT1vcmRlcmVkP1wib2xcIjpcInVsXCI7cmV0dXJuXCI8XCIrdHlwZStcIj5cXG5cIitib2R5K1wiPC9cIit0eXBlK1wiPlxcblwifTtSZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW09ZnVuY3Rpb24odGV4dCl7cmV0dXJuXCI8bGk+XCIrdGV4dCtcIjwvbGk+XFxuXCJ9O1JlbmRlcmVyLnByb3RvdHlwZS5wYXJhZ3JhcGg9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXCI8cD5cIit0ZXh0K1wiPC9wPlxcblwifTtSZW5kZXJlci5wcm90b3R5cGUudGFibGU9ZnVuY3Rpb24oaGVhZGVyLGJvZHkpe3JldHVyblwiPHRhYmxlPlxcblwiK1wiPHRoZWFkPlxcblwiK2hlYWRlcitcIjwvdGhlYWQ+XFxuXCIrXCI8dGJvZHk+XFxuXCIrYm9keStcIjwvdGJvZHk+XFxuXCIrXCI8L3RhYmxlPlxcblwifTtSZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3c9ZnVuY3Rpb24oY29udGVudCl7cmV0dXJuXCI8dHI+XFxuXCIrY29udGVudCtcIjwvdHI+XFxuXCJ9O1JlbmRlcmVyLnByb3RvdHlwZS50YWJsZWNlbGw9ZnVuY3Rpb24oY29udGVudCxmbGFncyl7dmFyIHR5cGU9ZmxhZ3MuaGVhZGVyP1widGhcIjpcInRkXCI7dmFyIHRhZz1mbGFncy5hbGlnbj9cIjxcIit0eXBlKycgc3R5bGU9XCJ0ZXh0LWFsaWduOicrZmxhZ3MuYWxpZ24rJ1wiPic6XCI8XCIrdHlwZStcIj5cIjtyZXR1cm4gdGFnK2NvbnRlbnQrXCI8L1wiK3R5cGUrXCI+XFxuXCJ9O1JlbmRlcmVyLnByb3RvdHlwZS5zdHJvbmc9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXCI8c3Ryb25nPlwiK3RleHQrXCI8L3N0cm9uZz5cIn07UmVuZGVyZXIucHJvdG90eXBlLmVtPWZ1bmN0aW9uKHRleHQpe3JldHVyblwiPGVtPlwiK3RleHQrXCI8L2VtPlwifTtSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW49ZnVuY3Rpb24odGV4dCl7cmV0dXJuXCI8Y29kZT5cIit0ZXh0K1wiPC9jb2RlPlwifTtSZW5kZXJlci5wcm90b3R5cGUuYnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sP1wiPGJyLz5cIjpcIjxicj5cIn07UmVuZGVyZXIucHJvdG90eXBlLmRlbD1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cIjxkZWw+XCIrdGV4dCtcIjwvZGVsPlwifTtSZW5kZXJlci5wcm90b3R5cGUubGluaz1mdW5jdGlvbihocmVmLHRpdGxlLHRleHQpe2lmKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSl7dHJ5e3ZhciBwcm90PWRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSkucmVwbGFjZSgvW15cXHc6XS9nLFwiXCIpLnRvTG93ZXJDYXNlKCl9Y2F0Y2goZSl7cmV0dXJuXCJcIn1pZihwcm90LmluZGV4T2YoXCJqYXZhc2NyaXB0OlwiKT09PTB8fHByb3QuaW5kZXhPZihcInZic2NyaXB0OlwiKT09PTApe3JldHVyblwiXCJ9fXZhciBvdXQ9JzxhIGhyZWY9XCInK2hyZWYrJ1wiJztpZih0aXRsZSl7b3V0Kz0nIHRpdGxlPVwiJyt0aXRsZSsnXCInfW91dCs9XCI+XCIrdGV4dCtcIjwvYT5cIjtyZXR1cm4gb3V0fTtSZW5kZXJlci5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oaHJlZix0aXRsZSx0ZXh0KXt2YXIgb3V0PSc8aW1nIHNyYz1cIicraHJlZisnXCIgYWx0PVwiJyt0ZXh0KydcIic7aWYodGl0bGUpe291dCs9JyB0aXRsZT1cIicrdGl0bGUrJ1wiJ31vdXQrPXRoaXMub3B0aW9ucy54aHRtbD9cIi8+XCI6XCI+XCI7cmV0dXJuIG91dH07UmVuZGVyZXIucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHR9O2Z1bmN0aW9uIFBhcnNlcihvcHRpb25zKXt0aGlzLnRva2Vucz1bXTt0aGlzLnRva2VuPW51bGw7dGhpcy5vcHRpb25zPW9wdGlvbnN8fG1hcmtlZC5kZWZhdWx0czt0aGlzLm9wdGlvbnMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyfHxuZXcgUmVuZGVyZXI7dGhpcy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXI7dGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9uc31QYXJzZXIucGFyc2U9ZnVuY3Rpb24oc3JjLG9wdGlvbnMscmVuZGVyZXIpe3ZhciBwYXJzZXI9bmV3IFBhcnNlcihvcHRpb25zLHJlbmRlcmVyKTtyZXR1cm4gcGFyc2VyLnBhcnNlKHNyYyl9O1BhcnNlci5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oc3JjKXt0aGlzLmlubGluZT1uZXcgSW5saW5lTGV4ZXIoc3JjLmxpbmtzLHRoaXMub3B0aW9ucyx0aGlzLnJlbmRlcmVyKTt0aGlzLnRva2Vucz1zcmMucmV2ZXJzZSgpO3ZhciBvdXQ9XCJcIjt3aGlsZSh0aGlzLm5leHQoKSl7b3V0Kz10aGlzLnRvaygpfXJldHVybiBvdXR9O1BhcnNlci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2VuPXRoaXMudG9rZW5zLnBvcCgpfTtQYXJzZXIucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoLTFdfHwwfTtQYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dD1mdW5jdGlvbigpe3ZhciBib2R5PXRoaXMudG9rZW4udGV4dDt3aGlsZSh0aGlzLnBlZWsoKS50eXBlPT09XCJ0ZXh0XCIpe2JvZHkrPVwiXFxuXCIrdGhpcy5uZXh0KCkudGV4dH1yZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpfTtQYXJzZXIucHJvdG90eXBlLnRvaz1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnRva2VuLnR5cGUpe2Nhc2VcInNwYWNlXCI6e3JldHVyblwiXCJ9Y2FzZVwiaHJcIjp7cmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKX1jYXNlXCJoZWFkaW5nXCI6e3JldHVybiB0aGlzLnJlbmRlcmVyLmhlYWRpbmcodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksdGhpcy50b2tlbi5kZXB0aCx0aGlzLnRva2VuLnRleHQpfWNhc2VcImNvZGVcIjp7cmV0dXJuIHRoaXMucmVuZGVyZXIuY29kZSh0aGlzLnRva2VuLnRleHQsdGhpcy50b2tlbi5sYW5nLHRoaXMudG9rZW4uZXNjYXBlZCl9Y2FzZVwidGFibGVcIjp7dmFyIGhlYWRlcj1cIlwiLGJvZHk9XCJcIixpLHJvdyxjZWxsLGZsYWdzLGo7Y2VsbD1cIlwiO2ZvcihpPTA7aTx0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7aSsrKXtmbGFncz17aGVhZGVyOnRydWUsYWxpZ246dGhpcy50b2tlbi5hbGlnbltpXX07Y2VsbCs9dGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2ldKSx7aGVhZGVyOnRydWUsYWxpZ246dGhpcy50b2tlbi5hbGlnbltpXX0pfWhlYWRlcis9dGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtmb3IoaT0wO2k8dGhpcy50b2tlbi5jZWxscy5sZW5ndGg7aSsrKXtyb3c9dGhpcy50b2tlbi5jZWxsc1tpXTtjZWxsPVwiXCI7Zm9yKGo9MDtqPHJvdy5sZW5ndGg7aisrKXtjZWxsKz10aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSx7aGVhZGVyOmZhbHNlLGFsaWduOnRoaXMudG9rZW4uYWxpZ25bal19KX1ib2R5Kz10aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpfXJldHVybiB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlcixib2R5KX1jYXNlXCJibG9ja3F1b3RlX3N0YXJ0XCI6e3ZhciBib2R5PVwiXCI7d2hpbGUodGhpcy5uZXh0KCkudHlwZSE9PVwiYmxvY2txdW90ZV9lbmRcIil7Ym9keSs9dGhpcy50b2soKX1yZXR1cm4gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpfWNhc2VcImxpc3Rfc3RhcnRcIjp7dmFyIGJvZHk9XCJcIixvcmRlcmVkPXRoaXMudG9rZW4ub3JkZXJlZDt3aGlsZSh0aGlzLm5leHQoKS50eXBlIT09XCJsaXN0X2VuZFwiKXtib2R5Kz10aGlzLnRvaygpfXJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSxvcmRlcmVkKX1jYXNlXCJsaXN0X2l0ZW1fc3RhcnRcIjp7dmFyIGJvZHk9XCJcIjt3aGlsZSh0aGlzLm5leHQoKS50eXBlIT09XCJsaXN0X2l0ZW1fZW5kXCIpe2JvZHkrPXRoaXMudG9rZW4udHlwZT09PVwidGV4dFwiP3RoaXMucGFyc2VUZXh0KCk6dGhpcy50b2soKX1yZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KX1jYXNlXCJsb29zZV9pdGVtX3N0YXJ0XCI6e3ZhciBib2R5PVwiXCI7d2hpbGUodGhpcy5uZXh0KCkudHlwZSE9PVwibGlzdF9pdGVtX2VuZFwiKXtib2R5Kz10aGlzLnRvaygpfXJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGJvZHkpfWNhc2VcImh0bWxcIjp7dmFyIGh0bWw9IXRoaXMudG9rZW4ucHJlJiYhdGhpcy5vcHRpb25zLnBlZGFudGljP3RoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpOnRoaXMudG9rZW4udGV4dDtyZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKGh0bWwpfWNhc2VcInBhcmFncmFwaFwiOntyZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpfWNhc2VcInRleHRcIjp7cmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpfX19O2Z1bmN0aW9uIGVzY2FwZShodG1sLGVuY29kZSl7cmV0dXJuIGh0bWwucmVwbGFjZSghZW5jb2RlPy8mKD8hIz9cXHcrOykvZzovJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiMzOTtcIil9ZnVuY3Rpb24gdW5lc2NhcGUoaHRtbCl7cmV0dXJuIGh0bWwucmVwbGFjZSgvJihbI1xcd10rKTsvZyxmdW5jdGlvbihfLG4pe249bi50b0xvd2VyQ2FzZSgpO2lmKG49PT1cImNvbG9uXCIpcmV0dXJuXCI6XCI7aWYobi5jaGFyQXQoMCk9PT1cIiNcIil7cmV0dXJuIG4uY2hhckF0KDEpPT09XCJ4XCI/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwxNikpOlN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKX1yZXR1cm5cIlwifSl9ZnVuY3Rpb24gcmVwbGFjZShyZWdleCxvcHQpe3JlZ2V4PXJlZ2V4LnNvdXJjZTtvcHQ9b3B0fHxcIlwiO3JldHVybiBmdW5jdGlvbiBzZWxmKG5hbWUsdmFsKXtpZighbmFtZSlyZXR1cm4gbmV3IFJlZ0V4cChyZWdleCxvcHQpO3ZhbD12YWwuc291cmNlfHx2YWw7dmFsPXZhbC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csXCIkMVwiKTtyZWdleD1yZWdleC5yZXBsYWNlKG5hbWUsdmFsKTtyZXR1cm4gc2VsZn19ZnVuY3Rpb24gbm9vcCgpe31ub29wLmV4ZWM9bm9vcDtmdW5jdGlvbiBtZXJnZShvYmope3ZhciBpPTEsdGFyZ2V0LGtleTtmb3IoO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3RhcmdldD1hcmd1bWVudHNbaV07Zm9yKGtleSBpbiB0YXJnZXQpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsa2V5KSl7b2JqW2tleV09dGFyZ2V0W2tleV19fX1yZXR1cm4gb2JqfWZ1bmN0aW9uIG1hcmtlZChzcmMsb3B0LGNhbGxiYWNrKXtpZihjYWxsYmFja3x8dHlwZW9mIG9wdD09PVwiZnVuY3Rpb25cIil7aWYoIWNhbGxiYWNrKXtjYWxsYmFjaz1vcHQ7b3B0PW51bGx9b3B0PW1lcmdlKHt9LG1hcmtlZC5kZWZhdWx0cyxvcHR8fHt9KTt2YXIgaGlnaGxpZ2h0PW9wdC5oaWdobGlnaHQsdG9rZW5zLHBlbmRpbmcsaT0wO3RyeXt0b2tlbnM9TGV4ZXIubGV4KHNyYyxvcHQpfWNhdGNoKGUpe3JldHVybiBjYWxsYmFjayhlKX1wZW5kaW5nPXRva2Vucy5sZW5ndGg7dmFyIGRvbmU9ZnVuY3Rpb24oZXJyKXtpZihlcnIpe29wdC5oaWdobGlnaHQ9aGlnaGxpZ2h0O3JldHVybiBjYWxsYmFjayhlcnIpfXZhciBvdXQ7dHJ5e291dD1QYXJzZXIucGFyc2UodG9rZW5zLG9wdCl9Y2F0Y2goZSl7ZXJyPWV9b3B0LmhpZ2hsaWdodD1oaWdobGlnaHQ7cmV0dXJuIGVycj9jYWxsYmFjayhlcnIpOmNhbGxiYWNrKG51bGwsb3V0KX07aWYoIWhpZ2hsaWdodHx8aGlnaGxpZ2h0Lmxlbmd0aDwzKXtyZXR1cm4gZG9uZSgpfWRlbGV0ZSBvcHQuaGlnaGxpZ2h0O2lmKCFwZW5kaW5nKXJldHVybiBkb25lKCk7Zm9yKDtpPHRva2Vucy5sZW5ndGg7aSsrKXsoZnVuY3Rpb24odG9rZW4pe2lmKHRva2VuLnR5cGUhPT1cImNvZGVcIil7cmV0dXJuLS1wZW5kaW5nfHxkb25lKCl9cmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LHRva2VuLmxhbmcsZnVuY3Rpb24oZXJyLGNvZGUpe2lmKGVycilyZXR1cm4gZG9uZShlcnIpO2lmKGNvZGU9PW51bGx8fGNvZGU9PT10b2tlbi50ZXh0KXtyZXR1cm4tLXBlbmRpbmd8fGRvbmUoKX10b2tlbi50ZXh0PWNvZGU7dG9rZW4uZXNjYXBlZD10cnVlOy0tcGVuZGluZ3x8ZG9uZSgpfSl9KSh0b2tlbnNbaV0pfXJldHVybn10cnl7aWYob3B0KW9wdD1tZXJnZSh7fSxtYXJrZWQuZGVmYXVsdHMsb3B0KTtyZXR1cm4gUGFyc2VyLnBhcnNlKExleGVyLmxleChzcmMsb3B0KSxvcHQpfWNhdGNoKGUpe2UubWVzc2FnZSs9XCJcXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL2NoamovbWFya2VkLlwiO2lmKChvcHR8fG1hcmtlZC5kZWZhdWx0cykuc2lsZW50KXtyZXR1cm5cIjxwPkFuIGVycm9yIG9jY3VyZWQ6PC9wPjxwcmU+XCIrZXNjYXBlKGUubWVzc2FnZStcIlwiLHRydWUpK1wiPC9wcmU+XCJ9dGhyb3cgZX19bWFya2VkLm9wdGlvbnM9bWFya2VkLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0KXttZXJnZShtYXJrZWQuZGVmYXVsdHMsb3B0KTtyZXR1cm4gbWFya2VkfTttYXJrZWQuZGVmYXVsdHM9e2dmbTp0cnVlLHRhYmxlczp0cnVlLGJyZWFrczpmYWxzZSxwZWRhbnRpYzpmYWxzZSxzYW5pdGl6ZTpmYWxzZSxzYW5pdGl6ZXI6bnVsbCxtYW5nbGU6dHJ1ZSxzbWFydExpc3RzOmZhbHNlLHNpbGVudDpmYWxzZSxoaWdobGlnaHQ6bnVsbCxsYW5nUHJlZml4OlwibGFuZy1cIixzbWFydHlwYW50czpmYWxzZSxoZWFkZXJQcmVmaXg6XCJcIixyZW5kZXJlcjpuZXcgUmVuZGVyZXIseGh0bWw6ZmFsc2V9O21hcmtlZC5QYXJzZXI9UGFyc2VyO21hcmtlZC5wYXJzZXI9UGFyc2VyLnBhcnNlO21hcmtlZC5SZW5kZXJlcj1SZW5kZXJlcjttYXJrZWQuTGV4ZXI9TGV4ZXI7bWFya2VkLmxleGVyPUxleGVyLmxleDttYXJrZWQuSW5saW5lTGV4ZXI9SW5saW5lTGV4ZXI7bWFya2VkLmlubGluZUxleGVyPUlubGluZUxleGVyLm91dHB1dDttYXJrZWQucGFyc2U9bWFya2VkO2lmKHR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCIpe21vZHVsZS5leHBvcnRzPW1hcmtlZH1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShmdW5jdGlvbigpe3JldHVybiBtYXJrZWR9KX1lbHNle3RoaXMubWFya2VkPW1hcmtlZH19KS5jYWxsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN8fCh0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIj93aW5kb3c6Z2xvYmFsKX0oKSk7IiwiLy8gICAgIHV1aWQuanNcbi8vXG4vLyAgICAgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTIgUm9iZXJ0IEtpZWZmZXJcbi8vICAgICBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgX2dsb2JhbCA9IHRoaXM7XG5cbiAgLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIFdlIGZlYXR1cmVcbiAgLy8gZGV0ZWN0IHRvIGRldGVybWluZSB0aGUgYmVzdCBSTkcgc291cmNlLCBub3JtYWxpemluZyB0byBhIGZ1bmN0aW9uIHRoYXRcbiAgLy8gcmV0dXJucyAxMjgtYml0cyBvZiByYW5kb21uZXNzLCBzaW5jZSB0aGF0J3Mgd2hhdCdzIHVzdWFsbHkgcmVxdWlyZWRcbiAgdmFyIF9ybmc7XG5cbiAgLy8gTm9kZS5qcyBjcnlwdG8tYmFzZWQgUk5HIC0gaHR0cDovL25vZGVqcy5vcmcvZG9jcy92MC42LjIvYXBpL2NyeXB0by5odG1sXG4gIC8vXG4gIC8vIE1vZGVyYXRlbHkgZmFzdCwgaGlnaCBxdWFsaXR5XG4gIGlmICh0eXBlb2YoX2dsb2JhbC5yZXF1aXJlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBfcmIgPSBfZ2xvYmFsLnJlcXVpcmUoJ2NyeXB0bycpLnJhbmRvbUJ5dGVzO1xuICAgICAgX3JuZyA9IF9yYiAmJiBmdW5jdGlvbigpIHtyZXR1cm4gX3JiKDE2KTt9O1xuICAgIH0gY2F0Y2goZSkge31cbiAgfVxuXG4gIGlmICghX3JuZyAmJiBfZ2xvYmFsLmNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gV0hBVFdHIGNyeXB0by1iYXNlZCBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gICAgLy9cbiAgICAvLyBNb2RlcmF0ZWx5IGZhc3QsIGhpZ2ggcXVhbGl0eVxuICAgIHZhciBfcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgX3JuZyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoX3JuZHM4KTtcbiAgICAgIHJldHVybiBfcm5kczg7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghX3JuZykge1xuICAgIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgICAvL1xuICAgIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gICAgLy8gcXVhbGl0eS5cbiAgICB2YXIgIF9ybmRzID0gbmV3IEFycmF5KDE2KTtcbiAgICBfcm5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICAgIF9ybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JuZHM7XG4gICAgfTtcbiAgfVxuXG4gIC8vIEJ1ZmZlciBjbGFzcyB0byB1c2VcbiAgdmFyIEJ1ZmZlckNsYXNzID0gdHlwZW9mKF9nbG9iYWwuQnVmZmVyKSA9PSAnZnVuY3Rpb24nID8gX2dsb2JhbC5CdWZmZXIgOiBBcnJheTtcblxuICAvLyBNYXBzIGZvciBudW1iZXIgPC0+IGhleCBzdHJpbmcgY29udmVyc2lvblxuICB2YXIgX2J5dGVUb0hleCA9IFtdO1xuICB2YXIgX2hleFRvQnl0ZSA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgX2J5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG4gICAgX2hleFRvQnl0ZVtfYnl0ZVRvSGV4W2ldXSA9IGk7XG4gIH1cblxuICAvLyAqKmBwYXJzZSgpYCAtIFBhcnNlIGEgVVVJRCBpbnRvIGl0J3MgY29tcG9uZW50IGJ5dGVzKipcbiAgZnVuY3Rpb24gcGFyc2UocywgYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IChidWYgJiYgb2Zmc2V0KSB8fCAwLCBpaSA9IDA7XG5cbiAgICBidWYgPSBidWYgfHwgW107XG4gICAgcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1swLTlhLWZdezJ9L2csIGZ1bmN0aW9uKG9jdCkge1xuICAgICAgaWYgKGlpIDwgMTYpIHsgLy8gRG9uJ3Qgb3ZlcmZsb3chXG4gICAgICAgIGJ1ZltpICsgaWkrK10gPSBfaGV4VG9CeXRlW29jdF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBaZXJvIG91dCByZW1haW5pbmcgYnl0ZXMgaWYgc3RyaW5nIHdhcyBzaG9ydFxuICAgIHdoaWxlIChpaSA8IDE2KSB7XG4gICAgICBidWZbaSArIGlpKytdID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgLy8gKipgdW5wYXJzZSgpYCAtIENvbnZlcnQgVVVJRCBieXRlIGFycmF5IChhbGEgcGFyc2UoKSkgaW50byBhIHN0cmluZyoqXG4gIGZ1bmN0aW9uIHVucGFyc2UoYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IG9mZnNldCB8fCAwLCBidGggPSBfYnl0ZVRvSGV4O1xuICAgIHJldHVybiAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV07XG4gIH1cblxuICAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4gIC8vXG4gIC8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4gIC8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbiAgLy8gcmFuZG9tICMncyB3ZSBuZWVkIHRvIGluaXQgbm9kZSBhbmQgY2xvY2tzZXFcbiAgdmFyIF9zZWVkQnl0ZXMgPSBfcm5nKCk7XG5cbiAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gIHZhciBfbm9kZUlkID0gW1xuICAgIF9zZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgIF9zZWVkQnl0ZXNbMV0sIF9zZWVkQnl0ZXNbMl0sIF9zZWVkQnl0ZXNbM10sIF9zZWVkQnl0ZXNbNF0sIF9zZWVkQnl0ZXNbNV1cbiAgXTtcblxuICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICB2YXIgX2Nsb2Nrc2VxID0gKF9zZWVkQnl0ZXNbNl0gPDwgOCB8IF9zZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuXG4gIC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuICB2YXIgX2xhc3RNU2VjcyA9IDAsIF9sYXN0TlNlY3MgPSAwO1xuXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYnJvb2ZhL25vZGUtdXVpZCBmb3IgQVBJIGRldGFpbHNcbiAgZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPSBudWxsID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAgIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gICAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICAgIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT0gbnVsbCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICAgIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT0gbnVsbCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAgIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gICAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICAgIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAgIC8vIHRpbWUgaW50ZXJ2YWxcbiAgICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT0gbnVsbCkge1xuICAgICAgbnNlY3MgPSAwO1xuICAgIH1cblxuICAgIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICAgIH1cblxuICAgIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gICAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAgIC8vIGB0aW1lX2xvd2BcbiAgICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gICAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICAgIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgICAvLyBgdGltZV9taWRgXG4gICAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICAgIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gICAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAgIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gICAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICAgIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gICAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gICAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gICAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gICAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gICAgLy8gYG5vZGVgXG4gICAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IDY7IG4rKykge1xuICAgICAgYltpICsgbl0gPSBub2RlW25dO1xuICAgIH1cblxuICAgIHJldHVybiBidWYgPyBidWYgOiB1bnBhcnNlKGIpO1xuICB9XG5cbiAgLy8gKipgdjQoKWAgLSBHZW5lcmF0ZSByYW5kb20gVVVJRCoqXG5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlsc1xuICBmdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICAgIC8vIERlcHJlY2F0ZWQgLSAnZm9ybWF0JyBhcmd1bWVudCwgYXMgc3VwcG9ydGVkIGluIHYxLjJcbiAgICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICAgIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1ZiA9IG9wdGlvbnMgPT0gJ2JpbmFyeScgPyBuZXcgQnVmZmVyQ2xhc3MoMTYpIDogbnVsbDtcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IF9ybmcpKCk7XG5cbiAgICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gICAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICAgIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAgIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICAgIGlmIChidWYpIHtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgaWkrKykge1xuICAgICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBidWYgfHwgdW5wYXJzZShybmRzKTtcbiAgfVxuXG4gIC8vIEV4cG9ydCBwdWJsaWMgQVBJXG4gIHZhciB1dWlkID0gdjQ7XG4gIHV1aWQudjEgPSB2MTtcbiAgdXVpZC52NCA9IHY0O1xuICB1dWlkLnBhcnNlID0gcGFyc2U7XG4gIHV1aWQudW5wYXJzZSA9IHVucGFyc2U7XG4gIHV1aWQuQnVmZmVyQ2xhc3MgPSBCdWZmZXJDbGFzcztcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gUHVibGlzaCBhcyBBTUQgbW9kdWxlXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge3JldHVybiB1dWlkO30pO1xuICB9IGVsc2UgaWYgKHR5cGVvZihtb2R1bGUpICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gUHVibGlzaCBhcyBub2RlLmpzIG1vZHVsZVxuICAgIG1vZHVsZS5leHBvcnRzID0gdXVpZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBQdWJsaXNoIGFzIGdsb2JhbCAoaW4gYnJvd3NlcnMpXG4gICAgdmFyIF9wcmV2aW91c1Jvb3QgPSBfZ2xvYmFsLnV1aWQ7XG5cbiAgICAvLyAqKmBub0NvbmZsaWN0KClgIC0gKGJyb3dzZXIgb25seSkgdG8gcmVzZXQgZ2xvYmFsICd1dWlkJyB2YXIqKlxuICAgIHV1aWQubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgX2dsb2JhbC51dWlkID0gX3ByZXZpb3VzUm9vdDtcbiAgICAgIHJldHVybiB1dWlkO1xuICAgIH07XG5cbiAgICBfZ2xvYmFsLnV1aWQgPSB1dWlkO1xuICB9XG59KS5jYWxsKHRoaXMpO1xuIl19
